(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/uUt":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(e,n){Object(o.a)(this,t),this.compare=e,this.keySelector=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.compare,this.keySelector))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i){var a;return Object(o.a)(this,n),(a=e.call(this,t)).keySelector=i,a.hasKey=!1,"function"==typeof r&&(a.compare=r),a}return Object(a.a)(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(s.a)},0:function(t,e,n){t.exports=n("zUnb")},"05qF":function(t,e,n){"use strict";n.r(e),n.d(e,"RealtimeDatabaseURL",function(){return r.c}),n.d(e,"DATABASE_URL",function(){return r.a}),n.d(e,"\u0275ZoneScheduler",function(){return r.h}),n.d(e,"\u0275BlockUntilFirstOperator",function(){return r.g}),n.d(e,"\u0275AngularFireSchedulers",function(){return r.f}),n.d(e,"\u0275keepUnstableUntilFirstFactory",function(){return r.i}),n.d(e,"runOutsideAngular",function(){return r.e}),n.d(e,"runInZone",function(){return r.d}),n.d(e,"FirebaseZoneScheduler",function(){return r.b}),n.d(e,"\u0275lazySDKProxy",function(){return r.j}),n.d(e,"FirebaseOptionsToken",function(){return i.f}),n.d(e,"FirebaseNameOrConfigToken",function(){return i.e}),n.d(e,"FIREBASE_OPTIONS",function(){return i.c}),n.d(e,"FIREBASE_APP_NAME",function(){return i.b}),n.d(e,"FirebaseApp",function(){return i.d}),n.d(e,"VERSION",function(){return i.g}),n.d(e,"_firebaseAppFactory",function(){return i.h}),n.d(e,"AngularFireModule",function(){return i.a});var r=n("XU1U"),i=n("Czum")},"1OyB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",function(){return r})},"25BE":function(t,e,n){"use strict";function r(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}n.d(e,"a",function(){return r})},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},"2WcH":function(t,e,n){"use strict";function r(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}n.d(e,"a",function(){return r})},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return g}),n.d(e,"__spreadArrays",function(){return v}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return y}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return w}),n.d(e,"__makeTemplateObject",function(){return _}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return S}),n.d(e,"__classPrivateFieldGet",function(){return E}),n.d(e,"__classPrivateFieldSet",function(){return O});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function w(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function _(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function E(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function O(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},"36mX":function(t,e,n){"use strict";n.r(e),n.d(e,"AngularFireDatabase",function(){return X}),n.d(e,"RealtimeDatabaseURL",function(){return H.c}),n.d(e,"DATABASE_URL",function(){return H.a}),n.d(e,"URL",function(){return H.a}),n.d(e,"listChanges",function(){return _}),n.d(e,"createListReference",function(){return U}),n.d(e,"snapshotChanges",function(){return O}),n.d(e,"stateChanges",function(){return A}),n.d(e,"auditTrail",function(){return F}),n.d(e,"fromRef",function(){return g}),n.d(e,"AngularFireDatabaseModule",function(){return Z});var r=n("1OyB"),i=n("vuIU"),o=n("fXoL");function a(t){return null==t}function s(t){return"function"==typeof t.set}function u(t,e){return s(e)?e:t.ref(e)}function c(t,e){if("string"==typeof t)return e.stringCase();if(s(t))return e.firebaseCase();if("function"==typeof t.exportVal)return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: ".concat(typeof t))}var l=n("KQm4"),h=n("D0XW"),f=n("HDdC"),d=n("lJxs"),p=n("w1tV");function g(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"on",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h.b;return new f.a(function(i){var o;return o=t[n](e,function(t,e){r.schedule(function(){i.next({snapshot:t,prevKey:e})}),"once"==n&&r.schedule(function(){return i.complete()})},function(t){r.schedule(function(){return i.error(t)})}),"on"==n?{unsubscribe:function(){null!=o&&t.off(e,o)}}:{unsubscribe:function(){}}}).pipe(Object(d.a)(function(t){var n=t.snapshot,r=t.prevKey,i=null;return n.exists()&&(i=n.key),{type:e,payload:n,prevKey:r,key:i}}),Object(p.a)())}var v=n("LRne"),m=n("VRyK"),y=n("eIep"),b=n("Kqap"),w=n("/uUt");function _(t,e,n){return g(t,"value","once",n).pipe(Object(y.a)(function(r){var i=[Object(v.a)(r)];return e.forEach(function(e){return i.push(g(t,e,"on",n))}),m.a.apply(void 0,i).pipe(Object(b.a)(S,[]))}),Object(w.a)())}function C(t,e){for(var n=t.length,r=0;r<n;r++)if(t[r].payload.key===e)return r;return-1}function S(t,e){var n=e.payload,r=e.prevKey,i=e.key,o=C(t,i),s=function(t,e){if(a(e))return 0;var n=C(t,e);return-1===n?t.length:n+1}(t,r);switch(e.type){case"value":if(e.payload&&e.payload.exists()){var u=null;e.payload.forEach(function(e){var n={payload:e,type:"value",prevKey:u,key:e.key};return u=e.key,t=[].concat(Object(l.a)(t),[n]),!1})}return t;case"child_added":if(o>-1){var c=t[o-1];(c&&c.key||null)!=r&&(t=t.filter(function(t){return t.payload.key!==n.key})).splice(s,0,e)}else{if(null==r)return[e].concat(Object(l.a)(t));(t=t.slice()).splice(s,0,e)}return t;case"child_removed":return t.filter(function(t){return t.payload.key!==n.key});case"child_changed":return t.map(function(t){return t.payload.key===i?e:t});case"child_moved":if(o>-1){var h=t.splice(o,1)[0];return(t=t.slice()).splice(s,0,h),t}return t;default:return t}}function E(t){return(a(t)||0===t.length)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function O(t,e,n){return _(t,e=E(e),n)}function A(t,e,n){var r=(e=E(e)).map(function(e){return g(t,e,"on",n)});return m.a.apply(void 0,Object(l.a)(r))}var I=n("ODXe"),k=n("JX7q"),R=n("Ji7U"),T=n("LK+K"),M=n("l7GE"),N=n("ZUHj"),P=function(){function t(e,n){Object(r.a)(this,t),this.observables=e,this.project=n}return Object(i.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new D(t,this.observables,this.project))}}]),t}(),D=function(t){Object(R.a)(n,t);var e=Object(T.a)(n);function n(t,i,o){var a;Object(r.a)(this,n),(a=e.call(this,t)).observables=i,a.project=o,a.toRespond=[];var s=i.length;a.values=new Array(s);for(var u=0;u<s;u++)a.toRespond.push(u);for(var c=0;c<s;c++){var l=i[c];a.add(Object(N.a)(Object(k.a)(a),l,void 0,c))}return a}return Object(i.a)(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(Object(l.a)(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(M.a),x=n("7o/Q"),L=function(){function t(e){Object(r.a)(this,t),this.predicate=e}return Object(i.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new B(t,this.predicate))}}]),t}(),B=function(t){Object(R.a)(n,t);var e=Object(T.a)(n);function n(t,i){var o;return Object(r.a)(this,n),(o=e.call(this,t)).predicate=i,o.skipping=!0,o.index=0,o}return Object(i.a)(n,[{key:"_next",value:function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}},{key:"tryCallPredicate",value:function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}]),n}(x.a);function F(t,e,n){return function(t,e,n){return function(t,e){return g(t,"value","on",e).pipe(Object(d.a)(function(t){var e;return t.payload.forEach(function(t){return e=t.key,!1}),{data:t,lastKeyToLoad:e}}))}(t,n).pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new P(e,n))}}(e),Object(d.a)(function(t){var e=Object(I.a)(t,2),n=e[1],r=e[0].lastKeyToLoad,i=n.map(function(t){return t.key});return{actions:n,lastKeyToLoad:r,loadedKeys:i}}),(r=function(t){return-1===t.loadedKeys.indexOf(t.lastKeyToLoad)},function(t){return t.lift(new L(r))}),Object(d.a)(function(t){return t.actions}));var r}(t,A(t,e).pipe(Object(b.a)(function(t,e){return[].concat(Object(l.a)(t),[e])},[])),n)}function j(t,e){return function(n,r){return c(n,{stringCase:function(){return t.child(n)[e](r)},firebaseCase:function(){return n[e](r)},snapshotCase:function(){return n.ref[e](r)}})}}function U(t,e){var n,r=e.schedulers.outsideAngular;return{query:t,update:j(t.ref,"update"),set:j(t.ref,"set"),push:function(e){return t.ref.push(e)},remove:(n=t.ref,function(t){return t?c(t,{stringCase:function(){return n.child(t).remove()},firebaseCase:function(){return t.remove()},snapshotCase:function(){return t.ref.remove()}}):n.remove()}),snapshotChanges:function(n){return O(t,n,r).pipe(e.keepUnstableUntilFirst)},stateChanges:function(n){return A(t,n,r).pipe(e.keepUnstableUntilFirst)},auditTrail:function(n){return F(t,n,r).pipe(e.keepUnstableUntilFirst)},valueChanges:function(n){return O(t,n,r).pipe(e.keepUnstableUntilFirst,Object(d.a)(function(t){return t.map(function(t){return t.payload.val()})}))}}}function V(t,e){return function(){return g(t,"value","on",e)}}var H=n("XU1U"),W=n("Czum"),z=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},G=function(t,e){return function(n,r){e(n,r,t)}},X=function(){var t=function(){function t(e,n,i,o,a){Object(r.a)(this,t),this.schedulers=new H.f(a),this.keepUnstableUntilFirst=Object(H.i)(this.schedulers,o),this.database=a.runOutsideAngular(function(){return Object(W.h)(e,a,n).database(i||void 0)})}return Object(i.a)(t,[{key:"list",value:function(t,e){var n=u(this.database,t),r=n;return e&&(r=e(n)),U(r,this)}},{key:"object",value:function(t){var e,n,r=u(this.database,t);return n=this,{query:e=r,snapshotChanges:function(){return V(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst)},update:function(t){return e.ref.update(t)},set:function(t){return e.ref.set(t)},remove:function(){return e.ref.remove()},valueChanges:function(){return V(e,n.schedulers.outsideAngular)().pipe(n.keepUnstableUntilFirst,Object(d.a)(function(t){return t.payload.exists()?t.payload.val():null}))}}}},{key:"createPushId",value:function(){return this.database.ref().push().key}}]),t}();return t.\u0275fac=function(e){return new(e||t)(o.Wb(W.c),o.Wb(W.b,8),o.Wb(H.a,8),o.Wb(o.C),o.Wb(o.A))},t.\u0275prov=o.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([G(0,Object(o.p)(W.c)),G(1,Object(o.B)()),G(1,Object(o.p)(W.b)),G(2,Object(o.B)()),G(2,Object(o.p)(H.a)),G(3,Object(o.p)(o.C)),z("design:paramtypes",[Object,Object,Object,Object,o.A])],t)}(),Z=(n("NSPt"),function(){var t=function t(){Object(r.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({providers:[X]}),t}())},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,i){var o;return Object(r.a)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o.pending=!1,o}return Object(i.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,i){return Object(r.a)(this,n),e.call(this)}return Object(i.a)(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"5+tZ":function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return d});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("lJxs"),u=n("Cfvw"),c=n("zx2A");function l(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(l(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new h(t,n))})}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;Object(o.a)(this,t),this.project=e,this.concurrent=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))}}]),t}(),f=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return Object(o.a)(this,n),(i=e.call(this,t)).project=r,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return Object(a.a)(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new c.a(this),n=this.destination;n.add(e);var r=Object(c.c)(t,e);r!==e&&n.add(r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(c.b),d=l},6233:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("36mX"))},"7W2i":function(t,e,n){var r=n("SksO");t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("1OyB"),i=n("vuIU"),o=n("JX7q"),a=n("ReuC"),s=n("foSv"),u=n("Ji7U"),c=n("LK+K"),l=n("n6bG"),h=n("gRHU"),f=n("quSY"),d=n("2QA8"),p=n("2fFW"),g=n("NJ4a"),v=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,i,a){var s;switch(Object(r.a)(this,n),(s=e.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=h.a;break;case 1:if(!t){s.destination=h.a;break}if("object"==typeof t){t instanceof n?(s.syncErrorThrowable=t.syncErrorThrowable,s.destination=t,t.add(Object(o.a)(s))):(s.syncErrorThrowable=!0,s.destination=new m(Object(o.a)(s),t));break}default:s.syncErrorThrowable=!0,s.destination=new m(Object(o.a)(s),t,i,a)}return s}return Object(i.a)(n,[{key:d.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,Object(a.a)(Object(s.a)(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(f.a),m=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,i,a,s){var u,c;Object(r.a)(this,n),(u=e.call(this))._parentSubscriber=t;var f=Object(o.a)(u);return Object(l.a)(i)?c=i:i&&(c=i.next,a=i.error,s=i.complete,i!==h.a&&(f=Object.create(i),Object(l.a)(f.unsubscribe)&&u.add(f.unsubscribe.bind(f)),f.unsubscribe=u.unsubscribe.bind(Object(o.a)(u)))),u._context=f,u._next=c,u._error=a,u._complete=s,u}return Object(i.a)(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;p.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=p.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(g.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(g.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};p.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),p.a.useDeprecatedSynchronousErrorHandling)throw n;Object(g.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!p.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return p.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(g.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(v)},"8Qeq":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},BsWD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("a3WO");function i(t,e){if(t){if("string"==typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},Czum:function(t,e,n){"use strict";n.d(e,"f",function(){return l}),n.d(e,"e",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"b",function(){return d}),n.d(e,"d",function(){return p}),n.d(e,"g",function(){return g}),n.d(e,"h",function(){return v}),n.d(e,"a",function(){return y});var r,i=n("vuIU"),o=n("1OyB"),a=n("fXoL"),s=n("Wcq6"),u=n.n(s),c=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=new a.r("angularfire2.app.options"),h=new a.r("angularfire2.app.nameOrConfig"),f=l,d=h,p=function t(){Object(o.a)(this,t)},g=new a.R("5.4.2");function v(t,e,n){var r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",u.a.apps.filter(function(t){return t&&t.name===r.name})[0]||e.runOutsideAngular(function(){return u.a.initializeApp(t,r)})}var m={provide:p,useFactory:v,deps:[f,a.A,[new a.B,d]]},y=function(){var t,e=r=function(){function t(e){Object(o.a)(this,t),u.a.registerVersion&&(u.a.registerVersion("angularfire",g.full,e.toString()),u.a.registerVersion("angular",a.Q.full))}return Object(i.a)(t,null,[{key:"initializeApp",value:function(t,e){return{ngModule:r,providers:[{provide:f,useValue:t},{provide:d,useValue:e}]}}}]),t}();return e.\u0275fac=function(t){return new(t||e)(a.Wb(a.C))},e.\u0275mod=a.Lb({type:e}),e.\u0275inj=a.Kb({providers:[m]}),e=r=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([(0,t=Object(a.p)(a.C),function(e,n){t(e,n,0)}),c("design:paramtypes",[Object])],e)}()},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a"),i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},DSFK:function(t,e,n){"use strict";function r(t){if(Array.isArray(t))return t}n.d(e,"a",function(){return r})},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return d}),n.d(e,"b",function(){return p});var r=n("ReuC"),i=n("foSv"),o=n("1OyB"),a=n("vuIU"),s=n("Ji7U"),u=n("LK+K"),c=n("XNiG"),l=n("HDdC"),h=(n("7o/Q"),n("quSY")),f=n("x+ZX"),d=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return Object(a.a)(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h.a).add(this.source.subscribe(new g(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(f.a)()(this)}}]),n}(l.a),p=function(){var t=d.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),g=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).connectable=r,i}return Object(a.a)(n,[{key:"_error",value:function(t){this._unsubscribe(),Object(r.a)(Object(i.a)(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(c.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("1OyB"),i=n("vuIU"),o=n("8Qeq"),a=n("7o/Q"),s=n("2QA8"),u=n("gRHU"),c=n("kJWO"),l=n("SpAZ");function h(t){return 0===t.length?l.a:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}var f=n("2fFW"),d=function(){var t=function(){function t(e){Object(r.a)(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return Object(i.a)(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof a.a)return t;if(t[s.a])return t[s.a]()}return t||e||n?new a.a(t,e,n):new a.a(u.a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||f.a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),f.a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){f.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(o.a)(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=p(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:c.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:h(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=p(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}();return t.create=function(e){return new t(e)},t}();function p(t){if(t||(t=f.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("1OyB"),i=n("vuIU"),o=n("JX7q"),a=n("ReuC"),s=n("foSv"),u=n("Ji7U"),c=n("LK+K"),l=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;Object(r.a)(this,t),this.SchedulerAction=e,this.now=n}return Object(i.a)(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),h=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.now;return Object(r.a)(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==Object(o.a)(i)?n.delegate.now():a()})).actions=[],i.active=!1,i.scheduled=void 0,i}return Object(i.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):Object(a.a)(Object(s.a)(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(l)},J4zp:function(t,e,n){var r=n("wTVA"),i=n("m0LI"),o=n("ZhPi"),a=n("wkBT");t.exports=function(t,e){return r(t)||i(t,e)||o(t,e)||a()}},JX7q:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",function(){return r})},Ji7U:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("s4An");function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(r.a)(t,e)}},KBVK:function(t,e,n){var r=n("J4zp"),i=n("PJYZ"),o=n("o0o1"),a=n("iWIM"),s=n("Nsbk"),u=n("Y3SK"),c=n("lwsE"),l=n("W8MJ"),h=n("7W2i"),f=n("LQ03");!function(t){"use strict";var e,n=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),d=function(t){h(n,t);var e=f(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return c(this,n),(t=e.call(this,r)).message=r,t}return l(n,[{key:"getKind",value:function(){return this.constructor.kind}}]),n}(function(t){function e(e){var n,r,i,o=this.constructor,a=t.call(this,e)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1,configurable:!0}),n=a,r=o.prototype,(i=Object.setPrototypeOf)?i(n,r):n.__proto__=r,function(t,e){void 0===e&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}(a),a}return n(e,t),e}(Error));d.kind="Exception";var p=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);p.kind="ArgumentException";var g=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);g.kind="IllegalArgumentException";var v=function(){function t(e){if(c(this,t),this.binarizer=e,null===e)throw new g("Binarizer must be non-null.")}return l(t,[{key:"getWidth",value:function(){return this.binarizer.getWidth()}},{key:"getHeight",value:function(){return this.binarizer.getHeight()}},{key:"getBlackRow",value:function(t,e){return this.binarizer.getBlackRow(t,e)}},{key:"getBlackMatrix",value:function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}},{key:"isCropSupported",value:function(){return this.binarizer.getLuminanceSource().isCropSupported()}},{key:"crop",value:function(e,n,r,i){var o=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(o))}},{key:"isRotateSupported",value:function(){return this.binarizer.getLuminanceSource().isRotateSupported()}},{key:"rotateCounterClockwise",value:function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))}},{key:"rotateCounterClockwise45",value:function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))}},{key:"toString",value:function(){try{return this.getBlackMatrix().toString()}catch(t){return""}}}]),t}(),m=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return l(n,null,[{key:"getChecksumInstance",value:function(){return new n}}]),n}(d);m.kind="ChecksumException";var y=function(){function t(e){c(this,t),this.source=e}return l(t,[{key:"getLuminanceSource",value:function(){return this.source}},{key:"getWidth",value:function(){return this.source.getWidth()}},{key:"getHeight",value:function(){return this.source.getHeight()}}]),t}(),b=function(){function t(){c(this,t)}return l(t,null,[{key:"arraycopy",value:function(t,e,n,r,i){for(;i--;)n[r++]=t[e++]}},{key:"currentTimeMillis",value:function(){return Date.now()}}]),t}(),w=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);w.kind="IndexOutOfBoundsException";var _=function(t){h(n,t);var e=f(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return c(this,n),(t=e.call(this,i)).index=r,t.message=i,t}return n}(w);_.kind="ArrayIndexOutOfBoundsException";var C=function(){function t(){c(this,t)}return l(t,null,[{key:"fill",value:function(t,e){for(var n=0,r=t.length;n<r;n++)t[n]=e}},{key:"fillWithin",value:function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var o=n;o<r;o++)e[o]=i}},{key:"rangeCheck",value:function(t,e,n){if(e>n)throw new g("fromIndex("+e+") > toIndex("+n+")");if(e<0)throw new _(e);if(n>t)throw new _(n)}},{key:"asList",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}},{key:"create",value:function(t,e,n){return Array.from({length:t}).map(function(t){return Array.from({length:e}).fill(n)})}},{key:"createInt32Array",value:function(t,e,n){return Array.from({length:t}).map(function(t){return Int32Array.from({length:e}).fill(n)})}},{key:"equals",value:function(t,e){if(!t)return!1;if(!e)return!1;if(!t.length)return!1;if(!e.length)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}},{key:"hashCode",value:function(t){if(null===t)return 0;var e,n=1,r=u(t);try{for(r.s();!(e=r.n()).done;)n=31*n+e.value}catch(i){r.e(i)}finally{r.f()}return n}},{key:"fillUint8Array",value:function(t,e){for(var n=0;n!==t.length;n++)t[n]=e}},{key:"copyOf",value:function(t,e){return t.slice(0,e)}},{key:"copyOfUint8Array",value:function(t,e){if(t.length<=e){var n=new Uint8Array(e);return n.set(t),n}return t.slice(0,e)}},{key:"copyOfRange",value:function(t,e,n){var r=n-e,i=new Int32Array(r);return b.arraycopy(t,e,i,0,r),i}},{key:"binarySearch",value:function(e,n,r){void 0===r&&(r=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=r(n,e[a]);if(s>0)i=a+1;else{if(!(s<0))return a;o=a-1}}return-i-1}},{key:"numberComparator",value:function(t,e){return t-e}}]),t}(),S=function(){function t(){c(this,t)}return l(t,null,[{key:"numberOfTrailingZeros",value:function(t){var e;if(0===t)return 32;var n=31;return 0!=(e=t<<16)&&(n-=16,t=e),0!=(e=t<<8)&&(n-=8,t=e),0!=(e=t<<4)&&(n-=4,t=e),0!=(e=t<<2)&&(n-=2,t=e),n-(t<<1>>>31)}},{key:"numberOfLeadingZeros",value:function(t){if(0===t)return 32;var e=1;return t>>>16==0&&(e+=16,t<<=16),t>>>24==0&&(e+=8,t<<=8),t>>>28==0&&(e+=4,t<<=4),t>>>30==0&&(e+=2,t<<=2),e-(t>>>31)}},{key:"toHexString",value:function(t){return t.toString(16)}},{key:"toBinaryString",value:function(t){return String(parseInt(String(t),2))}},{key:"bitCount",value:function(t){return t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135,63&(t+=t>>>8)+(t>>>16)}},{key:"truncDivision",value:function(t,e){return Math.trunc(t/e)}},{key:"parseInt",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return parseInt(t,e)})}]),t}();S.MIN_VALUE_32_BITS=-2147483648,S.MAX_VALUE=Number.MAX_SAFE_INTEGER;var E,O=function(){function t(e,n){c(this,t),void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==n?t.makeArray(e):n)}return l(t,[{key:"getSize",value:function(){return this.size}},{key:"getSizeInBytes",value:function(){return Math.floor((this.size+7)/8)}},{key:"ensureCapacity",value:function(e){if(e>32*this.bits.length){var n=t.makeArray(e);b.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}}},{key:"get",value:function(t){return 0!=(this.bits[Math.floor(t/32)]&1<<(31&t))}},{key:"set",value:function(t){this.bits[Math.floor(t/32)]|=1<<(31&t)}},{key:"flip",value:function(t){this.bits[Math.floor(t/32)]^=1<<(31&t)}},{key:"getNextSet",value:function(t){var e=this.size;if(t>=e)return e;var n=this.bits,r=Math.floor(t/32),i=n[r];i&=~((1<<(31&t))-1);for(var o=n.length;0===i;){if(++r===o)return e;i=n[r]}var a=32*r+S.numberOfTrailingZeros(i);return a>e?e:a}},{key:"getNextUnset",value:function(t){var e=this.size;if(t>=e)return e;var n=this.bits,r=Math.floor(t/32),i=~n[r];i&=~((1<<(31&t))-1);for(var o=n.length;0===i;){if(++r===o)return e;i=~n[r]}var a=32*r+S.numberOfTrailingZeros(i);return a>e?e:a}},{key:"setBulk",value:function(t,e){this.bits[Math.floor(t/32)]=e}},{key:"setRange",value:function(t,e){if(e<t||t<0||e>this.size)throw new g;if(e!==t){e--;for(var n=Math.floor(t/32),r=Math.floor(e/32),i=this.bits,o=n;o<=r;o++)i[o]|=(2<<(o<r?31:31&e))-(1<<(o>n?0:31&t))}}},{key:"clear",value:function(){for(var t=this.bits.length,e=this.bits,n=0;n<t;n++)e[n]=0}},{key:"isRange",value:function(t,e,n){if(e<t||t<0||e>this.size)throw new g;if(e===t)return!0;e--;for(var r=Math.floor(t/32),i=Math.floor(e/32),o=this.bits,a=r;a<=i;a++){var s=(2<<(a<i?31:31&e))-(1<<(a>r?0:31&t))&4294967295;if((o[a]&s)!==(n?s:0))return!1}return!0}},{key:"appendBit",value:function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}},{key:"appendBits",value:function(t,e){if(e<0||e>32)throw new g("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(var n=e;n>0;n--)this.appendBit(1==(t>>n-1&1))}},{key:"appendBitArray",value:function(t){var e=t.size;this.ensureCapacity(this.size+e);for(var n=0;n<e;n++)this.appendBit(t.get(n))}},{key:"xor",value:function(t){if(this.size!==t.size)throw new g("Sizes don't match");for(var e=this.bits,n=0,r=e.length;n<r;n++)e[n]^=t.bits[n]}},{key:"toBytes",value:function(t,e,n,r){for(var i=0;i<r;i++){for(var o=0,a=0;a<8;a++)this.get(t)&&(o|=1<<7-a),t++;e[n+i]=o}}},{key:"getBitArray",value:function(){return this.bits}},{key:"reverse",value:function(){for(var t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),n=e+1,r=this.bits,i=0;i<n;i++){var o=r[i];t[e-i]=o=(o=(o=(o=(o=o>>1&1431655765|(1431655765&o)<<1)>>2&858993459|(858993459&o)<<2)>>4&252645135|(252645135&o)<<4)>>8&16711935|(16711935&o)<<8)>>16&65535|(65535&o)<<16}if(this.size!==32*n){for(var a=32*n-this.size,s=t[0]>>>a,u=1;u<n;u++){var c=t[u];t[u-1]=s|=c<<32-a,s=c>>>a}t[n-1]=s}this.bits=t}},{key:"equals",value:function(e){return e instanceof t&&this.size===e.size&&C.equals(this.bits,e.bits)}},{key:"hashCode",value:function(){return 31*this.size+C.hashCode(this.bits)}},{key:"toString",value:function(){for(var t="",e=0,n=this.size;e<n;e++)0==(7&e)&&(t+=" "),t+=this.get(e)?"X":".";return t}},{key:"clone",value:function(){return new t(this.size,this.bits.slice())}}],[{key:"makeArray",value:function(t){return new Int32Array(Math.floor((t+31)/32))}}]),t}();!function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(E||(E={}));var A,I=E,k=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return l(n,null,[{key:"getFormatInstance",value:function(){return new n}}]),n}(d);k.kind="FormatException",function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"}(A||(A={}));var R=function(){function t(e,n,r){c(this,t),this.valueIdentifier=e,this.name=r,this.values="number"==typeof n?Int32Array.from([n]):n;for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];this.otherEncodingNames=o,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var s=this.values,u=0,l=s.length;u!==l;u++){var h=s[u];t.VALUES_TO_ECI.set(h,this)}for(var f=0,d=o;f<d.length;f++){var p=d[f];t.NAME_TO_ECI.set(p,this)}}return l(t,[{key:"getValueIdentifier",value:function(){return this.valueIdentifier}},{key:"getName",value:function(){return this.name}},{key:"getValue",value:function(){return this.values[0]}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()}}],[{key:"getCharacterSetECIByValue",value:function(e){if(e<0||e>=900)throw new k("incorect value");var n=t.VALUES_TO_ECI.get(e);if(void 0===n)throw new k("incorect value");return n}},{key:"getCharacterSetECIByName",value:function(e){var n=t.NAME_TO_ECI.get(e);if(void 0===n)throw new k("incorect value");return n}}]),t}();R.VALUE_IDENTIFIER_TO_ECI=new Map,R.VALUES_TO_ECI=new Map,R.NAME_TO_ECI=new Map,R.Cp437=new R(A.Cp437,Int32Array.from([0,2]),"Cp437"),R.ISO8859_1=new R(A.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),R.ISO8859_2=new R(A.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),R.ISO8859_3=new R(A.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),R.ISO8859_4=new R(A.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),R.ISO8859_5=new R(A.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),R.ISO8859_6=new R(A.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),R.ISO8859_7=new R(A.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),R.ISO8859_8=new R(A.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),R.ISO8859_9=new R(A.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),R.ISO8859_10=new R(A.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),R.ISO8859_11=new R(A.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),R.ISO8859_13=new R(A.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),R.ISO8859_14=new R(A.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),R.ISO8859_15=new R(A.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),R.ISO8859_16=new R(A.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),R.SJIS=new R(A.SJIS,20,"SJIS","Shift_JIS"),R.Cp1250=new R(A.Cp1250,21,"Cp1250","windows-1250"),R.Cp1251=new R(A.Cp1251,22,"Cp1251","windows-1251"),R.Cp1252=new R(A.Cp1252,23,"Cp1252","windows-1252"),R.Cp1256=new R(A.Cp1256,24,"Cp1256","windows-1256"),R.UnicodeBigUnmarked=new R(A.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),R.UTF8=new R(A.UTF8,26,"UTF8","UTF-8"),R.ASCII=new R(A.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),R.Big5=new R(A.Big5,28,"Big5"),R.GB18030=new R(A.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),R.EUC_KR=new R(A.EUC_KR,30,"EUC_KR","EUC-KR");var T=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);T.kind="UnsupportedOperationException";var M=function(){function t(){c(this,t)}return l(t,null,[{key:"decode",value:function(t,e){var n=this.encodingName(e);return this.customDecoder?this.customDecoder(t,n):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)}},{key:"shouldDecodeOnFallback",value:function(e){return!t.isBrowser()&&"ISO-8859-1"===e}},{key:"encode",value:function(t,e){var n=this.encodingName(e);return this.customEncoder?this.customEncoder(t,n):"undefined"==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)}},{key:"isBrowser",value:function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}},{key:"encodingName",value:function(t){return"string"==typeof t?t:t.getName()}},{key:"encodingCharacterSet",value:function(t){return t instanceof R?t:R.getCharacterSetECIByName(t)}},{key:"decodeFallback",value:function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(r.equals(R.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new T("Encoding ".concat(this.encodingName(n)," not supported by fallback."))}},{key:"isDecodeFallbackSupported",value:function(t){return t.equals(R.UTF8)||t.equals(R.ISO8859_1)||t.equals(R.ASCII)}},{key:"encodeFallback",value:function(t){for(var e=btoa(unescape(encodeURIComponent(t))).split(""),n=[],r=0;r<e.length;r++)n.push(e[r].charCodeAt(0));return new Uint8Array(n)}}]),t}(),N=function(){function t(){c(this,t)}return l(t,null,[{key:"castAsNonUtf8Char",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e?e.getName():this.ISO88591;return M.decode(new Uint8Array([t]),n)}},{key:"guessEncoding",value:function(e,n){if(null!=n&&void 0!==n.get(I.CHARACTER_SET))return n.get(I.CHARACTER_SET).toString();for(var r=e.length,i=!0,o=!0,a=!0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,g=0,v=0,m=0,y=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],b=0;b<r&&(i||o||a);b++){var w=255&e[b];a&&(s>0?0==(128&w)?a=!1:s--:0!=(128&w)&&(0==(64&w)?a=!1:(s++,0==(32&w)?u++:(s++,0==(16&w)?c++:(s++,0==(8&w)?l++:a=!1))))),i&&(w>127&&w<160?i=!1:w>159&&(w<192||215===w||247===w)&&m++),o&&(h>0?w<64||127===w||w>252?o=!1:h--:128===w||160===w||w>239?o=!1:w>160&&w<224?(f++,p=0,++d>g&&(g=d)):w>127?(h++,d=0,++p>v&&(v=p)):(d=0,p=0))}return a&&s>0&&(a=!1),o&&h>0&&(o=!1),a&&(y||u+c+l>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||g>=3||v>=3)?t.SHIFT_JIS:i&&o?2===g&&2===f||10*m>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING}},{key:"format",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=-1;function o(t,e,r,o,a,s){if("%%"===t)return"%";if(void 0!==n[++i]){t=o?parseInt(o.substr(1)):void 0;var u,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":u=n[i];break;case"c":u=n[i][0];break;case"f":u=parseFloat(n[i]).toFixed(t);break;case"p":u=parseFloat(n[i]).toPrecision(t);break;case"e":u=parseFloat(n[i]).toExponential(t);break;case"x":u=parseInt(n[i]).toString(c||16);break;case"d":u=parseFloat(parseInt(n[i],c||10).toPrecision(t)).toFixed(0)}u="object"==typeof u?JSON.stringify(u):(+u).toString(c);for(var l=parseInt(r),h=r&&r[0]+""=="0"?"0":" ";u.length<l;)u=void 0!==e?u+h:h+u;return u}}var a=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(a,o)}},{key:"getBytes",value:function(t,e){return M.encode(t,e)}},{key:"getCharCode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.charCodeAt(e)}},{key:"getCharAt",value:function(t){return String.fromCharCode(t)}}]),t}();N.SHIFT_JIS=R.SJIS.getName(),N.GB2312="GB2312",N.ISO88591=R.ISO8859_1.getName(),N.EUC_JP="EUC_JP",N.UTF8=R.UTF8.getName(),N.PLATFORM_DEFAULT_ENCODING=N.UTF8,N.ASSUME_SHIFT_JIS=!1;var P=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c(this,t),this.value=e}return l(t,[{key:"enableDecoding",value:function(t){return this.encoding=t,this}},{key:"append",value:function(t){return this.value+="string"==typeof t?t.toString():this.encoding?N.castAsNonUtf8Char(t,this.encoding):String.fromCharCode(t),this}},{key:"appendChars",value:function(t,e,n){for(var r=e;e<e+n;r++)this.append(t[r]);return this}},{key:"length",value:function(){return this.value.length}},{key:"charAt",value:function(t){return this.value.charAt(t)}},{key:"deleteCharAt",value:function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}},{key:"setCharAt",value:function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)}},{key:"substring",value:function(t,e){return this.value.substring(t,e)}},{key:"setLengthToZero",value:function(){this.value=""}},{key:"toString",value:function(){return this.value}},{key:"insert",value:function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+e.length)}}]),t}(),D=function(){function t(e,n,r,i){if(c(this,t),this.width=e,this.height=n,this.rowSize=r,this.bits=i,null==n&&(n=e),this.height=n,e<1||n<1)throw new g("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==i&&(this.bits=new Int32Array(this.rowSize*this.height))}return l(t,[{key:"get",value:function(t,e){var n=e*this.rowSize+Math.floor(t/32);return 0!=(this.bits[n]>>>(31&t)&1)}},{key:"set",value:function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(31&t)&4294967295}},{key:"unset",value:function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(31&t)&4294967295)}},{key:"flip",value:function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(31&t)&4294967295}},{key:"xor",value:function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new g("input matrix dimensions do not match");for(var e=new O(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits,i=0,o=this.height;i<o;i++)for(var a=i*n,s=t.getRow(i,e).getBitArray(),u=0;u<n;u++)r[a+u]^=s[u]}},{key:"clear",value:function(){for(var t=this.bits,e=t.length,n=0;n<e;n++)t[n]=0}},{key:"setRegion",value:function(t,e,n,r){if(e<0||t<0)throw new g("Left and top must be nonnegative");if(r<1||n<1)throw new g("Height and width must be at least 1");var i=t+n,o=e+r;if(o>this.height||i>this.width)throw new g("The region must fit inside the matrix");for(var a=this.rowSize,s=this.bits,u=e;u<o;u++)for(var c=u*a,l=t;l<i;l++)s[c+Math.floor(l/32)]|=1<<(31&l)&4294967295}},{key:"getRow",value:function(t,e){null==e||e.getSize()<this.width?e=new O(this.width):e.clear();for(var n=this.rowSize,r=this.bits,i=t*n,o=0;o<n;o++)e.setBulk(32*o,r[i+o]);return e}},{key:"setRow",value:function(t,e){b.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}},{key:"rotate180",value:function(){for(var t=this.getWidth(),e=this.getHeight(),n=new O(t),r=new O(t),i=0,o=Math.floor((e+1)/2);i<o;i++)n=this.getRow(i,n),r=this.getRow(e-1-i,r),n.reverse(),r.reverse(),this.setRow(i,r),this.setRow(e-1-i,n)}},{key:"getEnclosingRectangle",value:function(){for(var t=this.height,e=this.rowSize,n=this.bits,r=this.width,i=t,o=-1,a=-1,s=0;s<t;s++)for(var u=0;u<e;u++){var c=n[s*e+u];if(0!==c){if(s<i&&(i=s),s>a&&(a=s),32*u<r){for(var l=0;0==(c<<31-l&4294967295);)l++;32*u+l<r&&(r=32*u+l)}if(32*u+31>o){for(var h=31;c>>>h==0;)h--;32*u+h>o&&(o=32*u+h)}}}return o<r||a<i?null:Int32Array.from([r,i,o-r+1,a-i+1])}},{key:"getTopLeftOnBit",value:function(){for(var t=this.rowSize,e=this.bits,n=0;n<e.length&&0===e[n];)n++;if(n===e.length)return null;for(var r=n/t,i=n%t*32,o=e[n],a=0;0==(o<<31-a&4294967295);)a++;return Int32Array.from([i+=a,r])}},{key:"getBottomRightOnBit",value:function(){for(var t=this.rowSize,e=this.bits,n=e.length-1;n>=0&&0===e[n];)n--;if(n<0)return null;for(var r=Math.floor(n/t),i=32*Math.floor(n%t),o=e[n],a=31;o>>>a==0;)a--;return Int32Array.from([i+=a,r])}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getRowSize",value:function(){return this.rowSize}},{key:"equals",value:function(e){return e instanceof t&&this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&C.equals(this.bits,e.bits)}},{key:"hashCode",value:function(){var t=this.width;return 31*(t=31*(t=31*(t=31*t+this.width)+this.height)+this.rowSize)+C.hashCode(this.bits)}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"X ",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"  ",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n";return this.buildToString(t,e,n)}},{key:"buildToString",value:function(t,e,n){for(var r=new P,i=0,o=this.height;i<o;i++){for(var a=0,s=this.width;a<s;a++)r.append(this.get(a,i)?t:e);r.append(n)}return r.toString()}},{key:"clone",value:function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())}}],[{key:"parseFromBooleanArray",value:function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),o=0;o<n;o++)for(var a=e[o],s=0;s<r;s++)a[s]&&i.set(s,o);return i}},{key:"parseFromString",value:function(e,n,r){if(null===e)throw new g("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,u=0,c=0;c<e.length;)if("\n"===e.charAt(c)||"\r"===e.charAt(c)){if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new g("row lengths do not match");a=o,u++}c++}else if(e.substring(c,c+n.length)===n)c+=n.length,i[o]=!0,o++;else{if(e.substring(c,c+r.length)!==r)throw new g("illegal character encountered: "+e.substring(c));c+=r.length,i[o]=!1,o++}if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new g("row lengths do not match");u++}for(var l=new t(s,u),h=0;h<o;h++)i[h]&&l.set(Math.floor(h%s),Math.floor(h/s));return l}}]),t}(),x=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return l(n,null,[{key:"getNotFoundInstance",value:function(){return new n}}]),n}(d);x.kind="NotFoundException";var L=function(t){h(n,t);var e=f(n);function n(t){var r;return c(this,n),(r=e.call(this,t)).luminances=n.EMPTY,r.buckets=new Int32Array(n.LUMINANCE_BUCKETS),r}return l(n,[{key:"getBlackRow",value:function(t,e){var r=this.getLuminanceSource(),i=r.getWidth();null==e||e.getSize()<i?e=new O(i):e.clear(),this.initArrays(i);for(var o=r.getRow(t,this.luminances),a=this.buckets,s=0;s<i;s++)a[(255&o[s])>>n.LUMINANCE_SHIFT]++;var u=n.estimateBlackPoint(a);if(i<3)for(var c=0;c<i;c++)(255&o[c])<u&&e.set(c);else for(var l=255&o[0],h=255&o[1],f=1;f<i-1;f++){var d=255&o[f+1];(4*h-l-d)/2<u&&e.set(f),l=h,h=d}return e}},{key:"getBlackMatrix",value:function(){var t=this.getLuminanceSource(),e=t.getWidth(),r=t.getHeight(),i=new D(e,r);this.initArrays(e);for(var o=this.buckets,a=1;a<5;a++)for(var s=Math.floor(r*a/5),u=t.getRow(s,this.luminances),c=Math.floor(4*e/5),l=Math.floor(e/5);l<c;l++)o[(255&u[l])>>n.LUMINANCE_SHIFT]++;for(var h=n.estimateBlackPoint(o),f=t.getMatrix(),d=0;d<r;d++)for(var p=d*e,g=0;g<e;g++)(255&f[p+g])<h&&i.set(g,d);return i}},{key:"createBinarizer",value:function(t){return new n(t)}},{key:"initArrays",value:function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var e=this.buckets,r=0;r<n.LUMINANCE_BUCKETS;r++)e[r]=0}}],[{key:"estimateBlackPoint",value:function(t){for(var e=t.length,r=0,i=0,o=0,a=0;a<e;a++)t[a]>o&&(i=a,o=t[a]),t[a]>r&&(r=t[a]);for(var s=0,u=0,c=0;c<e;c++){var l=c-i,h=t[c]*l*l;h>u&&(s=c,u=h)}if(i>s){var f=i;i=s,s=f}if(s-i<=e/16)throw new x;for(var d=s-1,p=-1,g=s-1;g>i;g--){var v=g-i,m=v*v*(s-g)*(r-t[g]);m>p&&(d=g,p=m)}return d<<n.LUMINANCE_SHIFT}}]),n}(y);L.LUMINANCE_BITS=5,L.LUMINANCE_SHIFT=8-L.LUMINANCE_BITS,L.LUMINANCE_BUCKETS=1<<L.LUMINANCE_BITS,L.EMPTY=Uint8ClampedArray.from([0]);var B=function(t){h(n,t);var e=f(n);function n(t){var r;return c(this,n),(r=e.call(this,t)).matrix=null,r}return l(n,[{key:"getBlackMatrix",value:function(){if(null!==this.matrix)return this.matrix;var t=this.getLuminanceSource(),e=t.getWidth(),r=t.getHeight();if(e>=n.MINIMUM_DIMENSION&&r>=n.MINIMUM_DIMENSION){var i=t.getMatrix(),o=e>>n.BLOCK_SIZE_POWER;0!=(e&n.BLOCK_SIZE_MASK)&&o++;var u=r>>n.BLOCK_SIZE_POWER;0!=(r&n.BLOCK_SIZE_MASK)&&u++;var c=n.calculateBlackPoints(i,o,u,e,r),l=new D(e,r);n.calculateThresholdForBlock(i,o,u,e,r,c,l),this.matrix=l}else this.matrix=a(s(n.prototype),"getBlackMatrix",this).call(this);return this.matrix}},{key:"createBinarizer",value:function(t){return new n(t)}}],[{key:"calculateThresholdForBlock",value:function(t,e,r,i,o,a,s){for(var u=o-n.BLOCK_SIZE,c=i-n.BLOCK_SIZE,l=0;l<r;l++){var h=l<<n.BLOCK_SIZE_POWER;h>u&&(h=u);for(var f=n.cap(l,2,r-3),d=0;d<e;d++){var p=d<<n.BLOCK_SIZE_POWER;p>c&&(p=c);for(var g=n.cap(d,2,e-3),v=0,m=-2;m<=2;m++){var y=a[f+m];v+=y[g-2]+y[g-1]+y[g]+y[g+1]+y[g+2]}n.thresholdBlock(t,p,h,v/25,i,s)}}}},{key:"cap",value:function(t,e,n){return t<e?e:t>n?n:t}},{key:"thresholdBlock",value:function(t,e,r,i,o,a){for(var s=0,u=r*o+e;s<n.BLOCK_SIZE;s++,u+=o)for(var c=0;c<n.BLOCK_SIZE;c++)(255&t[u+c])<=i&&a.set(e+c,r+s)}},{key:"calculateBlackPoints",value:function(t,e,r,i,o){for(var a=o-n.BLOCK_SIZE,s=i-n.BLOCK_SIZE,u=new Array(r),c=0;c<r;c++){u[c]=new Int32Array(e);var l=c<<n.BLOCK_SIZE_POWER;l>a&&(l=a);for(var h=0;h<e;h++){var f=h<<n.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0,p=255,g=0,v=0,m=l*i+f;v<n.BLOCK_SIZE;v++,m+=i){for(var y=0;y<n.BLOCK_SIZE;y++){var b=255&t[m+y];d+=b,b<p&&(p=b),b>g&&(g=b)}if(g-p>n.MIN_DYNAMIC_RANGE)for(v++,m+=i;v<n.BLOCK_SIZE;v++,m+=i)for(var w=0;w<n.BLOCK_SIZE;w++)d+=255&t[m+w]}var _=d>>2*n.BLOCK_SIZE_POWER;if(g-p<=n.MIN_DYNAMIC_RANGE&&(_=p/2,c>0&&h>0)){var C=(u[c-1][h]+2*u[c][h-1]+u[c-1][h-1])/4;p<C&&(_=C)}u[c][h]=_}}return u}}]),n}(L);B.BLOCK_SIZE_POWER=3,B.BLOCK_SIZE=1<<B.BLOCK_SIZE_POWER,B.BLOCK_SIZE_MASK=B.BLOCK_SIZE-1,B.MINIMUM_DIMENSION=5*B.BLOCK_SIZE,B.MIN_DYNAMIC_RANGE=24;var F=function(){function t(e,n){c(this,t),this.width=e,this.height=n}return l(t,[{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"isCropSupported",value:function(){return!1}},{key:"crop",value:function(t,e,n,r){throw new T("This luminance source does not support cropping.")}},{key:"isRotateSupported",value:function(){return!1}},{key:"rotateCounterClockwise",value:function(){throw new T("This luminance source does not support rotation by 90 degrees.")}},{key:"rotateCounterClockwise45",value:function(){throw new T("This luminance source does not support rotation by 45 degrees.")}},{key:"toString",value:function(){for(var t=new Uint8ClampedArray(this.width),e=new P,n=0;n<this.height;n++){for(var r=this.getRow(n,t),i=0;i<this.width;i++){var o=255&r[i];e.append(o<64?"#":o<128?"+":o<192?".":" ")}e.append("\n")}return e.toString()}}]),t}(),j=function(t){h(n,t);var e=f(n);function n(t){var r;return c(this,n),(r=e.call(this,t.getWidth(),t.getHeight())).delegate=t,r}return l(n,[{key:"getRow",value:function(t,e){for(var n=this.delegate.getRow(t,e),r=this.getWidth(),i=0;i<r;i++)n[i]=255-(255&n[i]);return n}},{key:"getMatrix",value:function(){for(var t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(e),r=0;r<e;r++)n[r]=255-(255&t[r]);return n}},{key:"isCropSupported",value:function(){return this.delegate.isCropSupported()}},{key:"crop",value:function(t,e,r,i){return new n(this.delegate.crop(t,e,r,i))}},{key:"isRotateSupported",value:function(){return this.delegate.isRotateSupported()}},{key:"invert",value:function(){return this.delegate}},{key:"rotateCounterClockwise",value:function(){return new n(this.delegate.rotateCounterClockwise())}},{key:"rotateCounterClockwise45",value:function(){return new n(this.delegate.rotateCounterClockwise45())}}]),n}(F),U=function(t){h(n,t);var e=f(n);function n(t){var r;return c(this,n),(r=e.call(this,t.width,t.height)).canvas=t,r.tempCanvasElement=null,r.buffer=n.makeBufferFromCanvasImageData(t),r}return l(n,[{key:"getRow",value:function(t,e){if(t<0||t>=this.getHeight())throw new g("Requested row is outside the image: "+t);var n=this.getWidth(),r=t*n;return null===e?e=this.buffer.slice(r,r+n):(e.length<n&&(e=new Uint8ClampedArray(n)),e.set(this.buffer.slice(r,r+n))),e}},{key:"getMatrix",value:function(){return this.buffer}},{key:"isCropSupported",value:function(){return!0}},{key:"crop",value:function(t,e,r,i){return a(s(n.prototype),"crop",this).call(this,t,e,r,i),this}},{key:"isRotateSupported",value:function(){return!0}},{key:"rotateCounterClockwise",value:function(){return this.rotate(-90),this}},{key:"rotateCounterClockwise45",value:function(){return this.rotate(-45),this}},{key:"getTempCanvasElement",value:function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}},{key:"rotate",value:function(t){var e=this.getTempCanvasElement(),r=e.getContext("2d"),i=t*n.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);return e.width=s,e.height=u,r.translate(s/2,u/2),r.rotate(i),r.drawImage(this.canvas,o/-2,a/-2),this.buffer=n.makeBufferFromCanvasImageData(e),this}},{key:"invert",value:function(){return new j(this)}}],[{key:"makeBufferFromCanvasImageData",value:function(t){var e=t.getContext("2d").getImageData(0,0,t.width,t.height);return n.toGrayscaleBuffer(e.data,t.width,t.height)}},{key:"toGrayscaleBuffer",value:function(t,e,n){for(var r=new Uint8ClampedArray(e*n),i=0,o=0,a=t.length;i<a;i+=4,o++)r[o]=0===t[i+3]?255:306*t[i]+601*t[i+1]+117*t[i+2]+512>>10;return r}}]),n}(F);U.DEGREE_TO_RADIANS=Math.PI/180;var V,H=function(){function t(e,n,r){c(this,t),this.deviceId=e,this.label=n,this.kind="videoinput",this.groupId=r||void 0}return l(t,[{key:"toJSON",value:function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}]),t}(),W=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},z=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,r=arguments.length>2?arguments[2]:void 0;c(this,t),this.reader=e,this.timeBetweenScansMillis=n,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return l(t,[{key:"hasNavigator",get:function(){return"undefined"!=typeof navigator}},{key:"isMediaDevicesSuported",get:function(){return this.hasNavigator&&!!navigator.mediaDevices}},{key:"canEnumerateDevices",get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}},{key:"timeBetweenDecodingAttempts",get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t}},{key:"hints",get:function(){return this._hints},set:function(t){this._hints=t||null}},{key:"listVideoInputDevices",value:function(){return W(this,void 0,void 0,o.mark(function t(){var e,n,r,i,a,s,c;return o.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasNavigator){t.next=2;break}throw new Error("Can't enumerate devices, navigator is not present.");case 2:if(this.canEnumerateDevices){t.next=4;break}throw new Error("Can't enumerate devices, method not supported.");case 4:return t.next=6,navigator.mediaDevices.enumerateDevices();case 6:e=[],n=u(t.sent),t.prev=9,n.s();case 11:if((r=n.n()).done){t.next=23;break}if("videoinput"===(a="video"===(i=r.value).kind?"videoinput":i.kind)){t.next=16;break}return t.abrupt("continue",21);case 16:s=i.deviceId||i.id,c=i.label||"Video device ".concat(e.length+1),e.push({deviceId:s,label:c,kind:a,groupId:i.groupId});case 21:t.next=11;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(9),n.e(t.t0);case 28:return t.prev=28,n.f(),t.finish(28);case 31:return t.abrupt("return",e);case 32:case"end":return t.stop()}},t,this,[[9,25,28,31]])}))}},{key:"getVideoInputDevices",value:function(){return W(this,void 0,void 0,o.mark(function t(){return o.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.listVideoInputDevices();case 2:return t.abrupt("return",t.sent.map(function(t){return new H(t.deviceId,t.label)}));case 4:case"end":return t.stop()}},t,this)}))}},{key:"findDeviceById",value:function(t){return W(this,void 0,void 0,o.mark(function e(){var n;return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listVideoInputDevices();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",n.find(function(e){return e.deviceId===t}));case 6:case"end":return e.stop()}},e,this)}))}},{key:"decodeFromInputVideoDevice",value:function(t,e){return W(this,void 0,void 0,o.mark(function n(){return o.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.decodeOnceFromVideoDevice(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,this)}))}},{key:"decodeOnceFromVideoDevice",value:function(t,e){return W(this,void 0,void 0,o.mark(function n(){var r;return o.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.reset(),r={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},n.next=5,this.decodeOnceFromConstraints(r,e);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}},{key:"decodeOnceFromConstraints",value:function(t,e){return W(this,void 0,void 0,o.mark(function n(){var r;return o.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.mediaDevices.getUserMedia(t);case 2:return r=n.sent,n.next=5,this.decodeOnceFromStream(r,e);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}},{key:"decodeOnceFromStream",value:function(t,e){return W(this,void 0,void 0,o.mark(function n(){var r;return o.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.reset(),n.next=3,this.attachStreamToVideo(t,e);case 3:return r=n.sent,n.next=6,this.decodeOnce(r);case 6:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,this)}))}},{key:"decodeFromInputVideoDeviceContinuously",value:function(t,e,n){return W(this,void 0,void 0,o.mark(function r(){return o.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.decodeFromVideoDevice(t,e,n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},r,this)}))}},{key:"decodeFromVideoDevice",value:function(t,e,n){return W(this,void 0,void 0,o.mark(function r(){var i;return o.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},r.next=4,this.decodeFromConstraints(i,e,n);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}},r,this)}))}},{key:"decodeFromConstraints",value:function(t,e,n){return W(this,void 0,void 0,o.mark(function r(){var i;return o.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,navigator.mediaDevices.getUserMedia(t);case 2:return i=r.sent,r.next=5,this.decodeFromStream(i,e,n);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}},r,this)}))}},{key:"decodeFromStream",value:function(t,e,n){return W(this,void 0,void 0,o.mark(function r(){var i;return o.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return this.reset(),r.next=3,this.attachStreamToVideo(t,e);case 3:return i=r.sent,r.next=6,this.decodeContinuously(i,n);case 6:return r.abrupt("return",r.sent);case 7:case"end":return r.stop()}},r,this)}))}},{key:"stopAsyncDecode",value:function(){this._stopAsyncDecode=!0}},{key:"stopContinuousDecode",value:function(){this._stopContinuousDecode=!0}},{key:"attachStreamToVideo",value:function(t,e){return W(this,void 0,void 0,o.mark(function n(){var r;return o.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.prepareVideoElement(e),this.addVideoSource(r,t),this.videoElement=r,this.stream=t,n.next=6,this.playVideoOnLoadAsync(r);case 6:return n.abrupt("return",r);case 7:case"end":return n.stop()}},n,this)}))}},{key:"playVideoOnLoadAsync",value:function(t){var e=this;return new Promise(function(n,r){return e.playVideoOnLoad(t,function(){return n()})})}},{key:"playVideoOnLoad",value:function(t,e){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)}},{key:"isVideoPlaying",value:function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}},{key:"tryPlayVideo",value:function(t){return W(this,void 0,void 0,o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isVideoPlaying(t)){e.next=3;break}return console.warn("Trying to play video that is already playing."),e.abrupt("return");case 3:return e.prev=3,e.next=6,t.play();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.warn("It was not possible to play the video.");case 11:case"end":return e.stop()}},e,this,[[3,8]])}))}},{key:"getMediaElement",value:function(t,e){var n=document.getElementById(t);if(!n)throw new p("element with id '".concat(t,"' not found"));if(n.nodeName.toLowerCase()!==e.toLowerCase())throw new p("element with id '".concat(t,"' must be an ").concat(e," element"));return n}},{key:"decodeFromImage",value:function(t,e){if(!t&&!e)throw new p("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)}},{key:"decodeFromVideo",value:function(t,e){if(!t&&!e)throw new p("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)}},{key:"decodeFromVideoContinuously",value:function(t,e,n){if(void 0===t&&void 0===e)throw new p("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,n):this.decodeFromVideoElementContinuously(t,n)}},{key:"decodeFromImageElement",value:function(t){if(!t)throw new p("An image element must be provided.");this.reset();var e=this.prepareImageElement(t);return this.imageElement=e,this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e)}},{key:"decodeFromVideoElement",value:function(t){var e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)}},{key:"decodeFromVideoElementContinuously",value:function(t,e){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,e)}},{key:"_decodeFromVideoElementSetup",value:function(t){if(!t)throw new p("A video element must be provided.");this.reset();var e=this.prepareVideoElement(t);return this.videoElement=e,e}},{key:"decodeFromImageUrl",value:function(t){if(!t)throw new p("An URL must be provided.");this.reset();var e=this.prepareImageElement();this.imageElement=e;var n=this._decodeOnLoadImage(e);return e.src=t,n}},{key:"decodeFromVideoUrl",value:function(t){if(!t)throw new p("An URL must be provided.");this.reset();var e=this.prepareVideoElement(),n=this.decodeFromVideoElement(e);return e.src=t,n}},{key:"decodeFromVideoUrlContinuously",value:function(t,e){if(!t)throw new p("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,e);return n.src=t,r}},{key:"_decodeOnLoadImage",value:function(t){var e=this;return new Promise(function(n,r){e.imageLoadedListener=function(){return e.decodeOnce(t,!1,!0).then(n,r)},t.addEventListener("load",e.imageLoadedListener)})}},{key:"_decodeOnLoadVideo",value:function(t){return W(this,void 0,void 0,o.mark(function e(){return o.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.playVideoOnLoadAsync(t);case 2:return e.next=4,this.decodeOnce(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}))}},{key:"_decodeOnLoadVideoContinuously",value:function(t,e){return W(this,void 0,void 0,o.mark(function n(){return o.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.playVideoOnLoadAsync(t);case 2:this.decodeContinuously(t,e);case 3:case"end":return n.stop()}},n,this)}))}},{key:"isImageLoaded",value:function(t){return!!t.complete&&0!==t.naturalWidth}},{key:"prepareImageElement",value:function(t){var e;return void 0===t&&((e=document.createElement("img")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e}},{key:"prepareVideoElement",value:function(t){var e;return t||"undefined"==typeof document||((e=document.createElement("video")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e}},{key:"decodeOnce",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._stopAsyncDecode=!1;var i=function i(o,a){if(e._stopAsyncDecode)return a(new x("Video stream has ended before any code could be detected.")),void(e._stopAsyncDecode=void 0);try{o(e.decode(t))}catch(s){if(n&&s instanceof x||(s instanceof m||s instanceof k)&&r)return setTimeout(i,e._timeBetweenDecodingAttempts,o,a);a(s)}};return new Promise(function(t,e){return i(t,e)})}},{key:"decodeContinuously",value:function(t,e){var n=this;this._stopContinuousDecode=!1,function r(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var i=n.decode(t);e(i,null),setTimeout(r,n.timeBetweenScansMillis)}catch(o){e(null,o),(o instanceof m||o instanceof k||o instanceof x)&&setTimeout(r,n._timeBetweenDecodingAttempts)}}()}},{key:"decode",value:function(t){var e=this.createBinaryBitmap(t);return this.decodeBitmap(e)}},{key:"createBinaryBitmap",value:function(t){var e=this.getCaptureCanvasContext(t);this.drawImageOnCanvas(e,t);var n=this.getCaptureCanvas(t),r=new U(n),i=new B(r);return new v(i)}},{key:"getCaptureCanvasContext",value:function(t){if(!this.captureCanvasContext){var e=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=e}return this.captureCanvasContext}},{key:"getCaptureCanvas",value:function(t){if(!this.captureCanvas){var e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas}},{key:"drawImageOnCanvas",value:function(t,e){t.drawImage(e,0,0)}},{key:"decodeBitmap",value:function(t){return this.reader.decode(t,this._hints)}},{key:"createCaptureCanvas",value:function(t){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var e,n,r=document.createElement("canvas");return void 0!==t&&(t instanceof HTMLVideoElement?(e=t.videoWidth,n=t.videoHeight):t instanceof HTMLImageElement&&(e=t.naturalWidth||t.width,n=t.naturalHeight||t.height)),r.style.width=e+"px",r.style.height=n+"px",r.width=e,r.height=n,r}},{key:"stopStreams",value:function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}},{key:"reset",value:function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}},{key:"_destroyVideoElement",value:function(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}},{key:"_destroyImageElement",value:function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}},{key:"_destroyCaptureCanvas",value:function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}},{key:"addVideoSource",value:function(t,e){try{t.srcObject=e}catch(n){t.src=URL.createObjectURL(e)}}},{key:"cleanVideoSource",value:function(t){try{t.srcObject=null}catch(e){t.src=""}this.videoElement.removeAttribute("src")}}]),t}(),G=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==n?0:8*n.length,i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:b.currentTimeMillis();c(this,t),this.text=e,this.rawBytes=n,this.numBits=r,this.resultPoints=i,this.format=o,this.timestamp=a,this.text=e,this.rawBytes=n,this.numBits=null==r?null==n?0:8*n.length:r,this.resultPoints=i,this.format=o,this.resultMetadata=null,this.timestamp=null==a?b.currentTimeMillis():a}return l(t,[{key:"getText",value:function(){return this.text}},{key:"getRawBytes",value:function(){return this.rawBytes}},{key:"getNumBits",value:function(){return this.numBits}},{key:"getResultPoints",value:function(){return this.resultPoints}},{key:"getBarcodeFormat",value:function(){return this.format}},{key:"getResultMetadata",value:function(){return this.resultMetadata}},{key:"putMetadata",value:function(t,e){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)}},{key:"putAllMetadata",value:function(t){null!==t&&(this.resultMetadata=null===this.resultMetadata?t:new Map(t))}},{key:"addResultPoints",value:function(t){var e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&&t.length>0){var n=new Array(e.length+t.length);b.arraycopy(e,0,n,0,e.length),b.arraycopy(t,0,n,e.length,t.length),this.resultPoints=n}}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"toString",value:function(){return this.text}}]),t}();!function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(V||(V={}));var X,Z=V;!function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(X||(X={}));var q=X,Y=function(){function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:-1;c(this,t),this.rawBytes=e,this.text=n,this.byteSegments=r,this.ecLevel=i,this.structuredAppendSequenceNumber=o,this.structuredAppendParity=a,this.numBits=null==e?0:8*e.length}return l(t,[{key:"getRawBytes",value:function(){return this.rawBytes}},{key:"getNumBits",value:function(){return this.numBits}},{key:"setNumBits",value:function(t){this.numBits=t}},{key:"getText",value:function(){return this.text}},{key:"getByteSegments",value:function(){return this.byteSegments}},{key:"getECLevel",value:function(){return this.ecLevel}},{key:"getErrorsCorrected",value:function(){return this.errorsCorrected}},{key:"setErrorsCorrected",value:function(t){this.errorsCorrected=t}},{key:"getErasures",value:function(){return this.erasures}},{key:"setErasures",value:function(t){this.erasures=t}},{key:"getOther",value:function(){return this.other}},{key:"setOther",value:function(t){this.other=t}},{key:"hasStructuredAppend",value:function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}},{key:"getStructuredAppendParity",value:function(){return this.structuredAppendParity}},{key:"getStructuredAppendSequenceNumber",value:function(){return this.structuredAppendSequenceNumber}}]),t}(),K=function(){function t(){c(this,t)}return l(t,[{key:"exp",value:function(t){return this.expTable[t]}},{key:"log",value:function(t){if(0===t)throw new g;return this.logTable[t]}}],[{key:"addOrSubtract",value:function(t,e){return t^e}}]),t}(),Q=function(){function t(e,n){if(c(this,t),0===n.length)throw new g;this.field=e;var r=n.length;if(r>1&&0===n[0]){for(var i=1;i<r&&0===n[i];)i++;i===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-i),b.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return l(t,[{key:"getCoefficients",value:function(){return this.coefficients}},{key:"getDegree",value:function(){return this.coefficients.length-1}},{key:"isZero",value:function(){return 0===this.coefficients[0]}},{key:"getCoefficient",value:function(t){return this.coefficients[this.coefficients.length-1-t]}},{key:"evaluateAt",value:function(t){if(0===t)return this.getCoefficient(0);var e,n=this.coefficients;if(1===t){e=0;for(var r=0,i=n.length;r!==i;r++)e=K.addOrSubtract(e,n[r]);return e}e=n[0];for(var o=n.length,a=this.field,s=1;s<o;s++)e=K.addOrSubtract(a.multiply(t,e),n[s]);return e}},{key:"addOrSubtract",value:function(e){if(!this.field.equals(e.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),a=r.length-n.length;b.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=K.addOrSubtract(n[s-a],r[s]);return new t(this.field,o)}},{key:"multiply",value:function(e){if(!this.field.equals(e.field))throw new g("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),s=this.field,u=0;u<r;u++)for(var c=n[u],l=0;l<o;l++)a[u+l]=K.addOrSubtract(a[u+l],s.multiply(c,i[l]));return new t(s,a)}},{key:"multiplyScalar",value:function(e){if(0===e)return this.field.getZero();if(1===e)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),o=this.coefficients,a=0;a<n;a++)i[a]=r.multiply(o[a],e);return new t(r,i)}},{key:"multiplyByMonomial",value:function(e,n){if(e<0)throw new g;if(0===n)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(r[s],n);return new t(a,o)}},{key:"divide",value:function(t){if(!this.field.equals(t.field))throw new g("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new g("Divide by 0");for(var e=this.field,n=e.getZero(),r=this,i=t.getCoefficient(t.getDegree()),o=e.inverse(i);r.getDegree()>=t.getDegree()&&!r.isZero();){var a=r.getDegree()-t.getDegree(),s=e.multiply(r.getCoefficient(r.getDegree()),o),u=t.multiplyByMonomial(a,s),c=e.buildMonomial(a,s);n=n.addOrSubtract(c),r=r.addOrSubtract(u)}return[n,r]}},{key:"toString",value:function(){for(var t="",e=this.getDegree();e>=0;e--){var n=this.getCoefficient(e);if(0!==n){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),0===e||1!==n){var r=this.field.log(n);0===r?t+="1":1===r?t+="a":(t+="a^",t+=r)}0!==e&&(1===e?t+="x":(t+="x^",t+=e))}}return t}}]),t}(),J=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);J.kind="ArithmeticException";var $=function(t){h(n,t);var e=f(n);function n(t,r,o){var a;c(this,n),(a=e.call(this)).primitive=t,a.size=r,a.generatorBase=o;for(var s=new Int32Array(r),u=1,l=0;l<r;l++)s[l]=u,(u*=2)>=r&&(u^=t,u&=r-1);a.expTable=s;for(var h=new Int32Array(r),f=0;f<r-1;f++)h[s[f]]=f;return a.logTable=h,a.zero=new Q(i(a),Int32Array.from([0])),a.one=new Q(i(a),Int32Array.from([1])),a}return l(n,[{key:"getZero",value:function(){return this.zero}},{key:"getOne",value:function(){return this.one}},{key:"buildMonomial",value:function(t,e){if(t<0)throw new g;if(0===e)return this.zero;var n=new Int32Array(t+1);return n[0]=e,new Q(this,n)}},{key:"inverse",value:function(t){if(0===t)throw new J;return this.expTable[this.size-this.logTable[t]-1]}},{key:"multiply",value:function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]}},{key:"getSize",value:function(){return this.size}},{key:"getGeneratorBase",value:function(){return this.generatorBase}},{key:"toString",value:function(){return"GF(0x"+S.toHexString(this.primitive)+","+this.size+")"}},{key:"equals",value:function(t){return t===this}}]),n}(K);$.AZTEC_DATA_12=new $(4201,4096,1),$.AZTEC_DATA_10=new $(1033,1024,1),$.AZTEC_DATA_6=new $(67,64,1),$.AZTEC_PARAM=new $(19,16,1),$.QR_CODE_FIELD_256=new $(285,256,0),$.DATA_MATRIX_FIELD_256=new $(301,256,1),$.AZTEC_DATA_8=$.DATA_MATRIX_FIELD_256,$.MAXICODE_FIELD_64=$.AZTEC_DATA_6;var tt=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);tt.kind="ReedSolomonException";var et=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);et.kind="IllegalStateException";var nt,rt=function(){function t(e){c(this,t),this.field=e}return l(t,[{key:"decode",value:function(t,e){for(var n=this.field,r=new Q(n,t),i=new Int32Array(e),o=!0,a=0;a<e;a++){var s=r.evaluateAt(n.exp(a+n.getGeneratorBase()));i[i.length-1-a]=s,0!==s&&(o=!1)}if(!o)for(var u=new Q(n,i),c=this.runEuclideanAlgorithm(n.buildMonomial(e,1),u,e),l=c[1],h=this.findErrorLocations(c[0]),f=this.findErrorMagnitudes(l,h),d=0;d<h.length;d++){var p=t.length-1-n.log(h[d]);if(p<0)throw new tt("Bad error location");t[p]=$.addOrSubtract(t[p],f[d])}}},{key:"runEuclideanAlgorithm",value:function(t,e,n){if(t.getDegree()<e.getDegree()){var r=t;t=e,e=r}for(var i=this.field,o=t,a=e,s=i.getZero(),u=i.getOne();a.getDegree()>=(n/2|0);){var c=o,l=s;if(s=u,(o=a).isZero())throw new tt("r_{i-1} was zero");a=c;for(var h=i.getZero(),f=o.getCoefficient(o.getDegree()),d=i.inverse(f);a.getDegree()>=o.getDegree()&&!a.isZero();){var p=a.getDegree()-o.getDegree(),g=i.multiply(a.getCoefficient(a.getDegree()),d);h=h.addOrSubtract(i.buildMonomial(p,g)),a=a.addOrSubtract(o.multiplyByMonomial(p,g))}if(u=h.multiply(s).addOrSubtract(l),a.getDegree()>=o.getDegree())throw new et("Division algorithm failed to reduce polynomial?")}var v=u.getCoefficient(0);if(0===v)throw new tt("sigmaTilde(0) was zero");var m=i.inverse(v);return[u.multiplyScalar(m),a.multiplyScalar(m)]}},{key:"findErrorLocations",value:function(t){var e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);for(var n=new Int32Array(e),r=0,i=this.field,o=1;o<i.getSize()&&r<e;o++)0===t.evaluateAt(o)&&(n[r]=i.inverse(o),r++);if(r!==e)throw new tt("Error locator degree does not match number of roots");return n}},{key:"findErrorMagnitudes",value:function(t,e){for(var n=e.length,r=new Int32Array(n),i=this.field,o=0;o<n;o++){for(var a=i.inverse(e[o]),s=1,u=0;u<n;u++)if(o!==u){var c=i.multiply(e[u],a);s=i.multiply(s,0==(1&c)?1|c:-2&c)}r[o]=i.multiply(t.evaluateAt(a),i.inverse(s)),0!==i.getGeneratorBase()&&(r[o]=i.multiply(r[o],a))}return r}}]),t}();!function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"}(nt||(nt={}));var it=function(){function t(){c(this,t)}return l(t,[{key:"decode",value:function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),o=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),s=new Y(o,a,null,null);return s.setNumBits(i.length),s}},{key:"correctBits",value:function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=$.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=$.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=$.AZTEC_DATA_10):(r=12,n=$.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new k;for(var a=e.length%r,s=new Int32Array(o),u=0;u<o;u++,a+=r)s[u]=t.readCode(e,a,r);try{new rt(n).decode(s,o-i)}catch(y){throw new k(y)}for(var c=(1<<r)-1,l=0,h=0;h<i;h++){var f=s[h];if(0===f||f===c)throw new k;1!==f&&f!==c-1||l++}for(var d=new Array(i*r-l),p=0,g=0;g<i;g++){var v=s[g];if(1===v||v===c-1)d.fill(v>1,p,p+r-1),p+=r-1;else for(var m=r-1;m>=0;--m)d[p++]=0!=(v&1<<m)}return d}},{key:"extractBits",value:function(t){var e=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(e?11:14)+4*n,i=new Int32Array(r),o=new Array(this.totalBitsInLayer(n,e));if(e)for(var a=0;a<i.length;a++)i[a]=a;else for(var s=r+1+2*S.truncDivision(S.truncDivision(r,2)-1,15),u=r/2,c=S.truncDivision(s,2),l=0;l<u;l++){var h=l+S.truncDivision(l,15);i[u-l-1]=c-h-1,i[u+l]=c+h+1}for(var f=0,d=0;f<n;f++){for(var p=4*(n-f)+(e?9:12),g=2*f,v=r-1-g,m=0;m<p;m++)for(var y=2*m,b=0;b<2;b++)o[d+y+b]=t.get(i[g+b],i[g+m]),o[d+2*p+y+b]=t.get(i[g+m],i[v-b]),o[d+4*p+y+b]=t.get(i[v-b],i[v-m]),o[d+6*p+y+b]=t.get(i[v-m],i[g+b]);d+=8*p}return o}},{key:"totalBitsInLayer",value:function(t,e){return((e?88:112)+16*t)*t}}],[{key:"highLevelDecode",value:function(t){return this.getEncodedData(t)}},{key:"getEncodedData",value:function(e){for(var n=e.length,r=nt.UPPER,i=nt.UPPER,o="",a=0;a<n;)if(i===nt.BINARY){if(n-a<5)break;var s=t.readCode(e,a,5);if(a+=5,0===s){if(n-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(n-a<8){a=n;break}var c=t.readCode(e,a,8);o+=N.castAsNonUtf8Char(c),a+=8}i=r}else{var l=i===nt.DIGIT?4:5;if(n-a<l)break;var h=t.readCode(e,a,l);a+=l;var f=t.getCharacter(i,h);f.startsWith("CTRL_")?(r=i,i=t.getTable(f.charAt(5)),"L"===f.charAt(6)&&(r=i)):(o+=f,i=r)}return o}},{key:"getTable",value:function(t){switch(t){case"L":return nt.LOWER;case"P":return nt.PUNCT;case"M":return nt.MIXED;case"D":return nt.DIGIT;case"B":return nt.BINARY;case"U":default:return nt.UPPER}}},{key:"getCharacter",value:function(e,n){switch(e){case nt.UPPER:return t.UPPER_TABLE[n];case nt.LOWER:return t.LOWER_TABLE[n];case nt.MIXED:return t.MIXED_TABLE[n];case nt.PUNCT:return t.PUNCT_TABLE[n];case nt.DIGIT:return t.DIGIT_TABLE[n];default:throw new et("Bad table")}}},{key:"readCode",value:function(t,e,n){for(var r=0,i=e;i<e+n;i++)r<<=1,t[i]&&(r|=1);return r}},{key:"readByte",value:function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r}},{key:"convertBoolArrayToByteArray",value:function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n}}]),t}();it.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],it.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],it.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],it.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],it.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];var ot=function(){function t(){c(this,t)}return l(t,null,[{key:"round",value:function(t){return NaN===t?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}},{key:"distance",value:function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)}},{key:"sum",value:function(t){for(var e=0,n=0,r=t.length;n!==r;n++)e+=t[n];return e}}]),t}(),at=function(){function t(){c(this,t)}return l(t,null,[{key:"floatToIntBits",value:function(t){return t}}]),t}();at.MAX_VALUE=Number.MAX_SAFE_INTEGER;var st=function(){function t(e,n){c(this,t),this.x=e,this.y=n}return l(t,[{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}},{key:"equals",value:function(e){return e instanceof t&&this.x===e.x&&this.y===e.y}},{key:"hashCode",value:function(){return 31*at.floatToIntBits(this.x)+at.floatToIntBits(this.y)}},{key:"toString",value:function(){return"("+this.x+","+this.y+")"}}],[{key:"orderBestPatterns",value:function(t){var e,n,r,i=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]);if(o>=i&&o>=a?(n=t[0],e=t[1],r=t[2]):a>=o&&a>=i?(n=t[1],e=t[0],r=t[2]):(n=t[2],e=t[0],r=t[1]),this.crossProductZ(e,n,r)<0){var s=e;e=r,r=s}t[0]=e,t[1]=n,t[2]=r}},{key:"distance",value:function(t,e){return ot.distance(t.x,t.y,e.x,e.y)}},{key:"crossProductZ",value:function(t,e,n){var r=e.x,i=e.y;return(n.x-r)*(t.y-i)-(n.y-i)*(t.x-r)}}]),t}(),ut=function(){function t(e,n){c(this,t),this.bits=e,this.points=n}return l(t,[{key:"getBits",value:function(){return this.bits}},{key:"getPoints",value:function(){return this.points}}]),t}(),ct=function(t){h(n,t);var e=f(n);function n(t,r,i,o,a){var s;return c(this,n),(s=e.call(this,t,r)).compact=i,s.nbDatablocks=o,s.nbLayers=a,s}return l(n,[{key:"getNbLayers",value:function(){return this.nbLayers}},{key:"getNbDatablocks",value:function(){return this.nbDatablocks}},{key:"isCompact",value:function(){return this.compact}}]),n}(ut),lt=function(){function t(e,n,r,i){c(this,t),this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==n&&(n=t.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==i&&(i=e.getHeight()/2|0);var o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new x}return l(t,[{key:"detect",value:function(){for(var t=this.leftInit,e=this.rightInit,n=this.upInit,r=this.downInit,i=!1,o=!0,a=!1,s=!1,u=!1,c=!1,l=!1,h=this.width,f=this.height;o;){o=!1;for(var d=!0;(d||!s)&&e<h;)(d=this.containsBlackPoint(n,r,e,!1))?(e++,o=!0,s=!0):s||e++;if(e>=h){i=!0;break}for(var p=!0;(p||!u)&&r<f;)(p=this.containsBlackPoint(t,e,r,!0))?(r++,o=!0,u=!0):u||r++;if(r>=f){i=!0;break}for(var g=!0;(g||!c)&&t>=0;)(g=this.containsBlackPoint(n,r,t,!1))?(t--,o=!0,c=!0):c||t--;if(t<0){i=!0;break}for(var v=!0;(v||!l)&&n>=0;)(v=this.containsBlackPoint(t,e,n,!0))?(n--,o=!0,l=!0):l||n--;if(n<0){i=!0;break}o&&(a=!0)}if(!i&&a){for(var m=e-t,y=null,b=1;null===y&&b<m;b++)y=this.getBlackPointOnSegment(t,r-b,t+b,r);if(null==y)throw new x;for(var w=null,_=1;null===w&&_<m;_++)w=this.getBlackPointOnSegment(t,n+_,t+_,n);if(null==w)throw new x;for(var C=null,S=1;null===C&&S<m;S++)C=this.getBlackPointOnSegment(e,n+S,e-S,n);if(null==C)throw new x;for(var E=null,O=1;null===E&&O<m;O++)E=this.getBlackPointOnSegment(e,r-O,e-O,r);if(null==E)throw new x;return this.centerEdges(E,y,C,w)}throw new x}},{key:"getBlackPointOnSegment",value:function(t,e,n,r){for(var i=ot.round(ot.distance(t,e,n,r)),o=(n-t)/i,a=(r-e)/i,s=this.image,u=0;u<i;u++){var c=ot.round(t+u*o),l=ot.round(e+u*a);if(s.get(c,l))return new st(c,l)}return null}},{key:"centerEdges",value:function(e,n,r,i){var o=e.getX(),a=e.getY(),s=n.getX(),u=n.getY(),c=r.getX(),l=r.getY(),h=i.getX(),f=i.getY(),d=t.CORR;return o<this.width/2?[new st(h-d,f+d),new st(s+d,u+d),new st(c-d,l-d),new st(o+d,a-d)]:[new st(h+d,f+d),new st(s+d,u-d),new st(c-d,l+d),new st(o-d,a-d)]}},{key:"containsBlackPoint",value:function(t,e,n,r){var i=this.image;if(r){for(var o=t;o<=e;o++)if(i.get(o,n))return!0}else for(var a=t;a<=e;a++)if(i.get(n,a))return!0;return!1}}]),t}();lt.INIT_SIZE=10,lt.CORR=1;var ht=function(){function t(){c(this,t)}return l(t,null,[{key:"checkAndNudgePoints",value:function(t,e){for(var n=t.getWidth(),r=t.getHeight(),i=!0,o=0;o<e.length&&i;o+=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(a<-1||a>n||s<-1||s>r)throw new x;i=!1,-1===a?(e[o]=0,i=!0):a===n&&(e[o]=n-1,i=!0),-1===s?(e[o+1]=0,i=!0):s===r&&(e[o+1]=r-1,i=!0)}i=!0;for(var u=e.length-2;u>=0&&i;u-=2){var c=Math.floor(e[u]),l=Math.floor(e[u+1]);if(c<-1||c>n||l<-1||l>r)throw new x;i=!1,-1===c?(e[u]=0,i=!0):c===n&&(e[u]=n-1,i=!0),-1===l?(e[u+1]=0,i=!0):l===r&&(e[u+1]=r-1,i=!0)}}}]),t}(),ft=function(){function t(e,n,r,i,o,a,s,u,l){c(this,t),this.a11=e,this.a21=n,this.a31=r,this.a12=i,this.a22=o,this.a32=a,this.a13=s,this.a23=u,this.a33=l}return l(t,[{key:"transformPoints",value:function(t){for(var e=t.length,n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,u=this.a31,c=this.a32,l=this.a33,h=0;h<e;h+=2){var f=t[h],d=t[h+1],p=i*f+s*d+l;t[h]=(n*f+o*d+u)/p,t[h+1]=(r*f+a*d+c)/p}}},{key:"transformPointsWithValues",value:function(t,e){for(var n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,u=this.a31,c=this.a32,l=this.a33,h=t.length,f=0;f<h;f++){var d=t[f],p=e[f],g=i*d+s*p+l;t[f]=(n*d+o*p+u)/g,e[f]=(r*d+a*p+c)/g}}},{key:"buildAdjoint",value:function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}},{key:"times",value:function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}],[{key:"quadrilateralToQuadrilateral",value:function(e,n,r,i,o,a,s,u,c,l,h,f,d,p,g,v){var m=t.quadrilateralToSquare(e,n,r,i,o,a,s,u);return t.squareToQuadrilateral(c,l,h,f,d,p,g,v).times(m)}},{key:"squareToQuadrilateral",value:function(e,n,r,i,o,a,s,u){var c=e-r+o-s,l=n-i+a-u;if(0===c&&0===l)return new t(r-e,o-r,e,i-n,a-i,n,0,0,1);var h=r-o,f=s-o,d=i-a,p=u-a,g=h*p-f*d,v=(c*p-f*l)/g,m=(h*l-c*d)/g;return new t(r-e+v*r,s-e+m*s,e,i-n+v*i,u-n+m*u,n,v,m,1)}},{key:"quadrilateralToSquare",value:function(e,n,r,i,o,a,s,u){return t.squareToQuadrilateral(e,n,r,i,o,a,s,u).buildAdjoint()}}]),t}(),dt=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return l(n,[{key:"sampleGrid",value:function(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,g,v,m,y){var b=ft.quadrilateralToQuadrilateral(r,i,o,a,s,u,c,l,h,f,d,p,g,v,m,y);return this.sampleGridWithTransform(t,e,n,b)}},{key:"sampleGridWithTransform",value:function(t,e,n,r){if(e<=0||n<=0)throw new x;for(var i=new D(e,n),o=new Float32Array(2*e),a=0;a<n;a++){for(var s=o.length,u=a+.5,c=0;c<s;c+=2)o[c]=c/2+.5,o[c+1]=u;r.transformPoints(o),ht.checkAndNudgePoints(t,o);try{for(var l=0;l<s;l+=2)t.get(Math.floor(o[l]),Math.floor(o[l+1]))&&i.set(l/2,a)}catch(h){throw new x}}return i}}]),n}(ht),pt=function(){function t(){c(this,t)}return l(t,null,[{key:"setGridSampler",value:function(e){t.gridSampler=e}},{key:"getInstance",value:function(){return t.gridSampler}}]),t}();pt.gridSampler=new dt;var gt=function(){function t(e,n){c(this,t),this.x=e,this.y=n}return l(t,[{key:"toResultPoint",value:function(){return new st(this.getX(),this.getY())}},{key:"getX",value:function(){return this.x}},{key:"getY",value:function(){return this.y}}]),t}(),vt=function(){function t(e){c(this,t),this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}return l(t,[{key:"detect",value:function(){return this.detectMirror(!1)}},{key:"detectMirror",value:function(t){var e=this.getMatrixCenter(),n=this.getBullsEyeCorners(e);if(t){var r=n[0];n[0]=n[2],n[2]=r}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new ct(i,o,this.compact,this.nbDataBlocks,this.nbLayers)}},{key:"extractParameters",value:function(t){if(!(this.isValidPoint(t[0])&&this.isValidPoint(t[1])&&this.isValidPoint(t[2])&&this.isValidPoint(t[3])))throw new x;var e=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(n,e);for(var r=0,i=0;i<4;i++){var o=n[(this.shift+i)%4];this.compact?(r<<=7,r+=o>>1&127):(r<<=10,r+=(o>>2&992)+(o>>1&31))}var a=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))}},{key:"getRotation",value:function(t,e){var n=0;t.forEach(function(t,r,i){n=(t>>e-2<<1)+(1&t)+(n<<3)}),n=((1&n)<<11)+(n>>1);for(var r=0;r<4;r++)if(S.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new x}},{key:"getCorrectedParameterData",value:function(t,e){var n,r;e?(n=7,r=2):(n=10,r=4);for(var i=n-r,o=new Int32Array(n),a=n-1;a>=0;--a)o[a]=15&t,t>>=4;try{new rt($.AZTEC_PARAM).decode(o,i)}catch(c){throw new x}for(var s=0,u=0;u<r;u++)s=(s<<4)+o[u];return s}},{key:"getBullsEyeCorners",value:function(t){var e=t,n=t,r=t,i=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(e,o,1,-1),s=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(r,o,-1,1),c=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var l=this.distancePoint(c,a)*this.nbCenterLayers/(this.distancePoint(i,e)*(this.nbCenterLayers+2));if(l<.75||l>1.25||!this.isWhiteOrBlackRectangle(a,s,u,c))break}e=a,n=s,r=u,i=c,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new x;this.compact=5===this.nbCenterLayers;var h=new st(e.getX()+.5,e.getY()-.5),f=new st(n.getX()+.5,n.getY()+.5),d=new st(r.getX()-.5,r.getY()+.5),p=new st(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,f,d,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}},{key:"getMatrixCenter",value:function(){var t,e,n,r;try{var i=new lt(this.image).detect();t=i[0],e=i[1],n=i[2],r=i[3]}catch(l){var o=this.image.getWidth()/2,a=this.image.getHeight()/2;t=this.getFirstDifferent(new gt(o+7,a-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new gt(o+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new gt(o-7,a+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new gt(o-7,a-7),!1,-1,-1).toResultPoint()}var s=ot.round((t.getX()+r.getX()+e.getX()+n.getX())/4),u=ot.round((t.getY()+r.getY()+e.getY()+n.getY())/4);try{var c=new lt(this.image,15,s,u).detect();t=c[0],e=c[1],n=c[2],r=c[3]}catch(l){t=this.getFirstDifferent(new gt(s+7,u-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new gt(s+7,u+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new gt(s-7,u+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new gt(s-7,u-7),!1,-1,-1).toResultPoint()}return s=ot.round((t.getX()+r.getX()+e.getX()+n.getX())/4),u=ot.round((t.getY()+r.getY()+e.getY()+n.getY())/4),new gt(s,u)}},{key:"getMatrixCornerPoints",value:function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}},{key:"sampleGrid",value:function(t,e,n,r,i){var o=pt.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,u=a/2+this.nbCenterLayers;return o.sampleGrid(t,a,a,s,s,u,s,u,u,s,u,e.getX(),e.getY(),n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY())}},{key:"sampleLine",value:function(t,e,n){for(var r=0,i=this.distanceResultPoint(t,e),o=i/n,a=t.getX(),s=t.getY(),u=o*(e.getX()-t.getX())/i,c=o*(e.getY()-t.getY())/i,l=0;l<n;l++)this.image.get(ot.round(a+l*u),ot.round(s+l*c))&&(r|=1<<n-l-1);return r}},{key:"isWhiteOrBlackRectangle",value:function(t,e,n,r){t=new gt(t.getX()-3,t.getY()+3),e=new gt(e.getX()-3,e.getY()-3),n=new gt(n.getX()+3,n.getY()-3),r=new gt(r.getX()+3,r.getY()+3);var i=this.getColor(r,t);if(0===i)return!1;var o=this.getColor(t,e);return o===i&&(o=this.getColor(e,n))===i&&(o=this.getColor(n,r))===i}},{key:"getColor",value:function(t,e){for(var n=this.distancePoint(t,e),r=(e.getX()-t.getX())/n,i=(e.getY()-t.getY())/n,o=0,a=t.getX(),s=t.getY(),u=this.image.get(t.getX(),t.getY()),c=Math.ceil(n),l=0;l<c;l++)s+=i,this.image.get(ot.round(a+=r),ot.round(s))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1}},{key:"getFirstDifferent",value:function(t,e,n,r){for(var i=t.getX()+n,o=t.getY()+r;this.isValid(i,o)&&this.image.get(i,o)===e;)i+=n,o+=r;for(i-=n,o-=r;this.isValid(i,o)&&this.image.get(i,o)===e;)i+=n;for(i-=n;this.isValid(i,o)&&this.image.get(i,o)===e;)o+=r;return new gt(i,o-=r)}},{key:"expandSquare",value:function(t,e,n){var r=n/(2*e),i=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),a=(t[0].getX()+t[2].getX())/2,s=(t[0].getY()+t[2].getY())/2,u=new st(a+r*i,s+r*o),c=new st(a-r*i,s-r*o);return i=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),a=(t[1].getX()+t[3].getX())/2,s=(t[1].getY()+t[3].getY())/2,[u,new st(a+r*i,s+r*o),c,new st(a-r*i,s-r*o)]}},{key:"isValid",value:function(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()}},{key:"isValidPoint",value:function(t){var e=ot.round(t.getX()),n=ot.round(t.getY());return this.isValid(e,n)}},{key:"distancePoint",value:function(t,e){return ot.distance(t.getX(),t.getY(),e.getX(),e.getY())}},{key:"distanceResultPoint",value:function(t,e){return ot.distance(t.getX(),t.getY(),e.getX(),e.getY())}},{key:"getDimension",value:function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(S.truncDivision(this.nbLayers-4,8)+1)+15}}]),t}(),mt=function(){function t(){c(this,t)}return l(t,[{key:"decode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=null,r=new vt(t.getBlackMatrix()),i=null,o=null;try{var a=r.detectMirror(!1);i=a.getPoints(),this.reportFoundResultPoints(e,i),o=(new it).decode(a)}catch(h){n=h}if(null==o)try{var s=r.detectMirror(!0);i=s.getPoints(),this.reportFoundResultPoints(e,i),o=(new it).decode(s)}catch(h){if(null!=n)throw n;throw h}var u=new G(o.getText(),o.getRawBytes(),o.getNumBits(),i,Z.AZTEC,b.currentTimeMillis()),c=o.getByteSegments();null!=c&&u.putMetadata(q.BYTE_SEGMENTS,c);var l=o.getECLevel();return null!=l&&u.putMetadata(q.ERROR_CORRECTION_LEVEL,l),u}},{key:"reportFoundResultPoints",value:function(t,e){if(null!=t){var n=t.get(I.NEED_RESULT_POINT_CALLBACK);null!=n&&e.forEach(function(t,e,r){n.foundPossibleResultPoint(t)})}}},{key:"reset",value:function(){}}]),t}(),yt=function(t){h(n,t);var e=f(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return c(this,n),e.call(this,new mt,t)}return n}(z),bt=function(){function t(){c(this,t)}return l(t,[{key:"decode",value:function(t,e){try{return this.doDecode(t,e)}catch(c){if(e&&!0===e.get(I.TRY_HARDER)&&t.isRotateSupported()){var n=t.rotateCounterClockwise(),r=this.doDecode(n,e),i=r.getResultMetadata(),o=270;null!==i&&!0===i.get(q.ORIENTATION)&&(o+=i.get(q.ORIENTATION)%360),r.putMetadata(q.ORIENTATION,o);var a=r.getResultPoints();if(null!==a)for(var s=n.getHeight(),u=0;u<a.length;u++)a[u]=new st(s-a[u].getY()-1,a[u].getX());return r}throw new x}}},{key:"reset",value:function(){}},{key:"doDecode",value:function(t,e){var n,r=t.getWidth(),i=t.getHeight(),o=new O(r),a=e&&!0===e.get(I.TRY_HARDER),s=Math.max(1,i>>(a?8:5));n=a?i:15;for(var u=Math.trunc(i/2),c=0;c<n;c++){var l=Math.trunc((c+1)/2),h=u+s*(0==(1&c)?l:-l);if(h<0||h>=i)break;try{o=t.getBlackRow(h,o)}catch(g){continue}for(var f=0;f<2;f++){1===f&&(o.reverse(),e&&!0===e.get(I.NEED_RESULT_POINT_CALLBACK)&&function(){var t=new Map;e.forEach(function(e,n){return t.set(n,e)}),t.delete(I.NEED_RESULT_POINT_CALLBACK),e=t}());try{var d=this.decodeRow(h,o,e);if(1===f){d.putMetadata(q.ORIENTATION,180);var p=d.getResultPoints();null!==p&&(p[0]=new st(r-p[0].getX()-1,p[0].getY()),p[1]=new st(r-p[1].getX()-1,p[1].getY()))}return d}catch(v){}}}throw new x}}],[{key:"recordPattern",value:function(t,e,n){for(var r=n.length,i=0;i<r;i++)n[i]=0;var o=t.getSize();if(e>=o)throw new x;for(var a=!t.get(e),s=0,u=e;u<o;){if(t.get(u)!==a)n[s]++;else{if(++s===r)break;n[s]=1,a=!a}u++}if(s!==r&&(s!==r-1||u!==o))throw new x}},{key:"recordPatternInReverse",value:function(e,n,r){for(var i=r.length,o=e.get(n);n>0&&i>=0;)e.get(--n)!==o&&(i--,o=!o);if(i>=0)throw new x;t.recordPattern(e,n+1,r)}},{key:"patternMatchVariance",value:function(t,e,n){for(var r=t.length,i=0,o=0,a=0;a<r;a++)i+=t[a],o+=e[a];if(i<o)return Number.POSITIVE_INFINITY;var s=i/o;n*=s;for(var u=0,c=0;c<r;c++){var l=t[c],h=e[c]*s,f=l>h?l-h:h-l;if(f>n)return Number.POSITIVE_INFINITY;u+=f}return u/i}}]),t}(),wt=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return l(n,[{key:"decodeRow",value:function(t,e,r){var i,o=r&&!0===r.get(I.ASSUME_GS1),a=n.findStartPattern(e),s=a[2],u=0,c=new Uint8Array(20);switch(c[u++]=s,s){case n.CODE_START_A:i=n.CODE_CODE_A;break;case n.CODE_START_B:i=n.CODE_CODE_B;break;case n.CODE_START_C:i=n.CODE_CODE_C;break;default:throw new k}for(var l=!1,h=!1,f="",d=a[0],p=a[1],g=Int32Array.from([0,0,0,0,0,0]),v=0,y=0,b=s,w=0,_=!0,C=!1,S=!1;!l;){var E=h;switch(h=!1,v=y,y=n.decodeCode(e,g,p),c[u++]=y,y!==n.CODE_STOP&&(_=!0),y!==n.CODE_STOP&&(b+=++w*y),d=p,p+=g.reduce(function(t,e){return t+e},0),y){case n.CODE_START_A:case n.CODE_START_B:case n.CODE_START_C:throw new k}switch(i){case n.CODE_CODE_A:if(y<64)f+=String.fromCharCode(S===C?" ".charCodeAt(0)+y:" ".charCodeAt(0)+y+128),S=!1;else if(y<96)f+=String.fromCharCode(S===C?y-64:y+64),S=!1;else switch(y!==n.CODE_STOP&&(_=!1),y){case n.CODE_FNC_1:o&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case n.CODE_FNC_2:case n.CODE_FNC_3:break;case n.CODE_FNC_4_A:!C&&S?(C=!0,S=!1):C&&S?(C=!1,S=!1):S=!0;break;case n.CODE_SHIFT:h=!0,i=n.CODE_CODE_B;break;case n.CODE_CODE_B:i=n.CODE_CODE_B;break;case n.CODE_CODE_C:i=n.CODE_CODE_C;break;case n.CODE_STOP:l=!0}break;case n.CODE_CODE_B:if(y<96)f+=String.fromCharCode(S===C?" ".charCodeAt(0)+y:" ".charCodeAt(0)+y+128),S=!1;else switch(y!==n.CODE_STOP&&(_=!1),y){case n.CODE_FNC_1:o&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case n.CODE_FNC_2:case n.CODE_FNC_3:break;case n.CODE_FNC_4_B:!C&&S?(C=!0,S=!1):C&&S?(C=!1,S=!1):S=!0;break;case n.CODE_SHIFT:h=!0,i=n.CODE_CODE_A;break;case n.CODE_CODE_A:i=n.CODE_CODE_A;break;case n.CODE_CODE_C:i=n.CODE_CODE_C;break;case n.CODE_STOP:l=!0}break;case n.CODE_CODE_C:if(y<100)y<10&&(f+="0"),f+=y;else switch(y!==n.CODE_STOP&&(_=!1),y){case n.CODE_FNC_1:o&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case n.CODE_CODE_A:i=n.CODE_CODE_A;break;case n.CODE_CODE_B:i=n.CODE_CODE_B;break;case n.CODE_STOP:l=!0}}E&&(i=i===n.CODE_CODE_A?n.CODE_CODE_B:n.CODE_CODE_A)}var O=p-d;if(p=e.getNextUnset(p),!e.isRange(p,Math.min(e.getSize(),p+(p-d)/2),!1))throw new x;if((b-=w*v)%103!==v)throw new m;var A=f.length;if(0===A)throw new x;A>0&&_&&(f=f.substring(0,i===n.CODE_CODE_C?A-2:A-1));for(var R=(a[1]+a[0])/2,T=d+O/2,M=c.length,N=new Uint8Array(M),P=0;P<M;P++)N[P]=c[P];var D=[new st(R,t),new st(T,t)];return new G(f,N,0,D,Z.CODE_128,(new Date).getTime())}}],[{key:"findStartPattern",value:function(t){for(var e=t.getSize(),r=t.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),a=r,s=!1,u=r;u<e;u++)if(t.get(u)!==s)o[i]++;else{if(5===i){for(var c=n.MAX_AVG_VARIANCE,l=-1,h=n.CODE_START_A;h<=n.CODE_START_C;h++){var f=bt.patternMatchVariance(o,n.CODE_PATTERNS[h],n.MAX_INDIVIDUAL_VARIANCE);f<c&&(c=f,l=h)}if(l>=0&&t.isRange(Math.max(0,a-(u-a)/2),a,!1))return Int32Array.from([a,u,l]);a+=o[0]+o[1],(o=o.slice(2,o.length-1))[i-1]=0,o[i]=0,i--}else i++;o[i]=1,s=!s}throw new x}},{key:"decodeCode",value:function(t,e,r){bt.recordPattern(t,r,e);for(var i=n.MAX_AVG_VARIANCE,o=-1,a=0;a<n.CODE_PATTERNS.length;a++){var s=this.patternMatchVariance(e,n.CODE_PATTERNS[a],n.MAX_INDIVIDUAL_VARIANCE);s<i&&(i=s,o=a)}if(o>=0)return o;throw new x}}]),n}(bt);wt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],wt.MAX_AVG_VARIANCE=.25,wt.MAX_INDIVIDUAL_VARIANCE=.7,wt.CODE_SHIFT=98,wt.CODE_CODE_C=99,wt.CODE_CODE_B=100,wt.CODE_CODE_A=101,wt.CODE_FNC_1=102,wt.CODE_FNC_2=97,wt.CODE_FNC_3=96,wt.CODE_FNC_4_A=101,wt.CODE_FNC_4_B=100,wt.CODE_START_A=103,wt.CODE_START_B=104,wt.CODE_START_C=105,wt.CODE_STOP=106;var _t=function(t){h(n,t);var e=f(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return c(this,n),(t=e.call(this)).usingCheckDigit=r,t.extendedMode=i,t.decodeRowResult="",t.counters=new Int32Array(9),t}return l(n,[{key:"decodeRow",value:function(t,e,r){var i=this.counters;i.fill(0),this.decodeRowResult="";var o,a,s=n.findAsteriskPattern(e,i),c=e.getNextSet(s[1]),l=e.getSize();do{n.recordPattern(e,c,i);var h=n.toNarrowWidePattern(i);if(h<0)throw new x;o=n.patternToChar(h),this.decodeRowResult+=o,a=c;var f,d=u(i);try{for(d.s();!(f=d.n()).done;)c+=f.value}catch(S){d.e(S)}finally{d.f()}c=e.getNextSet(c)}while("*"!==o);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var p,g,v=0,y=u(i);try{for(y.s();!(p=y.n()).done;)v+=p.value}catch(S){y.e(S)}finally{y.f()}if(c!==l&&2*(c-a-v)<v)throw new x;if(this.usingCheckDigit){for(var b=this.decodeRowResult.length-1,w=0,_=0;_<b;_++)w+=n.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(_));if(this.decodeRowResult.charAt(b)!==n.ALPHABET_STRING.charAt(w%43))throw new m;this.decodeRowResult=this.decodeRowResult.substring(0,b)}if(0===this.decodeRowResult.length)throw new x;g=this.extendedMode?n.decodeExtended(this.decodeRowResult):this.decodeRowResult;var C=a+v/2;return new G(g,null,0,[new st((s[1]+s[0])/2,t),new st(C,t)],Z.CODE_39,(new Date).getTime())}}],[{key:"findAsteriskPattern",value:function(t,e){for(var r=t.getSize(),i=t.getNextSet(0),o=0,a=i,s=!1,u=e.length,c=i;c<r;c++)if(t.get(c)!==s)e[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(e)===n.ASTERISK_ENCODING&&t.isRange(Math.max(0,a-Math.floor((c-a)/2)),a,!1))return[a,c];a+=e[0]+e[1],e.copyWithin(0,2,2+o-1),e[o-1]=0,e[o]=0,o--}else o++;e[o]=1,s=!s}throw new x}},{key:"toNarrowWidePattern",value:function(t){var e,n=t.length,r=0;do{var i,o=2147483647,a=u(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;s<o&&s>r&&(o=s)}}catch(g){a.e(g)}finally{a.f()}r=o,e=0;for(var c=0,l=0,h=0;h<n;h++){var f=t[h];f>r&&(l|=1<<n-1-h,e++,c+=f)}if(3===e){for(var d=0;d<n&&e>0;d++){var p=t[d];if(p>r&&(e--,2*p>=c))return-1}return l}}while(e>3);return-1}},{key:"patternToChar",value:function(t){for(var e=0;e<n.CHARACTER_ENCODINGS.length;e++)if(n.CHARACTER_ENCODINGS[e]===t)return n.ALPHABET_STRING.charAt(e);if(t===n.ASTERISK_ENCODING)return"*";throw new x}},{key:"decodeExtended",value:function(t){for(var e=t.length,n="",r=0;r<e;r++){var i=t.charAt(r);if("+"===i||"$"===i||"%"===i||"/"===i){var o=t.charAt(r+1),a="\0";switch(i){case"+":if(!(o>="A"&&o<="Z"))throw new k;a=String.fromCharCode(o.charCodeAt(0)+32);break;case"$":if(!(o>="A"&&o<="Z"))throw new k;a=String.fromCharCode(o.charCodeAt(0)-64);break;case"%":if(o>="A"&&o<="E")a=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")a=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")a=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)a="\0";else if("V"===o)a="@";else if("W"===o)a="`";else{if("X"!==o&&"Y"!==o&&"Z"!==o)throw new k;a="\x7f"}break;case"/":if(o>="A"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)-32);else{if("Z"!==o)throw new k;a=":"}}n+=a,r++}else n+=i}return n}}]),n}(bt);_t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",_t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],_t.ASTERISK_ENCODING=148;var Ct=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).narrowLineWidth=-1,t}return l(n,[{key:"decodeRow",value:function(t,e,r){var i=this.decodeStart(e),o=this.decodeEnd(e),a=new P;n.decodeMiddle(e,i[1],o[0],a);var s=a.toString(),c=null;null!=r&&(c=r.get(I.ALLOWED_LENGTHS)),null==c&&(c=n.DEFAULT_ALLOWED_LENGTHS);var l,h=s.length,f=!1,d=0,p=u(c);try{for(p.s();!(l=p.n()).done;){var g=l.value;if(h===g){f=!0;break}g>d&&(d=g)}}catch(m){p.e(m)}finally{p.f()}if(!f&&h>d&&(f=!0),!f)throw new k;var v=[new st(i[1],t),new st(o[0],t)];return new G(s,null,0,v,Z.ITF,(new Date).getTime())}},{key:"decodeStart",value:function(t){var e=n.skipWhiteSpace(t),r=n.findGuardPattern(t,e,n.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}},{key:"validateQuietZone",value:function(t,e){var n=10*this.narrowLineWidth;n=n<e?n:e;for(var r=e-1;n>0&&r>=0&&!t.get(r);r--)n--;if(0!==n)throw new x}},{key:"decodeEnd",value:function(t){t.reverse();try{var e,r=n.skipWhiteSpace(t);try{e=n.findGuardPattern(t,r,n.END_PATTERN_REVERSED[0])}catch(o){o instanceof x&&(e=n.findGuardPattern(t,r,n.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,e[0]);var i=e[0];return e[0]=t.getSize()-e[1],e[1]=t.getSize()-i,e}finally{t.reverse()}}}],[{key:"decodeMiddle",value:function(t,e,r,i){var o=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(o.fill(0),a.fill(0),s.fill(0);e<r;){bt.recordPattern(t,e,o);for(var u=0;u<5;u++){var c=2*u;a[u]=o[c],s[u]=o[c+1]}var l=n.decodeDigit(a);i.append(l.toString()),l=this.decodeDigit(s),i.append(l.toString()),o.forEach(function(t){e+=t})}}},{key:"skipWhiteSpace",value:function(t){var e=t.getSize(),n=t.getNextSet(0);if(n===e)throw new x;return n}},{key:"findGuardPattern",value:function(t,e,r){var i=r.length,o=new Int32Array(i),a=t.getSize(),s=!1,u=0,c=e;o.fill(0);for(var l=e;l<a;l++)if(t.get(l)!==s)o[u]++;else{if(u===i-1){if(bt.patternMatchVariance(o,r,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return[c,l];c+=o[0]+o[1],b.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,s=!s}throw new x}},{key:"decodeDigit",value:function(t){for(var e=n.MAX_AVG_VARIANCE,r=-1,i=n.PATTERNS.length,o=0;o<i;o++){var a=bt.patternMatchVariance(t,n.PATTERNS[o],n.MAX_INDIVIDUAL_VARIANCE);a<e?(e=a,r=o):a===e&&(r=-1)}if(r>=0)return r%10;throw new x}}]),n}(bt);Ct.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ct.MAX_AVG_VARIANCE=.38,Ct.MAX_INDIVIDUAL_VARIANCE=.5,Ct.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ct.START_PATTERN=Int32Array.from([1,1,1,1]),Ct.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];var St=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).decodeRowStringBuffer="",t}return l(n,null,[{key:"findStartGuardPattern",value:function(t){for(var e,r=!1,i=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]);var a=(e=n.findGuardPattern(t,i,!1,this.START_END_PATTERN,o))[0],s=a-((i=e[1])-a);s>=0&&(r=t.isRange(s,a,!1))}return e}},{key:"checkChecksum",value:function(t){return n.checkStandardUPCEANChecksum(t)}},{key:"checkStandardUPCEANChecksum",value:function(t){var e=t.length;if(0===e)return!1;var r=parseInt(t.charAt(e-1),10);return n.getStandardUPCEANChecksum(t.substring(0,e-1))===r}},{key:"getStandardUPCEANChecksum",value:function(t){for(var e=t.length,n=0,r=e-1;r>=0;r-=2){var i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new k;n+=i}n*=3;for(var o=e-2;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new k;n+=a}return(1e3-n)%10}},{key:"decodeEnd",value:function(t,e){return n.findGuardPattern(t,e,!1,n.START_END_PATTERN,new Int32Array(n.START_END_PATTERN.length).fill(0))}},{key:"findGuardPatternWithoutCounters",value:function(t,e,n,r){return this.findGuardPattern(t,e,n,r,new Int32Array(r.length))}},{key:"findGuardPattern",value:function(t,e,r,i,o){for(var a=t.getSize(),s=0,u=e=r?t.getNextUnset(e):t.getNextSet(e),c=i.length,l=r,h=e;h<a;h++)if(t.get(h)!==l)o[s]++;else{if(s===c-1){if(bt.patternMatchVariance(o,i,n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var f=o.slice(2,o.length-1),d=0;d<s-1;d++)o[d]=f[d];o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,l=!l}throw new x}},{key:"decodeDigit",value:function(t,e,r,i){this.recordPattern(t,r,e);for(var o=this.MAX_AVG_VARIANCE,a=-1,s=i.length,u=0;u<s;u++){var c=bt.patternMatchVariance(e,i[u],n.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,a=u)}if(a>=0)return a;throw new x}}]),n}(bt);St.MAX_AVG_VARIANCE=.48,St.MAX_INDIVIDUAL_VARIANCE=.7,St.START_END_PATTERN=Int32Array.from([1,1,1]),St.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),St.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),St.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];var Et=function(){function t(){c(this,t),this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return l(t,[{key:"decodeRow",value:function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),s=t.parseExtensionString(a),u=[new st((r[0]+r[1])/2,e),new st(o,e)],c=new G(a,null,0,u,Z.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c}},{key:"decodeMiddle",value:function(e,n,r){var i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=e.getSize(),a=n[1],s=0,c=0;c<5&&a<o;c++){var l=St.decodeDigit(e,i,a,St.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+l%10);var h,f=u(i);try{for(f.s();!(h=f.n()).done;)a+=h.value}catch(p){f.e(p)}finally{f.f()}l>=10&&(s|=1<<4-c),4!==c&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(5!==r.length)throw new x;var d=this.determineCheckDigit(s);if(t.extensionChecksum(r.toString())!==d)throw new x;return a}},{key:"determineCheckDigit",value:function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new x}}],[{key:"extensionChecksum",value:function(t){for(var e=t.length,n=0,r=e-2;r>=0;r-=2)n+=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(var i=e-1;i>=0;i-=2)n+=t.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return(n*=3)%10}},{key:"parseExtensionString",value:function(e){if(5!==e.length)return null;var n=t.parseExtension5String(e);return null==n?null:new Map([[q.SUGGESTED_PRICE,n]])}},{key:"parseExtension5String",value:function(t){var e;switch(t.charAt(0)){case"0":e="\xa3";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}var n=parseInt(t.substring(1)),r=n%100;return e+(n/100).toString()+"."+(r<10?"0"+r:r.toString())}}]),t}(),Ot=function(){function t(){c(this,t),this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return l(t,[{key:"decodeRow",value:function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),s=t.parseExtensionString(a),u=[new st((r[0]+r[1])/2,e),new st(o,e)],c=new G(a,null,0,u,Z.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c}},{key:"decodeMiddle",value:function(t,e,n){var r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;for(var i=t.getSize(),o=e[1],a=0,s=0;s<2&&o<i;s++){var c=St.decodeDigit(t,r,o,St.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+c%10);var l,h=u(r);try{for(h.s();!(l=h.n()).done;)o+=l.value}catch(f){h.e(f)}finally{h.f()}c>=10&&(a|=1<<1-s),1!==s&&(o=t.getNextSet(o),o=t.getNextUnset(o))}if(2!==n.length)throw new x;if(parseInt(n.toString())%4!==a)throw new x;return o}}],[{key:"parseExtensionString",value:function(t){return 2!==t.length?null:new Map([[q.ISSUE_NUMBER,parseInt(t)]])}}]),t}(),At=function(){function t(){c(this,t)}return l(t,null,[{key:"decodeRow",value:function(t,e,n){var r=St.findGuardPattern(e,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Et).decodeRow(t,e,r)}catch(i){return(new Ot).decodeRow(t,e,r)}}}]),t}();At.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);var It=function(t){h(n,t);var e=f(n);function n(){var t;c(this,n),(t=e.call(this)).decodeRowStringBuffer="",n.L_AND_G_PATTERNS=n.L_PATTERNS.map(function(t){return Int32Array.from(t)});for(var r=10;r<20;r++){for(var i=n.L_PATTERNS[r-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];n.L_AND_G_PATTERNS[r]=o}return t}return l(n,[{key:"decodeRow",value:function(t,e,r){var i=n.findStartGuardPattern(e),o=null==r?null:r.get(I.NEED_RESULT_POINT_CALLBACK);if(null!=o){var a=new st((i[0]+i[1])/2,t);o.foundPossibleResultPoint(a)}var s=this.decodeMiddle(e,i,this.decodeRowStringBuffer),u=s.rowOffset,c=s.resultString;if(null!=o){var l=new st(u,t);o.foundPossibleResultPoint(l)}var h=n.decodeEnd(e,u);if(null!=o){var f=new st((h[0]+h[1])/2,t);o.foundPossibleResultPoint(f)}var d=h[1],p=d+(d-h[0]);if(p>=e.getSize()||!e.isRange(d,p,!1))throw new x;var g=c.toString();if(g.length<8)throw new k;if(!n.checkChecksum(g))throw new m;var v=(i[1]+i[0])/2,y=(h[1]+h[0])/2,b=this.getBarcodeFormat(),w=[new st(v,t),new st(y,t)],_=new G(g,null,0,w,b,(new Date).getTime()),C=0;try{var S=At.decodeRow(t,e,h[1]);_.putMetadata(q.UPC_EAN_EXTENSION,S.getText()),_.putAllMetadata(S.getResultMetadata()),_.addResultPoints(S.getResultPoints()),C=S.getText().length}catch(R){}var E=null==r?null:r.get(I.ALLOWED_EAN_EXTENSIONS);if(null!=E){var O=!1;for(var A in E)if(C.toString()===A){O=!0;break}if(!O)throw new x}return _}}],[{key:"checkChecksum",value:function(t){return n.checkStandardUPCEANChecksum(t)}},{key:"checkStandardUPCEANChecksum",value:function(t){var e=t.length;if(0===e)return!1;var r=parseInt(t.charAt(e-1),10);return n.getStandardUPCEANChecksum(t.substring(0,e-1))===r}},{key:"getStandardUPCEANChecksum",value:function(t){for(var e=t.length,n=0,r=e-1;r>=0;r-=2){var i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);if(i<0||i>9)throw new k;n+=i}n*=3;for(var o=e-2;o>=0;o-=2){var a=t.charAt(o).charCodeAt(0)-"0".charCodeAt(0);if(a<0||a>9)throw new k;n+=a}return(1e3-n)%10}},{key:"decodeEnd",value:function(t,e){return n.findGuardPattern(t,e,!1,n.START_END_PATTERN,new Int32Array(n.START_END_PATTERN.length).fill(0))}}]),n}(St),kt=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.call(this)).decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return l(n,[{key:"decodeMiddle",value:function(t,e,r){var i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=t.getSize(),a=e[1],s=0,c=0;c<6&&a<o;c++){var l=It.decodeDigit(t,i,a,It.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+l%10);var h,f=u(i);try{for(f.s();!(h=f.n()).done;)a+=h.value}catch(m){f.e(m)}finally{f.f()}l>=10&&(s|=1<<5-c)}r=n.determineFirstDigit(r,s),a=It.findGuardPattern(t,a,!0,It.MIDDLE_PATTERN,new Int32Array(It.MIDDLE_PATTERN.length).fill(0))[1];for(var d=0;d<6&&a<o;d++){var p=It.decodeDigit(t,i,a,It.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+p);var g,v=u(i);try{for(v.s();!(g=v.n()).done;)a+=g.value}catch(m){v.e(m)}finally{v.f()}}return{rowOffset:a,resultString:r}}},{key:"getBarcodeFormat",value:function(){return Z.EAN_13}}],[{key:"determineFirstDigit",value:function(t,e){for(var n=0;n<10;n++)if(e===this.FIRST_DIGIT_ENCODINGS[n])return String.fromCharCode("0".charCodeAt(0)+n)+t;throw new x}}]),n}(It);kt.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];var Rt=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.call(this)).decodeMiddleCounters=Int32Array.from([0,0,0,0]),t}return l(n,[{key:"decodeMiddle",value:function(t,e,n){var r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;for(var i=t.getSize(),o=e[1],a=0;a<4&&o<i;a++){var s=It.decodeDigit(t,r,o,It.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+s);var c,l=u(r);try{for(l.s();!(c=l.n()).done;)o+=c.value}catch(g){l.e(g)}finally{l.f()}}o=It.findGuardPattern(t,o,!0,It.MIDDLE_PATTERN,new Int32Array(It.MIDDLE_PATTERN.length).fill(0))[1];for(var h=0;h<4&&o<i;h++){var f=It.decodeDigit(t,r,o,It.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+f);var d,p=u(r);try{for(p.s();!(d=p.n()).done;)o+=d.value}catch(g){p.e(g)}finally{p.f()}}return{rowOffset:o,resultString:n}}},{key:"getBarcodeFormat",value:function(){return Z.EAN_8}}]),n}(It),Tt=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).ean13Reader=new kt,t}return l(n,[{key:"getBarcodeFormat",value:function(){return Z.UPC_A}},{key:"decode",value:function(t,e){return this.maybeReturnResult(this.ean13Reader.decode(t))}},{key:"decodeRow",value:function(t,e,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,e,n))}},{key:"decodeMiddle",value:function(t,e,n){return this.ean13Reader.decodeMiddle(t,e,n)}},{key:"maybeReturnResult",value:function(t){var e=t.getText();if("0"===e.charAt(0)){var n=new G(e.substring(1),null,null,t.getResultPoints(),Z.UPC_A);return null!=t.getResultMetadata()&&n.putAllMetadata(t.getResultMetadata()),n}throw new x}},{key:"reset",value:function(){this.ean13Reader.reset()}}]),n}(It),Mt=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.call(this)).decodeMiddleCounters=new Int32Array(4),t}return l(n,[{key:"decodeMiddle",value:function(t,e,r){var i=this.decodeMiddleCounters.map(function(t){return t});i[0]=0,i[1]=0,i[2]=0,i[3]=0;for(var o=t.getSize(),a=e[1],s=0,c=0;c<6&&a<o;c++){var l=n.decodeDigit(t,i,a,n.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+l%10);var h,f=u(i);try{for(f.s();!(h=f.n()).done;)a+=h.value}catch(d){f.e(d)}finally{f.f()}l>=10&&(s|=1<<5-c)}return n.determineNumSysAndCheckDigit(new P(r),s),a}},{key:"decodeEnd",value:function(t,e){return n.findGuardPatternWithoutCounters(t,e,!0,n.MIDDLE_END_PATTERN)}},{key:"checkChecksum",value:function(t){return It.checkChecksum(n.convertUPCEtoUPCA(t))}},{key:"getBarcodeFormat",value:function(){return Z.UPC_E}}],[{key:"determineNumSysAndCheckDigit",value:function(t,e){for(var n=0;n<=1;n++)for(var r=0;r<10;r++)if(e===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return t.insert(0,"0"+n),void t.append("0"+r);throw x.getNotFoundInstance()}},{key:"convertUPCEtoUPCA",value:function(t){var e=t.slice(1,7).split("").map(function(t){return t.charCodeAt(0)}),n=new P;n.append(t.charAt(0));var r=e[5];switch(r){case 0:case 1:case 2:n.appendChars(e,0,2),n.append(r),n.append("0000"),n.appendChars(e,2,3);break;case 3:n.appendChars(e,0,3),n.append("00000"),n.appendChars(e,3,2);break;case 4:n.appendChars(e,0,4),n.append("00000"),n.append(e[4]);break;default:n.appendChars(e,0,5),n.append("0000"),n.append(r)}return t.length>=8&&n.append(t.charAt(7)),n.toString()}}]),n}(It);Mt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Mt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];var Nt=function(t){h(n,t);var e=f(n);function n(t){var r;c(this,n),r=e.call(this);var i=null==t?null:t.get(I.POSSIBLE_FORMATS),o=[];return null!=i&&(i.indexOf(Z.EAN_13)>-1?o.push(new kt):i.indexOf(Z.UPC_A)>-1&&o.push(new Tt),i.indexOf(Z.EAN_8)>-1&&o.push(new Rt),i.indexOf(Z.UPC_E)>-1&&o.push(new Mt)),0===o.length&&(o.push(new kt),o.push(new Rt),o.push(new Mt)),r.readers=o,r}return l(n,[{key:"decodeRow",value:function(t,e,n){var r,i=u(this.readers);try{for(i.s();!(r=i.n()).done;){var o=r.value;try{var a=o.decodeRow(t,e,n),s=a.getBarcodeFormat()===Z.EAN_13&&"0"===a.getText().charAt(0),c=null==n?null:n.get(I.POSSIBLE_FORMATS),l=null==c||c.includes(Z.UPC_A);if(s&&l){var h=a.getRawBytes(),f=new G(a.getText().substring(1),h,h.length,a.getResultPoints(),Z.UPC_A);return f.putAllMetadata(a.getResultMetadata()),f}return a}catch(d){}}}catch(d){i.e(d)}finally{i.f()}throw new x}},{key:"reset",value:function(){var t,e=u(this.readers);try{for(e.s();!(t=e.n()).done;)t.value.reset()}catch(n){e.e(n)}finally{e.f()}}}]),n}(bt),Pt=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.call(this)).decodeFinderCounters=new Int32Array(4),t.dataCharacterCounters=new Int32Array(8),t.oddRoundingErrors=new Array(4),t.evenRoundingErrors=new Array(4),t.oddCounts=new Array(t.dataCharacterCounters.length/2),t.evenCounts=new Array(t.dataCharacterCounters.length/2),t}return l(n,[{key:"getDecodeFinderCounters",value:function(){return this.decodeFinderCounters}},{key:"getDataCharacterCounters",value:function(){return this.dataCharacterCounters}},{key:"getOddRoundingErrors",value:function(){return this.oddRoundingErrors}},{key:"getEvenRoundingErrors",value:function(){return this.evenRoundingErrors}},{key:"getOddCounts",value:function(){return this.oddCounts}},{key:"getEvenCounts",value:function(){return this.evenCounts}},{key:"parseFinderValue",value:function(t,e){for(var r=0;r<e.length;r++)if(bt.patternMatchVariance(t,e[r],n.MAX_INDIVIDUAL_VARIANCE)<n.MAX_AVG_VARIANCE)return r;throw new x}}],[{key:"count",value:function(t){return ot.sum(new Int32Array(t))}},{key:"increment",value:function(t,e){for(var n=0,r=e[0],i=1;i<t.length;i++)e[i]>r&&(r=e[i],n=i);t[n]++}},{key:"decrement",value:function(t,e){for(var n=0,r=e[0],i=1;i<t.length;i++)e[i]<r&&(r=e[i],n=i);t[n]--}},{key:"isFinderPattern",value:function(t){var e=t[0]+t[1],r=e/(e+t[2]+t[3]);if(r>=n.MIN_FINDER_PATTERN_RATIO&&r<=n.MAX_FINDER_PATTERN_RATIO){var i,o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,s=u(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;c>a&&(a=c),c<o&&(o=c)}}catch(l){s.e(l)}finally{s.f()}return a<10*o}return!1}}]),n}(bt);Pt.MAX_AVG_VARIANCE=.2,Pt.MAX_INDIVIDUAL_VARIANCE=.45,Pt.MIN_FINDER_PATTERN_RATIO=9.5/12,Pt.MAX_FINDER_PATTERN_RATIO=12.5/14;var Dt=function(){function t(e,n){c(this,t),this.value=e,this.checksumPortion=n}return l(t,[{key:"getValue",value:function(){return this.value}},{key:"getChecksumPortion",value:function(){return this.checksumPortion}},{key:"toString",value:function(){return this.value+"("+this.checksumPortion+")"}},{key:"equals",value:function(e){return e instanceof t&&this.value===e.value&&this.checksumPortion===e.checksumPortion}},{key:"hashCode",value:function(){return this.value^this.checksumPortion}}]),t}(),xt=function(){function t(e,n,r,i,o){c(this,t),this.value=e,this.startEnd=n,this.value=e,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new st(r,o)),this.resultPoints.push(new st(i,o))}return l(t,[{key:"getValue",value:function(){return this.value}},{key:"getStartEnd",value:function(){return this.startEnd}},{key:"getResultPoints",value:function(){return this.resultPoints}},{key:"equals",value:function(e){return e instanceof t&&this.value===e.value}},{key:"hashCode",value:function(){return this.value}}]),t}(),Lt=function(){function t(){c(this,t)}return l(t,null,[{key:"getRSSvalue",value:function(e,n,r){var i,o=0,a=u(e);try{for(a.s();!(i=a.n()).done;)o+=i.value}catch(v){a.e(v)}finally{a.f()}for(var s=0,c=0,l=e.length,h=0;h<l-1;h++){var f=void 0;for(f=1,c|=1<<h;f<e[h];f++,c&=~(1<<h)){var d=t.combins(o-f-1,l-h-2);if(r&&0===c&&o-f-(l-h-1)>=l-h-1&&(d-=t.combins(o-f-(l-h),l-h-2)),l-h-1>1){for(var p=0,g=o-f-(l-h-2);g>n;g--)p+=t.combins(o-f-g-1,l-h-3);d-=p*(l-1-h)}else o-f>n&&d--;s+=d}o-=f}return s}},{key:"combins",value:function(t,e){var n,r;t-e>e?(r=e,n=t-e):(r=t-e,n=e);for(var i=1,o=1,a=t;a>n;a--)i*=a,o<=r&&(i/=o,o++);for(;o<=r;)i/=o,o++;return i}}]),t}(),Bt=function(){function t(){c(this,t)}return l(t,null,[{key:"buildBitArray",value:function(t){var e=2*t.length-1;null==t[t.length-1].getRightChar()&&(e-=1);for(var n=new O(12*e),r=0,i=t[0].getRightChar().getValue(),o=11;o>=0;--o)0!=(i&1<<o)&&n.set(r),r++;for(var a=1;a<t.length;++a){for(var s=t[a],u=s.getLeftChar().getValue(),c=11;c>=0;--c)0!=(u&1<<c)&&n.set(r),r++;if(null!=s.getRightChar())for(var l=s.getRightChar().getValue(),h=11;h>=0;--h)0!=(l&1<<h)&&n.set(r),r++}return n}}]),t}(),Ft=function(){function t(e,n){c(this,t),n?this.decodedInformation=null:(this.finished=e,this.decodedInformation=n)}return l(t,[{key:"getDecodedInformation",value:function(){return this.decodedInformation}},{key:"isFinished",value:function(){return this.finished}}]),t}(),jt=function(){function t(e){c(this,t),this.newPosition=e}return l(t,[{key:"getNewPosition",value:function(){return this.newPosition}}]),t}(),Ut=function(t){h(n,t);var e=f(n);function n(t,r){var i;return c(this,n),(i=e.call(this,t)).value=r,i}return l(n,[{key:"getValue",value:function(){return this.value}},{key:"isFNC1",value:function(){return this.value===n.FNC1}}]),n}(jt);Ut.FNC1="$";var Vt=function(t){h(n,t);var e=f(n);function n(t,r,i){var o;return c(this,n),o=e.call(this,t),i?(o.remaining=!0,o.remainingValue=o.remainingValue):(o.remaining=!1,o.remainingValue=0),o.newString=r,o}return l(n,[{key:"getNewString",value:function(){return this.newString}},{key:"isRemaining",value:function(){return this.remaining}},{key:"getRemainingValue",value:function(){return this.remainingValue}}]),n}(jt),Ht=function(t){h(n,t);var e=f(n);function n(t,r,i){var o;if(c(this,n),o=e.call(this,t),r<0||r>10||i<0||i>10)throw new k;return o.firstDigit=r,o.secondDigit=i,o}return l(n,[{key:"getFirstDigit",value:function(){return this.firstDigit}},{key:"getSecondDigit",value:function(){return this.secondDigit}},{key:"getValue",value:function(){return 10*this.firstDigit+this.secondDigit}},{key:"isFirstDigitFNC1",value:function(){return this.firstDigit===n.FNC1}},{key:"isSecondDigitFNC1",value:function(){return this.secondDigit===n.FNC1}},{key:"isAnyFNC1",value:function(){return this.firstDigit===n.FNC1||this.secondDigit===n.FNC1}}]),n}(jt);Ht.FNC1=10;var Wt=function(){function t(){c(this,t)}return l(t,null,[{key:"parseFieldsInGeneralPurpose",value:function(e){if(!e)return null;if(e.length<2)throw new x;var n,r=e.substring(0,2),i=u(t.TWO_DIGIT_DATA_LENGTH);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o[0]===r)return o[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,o[2],e):t.processFixedAI(2,o[1],e)}}catch(y){i.e(y)}finally{i.f()}if(e.length<3)throw new x;var a,s=e.substring(0,3),c=u(t.THREE_DIGIT_DATA_LENGTH);try{for(c.s();!(a=c.n()).done;){var l=a.value;if(l[0]===s)return l[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,l[2],e):t.processFixedAI(3,l[1],e)}}catch(y){c.e(y)}finally{c.f()}var h,f=u(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH);try{for(f.s();!(h=f.n()).done;){var d=h.value;if(d[0]===s)return d[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,d[2],e):t.processFixedAI(4,d[1],e)}}catch(y){f.e(y)}finally{f.f()}if(e.length<4)throw new x;var p,g=e.substring(0,4),v=u(t.FOUR_DIGIT_DATA_LENGTH);try{for(v.s();!(p=v.n()).done;){var m=p.value;if(m[0]===g)return m[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,m[2],e):t.processFixedAI(4,m[1],e)}}catch(y){v.e(y)}finally{v.f()}throw new x}},{key:"processFixedAI",value:function(e,n,r){if(r.length<e)throw new x;var i=r.substring(0,e);if(r.length<e+n)throw new x;var o=r.substring(e,e+n),a=r.substring(e+n),s="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(a);return null==u?s:s+u}},{key:"processVariableAI",value:function(e,n,r){var i,o=r.substring(0,e),a=r.substring(e,i=r.length<e+n?r.length:e+n),s=r.substring(i),u="("+o+")"+a,c=t.parseFieldsInGeneralPurpose(s);return null==c?u:u+c}}]),t}();Wt.VARIABLE_LENGTH=[],Wt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Wt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Wt.VARIABLE_LENGTH,20],["22",Wt.VARIABLE_LENGTH,29],["30",Wt.VARIABLE_LENGTH,8],["37",Wt.VARIABLE_LENGTH,8],["90",Wt.VARIABLE_LENGTH,30],["91",Wt.VARIABLE_LENGTH,30],["92",Wt.VARIABLE_LENGTH,30],["93",Wt.VARIABLE_LENGTH,30],["94",Wt.VARIABLE_LENGTH,30],["95",Wt.VARIABLE_LENGTH,30],["96",Wt.VARIABLE_LENGTH,30],["97",Wt.VARIABLE_LENGTH,3],["98",Wt.VARIABLE_LENGTH,30],["99",Wt.VARIABLE_LENGTH,30]],Wt.THREE_DIGIT_DATA_LENGTH=[["240",Wt.VARIABLE_LENGTH,30],["241",Wt.VARIABLE_LENGTH,30],["242",Wt.VARIABLE_LENGTH,6],["250",Wt.VARIABLE_LENGTH,30],["251",Wt.VARIABLE_LENGTH,30],["253",Wt.VARIABLE_LENGTH,17],["254",Wt.VARIABLE_LENGTH,20],["400",Wt.VARIABLE_LENGTH,30],["401",Wt.VARIABLE_LENGTH,30],["402",17],["403",Wt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Wt.VARIABLE_LENGTH,20],["421",Wt.VARIABLE_LENGTH,15],["422",3],["423",Wt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Wt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Wt.VARIABLE_LENGTH,15],["391",Wt.VARIABLE_LENGTH,18],["392",Wt.VARIABLE_LENGTH,15],["393",Wt.VARIABLE_LENGTH,18],["703",Wt.VARIABLE_LENGTH,30]],Wt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Wt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Wt.VARIABLE_LENGTH,20],["8003",Wt.VARIABLE_LENGTH,30],["8004",Wt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Wt.VARIABLE_LENGTH,30],["8008",Wt.VARIABLE_LENGTH,12],["8018",18],["8020",Wt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Wt.VARIABLE_LENGTH,70],["8200",Wt.VARIABLE_LENGTH,70]];var zt=function(){function t(e){c(this,t),this.buffer=new P,this.information=e}return l(t,[{key:"decodeAllCodes",value:function(t,e){for(var n=e,r=null;;){var i=this.decodeGeneralPurposeField(n,r),o=Wt.parseFieldsInGeneralPurpose(i.getNewString());if(null!=o&&t.append(o),r=i.isRemaining()?""+i.getRemainingValue():null,n===i.getNewPosition())break;n=i.getNewPosition()}return t.toString()}},{key:"isStillNumeric",value:function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)}},{key:"decodeNumeric",value:function(t){if(t+7>this.information.getSize()){var e=this.extractNumericValueFromBitArray(t,4);return new Ht(this.information.getSize(),0===e?Ht.FNC1:e-1,Ht.FNC1)}var n=this.extractNumericValueFromBitArray(t,7);return new Ht(t+7,(n-8)/11,(n-8)%11)}},{key:"extractNumericValueFromBitArray",value:function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)}},{key:"decodeGeneralPurposeField",value:function(t,e){this.buffer.setLengthToZero(),null!=e&&this.buffer.append(e),this.current.setPosition(t);var n=this.parseBlocks();return null!=n&&n.isRemaining()?new Vt(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Vt(this.current.getPosition(),this.buffer.toString())}},{key:"parseBlocks",value:function(){var t,e;do{var n=this.current.getPosition();if(t=this.current.isAlpha()?(e=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(e=this.parseIsoIec646Block()).isFinished():(e=this.parseNumericBlock()).isFinished(),n===this.current.getPosition()&&!t)break}while(!t);return e.getDecodedInformation()}},{key:"parseNumericBlock",value:function(){for(;this.isStillNumeric(this.current.getPosition());){var t,e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1())return t=e.isSecondDigitFNC1()?new Vt(this.current.getPosition(),this.buffer.toString()):new Vt(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ft(!0,t);if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){var n=new Vt(this.current.getPosition(),this.buffer.toString());return new Ft(!0,n)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ft(!1)}},{key:"parseIsoIec646Block",value:function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new Vt(this.current.getPosition(),this.buffer.toString());return new Ft(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ft(!1)}},{key:"parseAlphaBlock",value:function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new Vt(this.current.getPosition(),this.buffer.toString());return new Ft(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ft(!1)}},{key:"isStillIsoIec646",value:function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,8);return r>=232&&r<253}},{key:"decodeIsoIec646",value:function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Ut(t+5,Ut.FNC1);if(e>=5&&e<15)return new Ut(t+5,"0"+(e-5));var n,r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Ut(t+7,""+(r+1));if(r>=90&&r<116)return new Ut(t+7,""+(r+7));switch(this.extractNumericValueFromBitArray(t,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new k}return new Ut(t+8,n)}},{key:"isStillAlpha",value:function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63}},{key:"decodeAlphanumeric",value:function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Ut(t+5,Ut.FNC1);if(e>=5&&e<15)return new Ut(t+5,"0"+(e-5));var n,r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Ut(t+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new et("Decoding invalid alphanumeric value: "+r)}return new Ut(t+6,n)}},{key:"isAlphaTo646ToAlphaLatch",value:function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<5&&e+t<this.information.getSize();++e)if(2===e){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0}},{key:"isAlphaOr646ToNumericLatch",value:function(t){if(t+3>this.information.getSize())return!1;for(var e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0}},{key:"isNumericToAlphaNumericLatch",value:function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0}}],[{key:"extractNumericValueFromBitArray",value:function(t,e,n){for(var r=0,i=0;i<n;++i)t.get(e+i)&&(r|=1<<n-i-1);return r}}]),t}(),Gt=function(){function t(e){c(this,t),this.information=e,this.generalDecoder=new zt(e)}return l(t,[{key:"getInformation",value:function(){return this.information}},{key:"getGeneralDecoder",value:function(){return this.generalDecoder}}]),t}(),Xt=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"encodeCompressedGtin",value:function(t,e){t.append("(01)");var n=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,e,n)}},{key:"encodeCompressedGtinWithoutAI",value:function(t,e,r){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(e+10*i,10);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o)}n.appendCheckDigit(t,r)}}],[{key:"appendCheckDigit",value:function(t,e){for(var n=0,r=0;r<13;r++){var i=t.charAt(r+e).charCodeAt(0)-"0".charCodeAt(0);n+=0==(1&r)?3*i:i}10==(n=10-n%10)&&(n=0),t.append(n)}}]),n}(Gt);Xt.GTIN_SIZE=40;var Zt=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"parseInformation",value:function(){var t=new P;t.append("(01)");var e=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(n.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,n.HEADER_SIZE+4,e),this.getGeneralDecoder().decodeAllCodes(t,n.HEADER_SIZE+44)}}]),n}(Xt);Zt.HEADER_SIZE=4;var qt=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"parseInformation",value:function(){var t=new P;return this.getGeneralDecoder().decodeAllCodes(t,n.HEADER_SIZE)}}]),n}(Gt);qt.HEADER_SIZE=5;var Yt=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"encodeCompressedWeight",value:function(t,e,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e,n);this.addWeightCode(t,r);for(var i=this.checkWeight(r),o=1e5,a=0;a<5;++a)i/o==0&&t.append("0"),o/=10;t.append(i)}}]),n}(Xt),Kt=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"parseInformation",value:function(){if(this.getInformation().getSize()!=n.HEADER_SIZE+Yt.GTIN_SIZE+n.WEIGHT_SIZE)throw new x;var t=new P;return this.encodeCompressedGtin(t,n.HEADER_SIZE),this.encodeCompressedWeight(t,n.HEADER_SIZE+Yt.GTIN_SIZE,n.WEIGHT_SIZE),t.toString()}}]),n}(Yt);Kt.HEADER_SIZE=5,Kt.WEIGHT_SIZE=15;var Qt=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"addWeightCode",value:function(t,e){t.append("(3103)")}},{key:"checkWeight",value:function(t){return t}}]),n}(Kt),Jt=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"addWeightCode",value:function(t,e){t.append(e<1e4?"(3202)":"(3203)")}},{key:"checkWeight",value:function(t){return t<1e4?t:t-1e4}}]),n}(Kt),$t=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"parseInformation",value:function(){if(this.getInformation().getSize()<n.HEADER_SIZE+Xt.GTIN_SIZE)throw new x;var t=new P;this.encodeCompressedGtin(t,n.HEADER_SIZE);var e=this.getGeneralDecoder().extractNumericValueFromBitArray(n.HEADER_SIZE+Xt.GTIN_SIZE,n.LAST_DIGIT_SIZE);t.append("(392"),t.append(e),t.append(")");var r=this.getGeneralDecoder().decodeGeneralPurposeField(n.HEADER_SIZE+Xt.GTIN_SIZE+n.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}]),n}(Xt);$t.HEADER_SIZE=8,$t.LAST_DIGIT_SIZE=2;var te=function(t){h(n,t);var e=f(n);function n(t){return c(this,n),e.call(this,t)}return l(n,[{key:"parseInformation",value:function(){if(this.getInformation().getSize()<n.HEADER_SIZE+Xt.GTIN_SIZE)throw new x;var t=new P;this.encodeCompressedGtin(t,n.HEADER_SIZE);var e=this.getGeneralDecoder().extractNumericValueFromBitArray(n.HEADER_SIZE+Xt.GTIN_SIZE,n.LAST_DIGIT_SIZE);t.append("(393"),t.append(e),t.append(")");var r=this.getGeneralDecoder().extractNumericValueFromBitArray(n.HEADER_SIZE+Xt.GTIN_SIZE+n.LAST_DIGIT_SIZE,n.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);var i=this.getGeneralDecoder().decodeGeneralPurposeField(n.HEADER_SIZE+Xt.GTIN_SIZE+n.LAST_DIGIT_SIZE+n.FIRST_THREE_DIGITS_SIZE,null);return t.append(i.getNewString()),t.toString()}}]),n}(Xt);te.HEADER_SIZE=8,te.LAST_DIGIT_SIZE=2,te.FIRST_THREE_DIGITS_SIZE=10;var ee=function(t){h(n,t);var e=f(n);function n(t,r,i){var o;return c(this,n),(o=e.call(this,t)).dateCode=i,o.firstAIdigits=r,o}return l(n,[{key:"parseInformation",value:function(){if(this.getInformation().getSize()!=n.HEADER_SIZE+n.GTIN_SIZE+n.WEIGHT_SIZE+n.DATE_SIZE)throw new x;var t=new P;return this.encodeCompressedGtin(t,n.HEADER_SIZE),this.encodeCompressedWeight(t,n.HEADER_SIZE+n.GTIN_SIZE,n.WEIGHT_SIZE),this.encodeCompressedDate(t,n.HEADER_SIZE+n.GTIN_SIZE+n.WEIGHT_SIZE),t.toString()}},{key:"encodeCompressedDate",value:function(t,e){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e,n.DATE_SIZE);if(38400!=r){t.append("("),t.append(this.dateCode),t.append(")");var i=r%32,o=(r/=32)%12+1,a=r/=12;a/10==0&&t.append("0"),t.append(a),o/10==0&&t.append("0"),t.append(o),i/10==0&&t.append("0"),t.append(i)}}},{key:"addWeightCode",value:function(t,e){t.append("("),t.append(this.firstAIdigits),t.append(e/1e5),t.append(")")}},{key:"checkWeight",value:function(t){return t%1e5}}]),n}(Yt);ee.HEADER_SIZE=8,ee.WEIGHT_SIZE=20,ee.DATE_SIZE=16;var ne=function(){function t(e,n,r,i){c(this,t),this.leftchar=e,this.rightchar=n,this.finderpattern=r,this.maybeLast=i}return l(t,[{key:"mayBeLast",value:function(){return this.maybeLast}},{key:"getLeftChar",value:function(){return this.leftchar}},{key:"getRightChar",value:function(){return this.rightchar}},{key:"getFinderPattern",value:function(){return this.finderpattern}},{key:"mustBeLast",value:function(){return null==this.rightchar}},{key:"toString",value:function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}},{key:"hashCode",value:function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}],[{key:"equals",value:function(e,n){return e instanceof t&&t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern)}},{key:"equalsOrNull",value:function(e,n){return null===e?null===n:t.equals(e,n)}}]),t}(),re=function(){function t(e,n,r){c(this,t),this.pairs=e,this.rowNumber=n,this.wasReversed=r}return l(t,[{key:"getPairs",value:function(){return this.pairs}},{key:"getRowNumber",value:function(){return this.rowNumber}},{key:"isReversed",value:function(){return this.wasReversed}},{key:"isEquivalent",value:function(t){return this.checkEqualitity(this,t)}},{key:"toString",value:function(){return"{ "+this.pairs+" }"}},{key:"equals",value:function(e,n){return e instanceof t&&this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed}},{key:"checkEqualitity",value:function(t,e){var n;if(t&&e)return t.forEach(function(t,r){e.forEach(function(e){t.getLeftChar().getValue()===e.getLeftChar().getValue()&&t.getRightChar().getValue()===e.getRightChar().getValue()&&t.getFinderPatter().getValue()===e.getFinderPatter().getValue()&&(n=!0)})}),n}}]),t}(),ie=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).pairs=new Array(n.MAX_PAIRS),t.rows=new Array,t.startEnd=[2],t}return l(n,[{key:"decodeRow",value:function(t,e,r){this.pairs.length=0,this.startFromEven=!1;try{return n.constructResult(this.decodeRow2pairs(t,e))}catch(i){}return this.pairs.length=0,this.startFromEven=!0,n.constructResult(this.decodeRow2pairs(t,e))}},{key:"reset",value:function(){this.pairs.length=0,this.rows.length=0}},{key:"decodeRow2pairs",value:function(t,e){for(var n,r=!1;!r;)try{this.pairs.push(this.retrieveNextPair(e,this.pairs,t))}catch(o){if(o instanceof x){if(!this.pairs.length)throw new x;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(t,!1),n){var i=this.checkRowsBoolean(!1);if(null!=i)return i;if(null!=(i=this.checkRowsBoolean(!0)))return i}throw new x}},{key:"checkRowsBoolean",value:function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var e=null;try{e=this.checkRows(new Array,0)}catch(n){console.log(n)}return t&&(this.rows=this.rows.reverse()),e}},{key:"checkRows",value:function(t,e){for(var r=e;r<this.rows.length;r++){var i=this.rows[r];this.pairs.length=0;var o,a=u(t);try{for(a.s();!(o=a.n()).done;)this.pairs.push(o.value.getPairs())}catch(c){a.e(c)}finally{a.f()}if(this.pairs.push(i.getPairs()),n.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var s=new Array(t);s.push(i);try{return this.checkRows(s,r+1)}catch(l){console.log(l)}}}throw new x}},{key:"storeRow",value:function(t,e){for(var r=0,i=!1,o=!1;r<this.rows.length;){var a=this.rows[r];if(a.getRowNumber()>t){o=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),r++}o||i||n.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new re(this.pairs,t,e)),this.removePartialRows(this.pairs,this.rows))}},{key:"removePartialRows",value:function(t,e){var n,r=u(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.getPairs().length!==t.length){var o,a=u(i.getPairs());try{for(a.s();!(o=a.n()).done;){var s,c=o.value,l=u(t);try{for(l.s();!(s=l.n()).done&&!ne.equals(c,s.value););}catch(h){l.e(h)}finally{l.f()}}}catch(h){a.e(h)}finally{a.f()}}}}catch(h){r.e(h)}finally{r.f()}}},{key:"getRows",value:function(){return this.rows}},{key:"checkChecksum",value:function(){var t=this.pairs.get(0),e=t.getLeftChar(),n=t.getRightChar();if(null==n)return!1;for(var r=n.getChecksumPortion(),i=2,o=1;o<this.pairs.size();++o){var a=this.pairs.get(o);r+=a.getLeftChar().getChecksumPortion(),i++;var s=a.getRightChar();null!=s&&(r+=s.getChecksumPortion(),i++)}return 211*(i-4)+(r%=211)==e.getValue()}},{key:"retrieveNextPair",value:function(t,e,r){var i,o=e.length%2==0;this.startFromEven&&(o=!o);var a=!0,s=-1;do{this.findNextPair(t,e,s),null==(i=this.parseFoundFinderPattern(t,r,o))?s=n.getNextSecondBar(t,this.startEnd[0]):a=!1}while(a);var u,c=this.decodeDataCharacter(t,i,o,!0);if(!this.isEmptyPair(e)&&e[e.length-1].mustBeLast())throw new x;try{u=this.decodeDataCharacter(t,i,o,!1)}catch(l){u=null,console.log(l)}return new ne(c,u,i,!0)}},{key:"isEmptyPair",value:function(t){return 0===t.length}},{key:"findNextPair",value:function(t,e,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o,a=t.getSize();o=r>=0?r:this.isEmptyPair(e)?0:e[e.length-1].getFinderPattern().getStartEnd()[1];var s=e.length%2!=0;this.startFromEven&&(s=!s);for(var u=!1;o<a&&(u=!t.get(o));)o++;for(var c=0,l=o,h=o;h<a;h++)if(t.get(h)!=u)i[c]++;else{if(3==c){if(s&&n.reverseCounters(i),n.isFinderPattern(i))return this.startEnd[0]=l,void(this.startEnd[1]=h);s&&n.reverseCounters(i),l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,u=!u}throw new x}},{key:"parseFoundFinderPattern",value:function(t,e,r){var i,o,a;if(r){for(var s=this.startEnd[0]-1;s>=0&&!t.get(s);)s--;s++,i=this.startEnd[0]-s,o=s,a=this.startEnd[1]}else o=this.startEnd[0],i=(a=t.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var u,c=this.getDecodeFinderCounters();b.arraycopy(c,0,c,1,c.length-1),c[0]=i;try{u=this.parseFinderValue(c,n.FINDER_PATTERNS)}catch(l){return null}return new xt(u,[o,a],o,a,e)}},{key:"decodeDataCharacter",value:function(t,e,r,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)n.recordPatternInReverse(t,e.getStartEnd()[0],o);else{n.recordPattern(t,e.getStartEnd()[1],o);for(var s=0,u=o.length-1;s<u;s++,u--){var c=o[s];o[s]=o[u],o[u]=c}}var l=ot.sum(new Int32Array(o))/17,h=(e.getStartEnd()[1]-e.getStartEnd()[0])/15;if(Math.abs(l-h)/h>.3)throw new x;for(var f=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors(),v=0;v<o.length;v++){var m=1*o[v]/l,y=m+.5;if(y<1){if(m<.3)throw new x;y=1}else if(y>8){if(m>8.7)throw new x;y=8}var b=v/2;0==(1&v)?(f[b]=y,p[b]=m-y):(d[b]=y,g[b]=m-y)}this.adjustOddEvenCounts(17);for(var w=4*e.getValue()+(r?0:2)+(i?0:1)-1,_=0,C=0,S=f.length-1;S>=0;S--)n.isNotA1left(e,r,i)&&(C+=f[S]*n.WEIGHTS[w][2*S]),_+=f[S];for(var E=0,O=d.length-1;O>=0;O--)n.isNotA1left(e,r,i)&&(E+=d[O]*n.WEIGHTS[w][2*O+1]);var A=C+E;if(0!=(1&_)||_>13||_<4)throw new x;var I=(13-_)/2,k=n.SYMBOL_WIDEST[I],R=9-k,T=Lt.getRSSvalue(f,k,!0),M=Lt.getRSSvalue(d,R,!1);return new Dt(T*n.EVEN_TOTAL_SUBSET[I]+M+n.GSUM[I],A)}},{key:"adjustOddEvenCounts",value:function(t){var e=ot.sum(new Int32Array(this.getOddCounts())),r=ot.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;e>13?o=!0:e<4&&(i=!0);var a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=e+r-t,c=1==(1&e),l=0==(1&r);if(1==u)if(c){if(l)throw new x;o=!0}else{if(!l)throw new x;s=!0}else if(-1==u)if(c){if(l)throw new x;i=!0}else{if(!l)throw new x;a=!0}else{if(0!=u)throw new x;if(c){if(!l)throw new x;e<r?(i=!0,s=!0):(o=!0,a=!0)}else if(l)throw new x}if(i){if(o)throw new x;n.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&n.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new x;n.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&n.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}],[{key:"isValidSequence",value:function(t){var e,r=u(n.FINDER_PATTERN_SEQUENCES);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(!(t.length>i.length)){for(var o=!0,a=0;a<t.length;a++)if(t[a].getFinderPattern().getValue()!=i[a]){o=!1;break}if(o)return!0}}}catch(s){r.e(s)}finally{r.f()}return!1}},{key:"isPartialRow",value:function(t,e){var n,r=u(e);try{for(r.s();!(n=r.n()).done;){var i,o=n.value,a=!0,s=u(t);try{for(s.s();!(i=s.n()).done;){var c,l=i.value,h=!1,f=u(o.getPairs());try{for(f.s();!(c=f.n()).done;)if(l.equals(c.value)){h=!0;break}}catch(d){f.e(d)}finally{f.f()}if(!h){a=!1;break}}}catch(d){s.e(d)}finally{s.f()}if(a)return!0}}catch(d){r.e(d)}finally{r.f()}return!1}},{key:"constructResult",value:function(t){var e=function(t){try{if(t.get(1))return new Zt(t);if(!t.get(2))return new qt(t);switch(zt.extractNumericValueFromBitArray(t,1,4)){case 4:return new Qt(t);case 5:return new Jt(t)}switch(zt.extractNumericValueFromBitArray(t,1,5)){case 12:return new $t(t);case 13:return new te(t)}switch(zt.extractNumericValueFromBitArray(t,1,7)){case 56:return new ee(t,"310","11");case 57:return new ee(t,"320","11");case 58:return new ee(t,"310","13");case 59:return new ee(t,"320","13");case 60:return new ee(t,"310","15");case 61:return new ee(t,"320","15");case 62:return new ee(t,"310","17");case 63:return new ee(t,"320","17")}}catch(e){throw console.log(e),new et("unknown decoder: "+t)}}(Bt.buildBitArray(t)).parseInformation(),n=t[0].getFinderPattern().getResultPoints(),r=t[t.length-1].getFinderPattern().getResultPoints();return new G(e,null,null,[n[0],n[1],r[0],r[1]],Z.RSS_EXPANDED,null)}},{key:"getNextSecondBar",value:function(t,e){var n;return t.get(e)?(n=t.getNextUnset(e),n=t.getNextSet(n)):(n=t.getNextSet(e),n=t.getNextUnset(n)),n}},{key:"reverseCounters",value:function(t){for(var e=t.length,n=0;n<e/2;++n){var r=t[n];t[n]=t[e-n-1],t[e-n-1]=r}}},{key:"isNotA1left",value:function(t,e,n){return!(0==t.getValue()&&e&&n)}}]),n}(Pt);ie.SYMBOL_WIDEST=[7,5,4,3,1],ie.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ie.GSUM=[0,348,1388,2948,3988],ie.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ie.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ie.FINDER_PAT_A=0,ie.FINDER_PAT_B=1,ie.FINDER_PAT_C=2,ie.FINDER_PAT_D=3,ie.FINDER_PAT_E=4,ie.FINDER_PAT_F=5,ie.FINDER_PATTERN_SEQUENCES=[[ie.FINDER_PAT_A,ie.FINDER_PAT_A],[ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B],[ie.FINDER_PAT_A,ie.FINDER_PAT_C,ie.FINDER_PAT_B,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_C],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_E,ie.FINDER_PAT_B,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F],[ie.FINDER_PAT_A,ie.FINDER_PAT_A,ie.FINDER_PAT_B,ie.FINDER_PAT_B,ie.FINDER_PAT_C,ie.FINDER_PAT_D,ie.FINDER_PAT_D,ie.FINDER_PAT_E,ie.FINDER_PAT_E,ie.FINDER_PAT_F,ie.FINDER_PAT_F]],ie.MAX_PAIRS=11;var oe=function(t){h(n,t);var e=f(n);function n(t,r,i){var o;return c(this,n),(o=e.call(this,t,r)).count=0,o.finderPattern=i,o}return l(n,[{key:"getFinderPattern",value:function(){return this.finderPattern}},{key:"getCount",value:function(){return this.count}},{key:"incrementCount",value:function(){this.count++}}]),n}(Dt),ae=function(t){h(n,t);var e=f(n);function n(){var t;return c(this,n),(t=e.apply(this,arguments)).possibleLeftPairs=[],t.possibleRightPairs=[],t}return l(n,[{key:"decodeRow",value:function(t,e,r){var i=this.decodePair(e,!1,t,r);n.addOrTally(this.possibleLeftPairs,i),e.reverse();var o=this.decodePair(e,!0,t,r);n.addOrTally(this.possibleRightPairs,o),e.reverse();var a,s=u(this.possibleLeftPairs);try{for(s.s();!(a=s.n()).done;){var c=a.value;if(c.getCount()>1){var l,h=u(this.possibleRightPairs);try{for(h.s();!(l=h.n()).done;){var f=l.value;if(f.getCount()>1&&n.checkChecksum(c,f))return n.constructResult(c,f)}}catch(d){h.e(d)}finally{h.f()}}}}catch(d){s.e(d)}finally{s.f()}throw new x}},{key:"reset",value:function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}},{key:"decodePair",value:function(t,e,n,r){try{var i=this.findFinderPattern(t,e),o=this.parseFoundFinderPattern(t,n,e,i),a=null==r?null:r.get(I.NEED_RESULT_POINT_CALLBACK);if(null!=a){var s=(i[0]+i[1])/2;e&&(s=t.getSize()-1-s),a.foundPossibleResultPoint(new st(s,n))}var u=this.decodeDataCharacter(t,o,!0),c=this.decodeDataCharacter(t,o,!1);return new oe(1597*u.getValue()+c.getValue(),u.getChecksumPortion()+4*c.getChecksumPortion(),o)}catch(l){return null}}},{key:"decodeDataCharacter",value:function(t,e,r){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(r)bt.recordPatternInReverse(t,e.getStartEnd()[0],i);else{bt.recordPattern(t,e.getStartEnd()[1]+1,i);for(var a=0,s=i.length-1;a<s;a++,s--){var u=i[a];i[a]=i[s],i[s]=u}}for(var c=r?16:15,l=ot.sum(new Int32Array(i))/c,h=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors(),g=0;g<i.length;g++){var v=i[g]/l,m=Math.floor(v+.5);m<1?m=1:m>8&&(m=8);var y=Math.floor(g/2);0==(1&g)?(h[y]=m,d[y]=v-m):(f[y]=m,p[y]=v-m)}this.adjustOddEvenCounts(r,c);for(var b=0,w=0,_=h.length-1;_>=0;_--)w*=9,w+=h[_],b+=h[_];for(var C=0,S=0,E=f.length-1;E>=0;E--)C*=9,C+=f[E],S+=f[E];var O=w+3*C;if(r){if(0!=(1&b)||b>12||b<4)throw new x;var A=(12-b)/2,I=n.OUTSIDE_ODD_WIDEST[A],k=9-I,R=Lt.getRSSvalue(h,I,!1),T=Lt.getRSSvalue(f,k,!0);return new Dt(R*n.OUTSIDE_EVEN_TOTAL_SUBSET[A]+T+n.OUTSIDE_GSUM[A],O)}if(0!=(1&S)||S>10||S<4)throw new x;var M=(10-S)/2,N=n.INSIDE_ODD_WIDEST[M],P=9-N,D=Lt.getRSSvalue(h,N,!0),L=Lt.getRSSvalue(f,P,!1);return new Dt(L*n.INSIDE_ODD_TOTAL_SUBSET[M]+D+n.INSIDE_GSUM[M],O)}},{key:"findFinderPattern",value:function(t,e){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var r=t.getSize(),i=!1,o=0;o<r&&e!==(i=!t.get(o));)o++;for(var a=0,s=o,u=o;u<r;u++)if(t.get(u)!==i)n[a]++;else{if(3===a){if(Pt.isFinderPattern(n))return[s,u];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,a--}else a++;n[a]=1,i=!i}throw new x}},{key:"parseFoundFinderPattern",value:function(t,e,r,i){for(var o=t.get(i[0]),a=i[0]-1;a>=0&&o!==t.get(a);)a--;a++;var s=i[0]-a,u=this.getDecodeFinderCounters(),c=new Int32Array(u.length);b.arraycopy(u,0,c,1,u.length-1),c[0]=s;var l=this.parseFinderValue(c,n.FINDER_PATTERNS),h=a,f=i[1];return r&&(h=t.getSize()-1-h,f=t.getSize()-1-f),new xt(l,[a,i[1]],h,f,e)}},{key:"adjustOddEvenCounts",value:function(t,e){var n=ot.sum(new Int32Array(this.getOddCounts())),r=ot.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,a=!1,s=!1;t?(n>12?o=!0:n<4&&(i=!0),r>12?s=!0:r<4&&(a=!0)):(n>11?o=!0:n<5&&(i=!0),r>10?s=!0:r<4&&(a=!0));var u=n+r-e,c=(1&n)==(t?1:0),l=1==(1&r);if(1===u)if(c){if(l)throw new x;o=!0}else{if(!l)throw new x;s=!0}else if(-1===u)if(c){if(l)throw new x;i=!0}else{if(!l)throw new x;a=!0}else{if(0!==u)throw new x;if(c){if(!l)throw new x;n<r?(i=!0,s=!0):(o=!0,a=!0)}else if(l)throw new x}if(i){if(o)throw new x;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new x;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}],[{key:"addOrTally",value:function(t,e){if(null!=e){var n,r=!1,i=u(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.getValue()===e.getValue()){o.incrementCount(),r=!0;break}}}catch(a){i.e(a)}finally{i.f()}r||t.push(e)}}},{key:"constructResult",value:function(t,e){for(var n=4537077*t.getValue()+e.getValue(),r=new String(n).toString(),i=new P,o=13-r.length;o>0;o--)i.append("0");i.append(r);for(var a=0,s=0;s<13;s++){var u=i.charAt(s).charCodeAt(0)-"0".charCodeAt(0);a+=0==(1&s)?3*u:u}10==(a=10-a%10)&&(a=0),i.append(a.toString());var c=t.getFinderPattern().getResultPoints(),l=e.getFinderPattern().getResultPoints();return new G(i.toString(),null,0,[c[0],c[1],l[0],l[1]],Z.RSS_14,(new Date).getTime())}},{key:"checkChecksum",value:function(t,e){var n=(t.getChecksumPortion()+16*e.getChecksumPortion())%79,r=9*t.getFinderPattern().getValue()+e.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}}]),n}(Pt);ae.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ae.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ae.OUTSIDE_GSUM=[0,161,961,2015,2715],ae.INSIDE_GSUM=[0,336,1036,1516],ae.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ae.INSIDE_ODD_WIDEST=[2,4,6,8],ae.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];var se=function(t){h(n,t);var e=f(n);function n(t){var r;c(this,n),(r=e.call(this)).readers=[];var i=t?t.get(I.POSSIBLE_FORMATS):null,o=t&&void 0!==t.get(I.ASSUME_CODE_39_CHECK_DIGIT);return i&&((i.includes(Z.EAN_13)||i.includes(Z.UPC_A)||i.includes(Z.EAN_8)||i.includes(Z.UPC_E))&&r.readers.push(new Nt(t)),i.includes(Z.CODE_39)&&r.readers.push(new _t(o)),i.includes(Z.CODE_128)&&r.readers.push(new wt),i.includes(Z.ITF)&&r.readers.push(new Ct),i.includes(Z.RSS_14)&&r.readers.push(new ae),i.includes(Z.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),r.readers.push(new ie))),0===r.readers.length&&(r.readers.push(new Nt(t)),r.readers.push(new _t),r.readers.push(new Nt(t)),r.readers.push(new wt),r.readers.push(new Ct),r.readers.push(new ae)),r}return l(n,[{key:"decodeRow",value:function(t,e,n){for(var r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(t,e,n)}catch(i){}throw new x}},{key:"reset",value:function(){this.readers.forEach(function(t){return t.reset()})}}]),n}(bt),ue=function(t){h(n,t);var e=f(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,r=arguments.length>1?arguments[1]:void 0;return c(this,n),e.call(this,new se(r),t,r)}return n}(z),ce=function(){function t(e,n,r){c(this,t),this.ecCodewords=e,this.ecBlocks=[n],r&&this.ecBlocks.push(r)}return l(t,[{key:"getECCodewords",value:function(){return this.ecCodewords}},{key:"getECBlocks",value:function(){return this.ecBlocks}}]),t}(),le=function(){function t(e,n){c(this,t),this.count=e,this.dataCodewords=n}return l(t,[{key:"getCount",value:function(){return this.count}},{key:"getDataCodewords",value:function(){return this.dataCodewords}}]),t}(),he=function(){function t(e,n,r,i,o,a){c(this,t),this.versionNumber=e,this.symbolSizeRows=n,this.symbolSizeColumns=r,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=o,this.ecBlocks=a;var s,l=0,h=a.getECCodewords(),f=a.getECBlocks(),d=u(f);try{for(d.s();!(s=d.n()).done;){var p=s.value;l+=p.getCount()*(p.getDataCodewords()+h)}}catch(g){d.e(g)}finally{d.f()}this.totalCodewords=l}return l(t,[{key:"getVersionNumber",value:function(){return this.versionNumber}},{key:"getSymbolSizeRows",value:function(){return this.symbolSizeRows}},{key:"getSymbolSizeColumns",value:function(){return this.symbolSizeColumns}},{key:"getDataRegionSizeRows",value:function(){return this.dataRegionSizeRows}},{key:"getDataRegionSizeColumns",value:function(){return this.dataRegionSizeColumns}},{key:"getTotalCodewords",value:function(){return this.totalCodewords}},{key:"getECBlocks",value:function(){return this.ecBlocks}},{key:"toString",value:function(){return""+this.versionNumber}}],[{key:"getVersionForDimensions",value:function(e,n){if(0!=(1&e)||0!=(1&n))throw new k;var r,i=u(t.VERSIONS);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.symbolSizeRows===e&&o.symbolSizeColumns===n)return o}}catch(a){i.e(a)}finally{i.f()}throw new k}},{key:"buildVersions",value:function(){return[new t(1,10,10,8,8,new ce(5,new le(1,3))),new t(2,12,12,10,10,new ce(7,new le(1,5))),new t(3,14,14,12,12,new ce(10,new le(1,8))),new t(4,16,16,14,14,new ce(12,new le(1,12))),new t(5,18,18,16,16,new ce(14,new le(1,18))),new t(6,20,20,18,18,new ce(18,new le(1,22))),new t(7,22,22,20,20,new ce(20,new le(1,30))),new t(8,24,24,22,22,new ce(24,new le(1,36))),new t(9,26,26,24,24,new ce(28,new le(1,44))),new t(10,32,32,14,14,new ce(36,new le(1,62))),new t(11,36,36,16,16,new ce(42,new le(1,86))),new t(12,40,40,18,18,new ce(48,new le(1,114))),new t(13,44,44,20,20,new ce(56,new le(1,144))),new t(14,48,48,22,22,new ce(68,new le(1,174))),new t(15,52,52,24,24,new ce(42,new le(2,102))),new t(16,64,64,14,14,new ce(56,new le(2,140))),new t(17,72,72,16,16,new ce(36,new le(4,92))),new t(18,80,80,18,18,new ce(48,new le(4,114))),new t(19,88,88,20,20,new ce(56,new le(4,144))),new t(20,96,96,22,22,new ce(68,new le(4,174))),new t(21,104,104,24,24,new ce(56,new le(6,136))),new t(22,120,120,18,18,new ce(68,new le(6,175))),new t(23,132,132,20,20,new ce(62,new le(8,163))),new t(24,144,144,22,22,new ce(62,new le(8,156),new le(2,155))),new t(25,8,18,6,16,new ce(7,new le(1,5))),new t(26,8,32,6,14,new ce(11,new le(1,10))),new t(27,12,26,10,24,new ce(14,new le(1,16))),new t(28,12,36,10,16,new ce(18,new le(1,22))),new t(29,16,36,14,16,new ce(24,new le(1,32))),new t(30,16,48,14,22,new ce(28,new le(1,49)))]}}]),t}();he.VERSIONS=he.buildVersions();var fe,de=function(){function t(e){c(this,t);var n=e.getHeight();if(n<8||n>144||0!=(1&n))throw new k;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new D(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return l(t,[{key:"getVersion",value:function(){return this.version}},{key:"readCodewords",value:function(){var t=new Int8Array(this.version.getTotalCodewords()),e=0,n=4,r=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),a=!1,s=!1,u=!1,c=!1;do{if(n!==i||0!==r||a)if(n!==i-2||0!==r||0==(3&o)||s)if(n!==i+4||2!==r||0!=(7&o)||u)if(n!==i-2||0!==r||4!=(7&o)||c){do{n<i&&r>=0&&!this.readMappingMatrix.get(r,n)&&(t[e++]=255&this.readUtah(n,r,i,o)),n-=2,r+=2}while(n>=0&&r<o);n+=1,r+=3;do{n>=0&&r<o&&!this.readMappingMatrix.get(r,n)&&(t[e++]=255&this.readUtah(n,r,i,o)),n+=2,r-=2}while(n<i&&r>=0);n+=3,r+=1}else t[e++]=255&this.readCorner4(i,o),n-=2,r+=2,c=!0;else t[e++]=255&this.readCorner3(i,o),n-=2,r+=2,u=!0;else t[e++]=255&this.readCorner2(i,o),n-=2,r+=2,s=!0;else t[e++]=255&this.readCorner1(i,o),n-=2,r+=2,a=!0}while(n<i||r<o);if(e!==this.version.getTotalCodewords())throw new k;return t}},{key:"readModule",value:function(t,e,n,r){return t<0&&(t+=n,e+=4-(n+4&7)),e<0&&(e+=r,t+=4-(r+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)}},{key:"readUtah",value:function(t,e,n,r){var i=0;return this.readModule(t-2,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t-2,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e,n,r)&&(i|=1),i<<=1,this.readModule(t,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t,e,n,r)&&(i|=1),i}},{key:"readCorner1",value:function(t,e){var n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,1,t,e)&&(n|=1),n<<=1,this.readModule(t-1,2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n}},{key:"readCorner2",value:function(t,e){var n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-4,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n}},{key:"readCorner3",value:function(t,e){var n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-3,t,e)&&(n|=1),n<<=1,this.readModule(1,e-2,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n}},{key:"readCorner4",value:function(t,e){var n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n}},{key:"extractDataRegion",value:function(t){var e=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new g("Dimension of bitMatrix must match the version size");for(var r=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=e/r|0,a=n/i|0,s=new D(a*i,o*r),u=0;u<o;++u)for(var c=u*r,l=0;l<a;++l)for(var h=l*i,f=0;f<r;++f)for(var d=u*(r+2)+1+f,p=c+f,v=0;v<i;++v)t.get(l*(i+2)+1+v,d)&&s.set(h+v,p);return s}}],[{key:"readVersion",value:function(t){var e=t.getHeight(),n=t.getWidth();return he.getVersionForDimensions(e,n)}}]),t}(),pe=function(){function t(e,n){c(this,t),this.numDataCodewords=e,this.codewords=n}return l(t,[{key:"getNumDataCodewords",value:function(){return this.numDataCodewords}},{key:"getCodewords",value:function(){return this.codewords}}],[{key:"getDataBlocks",value:function(e,n){var r,i=n.getECBlocks(),o=0,a=i.getECBlocks(),s=u(a);try{for(s.s();!(r=s.n()).done;)o+=r.value.getCount()}catch(T){s.e(T)}finally{s.f()}var c,l=new Array(o),h=0,f=u(a);try{for(f.s();!(c=f.n()).done;)for(var d=c.value,p=0;p<d.getCount();p++){var v=d.getDataCodewords(),m=i.getECCodewords()+v;l[h++]=new t(v,new Uint8Array(m))}}catch(T){f.e(T)}finally{f.f()}for(var y=l[0].codewords.length-i.getECCodewords(),b=y-1,w=0,_=0;_<b;_++)for(var C=0;C<h;C++)l[C].codewords[_]=e[w++];for(var S=24===n.getVersionNumber(),E=S?8:h,O=0;O<E;O++)l[O].codewords[y-1]=e[w++];for(var A=l[0].codewords.length,I=y;I<A;I++)for(var k=0;k<h;k++){var R=S?(k+8)%h:k;l[R].codewords[S&&R>7?I-1:I]=e[w++]}if(w!==e.length)throw new g;return l}}]),t}(),ge=function(){function t(e){c(this,t),this.bytes=e,this.byteOffset=0,this.bitOffset=0}return l(t,[{key:"getBitOffset",value:function(){return this.bitOffset}},{key:"getByteOffset",value:function(){return this.byteOffset}},{key:"readBits",value:function(t){if(t<1||t>32||t>this.available())throw new g(""+t);var e=0,n=this.bitOffset,r=this.byteOffset,i=this.bytes;if(n>0){var o=8-n,a=t<o?t:o,s=o-a;e=(i[r]&255>>8-a<<s)>>s,t-=a,8===(n+=a)&&(n=0,r++)}if(t>0){for(;t>=8;)e=e<<8|255&i[r],r++,t-=8;if(t>0){var u=8-t;e=e<<t|(i[r]&255>>u<<u)>>u,n+=t}}return this.bitOffset=n,this.byteOffset=r,e}},{key:"available",value:function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}]),t}();!function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"}(fe||(fe={}));var ve=function(){function t(){c(this,t)}return l(t,null,[{key:"decode",value:function(t){var e=new ge(t),n=new P,r=new P,i=new Array,o=fe.ASCII_ENCODE;do{if(o===fe.ASCII_ENCODE)o=this.decodeAsciiSegment(e,n,r);else{switch(o){case fe.C40_ENCODE:this.decodeC40Segment(e,n);break;case fe.TEXT_ENCODE:this.decodeTextSegment(e,n);break;case fe.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,n);break;case fe.EDIFACT_ENCODE:this.decodeEdifactSegment(e,n);break;case fe.BASE256_ENCODE:this.decodeBase256Segment(e,n,i);break;default:throw new k}o=fe.ASCII_ENCODE}}while(o!==fe.PAD_ENCODE&&e.available()>0);return r.length()>0&&n.append(r.toString()),new Y(t,n.toString(),0===i.length?null:i,null)}},{key:"decodeAsciiSegment",value:function(t,e,n){var r=!1;do{var i=t.readBits(8);if(0===i)throw new k;if(i<=128)return r&&(i+=128),e.append(String.fromCharCode(i-1)),fe.ASCII_ENCODE;if(129===i)return fe.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&e.append("0"),e.append(""+o)}else switch(i){case 230:return fe.C40_ENCODE;case 231:return fe.BASE256_ENCODE;case 232:e.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:r=!0;break;case 236:e.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:e.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return fe.ANSIX12_ENCODE;case 239:return fe.TEXT_ENCODE;case 240:return fe.EDIFACT_ENCODE;case 241:break;default:if(254!==i||0!==t.available())throw new k}}while(t.available()>0);return fe.ASCII_ENCODE}},{key:"decodeC40Segment",value:function(t,e){var n=!1,r=[],i=0;do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(i){case 0:if(s<3)i=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new k;var u=this.C40_BASIC_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u)}break;case 1:n?(e.append(String.fromCharCode(s+128)),n=!1):e.append(String.fromCharCode(s)),i=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length){var c=this.C40_SHIFT2_SET_CHARS[s];n?(e.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):e.append(c)}else switch(s){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new k}i=0;break;case 3:n?(e.append(String.fromCharCode(s+224)),n=!1):e.append(String.fromCharCode(s+96)),i=0;break;default:throw new k}}}while(t.available()>0)}},{key:"decodeTextSegment",value:function(t,e){var n=!1,r=[],i=0;do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(i){case 0:if(s<3)i=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new k;var u=this.TEXT_BASIC_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u)}break;case 1:n?(e.append(String.fromCharCode(s+128)),n=!1):e.append(String.fromCharCode(s)),i=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length){var c=this.TEXT_SHIFT2_SET_CHARS[s];n?(e.append(String.fromCharCode(c.charCodeAt(0)+128)),n=!1):e.append(c)}else switch(s){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new k}i=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new k;var l=this.TEXT_SHIFT3_SET_CHARS[s];n?(e.append(String.fromCharCode(l.charCodeAt(0)+128)),n=!1):e.append(l),i=0;break;default:throw new k}}}while(t.available()>0)}},{key:"decodeAnsiX12Segment",value:function(t,e){var n=[];do{if(8===t.available())return;var r=t.readBits(8);if(254===r)return;this.parseTwoBytes(r,t.readBits(8),n);for(var i=0;i<3;i++){var o=n[i];switch(o){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(o<14)e.append(String.fromCharCode(o+44));else{if(!(o<40))throw new k;e.append(String.fromCharCode(o+51))}}}}while(t.available()>0)}},{key:"parseTwoBytes",value:function(t,e,n){var r=(t<<8)+e-1,i=Math.floor(r/1600);n[0]=i,r-=1600*i,i=Math.floor(r/40),n[1]=i,n[2]=r-40*i}},{key:"decodeEdifactSegment",value:function(t,e){do{if(t.available()<=16)return;for(var n=0;n<4;n++){var r=t.readBits(6);if(31===r){var i=8-t.getBitOffset();return void(8!==i&&t.readBits(i))}0==(32&r)&&(r|=64),e.append(String.fromCharCode(r))}}while(t.available()>0)}},{key:"decodeBase256Segment",value:function(t,e,n){var r,i=1+t.getByteOffset(),o=this.unrandomize255State(t.readBits(8),i++);if((r=0===o?t.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(t.readBits(8),i++))<0)throw new k;for(var a=new Uint8Array(r),s=0;s<r;s++){if(t.available()<8)throw new k;a[s]=this.unrandomize255State(t.readBits(8),i++)}n.push(a);try{e.append(M.decode(a,N.ISO88591))}catch(u){throw new et("Platform does not support required encoding: "+u.message)}}},{key:"unrandomize255State",value:function(t,e){var n=t-(149*e%255+1);return n>=0?n:n+256}}]),t}();ve.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ve.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ve.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ve.TEXT_SHIFT2_SET_CHARS=ve.C40_SHIFT2_SET_CHARS,ve.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];var me=function(){function t(){c(this,t),this.rsDecoder=new rt($.DATA_MATRIX_FIELD_256)}return l(t,[{key:"decode",value:function(t){var e,n=new de(t),r=n.getVersion(),i=n.readCodewords(),o=pe.getDataBlocks(i,r),a=0,s=u(o);try{for(s.s();!(e=s.n()).done;)a+=e.value.getNumDataCodewords()}catch(v){s.e(v)}finally{s.f()}for(var c=new Uint8Array(a),l=o.length,h=0;h<l;h++){var f=o[h],d=f.getCodewords(),p=f.getNumDataCodewords();this.correctErrors(d,p);for(var g=0;g<p;g++)c[g*l+h]=d[g]}return ve.decode(c)}},{key:"correctErrors",value:function(t,e){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch(i){throw new m}for(var r=0;r<e;r++)t[r]=n[r]}}]),t}(),ye=function(){function t(e){c(this,t),this.image=e,this.rectangleDetector=new lt(this.image)}return l(t,[{key:"detect",value:function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new x;var r=(n=this.shiftToModuleCenter(n))[0],i=n[1],o=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,u=this.transitionsBetween(o,a)+1;1==(1&s)&&(s+=1),1==(1&u)&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var c=t.sampleGrid(this.image,r,i,o,a,s,u);return new ut(c,[r,i,o,a])}},{key:"detectSolid1",value:function(t){var e=t[0],n=t[1],r=t[3],i=t[2],o=this.transitionsBetween(e,n),a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,i),u=this.transitionsBetween(i,e),c=o,l=[i,e,n,r];return c>a&&(c=a,l[0]=e,l[1]=n,l[2]=r,l[3]=i),c>s&&(c=s,l[0]=n,l[1]=r,l[2]=i,l[3]=e),c>u&&(l[0]=r,l[1]=i,l[2]=e,l[3]=n),l}},{key:"detectSolid2",value:function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),s=t.shiftPoint(r,i,4*(a+1)),u=t.shiftPoint(i,r,4*(a+1));return this.transitionsBetween(s,n)<this.transitionsBetween(u,o)?(e[0]=n,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=n),e}},{key:"correctTopRight",value:function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),s=this.transitionsBetween(r,o),u=t.shiftPoint(n,r,4*(s+1)),c=t.shiftPoint(i,r,4*(a+1));a=this.transitionsBetween(u,o),s=this.transitionsBetween(c,o);var l=new st(o.getX()+(i.getX()-r.getX())/(a+1),o.getY()+(i.getY()-r.getY())/(a+1)),h=new st(o.getX()+(n.getX()-r.getX())/(s+1),o.getY()+(n.getY()-r.getY())/(s+1));return this.isValid(l)?this.isValid(h)?this.transitionsBetween(u,l)+this.transitionsBetween(c,l)>this.transitionsBetween(u,h)+this.transitionsBetween(c,h)?l:h:l:this.isValid(h)?h:null}},{key:"shiftToModuleCenter",value:function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,s=this.transitionsBetween(i,o)+1,u=t.shiftPoint(n,r,4*s),c=t.shiftPoint(i,r,4*a);1==(1&(a=this.transitionsBetween(u,o)+1))&&(a+=1),1==(1&(s=this.transitionsBetween(c,o)+1))&&(s+=1);var l,h,f=(n.getX()+r.getX()+i.getX()+o.getX())/4,d=(n.getY()+r.getY()+i.getY()+o.getY())/4;return n=t.moveAway(n,f,d),r=t.moveAway(r,f,d),i=t.moveAway(i,f,d),o=t.moveAway(o,f,d),u=t.shiftPoint(n,r,4*s),u=t.shiftPoint(u,o,4*a),l=t.shiftPoint(r,n,4*s),l=t.shiftPoint(l,i,4*a),c=t.shiftPoint(i,o,4*s),c=t.shiftPoint(c,r,4*a),h=t.shiftPoint(o,i,4*s),[u,l,c,h=t.shiftPoint(h,n,4*a)]}},{key:"isValid",value:function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}},{key:"transitionsBetween",value:function(t,e){var n=Math.trunc(t.getX()),r=Math.trunc(t.getY()),i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),a=Math.abs(o-r)>Math.abs(i-n);if(a){var s=n;n=r,r=s,s=i,i=o,o=s}for(var u=Math.abs(i-n),c=Math.abs(o-r),l=-u/2,h=r<o?1:-1,f=n<i?1:-1,d=0,p=this.image.get(a?r:n,a?n:r),g=n,v=r;g!==i;g+=f){var m=this.image.get(a?v:g,a?g:v);if(m!==p&&(d++,p=m),(l+=c)>0){if(v===o)break;v+=h,l-=u}}return d}}],[{key:"shiftPoint",value:function(t,e,n){var r=(e.getX()-t.getX())/(n+1),i=(e.getY()-t.getY())/(n+1);return new st(t.getX()+r,t.getY()+i)}},{key:"moveAway",value:function(t,e,n){var r=t.getX(),i=t.getY();return r<e?r-=1:r+=1,i<n?i-=1:i+=1,new st(r,i)}},{key:"sampleGrid",value:function(t,e,n,r,i,o,a){return pt.getInstance().sampleGrid(t,o,a,.5,.5,o-.5,.5,o-.5,a-.5,.5,a-.5,e.getX(),e.getY(),i.getX(),i.getY(),r.getX(),r.getY(),n.getX(),n.getY())}}]),t}(),be=function(){function t(){c(this,t),this.decoder=new me}return l(t,[{key:"decode",value:function(e){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null!=i&&i.has(I.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(o),r=t.NO_POINTS}else{var a=new ye(e.getBlackMatrix()).detect();n=this.decoder.decode(a.getBits()),r=a.getPoints()}var s=n.getRawBytes(),u=new G(n.getText(),s,8*s.length,r,Z.DATA_MATRIX,b.currentTimeMillis()),c=n.getByteSegments();null!=c&&u.putMetadata(q.BYTE_SEGMENTS,c);var l=n.getECLevel();return null!=l&&u.putMetadata(q.ERROR_CORRECTION_LEVEL,l),u}},{key:"reset",value:function(){}}],[{key:"extractPureBits",value:function(t){var e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(null==e||null==n)throw new x;var r=this.moduleSize(e,t),i=e[1],o=e[0],a=(n[0]-o+1)/r,s=(n[1]-i+1)/r;if(a<=0||s<=0)throw new x;var u=r/2;i+=u,o+=u;for(var c=new D(a,s),l=0;l<s;l++)for(var h=i+l*r,f=0;f<a;f++)t.get(o+f*r,h)&&c.set(f,l);return c}},{key:"moduleSize",value:function(t,e){for(var n=e.getWidth(),r=t[0],i=t[1];r<n&&e.get(r,i);)r++;if(r===n)throw new x;var o=r-t[0];if(0===o)throw new x;return o}}]),t}();be.NO_POINTS=[];var we,_e=function(t){h(n,t);var e=f(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return c(this,n),e.call(this,new be,t)}return n}(z);!function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"}(we||(we={}));var Ce=function(){function t(e,n,r){c(this,t),this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return l(t,[{key:"getValue",value:function(){return this.value}},{key:"getBits",value:function(){return this.bits}},{key:"toString",value:function(){return this.stringValue}},{key:"equals",value:function(e){return e instanceof t&&this.value===e.value}}],[{key:"fromString",value:function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new p(e+"not available")}}},{key:"forBits",value:function(e){if(e<0||e>=t.FOR_BITS.size)throw new g;return t.FOR_BITS.get(e)}}]),t}();Ce.FOR_BITS=new Map,Ce.FOR_VALUE=new Map,Ce.L=new Ce(we.L,"L",1),Ce.M=new Ce(we.M,"M",0),Ce.Q=new Ce(we.Q,"Q",3),Ce.H=new Ce(we.H,"H",2);var Se=function(){function t(e){c(this,t),this.errorCorrectionLevel=Ce.forBits(e>>3&3),this.dataMask=7&e}return l(t,[{key:"getErrorCorrectionLevel",value:function(){return this.errorCorrectionLevel}},{key:"getDataMask",value:function(){return this.dataMask}},{key:"hashCode",value:function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}},{key:"equals",value:function(e){return e instanceof t&&this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask}}],[{key:"numBitsDiffering",value:function(t,e){return S.bitCount(t^e)}},{key:"decodeFormatInformation",value:function(e,n){var r=t.doDecodeFormatInformation(e,n);return null!==r?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)}},{key:"doDecodeFormatInformation",value:function(e,n){var r,i=Number.MAX_SAFE_INTEGER,o=0,a=u(t.FORMAT_INFO_DECODE_LOOKUP);try{for(a.s();!(r=a.n()).done;){var s=r.value,c=s[0];if(c===e||c===n)return new t(s[1]);var l=t.numBitsDiffering(e,c);l<i&&(o=s[1],i=l),e!==n&&(l=t.numBitsDiffering(n,c))<i&&(o=s[1],i=l)}}catch(h){a.e(h)}finally{a.f()}return i<=3?new t(o):null}}]),t}();Se.FORMAT_INFO_MASK_QR=21522,Se.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];var Ee,Oe=function(){function t(e){c(this,t),this.ecCodewordsPerBlock=e;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.ecBlocks=r}return l(t,[{key:"getECCodewordsPerBlock",value:function(){return this.ecCodewordsPerBlock}},{key:"getNumBlocks",value:function(){var t,e=0,n=u(this.ecBlocks);try{for(n.s();!(t=n.n()).done;)e+=t.value.getCount()}catch(r){n.e(r)}finally{n.f()}return e}},{key:"getTotalECCodewords",value:function(){return this.ecCodewordsPerBlock*this.getNumBlocks()}},{key:"getECBlocks",value:function(){return this.ecBlocks}}]),t}(),Ae=function(){function t(e,n){c(this,t),this.count=e,this.dataCodewords=n}return l(t,[{key:"getCount",value:function(){return this.count}},{key:"getDataCodewords",value:function(){return this.dataCodewords}}]),t}(),Ie=function(){function t(e,n){c(this,t),this.versionNumber=e,this.alignmentPatternCenters=n;for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];this.ecBlocks=i;var a,s=0,l=i[0].getECCodewordsPerBlock(),h=i[0].getECBlocks(),f=u(h);try{for(f.s();!(a=f.n()).done;){var d=a.value;s+=d.getCount()*(d.getDataCodewords()+l)}}catch(p){f.e(p)}finally{f.f()}this.totalCodewords=s}return l(t,[{key:"getVersionNumber",value:function(){return this.versionNumber}},{key:"getAlignmentPatternCenters",value:function(){return this.alignmentPatternCenters}},{key:"getTotalCodewords",value:function(){return this.totalCodewords}},{key:"getDimensionForVersion",value:function(){return 17+4*this.versionNumber}},{key:"getECBlocksForLevel",value:function(t){return this.ecBlocks[t.getValue()]}},{key:"buildFunctionPattern",value:function(){var t=this.getDimensionForVersion(),e=new D(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var i=this.alignmentPatternCenters[r]-2,o=0;o<n;o++)0===r&&(0===o||o===n-1)||r===n-1&&0===o||e.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e}},{key:"toString",value:function(){return""+this.versionNumber}}],[{key:"getProvisionalVersionForDimension",value:function(t){if(t%4!=1)throw new k;try{return this.getVersionForNumber((t-17)/4)}catch(e){throw new k}}},{key:"getVersionForNumber",value:function(e){if(e<1||e>40)throw new g;return t.VERSIONS[e-1]}},{key:"decodeVersionInformation",value:function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var a=Se.numBitsDiffering(e,o);a<n&&(r=i+7,n=a)}return n<=3?t.getVersionForNumber(r):null}}]),t}();Ie.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ie.VERSIONS=[new Ie(1,new Int32Array(0),new Oe(7,new Ae(1,19)),new Oe(10,new Ae(1,16)),new Oe(13,new Ae(1,13)),new Oe(17,new Ae(1,9))),new Ie(2,Int32Array.from([6,18]),new Oe(10,new Ae(1,34)),new Oe(16,new Ae(1,28)),new Oe(22,new Ae(1,22)),new Oe(28,new Ae(1,16))),new Ie(3,Int32Array.from([6,22]),new Oe(15,new Ae(1,55)),new Oe(26,new Ae(1,44)),new Oe(18,new Ae(2,17)),new Oe(22,new Ae(2,13))),new Ie(4,Int32Array.from([6,26]),new Oe(20,new Ae(1,80)),new Oe(18,new Ae(2,32)),new Oe(26,new Ae(2,24)),new Oe(16,new Ae(4,9))),new Ie(5,Int32Array.from([6,30]),new Oe(26,new Ae(1,108)),new Oe(24,new Ae(2,43)),new Oe(18,new Ae(2,15),new Ae(2,16)),new Oe(22,new Ae(2,11),new Ae(2,12))),new Ie(6,Int32Array.from([6,34]),new Oe(18,new Ae(2,68)),new Oe(16,new Ae(4,27)),new Oe(24,new Ae(4,19)),new Oe(28,new Ae(4,15))),new Ie(7,Int32Array.from([6,22,38]),new Oe(20,new Ae(2,78)),new Oe(18,new Ae(4,31)),new Oe(18,new Ae(2,14),new Ae(4,15)),new Oe(26,new Ae(4,13),new Ae(1,14))),new Ie(8,Int32Array.from([6,24,42]),new Oe(24,new Ae(2,97)),new Oe(22,new Ae(2,38),new Ae(2,39)),new Oe(22,new Ae(4,18),new Ae(2,19)),new Oe(26,new Ae(4,14),new Ae(2,15))),new Ie(9,Int32Array.from([6,26,46]),new Oe(30,new Ae(2,116)),new Oe(22,new Ae(3,36),new Ae(2,37)),new Oe(20,new Ae(4,16),new Ae(4,17)),new Oe(24,new Ae(4,12),new Ae(4,13))),new Ie(10,Int32Array.from([6,28,50]),new Oe(18,new Ae(2,68),new Ae(2,69)),new Oe(26,new Ae(4,43),new Ae(1,44)),new Oe(24,new Ae(6,19),new Ae(2,20)),new Oe(28,new Ae(6,15),new Ae(2,16))),new Ie(11,Int32Array.from([6,30,54]),new Oe(20,new Ae(4,81)),new Oe(30,new Ae(1,50),new Ae(4,51)),new Oe(28,new Ae(4,22),new Ae(4,23)),new Oe(24,new Ae(3,12),new Ae(8,13))),new Ie(12,Int32Array.from([6,32,58]),new Oe(24,new Ae(2,92),new Ae(2,93)),new Oe(22,new Ae(6,36),new Ae(2,37)),new Oe(26,new Ae(4,20),new Ae(6,21)),new Oe(28,new Ae(7,14),new Ae(4,15))),new Ie(13,Int32Array.from([6,34,62]),new Oe(26,new Ae(4,107)),new Oe(22,new Ae(8,37),new Ae(1,38)),new Oe(24,new Ae(8,20),new Ae(4,21)),new Oe(22,new Ae(12,11),new Ae(4,12))),new Ie(14,Int32Array.from([6,26,46,66]),new Oe(30,new Ae(3,115),new Ae(1,116)),new Oe(24,new Ae(4,40),new Ae(5,41)),new Oe(20,new Ae(11,16),new Ae(5,17)),new Oe(24,new Ae(11,12),new Ae(5,13))),new Ie(15,Int32Array.from([6,26,48,70]),new Oe(22,new Ae(5,87),new Ae(1,88)),new Oe(24,new Ae(5,41),new Ae(5,42)),new Oe(30,new Ae(5,24),new Ae(7,25)),new Oe(24,new Ae(11,12),new Ae(7,13))),new Ie(16,Int32Array.from([6,26,50,74]),new Oe(24,new Ae(5,98),new Ae(1,99)),new Oe(28,new Ae(7,45),new Ae(3,46)),new Oe(24,new Ae(15,19),new Ae(2,20)),new Oe(30,new Ae(3,15),new Ae(13,16))),new Ie(17,Int32Array.from([6,30,54,78]),new Oe(28,new Ae(1,107),new Ae(5,108)),new Oe(28,new Ae(10,46),new Ae(1,47)),new Oe(28,new Ae(1,22),new Ae(15,23)),new Oe(28,new Ae(2,14),new Ae(17,15))),new Ie(18,Int32Array.from([6,30,56,82]),new Oe(30,new Ae(5,120),new Ae(1,121)),new Oe(26,new Ae(9,43),new Ae(4,44)),new Oe(28,new Ae(17,22),new Ae(1,23)),new Oe(28,new Ae(2,14),new Ae(19,15))),new Ie(19,Int32Array.from([6,30,58,86]),new Oe(28,new Ae(3,113),new Ae(4,114)),new Oe(26,new Ae(3,44),new Ae(11,45)),new Oe(26,new Ae(17,21),new Ae(4,22)),new Oe(26,new Ae(9,13),new Ae(16,14))),new Ie(20,Int32Array.from([6,34,62,90]),new Oe(28,new Ae(3,107),new Ae(5,108)),new Oe(26,new Ae(3,41),new Ae(13,42)),new Oe(30,new Ae(15,24),new Ae(5,25)),new Oe(28,new Ae(15,15),new Ae(10,16))),new Ie(21,Int32Array.from([6,28,50,72,94]),new Oe(28,new Ae(4,116),new Ae(4,117)),new Oe(26,new Ae(17,42)),new Oe(28,new Ae(17,22),new Ae(6,23)),new Oe(30,new Ae(19,16),new Ae(6,17))),new Ie(22,Int32Array.from([6,26,50,74,98]),new Oe(28,new Ae(2,111),new Ae(7,112)),new Oe(28,new Ae(17,46)),new Oe(30,new Ae(7,24),new Ae(16,25)),new Oe(24,new Ae(34,13))),new Ie(23,Int32Array.from([6,30,54,78,102]),new Oe(30,new Ae(4,121),new Ae(5,122)),new Oe(28,new Ae(4,47),new Ae(14,48)),new Oe(30,new Ae(11,24),new Ae(14,25)),new Oe(30,new Ae(16,15),new Ae(14,16))),new Ie(24,Int32Array.from([6,28,54,80,106]),new Oe(30,new Ae(6,117),new Ae(4,118)),new Oe(28,new Ae(6,45),new Ae(14,46)),new Oe(30,new Ae(11,24),new Ae(16,25)),new Oe(30,new Ae(30,16),new Ae(2,17))),new Ie(25,Int32Array.from([6,32,58,84,110]),new Oe(26,new Ae(8,106),new Ae(4,107)),new Oe(28,new Ae(8,47),new Ae(13,48)),new Oe(30,new Ae(7,24),new Ae(22,25)),new Oe(30,new Ae(22,15),new Ae(13,16))),new Ie(26,Int32Array.from([6,30,58,86,114]),new Oe(28,new Ae(10,114),new Ae(2,115)),new Oe(28,new Ae(19,46),new Ae(4,47)),new Oe(28,new Ae(28,22),new Ae(6,23)),new Oe(30,new Ae(33,16),new Ae(4,17))),new Ie(27,Int32Array.from([6,34,62,90,118]),new Oe(30,new Ae(8,122),new Ae(4,123)),new Oe(28,new Ae(22,45),new Ae(3,46)),new Oe(30,new Ae(8,23),new Ae(26,24)),new Oe(30,new Ae(12,15),new Ae(28,16))),new Ie(28,Int32Array.from([6,26,50,74,98,122]),new Oe(30,new Ae(3,117),new Ae(10,118)),new Oe(28,new Ae(3,45),new Ae(23,46)),new Oe(30,new Ae(4,24),new Ae(31,25)),new Oe(30,new Ae(11,15),new Ae(31,16))),new Ie(29,Int32Array.from([6,30,54,78,102,126]),new Oe(30,new Ae(7,116),new Ae(7,117)),new Oe(28,new Ae(21,45),new Ae(7,46)),new Oe(30,new Ae(1,23),new Ae(37,24)),new Oe(30,new Ae(19,15),new Ae(26,16))),new Ie(30,Int32Array.from([6,26,52,78,104,130]),new Oe(30,new Ae(5,115),new Ae(10,116)),new Oe(28,new Ae(19,47),new Ae(10,48)),new Oe(30,new Ae(15,24),new Ae(25,25)),new Oe(30,new Ae(23,15),new Ae(25,16))),new Ie(31,Int32Array.from([6,30,56,82,108,134]),new Oe(30,new Ae(13,115),new Ae(3,116)),new Oe(28,new Ae(2,46),new Ae(29,47)),new Oe(30,new Ae(42,24),new Ae(1,25)),new Oe(30,new Ae(23,15),new Ae(28,16))),new Ie(32,Int32Array.from([6,34,60,86,112,138]),new Oe(30,new Ae(17,115)),new Oe(28,new Ae(10,46),new Ae(23,47)),new Oe(30,new Ae(10,24),new Ae(35,25)),new Oe(30,new Ae(19,15),new Ae(35,16))),new Ie(33,Int32Array.from([6,30,58,86,114,142]),new Oe(30,new Ae(17,115),new Ae(1,116)),new Oe(28,new Ae(14,46),new Ae(21,47)),new Oe(30,new Ae(29,24),new Ae(19,25)),new Oe(30,new Ae(11,15),new Ae(46,16))),new Ie(34,Int32Array.from([6,34,62,90,118,146]),new Oe(30,new Ae(13,115),new Ae(6,116)),new Oe(28,new Ae(14,46),new Ae(23,47)),new Oe(30,new Ae(44,24),new Ae(7,25)),new Oe(30,new Ae(59,16),new Ae(1,17))),new Ie(35,Int32Array.from([6,30,54,78,102,126,150]),new Oe(30,new Ae(12,121),new Ae(7,122)),new Oe(28,new Ae(12,47),new Ae(26,48)),new Oe(30,new Ae(39,24),new Ae(14,25)),new Oe(30,new Ae(22,15),new Ae(41,16))),new Ie(36,Int32Array.from([6,24,50,76,102,128,154]),new Oe(30,new Ae(6,121),new Ae(14,122)),new Oe(28,new Ae(6,47),new Ae(34,48)),new Oe(30,new Ae(46,24),new Ae(10,25)),new Oe(30,new Ae(2,15),new Ae(64,16))),new Ie(37,Int32Array.from([6,28,54,80,106,132,158]),new Oe(30,new Ae(17,122),new Ae(4,123)),new Oe(28,new Ae(29,46),new Ae(14,47)),new Oe(30,new Ae(49,24),new Ae(10,25)),new Oe(30,new Ae(24,15),new Ae(46,16))),new Ie(38,Int32Array.from([6,32,58,84,110,136,162]),new Oe(30,new Ae(4,122),new Ae(18,123)),new Oe(28,new Ae(13,46),new Ae(32,47)),new Oe(30,new Ae(48,24),new Ae(14,25)),new Oe(30,new Ae(42,15),new Ae(32,16))),new Ie(39,Int32Array.from([6,26,54,82,110,138,166]),new Oe(30,new Ae(20,117),new Ae(4,118)),new Oe(28,new Ae(40,47),new Ae(7,48)),new Oe(30,new Ae(43,24),new Ae(22,25)),new Oe(30,new Ae(10,15),new Ae(67,16))),new Ie(40,Int32Array.from([6,30,58,86,114,142,170]),new Oe(30,new Ae(19,118),new Ae(6,119)),new Oe(28,new Ae(18,47),new Ae(31,48)),new Oe(30,new Ae(34,24),new Ae(34,25)),new Oe(30,new Ae(20,15),new Ae(61,16)))],function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"}(Ee||(Ee={}));var ke=function(){function t(e,n){c(this,t),this.value=e,this.isMasked=n}return l(t,[{key:"unmaskBitMatrix",value:function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)}}]),t}();ke.values=new Map([[Ee.DATA_MASK_000,new ke(Ee.DATA_MASK_000,function(t,e){return 0==(t+e&1)})],[Ee.DATA_MASK_001,new ke(Ee.DATA_MASK_001,function(t,e){return 0==(1&t)})],[Ee.DATA_MASK_010,new ke(Ee.DATA_MASK_010,function(t,e){return e%3==0})],[Ee.DATA_MASK_011,new ke(Ee.DATA_MASK_011,function(t,e){return(t+e)%3==0})],[Ee.DATA_MASK_100,new ke(Ee.DATA_MASK_100,function(t,e){return 0==(Math.floor(t/2)+Math.floor(e/3)&1)})],[Ee.DATA_MASK_101,new ke(Ee.DATA_MASK_101,function(t,e){return t*e%6==0})],[Ee.DATA_MASK_110,new ke(Ee.DATA_MASK_110,function(t,e){return t*e%6<3})],[Ee.DATA_MASK_111,new ke(Ee.DATA_MASK_111,function(t,e){return 0==(t+e+t*e%3&1)})]]);var Re,Te=function(){function t(e){c(this,t);var n=e.getHeight();if(n<21||1!=(3&n))throw new k;this.bitMatrix=e}return l(t,[{key:"readFormatInformation",value:function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);for(var r=this.bitMatrix.getHeight(),i=0,o=r-7,a=r-1;a>=o;a--)i=this.copyBit(8,a,i);for(var s=r-8;s<r;s++)i=this.copyBit(s,8,i);if(this.parsedFormatInfo=Se.decodeFormatInformation(t,i),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new k}},{key:"readVersion",value:function(){if(null!=this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return Ie.getVersionForNumber(e);for(var n=0,r=t-11,i=5;i>=0;i--)for(var o=t-9;o>=r;o--)n=this.copyBit(o,i,n);var a=Ie.decodeVersionInformation(n);if(null!==a&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;n=0;for(var s=5;s>=0;s--)for(var u=t-9;u>=r;u--)n=this.copyBit(s,u,n);if(null!==(a=Ie.decodeVersionInformation(n))&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;throw new k}},{key:"copyBit",value:function(t,e,n){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?n<<1|1:n<<1}},{key:"readCodewords",value:function(){var t=this.readFormatInformation(),e=this.readVersion(),n=ke.values.get(t.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);for(var i=e.buildFunctionPattern(),o=!0,a=new Uint8Array(e.getTotalCodewords()),s=0,u=0,c=0,l=r-1;l>0;l-=2){6===l&&l--;for(var h=0;h<r;h++)for(var f=o?r-1-h:h,d=0;d<2;d++)i.get(l-d,f)||(c++,u<<=1,this.bitMatrix.get(l-d,f)&&(u|=1),8===c&&(a[s++]=u,c=0,u=0));o=!o}if(s!==e.getTotalCodewords())throw new k;return a}},{key:"remask",value:function(){if(null!==this.parsedFormatInfo){var t=ke.values[this.parsedFormatInfo.getDataMask()],e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}}},{key:"setMirror",value:function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}},{key:"mirror",value:function(){for(var t=this.bitMatrix,e=0,n=t.getWidth();e<n;e++)for(var r=e+1,i=t.getHeight();r<i;r++)t.get(e,r)!==t.get(r,e)&&(t.flip(r,e),t.flip(e,r))}}]),t}(),Me=function(){function t(e,n){c(this,t),this.numDataCodewords=e,this.codewords=n}return l(t,[{key:"getNumDataCodewords",value:function(){return this.numDataCodewords}},{key:"getCodewords",value:function(){return this.codewords}}],[{key:"getDataBlocks",value:function(e,n,r){if(e.length!==n.getTotalCodewords())throw new g;var i,o=n.getECBlocksForLevel(r),a=0,s=o.getECBlocks(),c=u(s);try{for(c.s();!(i=c.n()).done;)a+=i.value.getCount()}catch(R){c.e(R)}finally{c.f()}var l,h=new Array(a),f=0,d=u(s);try{for(d.s();!(l=d.n()).done;)for(var p=l.value,v=0;v<p.getCount();v++){var m=p.getDataCodewords(),y=o.getECCodewordsPerBlock()+m;h[f++]=new t(m,new Uint8Array(y))}}catch(R){d.e(R)}finally{d.f()}for(var b=h[0].codewords.length,w=h.length-1;w>=0&&h[w].codewords.length!==b;)w--;w++;for(var _=b-o.getECCodewordsPerBlock(),C=0,S=0;S<_;S++)for(var E=0;E<f;E++)h[E].codewords[S]=e[C++];for(var O=w;O<f;O++)h[O].codewords[_]=e[C++];for(var A=h[0].codewords.length,I=_;I<A;I++)for(var k=0;k<f;k++)h[k].codewords[k<w?I:I+1]=e[C++];return h}}]),t}();!function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"}(Re||(Re={}));var Ne=function(){function t(e,n,r,i){c(this,t),this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return l(t,[{key:"getCharacterCountBits",value:function(t){var e=t.getVersionNumber();return this.characterCountBitsForVersions[e<=9?0:e<=26?1:2]}},{key:"getValue",value:function(){return this.value}},{key:"getBits",value:function(){return this.bits}},{key:"equals",value:function(e){return e instanceof t&&this.value===e.value}},{key:"toString",value:function(){return this.stringValue}}],[{key:"forBits",value:function(e){var n=t.FOR_BITS.get(e);if(void 0===n)throw new g;return n}}]),t}();Ne.FOR_BITS=new Map,Ne.FOR_VALUE=new Map,Ne.TERMINATOR=new Ne(Re.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Ne.NUMERIC=new Ne(Re.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Ne.ALPHANUMERIC=new Ne(Re.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Ne.STRUCTURED_APPEND=new Ne(Re.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Ne.BYTE=new Ne(Re.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Ne.ECI=new Ne(Re.ECI,"ECI",Int32Array.from([0,0,0]),7),Ne.KANJI=new Ne(Re.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Ne.FNC1_FIRST_POSITION=new Ne(Re.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Ne.FNC1_SECOND_POSITION=new Ne(Re.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Ne.HANZI=new Ne(Re.HANZI,"HANZI",Int32Array.from([8,10,12]),13);var Pe=function(){function t(){c(this,t)}return l(t,null,[{key:"decode",value:function(e,n,r,i){var o=new ge(e),a=new P,s=new Array,u=-1,c=-1;try{var l,h=null,f=!1;do{if(o.available()<4)l=Ne.TERMINATOR;else{var d=o.readBits(4);l=Ne.forBits(d)}switch(l){case Ne.TERMINATOR:break;case Ne.FNC1_FIRST_POSITION:case Ne.FNC1_SECOND_POSITION:f=!0;break;case Ne.STRUCTURED_APPEND:if(o.available()<16)throw new k;u=o.readBits(8),c=o.readBits(8);break;case Ne.ECI:var p=t.parseECIValue(o);if(null===(h=R.getCharacterSetECIByValue(p)))throw new k;break;case Ne.HANZI:var g=o.readBits(4),v=o.readBits(l.getCharacterCountBits(n));g===t.GB2312_SUBSET&&t.decodeHanziSegment(o,a,v);break;default:var m=o.readBits(l.getCharacterCountBits(n));switch(l){case Ne.NUMERIC:t.decodeNumericSegment(o,a,m);break;case Ne.ALPHANUMERIC:t.decodeAlphanumericSegment(o,a,m,f);break;case Ne.BYTE:t.decodeByteSegment(o,a,m,h,s,i);break;case Ne.KANJI:t.decodeKanjiSegment(o,a,m);break;default:throw new k}}}while(l!==Ne.TERMINATOR)}catch(y){throw new k}return new Y(e,a.toString(),0===s.length?null:s,null===r?null:r.toString(),u,c)}},{key:"decodeHanziSegment",value:function(t,e,n){if(13*n>t.available())throw new k;for(var r=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),a=o/96<<8&4294967295|o%96;r[i]=(a+=a<959?41377:42657)>>8&255,r[i+1]=255&a,i+=2,n--}try{e.append(M.decode(r,N.GB2312))}catch(s){throw new k(s)}}},{key:"decodeKanjiSegment",value:function(t,e,n){if(13*n>t.available())throw new k;for(var r=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),a=o/192<<8&4294967295|o%192;r[i]=(a+=a<7936?33088:49472)>>8,r[i+1]=a,i+=2,n--}try{e.append(M.decode(r,N.SHIFT_JIS))}catch(s){throw new k(s)}}},{key:"decodeByteSegment",value:function(t,e,n,r,i,o){if(8*n>t.available())throw new k;for(var a,s=new Uint8Array(n),u=0;u<n;u++)s[u]=t.readBits(8);a=null===r?N.guessEncoding(s,o):r.getName();try{e.append(M.decode(s,a))}catch(c){throw new k(c)}i.push(s)}},{key:"toAlphaNumericChar",value:function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new k;return t.ALPHANUMERIC_CHARS[e]}},{key:"decodeAlphanumericSegment",value:function(e,n,r,i){for(var o=n.length();r>1;){if(e.available()<11)throw new k;var a=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(a/45))),n.append(t.toAlphaNumericChar(a%45)),r-=2}if(1===r){if(e.available()<6)throw new k;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<n.length();s++)"%"===n.charAt(s)&&(s<n.length()-1&&"%"===n.charAt(s+1)?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))}},{key:"decodeNumericSegment",value:function(e,n,r){for(;r>=3;){if(e.available()<10)throw new k;var i=e.readBits(10);if(i>=1e3)throw new k;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(2===r){if(e.available()<7)throw new k;var o=e.readBits(7);if(o>=100)throw new k;n.append(t.toAlphaNumericChar(Math.floor(o/10))),n.append(t.toAlphaNumericChar(o%10))}else if(1===r){if(e.available()<4)throw new k;var a=e.readBits(4);if(a>=10)throw new k;n.append(t.toAlphaNumericChar(a))}}},{key:"parseECIValue",value:function(t){var e=t.readBits(8);if(0==(128&e))return 127&e;if(128==(192&e))return(63&e)<<8&4294967295|t.readBits(8);if(192==(224&e))return(31&e)<<16&4294967295|t.readBits(16);throw new k}}]),t}();Pe.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Pe.GB2312_SUBSET=1;var De=function(){function t(e){c(this,t),this.mirrored=e}return l(t,[{key:"isMirrored",value:function(){return this.mirrored}},{key:"applyMirroredCorrection",value:function(t){if(this.mirrored&&null!==t&&!(t.length<3)){var e=t[0];t[0]=t[2],t[2]=e}}}]),t}(),xe=function(){function t(){c(this,t),this.rsDecoder=new rt($.QR_CODE_FIELD_256)}return l(t,[{key:"decodeBooleanArray",value:function(t,e){return this.decodeBitMatrix(D.parseFromBooleanArray(t),e)}},{key:"decodeBitMatrix",value:function(t,e){var n=new Te(t),r=null;try{return this.decodeBitMatrixParser(n,e)}catch(o){r=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,e);return i.setOther(new De(!0)),i}catch(o){if(null!==r)throw r;throw o}}},{key:"decodeBitMatrixParser",value:function(t,e){var n,r=t.readVersion(),i=t.readFormatInformation().getErrorCorrectionLevel(),o=t.readCodewords(),a=Me.getDataBlocks(o,r,i),s=0,c=u(a);try{for(c.s();!(n=c.n()).done;)s+=n.value.getNumDataCodewords()}catch(y){c.e(y)}finally{c.f()}var l,h=new Uint8Array(s),f=0,d=u(a);try{for(d.s();!(l=d.n()).done;){var p=l.value,g=p.getCodewords(),v=p.getNumDataCodewords();this.correctErrors(g,v);for(var m=0;m<v;m++)h[f++]=g[m]}}catch(y){d.e(y)}finally{d.f()}return Pe.decode(h,r,i,e)}},{key:"correctErrors",value:function(t,e){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch(i){throw new m}for(var r=0;r<e;r++)t[r]=n[r]}}]),t}(),Le=function(t){h(n,t);var e=f(n);function n(t,r,i){var o;return c(this,n),(o=e.call(this,t,r)).estimatedModuleSize=i,o}return l(n,[{key:"aboutEquals",value:function(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}},{key:"combineEstimate",value:function(t,e,r){return new n((this.getX()+e)/2,(this.getY()+t)/2,(this.estimatedModuleSize+r)/2)}}]),n}(st),Be=function(){function t(e,n,r,i,o,a,s){c(this,t),this.image=e,this.startX=n,this.startY=r,this.width=i,this.height=o,this.moduleSize=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return l(t,[{key:"find",value:function(){for(var t=this.startX,e=this.height,n=t+this.width,r=this.startY+e/2,i=new Int32Array(3),o=this.image,a=0;a<e;a++){var s=r+(0==(1&a)?Math.floor((a+1)/2):-Math.floor((a+1)/2));i[0]=0,i[1]=0,i[2]=0;for(var u=t;u<n&&!o.get(u,s);)u++;for(var c=0;u<n;){if(o.get(u,s))if(1===c)i[1]++;else if(2===c){if(this.foundPatternCross(i)){var l=this.handlePossibleCenter(i,s,u);if(null!==l)return l}i[0]=i[2],i[1]=1,i[2]=0,c=1}else i[++c]++;else 1===c&&c++,i[c]++;u++}if(this.foundPatternCross(i)){var h=this.handlePossibleCenter(i,s,n);if(null!==h)return h}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new x}},{key:"foundPatternCross",value:function(t){for(var e=this.moduleSize,n=e/2,r=0;r<3;r++)if(Math.abs(e-t[r])>=n)return!1;return!0}},{key:"crossCheckVertical",value:function(e,n,r,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&o.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!o.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(n,u)&&s[1]<=r;)s[1]++,u++;if(u===a||s[1]>r)return NaN;for(;u<a&&!o.get(n,u)&&s[2]<=r;)s[2]++,u++;return s[2]>r||5*Math.abs(s[0]+s[1]+s[2]-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN}},{key:"handlePossibleCenter",value:function(e,n,r){var i=e[0]+e[1]+e[2],o=t.centerFromEnd(e,r),a=this.crossCheckVertical(n,o,2*e[1],i);if(!isNaN(a)){var s,c=(e[0]+e[1]+e[2])/3,l=u(this.possibleCenters);try{for(l.s();!(s=l.n()).done;){var h=s.value;if(h.aboutEquals(c,a,o))return h.combineEstimate(a,o,c)}}catch(d){l.e(d)}finally{l.f()}var f=new Le(o,a,c);this.possibleCenters.push(f),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(f)}return null}}],[{key:"centerFromEnd",value:function(t,e){return e-t[2]-t[1]/2}}]),t}(),Fe=function(t){h(n,t);var e=f(n);function n(t,r,i,o){var a;return c(this,n),(a=e.call(this,t,r)).estimatedModuleSize=i,a.count=o,void 0===o&&(a.count=1),a}return l(n,[{key:"getEstimatedModuleSize",value:function(){return this.estimatedModuleSize}},{key:"getCount",value:function(){return this.count}},{key:"aboutEquals",value:function(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1}},{key:"combineEstimate",value:function(t,e,r){var i=this.count+1;return new n((this.count*this.getX()+e)/i,(this.count*this.getY()+t)/i,(this.count*this.estimatedModuleSize+r)/i,i)}}]),n}(st),je=function(){function t(e){c(this,t),this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}return l(t,[{key:"getBottomLeft",value:function(){return this.bottomLeft}},{key:"getTopLeft",value:function(){return this.topLeft}},{key:"getTopRight",value:function(){return this.topRight}}]),t}(),Ue=function(){function t(e,n){c(this,t),this.image=e,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return l(t,[{key:"getImage",value:function(){return this.image}},{key:"getPossibleCenters",value:function(){return this.possibleCenters}},{key:"find",value:function(e){var n=null!=e&&void 0!==e.get(I.TRY_HARDER),r=null!=e&&void 0!==e.get(I.PURE_BARCODE),i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*t.MAX_MODULES));(s<t.MIN_SKIP||n)&&(s=t.MIN_SKIP);for(var u=!1,c=new Int32Array(5),l=s-1;l<o&&!u;l+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var h=0,f=0;f<a;f++)if(i.get(f,l))1==(1&h)&&h++,c[h]++;else if(0==(1&h))if(4===h)if(t.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,l,f,r)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,h=3;continue}if(s=2,!0===this.hasSkipped)u=this.haveMultiplyConfirmedCenters();else{var d=this.findRowSkip();d>c[2]&&(l+=d-c[2]-s,f=a-1)}h=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,h=3;else c[++h]++;else c[h]++;t.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,l,a,r)&&(s=c[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return st.orderBestPatterns(p),new je(p)}},{key:"getCrossCheckStateCount",value:function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}},{key:"crossCheckDiagonal",value:function(e,n,r,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&n>=a&&s.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!s.get(n-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||n<a||o[1]>r)return!1;for(;e>=a&&n>=a&&s.get(n-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;var u=s.getHeight(),c=s.getWidth();for(a=1;e+a<u&&n+a<c&&s.get(n+a,e+a);)o[2]++,a++;if(e+a>=u||n+a>=c)return!1;for(;e+a<u&&n+a<c&&!s.get(n+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=u||n+a>=c||o[3]>=r)return!1;for(;e+a<u&&n+a<c&&s.get(n+a,e+a)&&o[4]<r;)o[4]++,a++;return!(o[4]>=r)&&Math.abs(o[0]+o[1]+o[2]+o[3]+o[4]-i)<2*i&&t.foundPatternCross(o)}},{key:"crossCheckVertical",value:function(e,n,r,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(n,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&o.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(n,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(n,u)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&o.get(n,u)&&s[4]<r;)s[4]++,u++;return s[4]>=r||5*Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN}},{key:"crossCheckHorizontal",value:function(e,n,r,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(u,n);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,n)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&o.get(u,n)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(u,n);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(u,n)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&o.get(u,n)&&s[4]<r;)s[4]++,u++;return s[4]>=r||5*Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN}},{key:"handlePossibleCenter",value:function(e,n,r,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,r),s=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var u=o/7,c=!1,l=this.possibleCenters,h=0,f=l.length;h<f;h++){var d=l[h];if(d.aboutEquals(u,s,a)){l[h]=d.combineEstimate(s,a,u),c=!0;break}}if(!c){var p=new Fe(a,s,u);l.push(p),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1}},{key:"findRowSkip",value:function(){if(this.possibleCenters.length<=1)return 0;var e,n=null,r=u(this.possibleCenters);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(i.getCount()>=t.CENTER_QUORUM){if(null!=n)return this.hasSkipped=!0,Math.floor((Math.abs(n.getX()-i.getX())-Math.abs(n.getY()-i.getY()))/2);n=i}}}catch(o){r.e(o)}finally{r.f()}return 0}},{key:"haveMultiplyConfirmedCenters",value:function(){var e,n=0,r=0,i=this.possibleCenters.length,o=u(this.possibleCenters);try{for(o.s();!(e=o.n()).done;){var a=e.value;a.getCount()>=t.CENTER_QUORUM&&(n++,r+=a.getEstimatedModuleSize())}}catch(f){o.e(f)}finally{o.f()}if(n<3)return!1;var s,c=r/i,l=0,h=u(this.possibleCenters);try{for(h.s();!(s=h.n()).done;)l+=Math.abs(s.value.getEstimatedModuleSize()-c)}catch(f){h.e(f)}finally{h.f()}return l<=.05*r}},{key:"selectBestPatterns",value:function(){var t=this.possibleCenters.length;if(t<3)throw new x;var e,n=this.possibleCenters;if(t>3){var r,i=0,o=0,a=u(this.possibleCenters);try{for(a.s();!(r=a.n()).done;){var s=r.value.getEstimatedModuleSize();i+=s,o+=s*s}}catch(g){a.e(g)}finally{a.f()}e=i/t;var c=Math.sqrt(o/t-e*e);n.sort(function(t,n){var r=Math.abs(n.getEstimatedModuleSize()-e),i=Math.abs(t.getEstimatedModuleSize()-e);return r<i?-1:r>i?1:0});for(var l=Math.max(.2*e,c),h=0;h<n.length&&n.length>3;h++)Math.abs(n[h].getEstimatedModuleSize()-e)>l&&(n.splice(h,1),h--)}if(n.length>3){var f,d=0,p=u(n);try{for(p.s();!(f=p.n()).done;)d+=f.value.getEstimatedModuleSize()}catch(g){p.e(g)}finally{p.f()}e=d/n.length,n.sort(function(t,n){if(n.getCount()===t.getCount()){var r=Math.abs(n.getEstimatedModuleSize()-e),i=Math.abs(t.getEstimatedModuleSize()-e);return r<i?1:r>i?-1:0}return n.getCount()-t.getCount()}),n.splice(3)}return[n[0],n[1],n[2]]}}],[{key:"centerFromEnd",value:function(t,e){return e-t[4]-t[3]-t[2]/2}},{key:"foundPatternCross",value:function(t){for(var e=0,n=0;n<5;n++){var r=t[n];if(0===r)return!1;e+=r}if(e<7)return!1;var i=e/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o}}]),t}();Ue.CENTER_QUORUM=2,Ue.MIN_SKIP=3,Ue.MAX_MODULES=57;var Ve=function(){function t(e){c(this,t),this.image=e}return l(t,[{key:"getImage",value:function(){return this.image}},{key:"getResultPointCallback",value:function(){return this.resultPointCallback}},{key:"detect",value:function(t){this.resultPointCallback=null==t?null:t.get(I.NEED_RESULT_POINT_CALLBACK);var e=new Ue(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(e)}},{key:"processFinderPatternInfo",value:function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(n,r,i);if(o<1)throw new x("No pattern found in proccess finder.");var a=t.computeDimension(n,r,i,o),s=Ie.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var l=r.getX()-n.getX()+i.getX(),h=r.getY()-n.getY()+i.getY(),f=1-3/u,d=Math.floor(n.getX()+f*(l-n.getX())),p=Math.floor(n.getY()+f*(h-n.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(o,d,p,g);break}catch(y){if(!(y instanceof x))throw y}var v=t.createTransform(n,r,i,c,a),m=t.sampleGrid(this.image,v,a);return new ut(m,null===c?[i,n,r]:[i,n,r,c])}},{key:"calculateModuleSize",value:function(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2}},{key:"calculateModuleSizeOneWay",value:function(t,e){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}},{key:"sizeOfBlackWhiteBlackRunBothWays",value:function(t,e,n,r){var i=this.sizeOfBlackWhiteBlackRun(t,e,n,r),o=1,a=t-(n-t);a<0?(o=t/(t-a),a=0):a>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(a-t),a=this.image.getWidth()-1);var s=Math.floor(e-(r-e)*o);return o=1,s<0?(o=e/(e-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-e)/(s-e),s=this.image.getHeight()-1),a=Math.floor(t+(a-t)*o),(i+=this.sizeOfBlackWhiteBlackRun(t,e,a,s))-1}},{key:"sizeOfBlackWhiteBlackRun",value:function(t,e,n,r){var i=Math.abs(r-e)>Math.abs(n-t);if(i){var o=t;t=e,e=o,o=n,n=r,r=o}for(var a=Math.abs(n-t),s=Math.abs(r-e),u=-a/2,c=t<n?1:-1,l=e<r?1:-1,h=0,f=n+c,d=t,p=e;d!==f;d+=c){if(1===h===this.image.get(i?p:d,i?d:p)){if(2===h)return ot.distance(d,p,t,e);h++}if((u+=s)>0){if(p===r)break;p+=l,u-=a}}return 2===h?ot.distance(n+c,r,t,e):NaN}},{key:"findAlignmentInRegion",value:function(t,e,n,r){var i=Math.floor(r*t),o=Math.max(0,e-i),a=Math.min(this.image.getWidth()-1,e+i);if(a-o<3*t)throw new x("Alignment top exceeds estimated module size.");var s=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-s<3*t)throw new x("Alignment bottom exceeds estimated module size.");return new Be(this.image,o,s,a-o,u-s,t,this.resultPointCallback).find()}}],[{key:"createTransform",value:function(t,e,n,r,i){var o,a,s,u,c=i-3.5;return null!==r?(o=r.getX(),a=r.getY(),u=s=c-3):(o=e.getX()-t.getX()+n.getX(),a=e.getY()-t.getY()+n.getY(),s=c,u=c),ft.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,s,u,3.5,c,t.getX(),t.getY(),e.getX(),e.getY(),o,a,n.getX(),n.getY())}},{key:"sampleGrid",value:function(t,e,n){return pt.getInstance().sampleGridWithTransform(t,n,n,e)}},{key:"computeDimension",value:function(t,e,n,r){var i=ot.round(st.distance(t,e)/r),o=ot.round(st.distance(t,n)/r),a=Math.floor((i+o)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new x("Dimensions could be not found.")}return a}}]),t}(),He=function(){function t(){c(this,t),this.decoder=new xe}return l(t,[{key:"getDecoder",value:function(){return this.decoder}},{key:"decode",value:function(e,n){var r,i;if(null!=n&&void 0!==n.get(I.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,n),i=t.NO_POINTS}else{var a=new Ve(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),i=a.getPoints()}r.getOther()instanceof De&&r.getOther().applyMirroredCorrection(i);var s=new G(r.getText(),r.getRawBytes(),void 0,i,Z.QR_CODE,void 0),u=r.getByteSegments();null!==u&&s.putMetadata(q.BYTE_SEGMENTS,u);var c=r.getECLevel();return null!==c&&s.putMetadata(q.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(s.putMetadata(q.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(q.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s}},{key:"reset",value:function(){}}],[{key:"extractPureBits",value:function(t){var e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(null===e||null===n)throw new x;var r=this.moduleSize(e,t),i=e[1],o=n[1],a=e[0],s=n[0];if(a>=s||i>=o)throw new x;if(o-i!=s-a&&(s=a+(o-i))>=t.getWidth())throw new x;var u=Math.round((s-a+1)/r),c=Math.round((o-i+1)/r);if(u<=0||c<=0)throw new x;if(c!==u)throw new x;var l=Math.floor(r/2);i+=l;var h=(a+=l)+Math.floor((u-1)*r)-s;if(h>0){if(h>l)throw new x;a-=h}var f=i+Math.floor((c-1)*r)-o;if(f>0){if(f>l)throw new x;i-=f}for(var d=new D(u,c),p=0;p<c;p++)for(var g=i+Math.floor(p*r),v=0;v<u;v++)t.get(a+Math.floor(v*r),g)&&d.set(v,p);return d}},{key:"moduleSize",value:function(t,e){for(var n=e.getHeight(),r=e.getWidth(),i=t[0],o=t[1],a=!0,s=0;i<r&&o<n;){if(a!==e.get(i,o)){if(5==++s)break;a=!a}i++,o++}if(i===r||o===n)throw new x;return(i-t[0])/7}}]),t}();He.NO_POINTS=new Array;var We=function(){function t(){c(this,t)}return l(t,[{key:"PDF417Common",value:function(){}}],[{key:"getBitCountSum",value:function(t){return ot.sum(t)}},{key:"toIntArray",value:function(e){if(null==e||!e.length)return t.EMPTY_INT_ARRAY;var n,r=new Int32Array(e.length),i=0,o=u(e);try{for(o.s();!(n=o.n()).done;)r[i++]=n.value}catch(a){o.e(a)}finally{o.f()}return r}},{key:"getCodeword",value:function(e){var n=C.binarySearch(t.SYMBOL_TABLE,262143&e);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS}}]),t}();We.NUMBER_OF_CODEWORDS=929,We.MAX_CODEWORDS_IN_BARCODE=We.NUMBER_OF_CODEWORDS-1,We.MIN_ROWS_IN_BARCODE=3,We.MAX_ROWS_IN_BARCODE=90,We.MODULES_IN_CODEWORD=17,We.MODULES_IN_STOP_PATTERN=18,We.BARS_IN_MODULE=8,We.EMPTY_INT_ARRAY=new Int32Array([]),We.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),We.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);var ze=function(){function t(e,n){c(this,t),this.bits=e,this.points=n}return l(t,[{key:"getBits",value:function(){return this.bits}},{key:"getPoints",value:function(){return this.points}}]),t}(),Ge=function(){function t(){c(this,t)}return l(t,null,[{key:"detectMultiple",value:function(e,n,r){var i=e.getBlackMatrix(),o=t.detect(r,i);return o.length||((i=i.clone()).rotate180(),o=t.detect(r,i)),new ze(i,o)}},{key:"detect",value:function(e,n){for(var r=new Array,i=0,o=0,a=!1;i<n.getHeight();){var s=t.findVertices(n,i,o);if(null!=s[0]||null!=s[3]){if(a=!0,r.push(s),!e)break;null!=s[2]?(o=Math.trunc(s[2].getX()),i=Math.trunc(s[2].getY())):(o=Math.trunc(s[4].getX()),i=Math.trunc(s[4].getY()))}else{if(!a)break;a=!1,o=0;var c,l=u(r);try{for(l.s();!(c=l.n()).done;){var h=c.value;null!=h[1]&&(i=Math.trunc(Math.max(i,h[1].getY()))),null!=h[3]&&(i=Math.max(i,Math.trunc(h[3].getY())))}}catch(f){l.e(f)}finally{l.f()}i+=t.ROW_STEP}}return r}},{key:"findVertices",value:function(e,n,r){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,o,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,o,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a}},{key:"copyToResult",value:function(t,e,n){for(var r=0;r<n.length;r++)t[n[r]]=e[r]}},{key:"findRowsWithPattern",value:function(e,n,r,i,o,a){for(var s=new Array(4),u=!1,c=new Int32Array(a.length);i<n;i+=t.ROW_STEP){var l=t.findGuardPattern(e,o,i,r,!1,a,c);if(null!=l){for(;i>0;){var h=t.findGuardPattern(e,o,--i,r,!1,a,c);if(null==h){i++;break}l=h}s[0]=new st(l[0],i),s[1]=new st(l[1],i),u=!0;break}}var f=i+1;if(u){for(var d=0,p=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);f<n;f++){var g=t.findGuardPattern(e,p[0],f,r,!1,a,c);if(null!=g&&Math.abs(p[0]-g[0])<t.MAX_PATTERN_DRIFT&&Math.abs(p[1]-g[1])<t.MAX_PATTERN_DRIFT)p=g,d=0;else{if(d>t.SKIPPED_ROW_COUNT_MAX)break;d++}}s[2]=new st(p[0],f-=d+1),s[3]=new st(p[1],f)}return f-i<t.BARCODE_MIN_HEIGHT&&C.fill(s,null),s}},{key:"findGuardPattern",value:function(e,n,r,i,o,a,s){C.fillWithin(s,0,s.length,0);for(var u=n,c=0;e.get(u,r)&&u>0&&c++<t.MAX_PIXEL_DRIFT;)u--;for(var l=u,h=0,f=a.length,d=o;l<i;l++)if(e.get(l,r)!==d)s[h]++;else{if(h===f-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,l]);u+=s[0]+s[1],b.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,d=!d}return h===f-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,l-1]):null}},{key:"patternMatchVariance",value:function(t,e,n){for(var r=t.length,i=0,o=0,a=0;a<r;a++)i+=t[a],o+=e[a];if(i<o)return 1/0;var s=i/o;n*=s;for(var u=0,c=0;c<r;c++){var l=t[c],h=e[c]*s,f=l>h?l-h:h-l;if(f>n)return 1/0;u+=f}return u/i}}]),t}();Ge.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ge.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ge.MAX_AVG_VARIANCE=.42,Ge.MAX_INDIVIDUAL_VARIANCE=.8,Ge.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ge.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ge.MAX_PIXEL_DRIFT=3,Ge.MAX_PATTERN_DRIFT=5,Ge.SKIPPED_ROW_COUNT_MAX=25,Ge.ROW_STEP=5,Ge.BARCODE_MIN_HEIGHT=10;var Xe=function(){function t(e,n){if(c(this,t),0===n.length)throw new g;this.field=e;var r=n.length;if(r>1&&0===n[0]){for(var i=1;i<r&&0===n[i];)i++;i===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-i),b.arraycopy(n,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return l(t,[{key:"getCoefficients",value:function(){return this.coefficients}},{key:"getDegree",value:function(){return this.coefficients.length-1}},{key:"isZero",value:function(){return 0===this.coefficients[0]}},{key:"getCoefficient",value:function(t){return this.coefficients[this.coefficients.length-1-t]}},{key:"evaluateAt",value:function(t){if(0===t)return this.getCoefficient(0);if(1===t){var e,n=0,r=u(this.coefficients);try{for(r.s();!(e=r.n()).done;)n=this.field.add(n,e.value)}catch(s){r.e(s)}finally{r.f()}return n}for(var i=this.coefficients[0],o=this.coefficients.length,a=1;a<o;a++)i=this.field.add(this.field.multiply(t,i),this.coefficients[a]);return i}},{key:"add",value:function(e){if(!this.field.equals(e.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),a=r.length-n.length;b.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=this.field.add(n[s-a],r[s]);return new t(this.field,o)}},{key:"subtract",value:function(t){if(!this.field.equals(t.field))throw new g("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}},{key:"multiply",value:function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)}},{key:"multiplyOther",value:function(e){if(!this.field.equals(e.field))throw new g("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),s=0;s<r;s++)for(var u=n[s],c=0;c<o;c++)a[s+c]=this.field.add(a[s+c],this.field.multiply(u,i[c]));return new t(this.field,a)}},{key:"negative",value:function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)}},{key:"multiplyScalar",value:function(e){if(0===e)return new t(this.field,new Int32Array([0]));if(1===e)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)}},{key:"multiplyByMonomial",value:function(e,n){if(e<0)throw new g;if(0===n)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new t(this.field,i)}},{key:"toString",value:function(){for(var t=new P,e=this.getDegree();e>=0;e--){var n=this.getCoefficient(e);0!==n&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),0!==e&&1===n||t.append(n),0!==e&&(1===e?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()}}]),t}(),Ze=function(t){h(n,t);var e=f(n);function n(t,r){var o;c(this,n),(o=e.call(this)).modulus=t,o.expTable=new Int32Array(t),o.logTable=new Int32Array(t);for(var a=1,s=0;s<t;s++)o.expTable[s]=a,a=a*r%t;for(var u=0;u<t-1;u++)o.logTable[o.expTable[u]]=u;return o.zero=new Xe(i(o),new Int32Array([0])),o.one=new Xe(i(o),new Int32Array([1])),o}return l(n,[{key:"getZero",value:function(){return this.zero}},{key:"getOne",value:function(){return this.one}},{key:"buildMonomial",value:function(t,e){if(t<0)throw new g;if(0===e)return this.zero;var n=new Int32Array(t+1);return n[0]=e,new Xe(this,n)}}]),n}(function(){function t(){c(this,t)}return l(t,[{key:"add",value:function(t,e){return(t+e)%this.modulus}},{key:"subtract",value:function(t,e){return(this.modulus+t-e)%this.modulus}},{key:"exp",value:function(t){return this.expTable[t]}},{key:"log",value:function(t){if(0===t)throw new g;return this.logTable[t]}},{key:"inverse",value:function(t){if(0===t)throw new J;return this.expTable[this.modulus-this.logTable[t]-1]}},{key:"multiply",value:function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]}},{key:"getSize",value:function(){return this.modulus}},{key:"equals",value:function(t){return t===this}}]),t}());Ze.PDF417_GF=new Ze(We.NUMBER_OF_CODEWORDS,3);var qe=function(){function t(){c(this,t),this.field=Ze.PDF417_GF}return l(t,[{key:"decode",value:function(t,e,n){for(var r=new Xe(this.field,t),i=new Int32Array(e),o=!1,a=e;a>0;a--){var s=r.evaluateAt(this.field.exp(a));i[e-a]=s,0!==s&&(o=!0)}if(!o)return 0;var c=this.field.getOne();if(null!=n){var l,h=u(n);try{for(h.s();!(l=h.n()).done;){var f=this.field.exp(t.length-1-l.value),d=new Xe(this.field,new Int32Array([this.field.subtract(0,f),1]));c=c.multiply(d)}}catch(S){h.e(S)}finally{h.f()}}for(var p=new Xe(this.field,i),g=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),p,e),v=g[0],y=g[1],b=this.findErrorLocations(v),w=this.findErrorMagnitudes(y,v,b),_=0;_<b.length;_++){var C=t.length-1-this.field.log(b[_]);if(C<0)throw m.getChecksumInstance();t[C]=this.field.subtract(t[C],w[_])}return b.length}},{key:"runEuclideanAlgorithm",value:function(t,e,n){if(t.getDegree()<e.getDegree()){var r=t;t=e,e=r}for(var i=t,o=e,a=this.field.getZero(),s=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=i,c=a;if(a=s,(i=o).isZero())throw m.getChecksumInstance();o=u;for(var l=this.field.getZero(),h=i.getCoefficient(i.getDegree()),f=this.field.inverse(h);o.getDegree()>=i.getDegree()&&!o.isZero();){var d=o.getDegree()-i.getDegree(),p=this.field.multiply(o.getCoefficient(o.getDegree()),f);l=l.add(this.field.buildMonomial(d,p)),o=o.subtract(i.multiplyByMonomial(d,p))}s=l.multiply(a).subtract(c).negative()}var g=s.getCoefficient(0);if(0===g)throw m.getChecksumInstance();var v=this.field.inverse(g);return[s.multiply(v),o.multiply(v)]}},{key:"findErrorLocations",value:function(t){for(var e=t.getDegree(),n=new Int32Array(e),r=0,i=1;i<this.field.getSize()&&r<e;i++)0===t.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!==e)throw m.getChecksumInstance();return n}},{key:"findErrorMagnitudes",value:function(t,e,n){for(var r=e.getDegree(),i=new Int32Array(r),o=1;o<=r;o++)i[r-o]=this.field.multiply(o,e.getCoefficient(o));for(var a=new Xe(this.field,i),s=n.length,u=new Int32Array(s),c=0;c<s;c++){var l=this.field.inverse(n[c]),h=this.field.subtract(0,t.evaluateAt(l)),f=this.field.inverse(a.evaluateAt(l));u[c]=this.field.multiply(h,f)}return u}}]),t}(),Ye=function(){function t(e,n,r,i,o){c(this,t),e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,o)}return l(t,[{key:"constructor_1",value:function(t,e,n,r,i){var o=null==e||null==n,a=null==r||null==i;if(o&&a)throw new x;o?(e=new st(0,r.getY()),n=new st(0,i.getY())):a&&(r=new st(t.getWidth()-1,e.getY()),i=new st(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=e,this.bottomLeft=n,this.topRight=r,this.bottomRight=i,this.minX=Math.trunc(Math.min(e.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),i.getX())),this.minY=Math.trunc(Math.min(e.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))}},{key:"constructor_2",value:function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}},{key:"addMissingRows",value:function(e,n,r){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,c=Math.trunc(u.getY()-e);c<0&&(c=0);var l=new st(u.getX(),c);r?i=l:a=l}if(n>0){var h=r?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+n);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var d=new st(h.getX(),f);r?o=d:s=d}return new t(this.image,i,o,a,s)}},{key:"getMinX",value:function(){return this.minX}},{key:"getMaxX",value:function(){return this.maxX}},{key:"getMinY",value:function(){return this.minY}},{key:"getMaxY",value:function(){return this.maxY}},{key:"getTopLeft",value:function(){return this.topLeft}},{key:"getTopRight",value:function(){return this.topRight}},{key:"getBottomLeft",value:function(){return this.bottomLeft}},{key:"getBottomRight",value:function(){return this.bottomRight}}],[{key:"merge",value:function(e,n){return null==e?n:null==n?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)}}]),t}(),Ke=function(){function t(e,n,r,i){c(this,t),this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=n,this.rowCountLowerPart=r,this.rowCount=n+r}return l(t,[{key:"getColumnCount",value:function(){return this.columnCount}},{key:"getErrorCorrectionLevel",value:function(){return this.errorCorrectionLevel}},{key:"getRowCount",value:function(){return this.rowCount}},{key:"getRowCountUpperPart",value:function(){return this.rowCountUpperPart}},{key:"getRowCountLowerPart",value:function(){return this.rowCountLowerPart}}]),t}(),Qe=function(){function t(){c(this,t),this.buffer=""}return l(t,[{key:"format",value:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.buffer+=t.form(e,r)}},{key:"toString",value:function(){return this.buffer}}],[{key:"form",value:function(t,e){var n=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(t,r,i,o,a,s){if("%%"===t)return"%";if(void 0!==e[++n]){t=o?parseInt(o.substr(1)):void 0;var u,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":u=e[n];break;case"c":u=e[n][0];break;case"f":u=parseFloat(e[n]).toFixed(t);break;case"p":u=parseFloat(e[n]).toPrecision(t);break;case"e":u=parseFloat(e[n]).toExponential(t);break;case"x":u=parseInt(e[n]).toString(c||16);break;case"d":u=parseFloat(parseInt(e[n],c||10).toPrecision(t)).toFixed(0)}u="object"==typeof u?JSON.stringify(u):(+u).toString(c);for(var l=parseInt(i),h=i&&i[0]+""=="0"?"0":" ";u.length<l;)u=void 0!==r?u+h:h+u;return u}})}}]),t}(),Je=function(){function t(e){c(this,t),this.boundingBox=new Ye(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}return l(t,[{key:"getCodewordNearby",value:function(e){var n=this.getCodeword(e);if(null!=n)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&null!=(n=this.codewords[i]))return n;if((i=this.imageRowToCodewordIndex(e)+r)<this.codewords.length&&null!=(n=this.codewords[i]))return n}return null}},{key:"imageRowToCodewordIndex",value:function(t){return t-this.boundingBox.getMinY()}},{key:"setCodeword",value:function(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e}},{key:"getCodeword",value:function(t){return this.codewords[this.imageRowToCodewordIndex(t)]}},{key:"getBoundingBox",value:function(){return this.boundingBox}},{key:"getCodewords",value:function(){return this.codewords}},{key:"toString",value:function(){var t,e=new Qe,n=0,r=u(this.codewords);try{for(r.s();!(t=r.n()).done;){var i=t.value;null!=i?e.format("%3d: %3d|%3d%n",n++,i.getRowNumber(),i.getValue()):e.format("%3d:    |   %n",n++)}}catch(o){r.e(o)}finally{r.f()}return e.toString()}}]),t}();Je.MAX_NEARBY_DISTANCE=5;var $e=function(){function t(){c(this,t),this.values=new Map}return l(t,[{key:"setValue",value:function(t){t=Math.trunc(t);var e=this.values.get(t);null==e&&(e=0),e++,this.values.set(t,e)}},{key:"getValue",value:function(){var t,e=-1,n=new Array,i=u(this.values.entries());try{var o=function(){var i=r(t.value,2),o=i[0],a=i[1],s=function(){return o},u=function(){return a};u()>e?(e=u(),(n=[]).push(s())):u()===e&&n.push(s())};for(i.s();!(t=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return We.toIntArray(n)}},{key:"getConfidence",value:function(t){return this.values.get(t)}}]),t}(),tn=function(t){h(n,t);var e=f(n);function n(t,r){var i;return c(this,n),(i=e.call(this,t))._isLeft=r,i}return l(n,[{key:"setRowNumbers",value:function(){var t,e=u(this.getCodewords());try{for(e.s();!(t=e.n()).done;){var n=t.value;null!=n&&n.setRowNumberAsRowIndicatorColumn()}}catch(r){e.e(r)}finally{e.f()}}},{key:"adjustCompleteIndicatorColumnRowNumbers",value:function(t){var e=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(e,t);for(var n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=-1,u=1,c=0,l=o;l<a;l++)if(null!=e[l]){var h=e[l],f=h.getRowNumber()-s;if(0===f)c++;else if(1===f)u=Math.max(u,c),c=1,s=h.getRowNumber();else if(f<0||h.getRowNumber()>=t.getRowCount()||f>l)e[l]=null;else{for(var d,p=(d=u>2?(u-2)*f:f)>=l,g=1;g<=d&&!p;g++)p=null!=e[l-g];p?e[l]=null:(s=h.getRowNumber(),c=1)}}}},{key:"getRowHeights",value:function(){var t=this.getBarcodeMetadata();if(null==t)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);var e,n=new Int32Array(t.getRowCount()),r=u(this.getCodewords());try{for(r.s();!(e=r.n()).done;){var i=e.value;if(null!=i){var o=i.getRowNumber();if(o>=n.length)continue;n[o]++}}}catch(a){r.e(a)}finally{r.f()}return n}},{key:"adjustIncompleteIndicatorColumnRowNumbers",value:function(t){for(var e=this.getBoundingBox(),n=this._isLeft?e.getTopLeft():e.getTopRight(),r=this._isLeft?e.getBottomLeft():e.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.getCodewords(),s=-1,u=i;u<o;u++)if(null!=a[u]){var c=a[u];c.setRowNumberAsRowIndicatorColumn();var l=c.getRowNumber()-s;0===l||(1===l?s=c.getRowNumber():c.getRowNumber()>=t.getRowCount()?a[u]=null:s=c.getRowNumber())}}},{key:"getBarcodeMetadata",value:function(){var t,e=this.getCodewords(),n=new $e,r=new $e,i=new $e,o=new $e,a=u(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if(null!=s){s.setRowNumberAsRowIndicatorColumn();var c=s.getValue()%30,l=s.getRowNumber();switch(this._isLeft||(l+=2),l%3){case 0:r.setValue(3*c+1);break;case 1:o.setValue(c/3),i.setValue(c%3);break;case 2:n.setValue(c+1)}}}}catch(f){a.e(f)}finally{a.f()}if(0===n.getValue().length||0===r.getValue().length||0===i.getValue().length||0===o.getValue().length||n.getValue()[0]<1||r.getValue()[0]+i.getValue()[0]<We.MIN_ROWS_IN_BARCODE||r.getValue()[0]+i.getValue()[0]>We.MAX_ROWS_IN_BARCODE)return null;var h=new Ke(n.getValue()[0],r.getValue()[0],i.getValue()[0],o.getValue()[0]);return this.removeIncorrectCodewords(e,h),h}},{key:"removeIncorrectCodewords",value:function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(null!=t[n]){var i=r.getValue()%30,o=r.getRowNumber();if(o>e.getRowCount())t[n]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*i+1!==e.getRowCountUpperPart()&&(t[n]=null);break;case 1:Math.trunc(i/3)===e.getErrorCorrectionLevel()&&i%3===e.getRowCountLowerPart()||(t[n]=null);break;case 2:i+1!==e.getColumnCount()&&(t[n]=null)}}}}},{key:"isLeft",value:function(){return this._isLeft}},{key:"toString",value:function(){return"IsLeft: "+this._isLeft+"\n"+a(s(n.prototype),"toString",this).call(this)}}]),n}(Je),en=function(){function t(e,n){c(this,t),this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return l(t,[{key:"getDetectionResultColumns",value:function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t,e=We.MAX_CODEWORDS_IN_BARCODE;do{t=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<t);return this.detectionResultColumns}},{key:"adjustIndicatorColumnRowNumbers",value:function(t){null!=t&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}},{key:"adjustRowNumbersAndGetCount",value:function(){var t=this.adjustRowNumbersByRow();if(0===t)return 0;for(var e=1;e<this.barcodeColumnCount+1;e++)for(var n=this.detectionResultColumns[e].getCodewords(),r=0;r<n.length;r++)null!=n[r]&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(e,r,n));return t}},{key:"adjustRowNumbersByRow",value:function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}},{key:"adjustRowNumbersFromBothRI",value:function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(null!=t[n]&&null!=e[n]&&t[n].getRowNumber()===e[n].getRowNumber())for(var r=1;r<=this.barcodeColumnCount;r++){var i=this.detectionResultColumns[r].getCodewords()[n];null!=i&&(i.setRowNumber(t[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}}},{key:"adjustRowNumbersFromRRI",value:function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var i=n[r].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e}},{key:"adjustRowNumbersFromLRI",value:function(){if(null==this.detectionResultColumns[0])return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var i=n[r].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e}},{key:"adjustRowNumbers",value:function(e,n,r){var i=r[n],o=this.detectionResultColumns[e-1].getCodewords(),a=o;null!=this.detectionResultColumns[e+1]&&(a=this.detectionResultColumns[e+1].getCodewords());var s=new Array(14);s[2]=o[n],s[3]=a[n],n>0&&(s[0]=r[n-1],s[4]=o[n-1],s[5]=a[n-1]),n>1&&(s[8]=r[n-2],s[10]=o[n-2],s[11]=a[n-2]),n<r.length-1&&(s[1]=r[n+1],s[6]=o[n+1],s[7]=a[n+1]),n<r.length-2&&(s[9]=r[n+2],s[12]=o[n+2],s[13]=a[n+2]);for(var u=0,c=s;u<c.length;u++)if(t.adjustRowNumber(i,c[u]))return}},{key:"getBarcodeColumnCount",value:function(){return this.barcodeColumnCount}},{key:"getBarcodeRowCount",value:function(){return this.barcodeMetadata.getRowCount()}},{key:"getBarcodeECLevel",value:function(){return this.barcodeMetadata.getErrorCorrectionLevel()}},{key:"setBoundingBox",value:function(t){this.boundingBox=t}},{key:"getBoundingBox",value:function(){return this.boundingBox}},{key:"setDetectionResultColumn",value:function(t,e){this.detectionResultColumns[t]=e}},{key:"getDetectionResultColumn",value:function(t){return this.detectionResultColumns[t]}},{key:"toString",value:function(){var t=this.detectionResultColumns[0];null==t&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var e=new Qe,n=0;n<t.getCodewords().length;n++){e.format("CW %3d:",n);for(var r=0;r<this.barcodeColumnCount+2;r++)if(null!=this.detectionResultColumns[r]){var i=this.detectionResultColumns[r].getCodewords()[n];null!=i?e.format(" %3d|%3d",i.getRowNumber(),i.getValue()):e.format("    |   ")}else e.format("    |   ");e.format("%n")}return e.toString()}}],[{key:"adjustRowNumberIfValid",value:function(t,e,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),e=0):++e),e}},{key:"adjustRowNumber",value:function(t,e){return!(null==e||!e.hasValidRowNumber()||e.getBucket()!==t.getBucket()||(t.setRowNumber(e.getRowNumber()),0))}}]),t}(),nn=function(){function t(e,n,r,i){c(this,t),this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return l(t,[{key:"hasValidRowNumber",value:function(){return this.isValidRowNumber(this.rowNumber)}},{key:"isValidRowNumber",value:function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}},{key:"setRowNumberAsRowIndicatorColumn",value:function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}},{key:"getWidth",value:function(){return this.endX-this.startX}},{key:"getStartX",value:function(){return this.startX}},{key:"getEndX",value:function(){return this.endX}},{key:"getBucket",value:function(){return this.bucket}},{key:"getValue",value:function(){return this.value}},{key:"getRowNumber",value:function(){return this.rowNumber}},{key:"setRowNumber",value:function(t){this.rowNumber=t}},{key:"toString",value:function(){return this.rowNumber+"|"+this.value}}]),t}();nn.BARCODE_ROW_UNKNOWN=-1;var rn=function(){function t(){c(this,t)}return l(t,null,[{key:"initialize",value:function(){for(var e=0;e<We.SYMBOL_TABLE.length;e++)for(var n=We.SYMBOL_TABLE[e],r=1&n,i=0;i<We.BARS_IN_MODULE;i++){for(var o=0;(1&n)===r;)o+=1,n>>=1;r=1&n,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(We.BARS_IN_MODULE)),t.RATIOS_TABLE[e][We.BARS_IN_MODULE-i-1]=Math.fround(o/We.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0}},{key:"getDecodedValue",value:function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return-1!==n?n:t.getClosestDecodedValue(e)}},{key:"sampleBitCounts",value:function(t){for(var e=ot.sum(t),n=new Int32Array(We.BARS_IN_MODULE),r=0,i=0,o=0;o<We.MODULES_IN_CODEWORD;o++)i+t[r]<=e/(2*We.MODULES_IN_CODEWORD)+o*e/We.MODULES_IN_CODEWORD&&(i+=t[r],r++),n[r]++;return n}},{key:"getDecodedCodewordValue",value:function(e){var n=t.getBitValue(e);return-1===We.getCodeword(n)?-1:n}},{key:"getBitValue",value:function(t){for(var e=0,n=0;n<t.length;n++)for(var r=0;r<t[n];r++)e=e<<1|(n%2==0?1:0);return Math.trunc(e)}},{key:"getClosestDecodedValue",value:function(e){var n=ot.sum(e),r=new Array(We.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var o=at.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,c=t.RATIOS_TABLE[s],l=0;l<We.BARS_IN_MODULE;l++){var h=Math.fround(c[l]-r[l]);if((u+=Math.fround(h*h))>=o)break}u<o&&(o=u,a=We.SYMBOL_TABLE[s])}return a}}]),t}();rn.bSymbolTableReady=!1,rn.RATIOS_TABLE=new Array(We.SYMBOL_TABLE.length).map(function(t){return new Array(We.BARS_IN_MODULE)});var on=function(){function t(){c(this,t),this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return l(t,[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"setSegmentIndex",value:function(t){this.segmentIndex=t}},{key:"getFileId",value:function(){return this.fileId}},{key:"setFileId",value:function(t){this.fileId=t}},{key:"getOptionalData",value:function(){return this.optionalData}},{key:"setOptionalData",value:function(t){this.optionalData=t}},{key:"isLastSegment",value:function(){return this.lastSegment}},{key:"setLastSegment",value:function(t){this.lastSegment=t}},{key:"getSegmentCount",value:function(){return this.segmentCount}},{key:"setSegmentCount",value:function(t){this.segmentCount=t}},{key:"getSender",value:function(){return this.sender||null}},{key:"setSender",value:function(t){this.sender=t}},{key:"getAddressee",value:function(){return this.addressee||null}},{key:"setAddressee",value:function(t){this.addressee=t}},{key:"getFileName",value:function(){return this.fileName}},{key:"setFileName",value:function(t){this.fileName=t}},{key:"getFileSize",value:function(){return this.fileSize}},{key:"setFileSize",value:function(t){this.fileSize=t}},{key:"getChecksum",value:function(){return this.checksum}},{key:"setChecksum",value:function(t){this.checksum=t}},{key:"getTimestamp",value:function(){return this.timestamp}},{key:"setTimestamp",value:function(t){this.timestamp=t}}]),t}(),an=function(){function t(){c(this,t)}return l(t,null,[{key:"parseLong",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return parseInt(t,e)}}]),t}(),sn=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);sn.kind="NullPointerException";var un,cn,ln=function(){function t(){c(this,t)}return l(t,[{key:"writeBytes",value:function(t){this.writeBytesOffset(t,0,t.length)}},{key:"writeBytesOffset",value:function(t,e,n){if(null==t)throw new sn;if(e<0||e>t.length||n<0||e+n>t.length||e+n<0)throw new w;if(0!==n)for(var r=0;r<n;r++)this.write(t[e+r])}},{key:"flush",value:function(){}},{key:"close",value:function(){}}]),t}(),hn=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d),fn=function(t){h(n,t);var e=f(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(c(this,n),(t=e.call(this)).count=0,r<0)throw new g("Negative initial size: "+r);return t.buf=new Uint8Array(r),t}return l(n,[{key:"ensureCapacity",value:function(t){t-this.buf.length>0&&this.grow(t)}},{key:"grow",value:function(t){var e=this.buf.length<<1;if(e-t<0&&(e=t),e<0){if(t<0)throw new hn;e=S.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,e)}},{key:"write",value:function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}},{key:"writeBytesOffset",value:function(t,e,n){if(e<0||e>t.length||n<0||e+n-t.length>0)throw new w;this.ensureCapacity(this.count+n),b.arraycopy(t,e,this.buf,this.count,n),this.count+=n}},{key:"writeTo",value:function(t){t.writeBytesOffset(this.buf,0,this.count)}},{key:"reset",value:function(){this.count=0}},{key:"toByteArray",value:function(){return C.copyOfUint8Array(this.buf,this.count)}},{key:"size",value:function(){return this.count}},{key:"toString",value:function(t){return t?"string"==typeof t?this.toString_string(t):this.toString_number(t):this.toString_void()}},{key:"toString_void",value:function(){return new String(this.buf).toString()}},{key:"toString_string",value:function(t){return new String(this.buf).toString()}},{key:"toString_number",value:function(t){return new String(this.buf).toString()}},{key:"close",value:function(){}}]),n}(ln);function dn(){if("undefined"!=typeof window)return window.BigInt||null;if("undefined"!=typeof global)return global.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function pn(t){if(void 0===cn&&(cn=dn()),null===cn)throw new Error("BigInt is not supported!");return cn(t)}!function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(un||(un={}));var gn=function(){function t(){c(this,t)}return l(t,null,[{key:"decode",value:function(e,n){var r=new P(""),i=R.ISO8859_1;r.enableDecoding(i);for(var o=1,a=e[o++],s=new on;o<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(a,e,i,o,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,r);break;case t.ECI_CHARSET:R.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new k;default:o--,o=t.textCompaction(e,o,r)}if(!(o<e.length))throw k.getFormatInstance();a=e[o++]}if(0===r.length())throw k.getFormatInstance();var u=new Y(null,r.toString(),null,n);return u.setOther(s),u}},{key:"decodeMacroBlock",value:function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw k.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,n++)i[o]=e[n];r.setSegmentIndex(S.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new P;n=t.textCompaction(e,n,a),r.setFileId(a.toString());var s=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new P;n=t.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new P;n=t.textCompaction(e,n+1,c),r.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var l=new P;n=t.textCompaction(e,n+1,l),r.setAddressee(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new P;n=t.numericCompaction(e,n+1,h),r.setSegmentCount(S.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new P;n=t.numericCompaction(e,n+1,f),r.setTimestamp(an.parseLong(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var d=new P;n=t.numericCompaction(e,n+1,d),r.setChecksum(S.parseInt(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new P;n=t.numericCompaction(e,n+1,p),r.setFileSize(an.parseLong(p.toString()));break;default:throw k.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(-1!==s){var g=n-s;r.isLastSegment()&&g--,r.setOptionalData(C.copyOfRange(e,s,s+g))}return n}},{key:"textCompaction",value:function(e,n,r){for(var i=new Int32Array(2*(e[0]-n)),o=new Int32Array(2*(e[0]-n)),a=0,s=!1;n<e[0]&&!s;){var u=e[n++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],o[a]=u,a++}}return t.decodeTextCompaction(i,o,a,r),n}},{key:"decodeTextCompaction",value:function(e,n,r,i){for(var o=un.ALPHA,a=un.ALPHA,s=0;s<r;){var u=e[s],c="";switch(o){case un.ALPHA:if(u<26)c=String.fromCharCode(65+u);else switch(u){case 26:c=" ";break;case t.LL:o=un.LOWER;break;case t.ML:o=un.MIXED;break;case t.PS:a=o,o=un.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=un.ALPHA}break;case un.LOWER:if(u<26)c=String.fromCharCode(97+u);else switch(u){case 26:c=" ";break;case t.AS:a=o,o=un.ALPHA_SHIFT;break;case t.ML:o=un.MIXED;break;case t.PS:a=o,o=un.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=un.ALPHA}break;case un.MIXED:if(u<t.PL)c=t.MIXED_CHARS[u];else switch(u){case t.PL:o=un.PUNCT;break;case 26:c=" ";break;case t.LL:o=un.LOWER;break;case t.AL:o=un.ALPHA;break;case t.PS:a=o,o=un.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=un.ALPHA}break;case un.PUNCT:if(u<t.PAL)c=t.PUNCT_CHARS[u];else switch(u){case t.PAL:o=un.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=un.ALPHA}break;case un.ALPHA_SHIFT:if(o=a,u<26)c=String.fromCharCode(65+u);else switch(u){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=un.ALPHA}break;case un.PUNCT_SHIFT:if(o=a,u<t.PAL)c=t.PUNCT_CHARS[u];else switch(u){case t.PAL:o=un.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=un.ALPHA}}""!==c&&i.append(c),s++}}},{key:"byteCompaction",value:function(e,n,r,i,o){var a=new fn,s=0,u=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var l=new Int32Array(6),h=n[i++];i<n[0]&&!c;)switch(l[s++]=h,u=900*u+h,h=n[i++]){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5==0&&s>0){for(var f=0;f<6;++f)a.write(Number(pn(u)>>pn(8*(5-f))));u=0,s=0}}i===n[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(l[s++]=h);for(var d=0;d<s;d++)a.write(l[d]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!c;){var p=n[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0}if(s%5==0&&s>0){for(var g=0;g<6;++g)a.write(Number(pn(u)>>pn(8*(5-g))));u=0,s=0}}}return o.append(M.decode(a.toByteArray(),r)),i}},{key:"numericCompaction",value:function(e,n,r){for(var i=0,o=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!o;){var s=e[n++];if(n===e[0]&&(o=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,o=!0}(i%t.MAX_NUMERIC_CODEWORDS==0||s===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(t.decodeBase900toBase10(a,i)),i=0)}return n}},{key:"decodeBase900toBase10",value:function(e,n){for(var r=pn(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*pn(e[i]);var o=r.toString();if("1"!==o.charAt(0))throw new k;return o.substring(1)}}]),t}();gn.TEXT_COMPACTION_MODE_LATCH=900,gn.BYTE_COMPACTION_MODE_LATCH=901,gn.NUMERIC_COMPACTION_MODE_LATCH=902,gn.BYTE_COMPACTION_MODE_LATCH_6=924,gn.ECI_USER_DEFINED=925,gn.ECI_GENERAL_PURPOSE=926,gn.ECI_CHARSET=927,gn.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,gn.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,gn.MACRO_PDF417_TERMINATOR=922,gn.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,gn.MAX_NUMERIC_CODEWORDS=15,gn.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,gn.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,gn.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,gn.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,gn.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,gn.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,gn.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,gn.PL=25,gn.LL=27,gn.AS=27,gn.ML=28,gn.AL=28,gn.PS=29,gn.PAL=29,gn.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",gn.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",gn.EXP900=dn()?function(){var t=[];t[0]=pn(1);var e=pn(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}():[],gn.NUMBER_OF_SEQUENCE_CODEWORDS=2;var vn=function(){function t(){c(this,t)}return l(t,null,[{key:"decode",value:function(e,n,r,i,o,a,s){for(var u,c=new Ye(e,n,r,i,o),l=null,h=null,f=!0;;f=!1){if(null!=n&&(l=t.getRowIndicatorColumn(e,c,n,!0,a,s)),null!=i&&(h=t.getRowIndicatorColumn(e,c,i,!1,a,s)),null==(u=t.merge(l,h)))throw x.getNotFoundInstance();var d=u.getBoundingBox();if(!f||null==d||!(d.getMinY()<c.getMinY()||d.getMaxY()>c.getMaxY()))break;c=d}u.setBoundingBox(c);var p=u.getBarcodeColumnCount()+1;u.setDetectionResultColumn(0,l),u.setDetectionResultColumn(p,h);for(var g=null!=l,v=1;v<=p;v++){var m=g?v:p-v;if(void 0===u.getDetectionResultColumn(m)){var y=void 0;y=0===m||m===p?new tn(c,0===m):new Je(c),u.setDetectionResultColumn(m,y);for(var b=-1,w=b,_=c.getMinY();_<=c.getMaxY();_++){if((b=t.getStartColumn(u,m,_,g))<0||b>c.getMaxX()){if(-1===w)continue;b=w}var C=t.detectCodeword(e,c.getMinX(),c.getMaxX(),g,b,_,a,s);null!=C&&(y.setCodeword(_,C),w=b,a=Math.min(a,C.getWidth()),s=Math.max(s,C.getWidth()))}}}return t.createDecoderResult(u)}},{key:"merge",value:function(e,n){if(null==e&&null==n)return null;var r=t.getBarcodeMetadata(e,n);if(null==r)return null;var i=Ye.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new en(r,i)}},{key:"adjustBoundingBox",value:function(e){if(null==e)return null;var n=e.getRowHeights();if(null==n)return null;var r,i=t.getMax(n),o=0,a=u(n);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(o+=i-s,s>0)break}}catch(p){a.e(p)}finally{a.f()}for(var c=e.getCodewords(),l=0;o>0&&null==c[l];l++)o--;for(var h=0,f=n.length-1;f>=0&&(h+=i-n[f],!(n[f]>0));f--);for(var d=c.length-1;h>0&&null==c[d];d--)h--;return e.getBoundingBox().addMissingRows(o,h,e.isLeft())}},{key:"getMax",value:function(t){var e,n=-1,r=u(t);try{for(r.s();!(e=r.n()).done;)n=Math.max(n,e.value)}catch(i){r.e(i)}finally{r.f()}return n}},{key:"getBarcodeMetadata",value:function(t,e){var n,r;return null==t||null==(n=t.getBarcodeMetadata())?null==e?null:e.getBarcodeMetadata():null==e||null==(r=e.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}},{key:"getRowIndicatorColumn",value:function(e,n,r,i,o,a){for(var s=new tn(n,i),u=0;u<2;u++)for(var c=0===u?1:-1,l=Math.trunc(Math.trunc(r.getX())),h=Math.trunc(Math.trunc(r.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=c){var f=t.detectCodeword(e,0,e.getWidth(),i,l,h,o,a);null!=f&&(s.setCodeword(h,f),l=i?f.getStartX():f.getEndX())}return s}},{key:"adjustCodewordCount",value:function(e,n){var r=n[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===i.length){if(o<1||o>We.MAX_CODEWORDS_IN_BARCODE)throw x.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)}},{key:"createDecoderResult",value:function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var c=n[s][u+1].getValue(),l=s*e.getBarcodeColumnCount()+u;0===c.length?r.push(l):1===c.length?i[l]=c[0]:(a.push(l),o.push(c))}for(var h=new Array(o.length),f=0;f<h.length;f++)h[f]=o[f];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,We.toIntArray(r),We.toIntArray(a),h)}},{key:"createDecoderResultFromAmbiguousValues",value:function(e,n,r,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)n[i[u]]=o[u][a[u]];try{return t.decodeCodewords(n,e,r)}catch(l){if(!(l instanceof m))throw l}if(0===a.length)throw m.getChecksumInstance();for(var c=0;c<a.length;c++){if(a[c]<o[c].length-1){a[c]++;break}if(a[c]=0,c===a.length-1)throw m.getChecksumInstance()}}throw m.getChecksumInstance()}},{key:"createBarcodeMatrix",value:function(t){for(var e=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),n=0;n<e.length;n++)for(var r=0;r<e[n].length;r++)e[n][r]=new $e;var i,o=0,a=u(t.getDetectionResultColumns());try{for(a.s();!(i=a.n()).done;){var s=i.value;if(null!=s){var c,l=u(s.getCodewords());try{for(l.s();!(c=l.n()).done;){var h=c.value;if(null!=h){var f=h.getRowNumber();if(f>=0){if(f>=e.length)continue;e[f][o].setValue(h.getValue())}}}}catch(d){l.e(d)}finally{l.f()}}o++}}catch(d){a.e(d)}finally{a.f()}return e}},{key:"isValidBarcodeColumn",value:function(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1}},{key:"getStartColumn",value:function(e,n,r,i){var o=i?1:-1,a=null;if(t.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodeword(r)),null!=a)return i?a.getEndX():a.getStartX();if(null!=(a=e.getDetectionResultColumn(n).getCodewordNearby(r)))return i?a.getStartX():a.getEndX();if(t.isValidBarcodeColumn(e,n-o)&&(a=e.getDetectionResultColumn(n-o).getCodewordNearby(r)),null!=a)return i?a.getEndX():a.getStartX();for(var s=0;t.isValidBarcodeColumn(e,n-o);){var c,l=u(e.getDetectionResultColumn(n-=o).getCodewords());try{for(l.s();!(c=l.n()).done;){var h=c.value;if(null!=h)return(i?h.getEndX():h.getStartX())+o*s*(h.getEndX()-h.getStartX())}}catch(f){l.e(f)}finally{l.f()}s++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}},{key:"detectCodeword",value:function(e,n,r,i,o,a,s,u){o=t.adjustCodewordStartColumn(e,n,r,i,o,a);var c,l=t.getModuleBitCount(e,n,r,i,o,a);if(null==l)return null;var h=ot.sum(l);if(i)c=o+h;else{for(var f=0;f<l.length/2;f++){var d=l[f];l[f]=l[l.length-1-f],l[l.length-1-f]=d}o=(c=o)-h}if(!t.checkCodewordSkew(h,s,u))return null;var p=rn.getDecodedValue(l),g=We.getCodeword(p);return-1===g?null:new nn(o,c,t.getCodewordBucketNumber(p),g)}},{key:"getModuleBitCount",value:function(t,e,n,r,i,o){for(var a=i,s=new Int32Array(8),u=0,c=r?1:-1,l=r;(r?a<n:a>=e)&&u<s.length;)t.get(a,o)===l?(s[u]++,a+=c):(u++,l=!l);return u===s.length||a===(r?n:e)&&u===s.length-1?s:null}},{key:"getNumberOfECCodeWords",value:function(t){return 2<<t}},{key:"adjustCodewordStartColumn",value:function(e,n,r,i,o,a){for(var s=o,u=i?-1:1,c=0;c<2;c++){for(;(i?s>=n:s<r)&&i===e.get(s,a);){if(Math.abs(o-s)>t.CODEWORD_SKEW_SIZE)return o;s+=u}u=-u,i=!i}return s}},{key:"checkCodewordSkew",value:function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE}},{key:"decodeCodewords",value:function(e,n,r){if(0===e.length)throw k.getFormatInstance();var i=1<<n+1,o=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var a=gn.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(r.length),a}},{key:"correctErrors",value:function(e,n,r){if(null!=n&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw m.getChecksumInstance();return t.errorCorrection.decode(e,r,n)}},{key:"verifyCodewordCount",value:function(t,e){if(t.length<4)throw k.getFormatInstance();var n=t[0];if(n>t.length)throw k.getFormatInstance();if(0===n){if(!(e<t.length))throw k.getFormatInstance();t[0]=t.length-e}}},{key:"getBitCountForCodeword",value:function(t){for(var e=new Int32Array(8),n=0,r=e.length-1;!((1&t)!==n&&(n=1&t,--r<0));)e[r]++,t>>=1;return e}},{key:"getCodewordBucketNumber",value:function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}},{key:"getCodewordBucketNumber_number",value:function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))}},{key:"getCodewordBucketNumber_Int32Array",value:function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}},{key:"toString",value:function(t){for(var e=new Qe,n=0;n<t.length;n++){e.format("Row %2d: ",n);for(var r=0;r<t[n].length;r++){var i=t[n][r];0===i.getValue().length?e.format("        ",null):e.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}e.format("%n")}return e.toString()}}]),t}();vn.CODEWORD_SKEW_SIZE=2,vn.MAX_ERRORS=3,vn.MAX_EC_CODEWORDS=512,vn.errorCorrection=new qe;var mn=function(){function t(){c(this,t)}return l(t,[{key:"decode",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=t.decode(e,n,!1);if(null==r||0===r.length||null==r[0])throw x.getNotFoundInstance();return r[0]}},{key:"decodeMultiple",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{return t.decode(e,n,!0)}catch(r){if(r instanceof k||r instanceof m)throw x.getNotFoundInstance();throw r}}},{key:"reset",value:function(){}}],[{key:"decode",value:function(e,n,r){var i,o=new Array,a=Ge.detectMultiple(e,n,r),s=u(a.getPoints());try{for(s.s();!(i=s.n()).done;){var c=i.value,l=vn.decode(a.getBits(),c[4],c[5],c[6],c[7],t.getMinCodewordWidth(c),t.getMaxCodewordWidth(c)),h=new G(l.getText(),l.getRawBytes(),void 0,c,Z.PDF_417);h.putMetadata(q.ERROR_CORRECTION_LEVEL,l.getECLevel());var f=l.getOther();null!=f&&h.putMetadata(q.PDF417_EXTRA_METADATA,f),o.push(h)}}catch(d){s.e(d)}finally{s.f()}return o.map(function(t){return t})}},{key:"getMaxWidth",value:function(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))}},{key:"getMinWidth",value:function(t,e){return null==t||null==e?S.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))}},{key:"getMaxCodewordWidth",value:function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}},{key:"getMinCodewordWidth",value:function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*We.MODULES_IN_CODEWORD/We.MODULES_IN_STOP_PATTERN)))}}]),t}(),yn=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);yn.kind="ReaderException";var bn,wn=function(){function t(){c(this,t)}return l(t,[{key:"decode",value:function(t,e){return this.setHints(e),this.decodeInternal(t)}},{key:"decodeWithState",value:function(t){return null==this.readers&&this.setHints(null),this.decodeInternal(t)}},{key:"setHints",value:function(t){this.hints=t;var e=null!=t&&void 0!==t.get(I.TRY_HARDER),n=null==t?null:t.get(I.POSSIBLE_FORMATS),r=new Array;if(null!=n){var i=n.some(function(t){return t===Z.UPC_A||t===Z.UPC_E||t===Z.EAN_13||t===Z.EAN_8||t===Z.CODABAR||t===Z.CODE_39||t===Z.CODE_93||t===Z.CODE_128||t===Z.ITF||t===Z.RSS_14||t===Z.RSS_EXPANDED});i&&!e&&r.push(new se(t)),n.includes(Z.QR_CODE)&&r.push(new He),n.includes(Z.DATA_MATRIX)&&r.push(new be),n.includes(Z.AZTEC)&&r.push(new mt),n.includes(Z.PDF_417)&&r.push(new mn),i&&e&&r.push(new se(t))}0===r.length&&(e||r.push(new se(t)),r.push(new He),r.push(new be),r.push(new mt),r.push(new mn),e&&r.push(new se(t))),this.readers=r}},{key:"reset",value:function(){if(null!==this.readers){var t,e=u(this.readers);try{for(e.s();!(t=e.n()).done;)t.value.reset()}catch(n){e.e(n)}finally{e.f()}}}},{key:"decodeInternal",value:function(t){if(null===this.readers)throw new yn("No readers where selected, nothing can be read.");var e,n=u(this.readers);try{for(n.s();!(e=n.n()).done;){var r=e.value;try{return r.decode(t,this.hints)}catch(i){if(i instanceof yn)continue}}}catch(o){n.e(o)}finally{n.f()}throw new x("No MultiFormat Readers were able to detect the code.")}}]),t}(),_n=function(t){h(n,t);var e=f(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;c(this,n);var i=new wn;return i.setHints(t),e.call(this,i,r)}return l(n,[{key:"decodeBitmap",value:function(t){return this.reader.decodeWithState(t)}}]),n}(z),Cn=function(t){h(n,t);var e=f(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return c(this,n),e.call(this,new mn,t)}return n}(z),Sn=function(t){h(n,t);var e=f(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return c(this,n),e.call(this,new He,t)}return n}(z);!function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"}(bn||(bn={}));var En=bn,On=function(){function t(e){c(this,t),this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Q(e,Int32Array.from([1])))}return l(t,[{key:"buildGenerator",value:function(t){var e=this.cachedGenerators;if(t>=e.length)for(var n=e[e.length-1],r=this.field,i=e.length;i<=t;i++){var o=n.multiply(new Q(r,Int32Array.from([1,r.exp(i-1+r.getGeneratorBase())])));e.push(o),n=o}return e[t]}},{key:"encode",value:function(t,e){if(0===e)throw new g("No error correction bytes");var n=t.length-e;if(n<=0)throw new g("No data bytes provided");var r=this.buildGenerator(e),i=new Int32Array(n);b.arraycopy(t,0,i,0,n);for(var o=new Q(this.field,i),a=(o=o.multiplyByMonomial(e,1)).divide(r)[1].getCoefficients(),s=e-a.length,u=0;u<s;u++)t[n+u]=0;b.arraycopy(a,0,t,n+s,a.length)}}]),t}(),An=function(){function t(){c(this,t)}return l(t,null,[{key:"applyMaskPenaltyRule1",value:function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)}},{key:"applyMaskPenaltyRule2",value:function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=r[a],u=0;u<i-1;u++){var c=s[u];c===s[u+1]&&c===r[a+1][u]&&c===r[a+1][u+1]&&n++}return t.N2*n}},{key:"applyMaskPenaltyRule3",value:function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var u=r[a];s+6<i&&1===u[s]&&0===u[s+1]&&1===u[s+2]&&1===u[s+3]&&1===u[s+4]&&0===u[s+5]&&1===u[s+6]&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&n++,a+6<o&&1===r[a][s]&&0===r[a+1][s]&&1===r[a+2][s]&&1===r[a+3][s]&&1===r[a+4][s]&&0===r[a+5][s]&&1===r[a+6][s]&&(t.isWhiteVertical(r,s,a-4,a)||t.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*t.N3}},{key:"isWhiteHorizontal",value:function(t,e,n){e=Math.max(e,0),n=Math.min(n,t.length);for(var r=e;r<n;r++)if(1===t[r])return!1;return!0}},{key:"isWhiteVertical",value:function(t,e,n,r){n=Math.max(n,0),r=Math.min(r,t.length);for(var i=n;i<r;i++)if(1===t[i][e])return!1;return!0}},{key:"applyMaskPenaltyRule4",value:function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=r[a],u=0;u<i;u++)1===s[u]&&n++;var c=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*n-c)/c)*t.N4}},{key:"getDataMaskBit",value:function(t,e,n){var r,i;switch(t){case 0:r=n+e&1;break;case 1:r=1&n;break;case 2:r=e%3;break;case 3:r=(n+e)%3;break;case 4:r=Math.floor(n/2)+Math.floor(e/3)&1;break;case 5:r=(1&(i=n*e))+i%3;break;case 6:r=(1&(i=n*e))+i%3&1;break;case 7:r=(i=n*e)%3+(n+e&1)&1;break;default:throw new g("Invalid mask pattern: "+t)}return 0===r}},{key:"applyMaskPenaltyRule1Internal",value:function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var u=0,c=-1,l=0;l<o;l++){var h=n?a[s][l]:a[l][s];h===c?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,c=h)}u>=5&&(r+=t.N1+(u-5))}return r}}]),t}();An.N1=3,An.N2=3,An.N3=40,An.N4=10;var In=function(){function t(e,n){c(this,t),this.width=e,this.height=n;for(var r=new Array(n),i=0;i!==n;i++)r[i]=new Uint8Array(e);this.bytes=r}return l(t,[{key:"getHeight",value:function(){return this.height}},{key:"getWidth",value:function(){return this.width}},{key:"get",value:function(t,e){return this.bytes[e][t]}},{key:"getArray",value:function(){return this.bytes}},{key:"setNumber",value:function(t,e,n){this.bytes[e][t]=n}},{key:"setBoolean",value:function(t,e,n){this.bytes[e][t]=n?1:0}},{key:"clear",value:function(t){var e,n=u(this.bytes);try{for(n.s();!(e=n.n()).done;)C.fill(e.value,t)}catch(r){n.e(r)}finally{n.f()}}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width)return!1;if(this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],a=n.bytes[r],s=0,u=this.width;s<u;++s)if(o[s]!==a[s])return!1;return!0}},{key:"toString",value:function(){for(var t=new P,e=0,n=this.height;e<n;++e){for(var r=this.bytes[e],i=0,o=this.width;i<o;++i)switch(r[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ")}t.append("\n")}return t.toString()}}]),t}(),kn=function(){function t(){c(this,t),this.maskPattern=-1}return l(t,[{key:"getMode",value:function(){return this.mode}},{key:"getECLevel",value:function(){return this.ecLevel}},{key:"getVersion",value:function(){return this.version}},{key:"getMaskPattern",value:function(){return this.maskPattern}},{key:"getMatrix",value:function(){return this.matrix}},{key:"toString",value:function(){var t=new P;return t.append("<<\n"),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append("\n ecLevel: "),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append("\n version: "),t.append(this.version?this.version.toString():"null"),t.append("\n maskPattern: "),t.append(this.maskPattern.toString()),this.matrix?(t.append("\n matrix:\n"),t.append(this.matrix.toString())):t.append("\n matrix: null\n"),t.append(">>\n"),t.toString()}},{key:"setMode",value:function(t){this.mode=t}},{key:"setECLevel",value:function(t){this.ecLevel=t}},{key:"setVersion",value:function(t){this.version=t}},{key:"setMaskPattern",value:function(t){this.maskPattern=t}},{key:"setMatrix",value:function(t){this.matrix=t}}],[{key:"isValidMaskPattern",value:function(e){return e>=0&&e<t.NUM_MASK_PATTERNS}}]),t}();kn.NUM_MASK_PATTERNS=8;var Rn=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return n}(d);Rn.kind="WriterException";var Tn=function(){function t(){c(this,t)}return l(t,null,[{key:"clearMatrix",value:function(t){t.clear(255)}},{key:"buildMatrix",value:function(e,n,r,i,o){t.clearMatrix(o),t.embedBasicPatterns(r,o),t.embedTypeInfo(n,i,o),t.maybeEmbedVersionInfo(r,o),t.embedDataBits(e,i,o)}},{key:"embedBasicPatterns",value:function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)}},{key:"embedTypeInfo",value:function(e,n,r){var i=new O;t.makeTypeInfoBits(e,n,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),u=t.TYPE_INFO_COORDINATES[o];if(r.setBoolean(u[0],u[1],s),o<8){var c=r.getWidth()-o-1;r.setBoolean(c,8,s)}else{var l=r.getHeight()-7+(o-8);r.setBoolean(8,l,s)}}}},{key:"maybeEmbedVersionInfo",value:function(e,n){if(!(e.getVersionNumber()<7)){var r=new O;t.makeVersionInfoBits(e,r);for(var i=17,o=0;o<6;++o)for(var a=0;a<3;++a){var s=r.get(i);i--,n.setBoolean(o,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,o,s)}}}},{key:"embedDataBits",value:function(e,n,r){for(var i=0,o=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(6===a&&(a-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var c=a-u;if(t.isEmpty(r.get(c,s))){var l=void 0;i<e.getSize()?(l=e.get(i),++i):l=!1,255!==n&&An.getDataMaskBit(n,c,s)&&(l=!l),r.setBoolean(c,s,l)}}s+=o}s+=o=-o,a-=2}if(i!==e.getSize())throw new Rn("Not all bits consumed: "+i+"/"+e.getSize())}},{key:"findMSBSet",value:function(t){return 32-S.numberOfLeadingZeros(t)}},{key:"calculateBCHCode",value:function(e,n){if(0===n)throw new g("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e}},{key:"makeTypeInfoBits",value:function(e,n,r){if(!kn.isValidMaskPattern(n))throw new Rn("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(o,10);var a=new O;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new Rn("should not happen but we got: "+r.getSize())}},{key:"makeVersionInfoBits",value:function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),18!==n.getSize())throw new Rn("should not happen but we got: "+n.getSize())}},{key:"isEmpty",value:function(t){return 255===t}},{key:"embedTimingPatterns",value:function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}}},{key:"embedDarkDotAtLeftBottomCorner",value:function(t){if(0===t.get(8,t.getHeight()-8))throw new Rn;t.setNumber(8,t.getHeight()-8,1)}},{key:"embedHorizontalSeparationPattern",value:function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new Rn;r.setNumber(e+i,n,0)}}},{key:"embedVerticalSeparationPattern",value:function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new Rn;r.setNumber(e,n+i,0)}}},{key:"embedPositionAdjustmentPattern",value:function(e,n,r){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)r.setNumber(e+a,n+i,o[a])}},{key:"embedPositionDetectionPattern",value:function(e,n,r){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)r.setNumber(e+a,n+i,o[a])}},{key:"embedPositionDetectionPatternsAndSeparators",value:function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e),t.embedHorizontalSeparationPattern(0,7,e),t.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),t.embedVerticalSeparationPattern(7,0,e),t.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),t.embedVerticalSeparationPattern(7,e.getHeight()-7,e)}},{key:"maybeEmbedPositionAdjustmentPatterns",value:function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var u=0;u!==a;u++){var c=i[u];c>=0&&t.isEmpty(n.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,n)}}}}]),t}();Tn.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Tn.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Tn.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Tn.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Tn.VERSION_INFO_POLY=7973,Tn.TYPE_INFO_POLY=1335,Tn.TYPE_INFO_MASK_PATTERN=21522;var Mn=function(){function t(e,n){c(this,t),this.dataBytes=e,this.errorCorrectionBytes=n}return l(t,[{key:"getDataBytes",value:function(){return this.dataBytes}},{key:"getErrorCorrectionBytes",value:function(){return this.errorCorrectionBytes}}]),t}(),Nn=function(){function t(){c(this,t)}return l(t,null,[{key:"calculateMaskPenalty",value:function(t){return An.applyMaskPenaltyRule1(t)+An.applyMaskPenaltyRule2(t)+An.applyMaskPenaltyRule3(t)+An.applyMaskPenaltyRule4(t)}},{key:"encode",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.DEFAULT_BYTE_MODE_ENCODING,o=null!==r&&void 0!==r.get(En.CHARACTER_SET);o&&(i=r.get(En.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new O;if(a===Ne.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=R.getCharacterSetECIByName(i);void 0!==u&&this.appendECI(u,s)}this.appendModeInfo(a,s);var c,l=new O;if(this.appendBytes(e,a,l,i),null!==r&&void 0!==r.get(En.QR_VERSION)){var h=Number.parseInt(r.get(En.QR_VERSION).toString(),10);c=Ie.getVersionForNumber(h);var f=this.calculateBitsNeeded(a,s,l,c);if(!this.willFit(f,c,n))throw new Rn("Data too big for requested version")}else c=this.recommendVersion(n,a,s,l);var d=new O;d.appendBitArray(s);var p=a===Ne.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(p,c,a,d),d.appendBitArray(l);var g=c.getECBlocksForLevel(n),v=c.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(v,d);var m=this.interleaveWithECBytes(d,c.getTotalCodewords(),v,g.getNumBlocks()),y=new kn;y.setECLevel(n),y.setMode(a),y.setVersion(c);var b=c.getDimensionForVersion(),w=new In(b,b),_=this.chooseMaskPattern(m,n,c,w);return y.setMaskPattern(_),Tn.buildMatrix(m,n,c,_,w),y.setMatrix(w),y}},{key:"recommendVersion",value:function(t,e,n,r){var i=this.calculateBitsNeeded(e,n,r,Ie.getVersionForNumber(1)),o=this.chooseVersion(i,t),a=this.calculateBitsNeeded(e,n,r,o);return this.chooseVersion(a,t)}},{key:"calculateBitsNeeded",value:function(t,e,n,r){return e.getSize()+t.getCharacterCountBits(r)+n.getSize()}},{key:"getAlphanumericCode",value:function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1}},{key:"chooseMode",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(R.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Ne.KANJI;for(var r=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(t.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return Ne.BYTE;i=!0}}return i?Ne.ALPHANUMERIC:r?Ne.NUMERIC:Ne.BYTE}},{key:"isOnlyDoubleByteKanji",value:function(t){var e;try{e=M.encode(t,R.SJIS)}catch(o){return!1}var n=e.length;if(n%2!=0)return!1;for(var r=0;r<n;r+=2){var i=255&e[r];if((i<129||i>159)&&(i<224||i>235))return!1}return!0}},{key:"chooseMaskPattern",value:function(t,e,n,r){for(var i=Number.MAX_SAFE_INTEGER,o=-1,a=0;a<kn.NUM_MASK_PATTERNS;a++){Tn.buildMatrix(t,e,n,a,r);var s=this.calculateMaskPenalty(r);s<i&&(i=s,o=a)}return o}},{key:"chooseVersion",value:function(e,n){for(var r=1;r<=40;r++){var i=Ie.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new Rn("Data too big")}},{key:"willFit",value:function(t,e,n){return e.getTotalCodewords()-e.getECBlocksForLevel(n).getTotalECCodewords()>=(t+7)/8}},{key:"terminateBits",value:function(t,e){var n=8*t;if(e.getSize()>n)throw new Rn("data bits cannot fit in the QR Code"+e.getSize()+" > "+n);for(var r=0;r<4&&e.getSize()<n;++r)e.appendBit(!1);var i=7&e.getSize();if(i>0)for(var o=i;o<8;o++)e.appendBit(!1);for(var a=t-e.getSizeInBytes(),s=0;s<a;++s)e.appendBits(0==(1&s)?236:17,8);if(e.getSize()!==n)throw new Rn("Bits size does not equal capacity")}},{key:"getNumDataBytesAndNumECBytesForBlockID",value:function(t,e,n,r,i,o){if(r>=n)throw new Rn("Block ID too large");var a=t%n,s=n-a,u=Math.floor(t/n),c=u+1,l=Math.floor(e/n),h=l+1,f=u-l,d=c-h;if(f!==d)throw new Rn("EC bytes mismatch");if(n!==s+a)throw new Rn("RS blocks mismatch");if(t!==(l+f)*s+(h+d)*a)throw new Rn("Total bytes mismatch");r<s?(i[0]=l,o[0]=f):(i[0]=h,o[0]=d)}},{key:"interleaveWithECBytes",value:function(e,n,r,i){if(e.getSizeInBytes()!==r)throw new Rn("Number of bits and data bytes does not match");for(var o=0,a=0,s=0,c=new Array,l=0;l<i;++l){var h=new Int32Array(1),f=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,l,h,f);var d=h[0],p=new Uint8Array(d);e.toBytes(8*o,p,0,d);var g=t.generateECBytes(p,f[0]);c.push(new Mn(p,g)),a=Math.max(a,d),s=Math.max(s,g.length),o+=h[0]}if(r!==o)throw new Rn("Data bytes does not match offset");for(var v=new O,m=0;m<a;++m){var y,b=u(c);try{for(b.s();!(y=b.n()).done;){var w=y.value.getDataBytes();m<w.length&&v.appendBits(w[m],8)}}catch(A){b.e(A)}finally{b.f()}}for(var _=0;_<s;++_){var C,S=u(c);try{for(S.s();!(C=S.n()).done;){var E=C.value.getErrorCorrectionBytes();_<E.length&&v.appendBits(E[_],8)}}catch(A){S.e(A)}finally{S.f()}}if(n!==v.getSizeInBytes())throw new Rn("Interleaving error: "+n+" and "+v.getSizeInBytes()+" differ.");return v}},{key:"generateECBytes",value:function(t,e){for(var n=t.length,r=new Int32Array(n+e),i=0;i<n;i++)r[i]=255&t[i];new On($.QR_CODE_FIELD_256).encode(r,e);for(var o=new Uint8Array(e),a=0;a<e;a++)o[a]=r[n+a];return o}},{key:"appendModeInfo",value:function(t,e){e.appendBits(t.getBits(),4)}},{key:"appendLengthInfo",value:function(t,e,n,r){var i=n.getCharacterCountBits(e);if(t>=1<<i)throw new Rn(t+" is bigger than "+((1<<i)-1));r.appendBits(t,i)}},{key:"appendBytes",value:function(e,n,r,i){switch(n){case Ne.NUMERIC:t.appendNumericBytes(e,r);break;case Ne.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case Ne.BYTE:t.append8BitBytes(e,r,i);break;case Ne.KANJI:t.appendKanjiBytes(e,r);break;default:throw new Rn("Invalid mode: "+n)}}},{key:"getDigit",value:function(t){return t.charCodeAt(0)-48}},{key:"isDigit",value:function(e){var n=t.getDigit(e);return n>=0&&n<=9}},{key:"appendNumericBytes",value:function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getDigit(e.charAt(i));if(i+2<r){var a=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));n.appendBits(100*o+10*a+s,10),i+=3}else if(i+1<r){var u=t.getDigit(e.charAt(i+1));n.appendBits(10*o+u,7),i+=2}else n.appendBits(o,4),i++}}},{key:"appendAlphanumericBytes",value:function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(-1===o)throw new Rn;if(i+1<r){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(-1===a)throw new Rn;n.appendBits(45*o+a,11),i+=2}else n.appendBits(o,6),i++}}},{key:"append8BitBytes",value:function(t,e,n){var r;try{r=M.encode(t,n)}catch(a){throw new Rn(a)}for(var i=0,o=r.length;i!==o;i++)e.appendBits(r[i],8)}},{key:"appendKanjiBytes",value:function(t,e){var n;try{n=M.encode(t,R.SJIS)}catch(s){throw new Rn(s)}for(var r=n.length,i=0;i<r;i+=2){var o=(255&n[i])<<8&4294967295|255&n[i+1],a=-1;if(o>=33088&&o<=40956?a=o-33088:o>=57408&&o<=60351&&(a=o-49472),-1===a)throw new Rn("Invalid byte sequence");e.appendBits(192*(a>>8)+(255&a),13)}}},{key:"appendECI",value:function(t,e){e.appendBits(Ne.ECI.getBits(),4),e.appendBits(t.getValue(),8)}}]),t}();Nn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Nn.DEFAULT_BYTE_MODE_ENCODING=R.UTF8.getName();var Pn=function(){function t(){c(this,t)}return l(t,[{key:"write",value:function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(0===e.length)throw new g("Found empty contents");if(n<0||r<0)throw new g("Requested dimensions are too small: "+n+"x"+r);var o=Ce.L,a=t.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(En.ERROR_CORRECTION)&&(o=Ce.fromString(i.get(En.ERROR_CORRECTION).toString())),void 0!==i.get(En.MARGIN)&&(a=Number.parseInt(i.get(En.MARGIN).toString(),10)));var s=Nn.encode(e,o,i);return this.renderResult(s,n,r,a)}},{key:"writeToDom",value:function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;"string"==typeof t&&(t=document.querySelector(t));var o=this.write(e,n,r,i);t&&t.appendChild(o)}},{key:"renderResult",value:function(t,e,n,r){var i=t.getMatrix();if(null===i)throw new et;for(var o=i.getWidth(),a=i.getHeight(),s=o+2*r,u=a+2*r,c=Math.max(e,s),l=Math.max(n,u),h=Math.min(Math.floor(c/s),Math.floor(l/u)),f=Math.floor((c-o*h)/2),d=Math.floor((l-a*h)/2),p=this.createSVGElement(c,l),g=0,v=d;g<a;g++,v+=h)for(var m=0,y=f;m<o;m++,y+=h)if(1===i.get(m,g)){var b=this.createSvgRectElement(y,v,h,h);p.appendChild(b)}return p}},{key:"createSVGElement",value:function(e,n){var r=document.createElementNS(t.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",n.toString()),r}},{key:"createSvgRectElement",value:function(e,n,r,i){var o=document.createElementNS(t.SVG_NS,"rect");return o.setAttributeNS(null,"x",e.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"height",r.toString()),o.setAttributeNS(null,"width",i.toString()),o.setAttributeNS(null,"fill","#000000"),o}}]),t}();Pn.QUIET_ZONE_SIZE=4,Pn.SVG_NS="http://www.w3.org/2000/svg";var Dn=function(){function t(){c(this,t)}return l(t,[{key:"encode",value:function(e,n,r,i,o){if(0===e.length)throw new g("Found empty contents");if(n!==Z.QR_CODE)throw new g("Can only encode QR_CODE, but got "+n);if(r<0||i<0)throw new g("Requested dimensions are too small: ".concat(r,"x").concat(i));var a=Ce.L,s=t.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(En.ERROR_CORRECTION)&&(a=Ce.fromString(o.get(En.ERROR_CORRECTION).toString())),void 0!==o.get(En.MARGIN)&&(s=Number.parseInt(o.get(En.MARGIN).toString(),10)));var u=Nn.encode(e,a,o);return t.renderResult(u,r,i,s)}}],[{key:"renderResult",value:function(t,e,n,r){var i=t.getMatrix();if(null===i)throw new et;for(var o=i.getWidth(),a=i.getHeight(),s=o+2*r,u=a+2*r,c=Math.max(e,s),l=Math.max(n,u),h=Math.min(Math.floor(c/s),Math.floor(l/u)),f=Math.floor((c-o*h)/2),d=Math.floor((l-a*h)/2),p=new D(c,l),g=0,v=d;g<a;g++,v+=h)for(var m=0,y=f;m<o;m++,y+=h)1===i.get(m,g)&&p.setRegion(y,v,h,h);return p}}]),t}();Dn.QUIET_ZONE_SIZE=4;var xn=function(){function t(){c(this,t)}return l(t,[{key:"encode",value:function(t,e,n,r,i){var o;switch(e){case Z.QR_CODE:o=new Dn;break;default:throw new g("No encoder available for format "+e)}return o.encode(t,e,n,r,i)}}]),t}(),Ln=function(t){h(n,t);var e=f(n);function n(t,r,i,o,a,s,u,l){var h;if(c(this,n),(h=e.call(this,s,u)).yuvData=t,h.dataWidth=r,h.dataHeight=i,h.left=o,h.top=a,o+s>r||a+u>i)throw new g("Crop rectangle does not fit within image data.");return l&&h.reverseHorizontal(s,u),h}return l(n,[{key:"getRow",value:function(t,e){if(t<0||t>=this.getHeight())throw new g("Requested row is outside the image: "+t);var n=this.getWidth();return(null==e||e.length<n)&&(e=new Uint8ClampedArray(n)),b.arraycopy(this.yuvData,(t+this.top)*this.dataWidth+this.left,e,0,n),e}},{key:"getMatrix",value:function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.yuvData;var n=t*e,r=new Uint8ClampedArray(n),i=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return b.arraycopy(this.yuvData,i,r,0,n),r;for(var o=0;o<e;o++)b.arraycopy(this.yuvData,i,r,o*t,t),i+=this.dataWidth;return r}},{key:"isCropSupported",value:function(){return!0}},{key:"crop",value:function(t,e,r,i){return new n(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+e,r,i,!1)}},{key:"renderThumbnail",value:function(){for(var t=this.getWidth()/n.THUMBNAIL_SCALE_FACTOR,e=this.getHeight()/n.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*e),i=this.yuvData,o=this.top*this.dataWidth+this.left,a=0;a<e;a++){for(var s=a*t,u=0;u<t;u++)r[s+u]=4278190080|65793*(255&i[o+u*n.THUMBNAIL_SCALE_FACTOR]);o+=this.dataWidth*n.THUMBNAIL_SCALE_FACTOR}return r}},{key:"getThumbnailWidth",value:function(){return this.getWidth()/n.THUMBNAIL_SCALE_FACTOR}},{key:"getThumbnailHeight",value:function(){return this.getHeight()/n.THUMBNAIL_SCALE_FACTOR}},{key:"reverseHorizontal",value:function(t,e){for(var n=this.yuvData,r=0,i=this.top*this.dataWidth+this.left;r<e;r++,i+=this.dataWidth)for(var o=i+t/2,a=i,s=i+t-1;a<o;a++,s--){var u=n[a];n[a]=n[s],n[s]=u}}},{key:"invert",value:function(){return new j(this)}}]),n}(F);Ln.THUMBNAIL_SCALE_FACTOR=2;var Bn=function(t){h(n,t);var e=f(n);function n(t,r,i,o,a,s,u){var l;if(c(this,n),(l=e.call(this,r,i)).dataWidth=o,l.dataHeight=a,l.left=s,l.top=u,4===t.BYTES_PER_ELEMENT){for(var h=r*i,f=new Uint8ClampedArray(h),d=0;d<h;d++){var p=t[d];f[d]=((p>>16&255)+(p>>7&510)+(255&p))/4&255}l.luminances=f}else l.luminances=t;if(void 0===o&&(l.dataWidth=r),void 0===a&&(l.dataHeight=i),void 0===s&&(l.left=0),void 0===u&&(l.top=0),l.left+r>l.dataWidth||l.top+i>l.dataHeight)throw new g("Crop rectangle does not fit within image data.");return l}return l(n,[{key:"getRow",value:function(t,e){if(t<0||t>=this.getHeight())throw new g("Requested row is outside the image: "+t);var n=this.getWidth();return(null==e||e.length<n)&&(e=new Uint8ClampedArray(n)),b.arraycopy(this.luminances,(t+this.top)*this.dataWidth+this.left,e,0,n),e}},{key:"getMatrix",value:function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.luminances;var n=t*e,r=new Uint8ClampedArray(n),i=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return b.arraycopy(this.luminances,i,r,0,n),r;for(var o=0;o<e;o++)b.arraycopy(this.luminances,i,r,o*t,t),i+=this.dataWidth;return r}},{key:"isCropSupported",value:function(){return!0}},{key:"crop",value:function(t,e,r,i){return new n(this.luminances,r,i,this.dataWidth,this.dataHeight,this.left+t,this.top+e)}},{key:"invert",value:function(){return new j(this)}}]),n}(F),Fn=function(t){h(n,t);var e=f(n);function n(){return c(this,n),e.apply(this,arguments)}return l(n,null,[{key:"forName",value:function(t){return this.getCharacterSetECIByName(t)}}]),n}(R),jn=function t(){c(this,t)};jn.ISO_8859_1=R.ISO8859_1;var Un=function(){function t(){c(this,t)}return l(t,[{key:"isCompact",value:function(){return this.compact}},{key:"setCompact",value:function(t){this.compact=t}},{key:"getSize",value:function(){return this.size}},{key:"setSize",value:function(t){this.size=t}},{key:"getLayers",value:function(){return this.layers}},{key:"setLayers",value:function(t){this.layers=t}},{key:"getCodeWords",value:function(){return this.codeWords}},{key:"setCodeWords",value:function(t){this.codeWords=t}},{key:"getMatrix",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){this.matrix=t}}]),t}(),Vn=function(){function t(){c(this,t)}return l(t,null,[{key:"singletonList",value:function(t){return[t]}},{key:"min",value:function(t,e){return t.sort(e)[0]}}]),t}(),Hn=function(t){h(n,t);var e=f(n);function n(t,r,i){var o;return c(this,n),(o=e.call(this,t)).value=r,o.bitCount=i,o}return l(n,[{key:"appendTo",value:function(t,e){t.appendBits(this.value,this.bitCount)}},{key:"add",value:function(t,e){return new n(this,t,e)}},{key:"addBinaryShift",value:function(t,e){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new n(this,t,e)}},{key:"toString",value:function(){var t=this.value&(1<<this.bitCount)-1;return"<"+S.toBinaryString((t|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"}}]),n}(function(){function t(e){c(this,t),this.previous=e}return l(t,[{key:"getPrevious",value:function(){return this.previous}}]),t}()),Wn=function(t){h(n,t);var e=f(n);function n(t,r,i){var o;return c(this,n),(o=e.call(this,t,0,0)).binaryShiftStart=r,o.binaryShiftByteCount=i,o}return l(n,[{key:"appendTo",value:function(t,e){for(var n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):t.appendBits(0===n?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),t.appendBits(e[this.binaryShiftStart+n],8)}},{key:"addBinaryShift",value:function(t,e){return new n(this,t,e)}},{key:"toString",value:function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}]),n}(Hn);function zn(t,e,n){return new Hn(t,e,n)}var Gn=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xn=new Hn(null,0,0),Zn=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],qn=function(t){var e,n=u(t);try{for(n.s();!(e=n.n()).done;)C.fill(e.value,-1)}catch(r){n.e(r)}finally{n.f()}return t[0][4]=0,t[1][4]=0,t[1][0]=28,t[3][4]=0,t[2][4]=0,t[2][0]=15,t}(C.createInt32Array(6,6)),Yn=function(){function t(e,n,r,i){c(this,t),this.token=e,this.mode=n,this.binaryShiftByteCount=r,this.bitCount=i}return l(t,[{key:"getMode",value:function(){return this.mode}},{key:"getToken",value:function(){return this.token}},{key:"getBinaryShiftByteCount",value:function(){return this.binaryShiftByteCount}},{key:"getBitCount",value:function(){return this.bitCount}},{key:"latchAndAppend",value:function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var o=Zn[this.mode][e];i=zn(i,65535&o,o>>16),r+=o>>16}var a=2===e?4:5;return new t(i=zn(i,n,a),e,0,r+a)}},{key:"shiftAndAppend",value:function(e,n){var r=this.token,i=2===this.mode?4:5;return r=zn(r,qn[this.mode][e],i),new t(r=zn(r,n,5),this.mode,0,this.bitCount+i+5)}},{key:"addBinaryShiftChar",value:function(e){var n=this.token,r=this.mode,i=this.bitCount;if(4===this.mode||2===this.mode){var o=Zn[r][0];n=zn(n,65535&o,o>>16),i+=o>>16,r=0}var a=new t(n,r,this.binaryShiftByteCount+1,i+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===a.binaryShiftByteCount&&(a=a.endBinaryShift(e+1)),a}},{key:"endBinaryShift",value:function(e){if(0===this.binaryShiftByteCount)return this;var n=this.token;return new t(n=function(t,e,n){return new Wn(t,e,n)}(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)}},{key:"isBetterThanOrEqualTo",value:function(e){var n=this.bitCount+(Zn[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount}},{key:"toBitArray",value:function(t){for(var e=[],n=this.endBinaryShift(t.length).token;null!==n;n=n.getPrevious())e.unshift(n);for(var r=new O,i=0,o=e;i<o.length;i++)o[i].appendTo(r,t);return r}},{key:"toString",value:function(){return N.format("%s bits=%d bytes=%d",Gn[this.mode],this.bitCount,this.binaryShiftByteCount)}}],[{key:"calculateBinaryShiftCost",value:function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}]),t}();Yn.INITIAL_STATE=new Yn(Xn,0,0,0);var Kn=function(t){var e=N.getCharCode(" "),n=N.getCharCode("."),r=N.getCharCode(",");t[0][e]=1;for(var i=N.getCharCode("Z"),o=N.getCharCode("A"),a=o;a<=i;a++)t[0][a]=a-o+2;t[1][e]=1;for(var s=N.getCharCode("z"),u=N.getCharCode("a"),c=u;c<=s;c++)t[1][c]=c-u+2;t[2][e]=1;for(var l=N.getCharCode("9"),h=N.getCharCode("0"),f=h;f<=l;f++)t[2][f]=f-h+2;t[2][r]=12,t[2][n]=13;for(var d=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],p=0;p<d.length;p++)t[3][N.getCharCode(d[p])]=p;for(var g=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],v=0;v<g.length;v++)N.getCharCode(g[v])>0&&(t[4][N.getCharCode(g[v])]=v);return t}(C.createInt32Array(5,256)),Qn=function(){function t(e){c(this,t),this.text=e}return l(t,[{key:"encode",value:function(){for(var e=N.getCharCode(" "),n=N.getCharCode("\n"),r=Vn.singletonList(Yn.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case N.getCharCode("\r"):o=a===n?2:0;break;case N.getCharCode("."):o=a===e?3:0;break;case N.getCharCode(","):o=a===e?4:0;break;case N.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(r=t.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}return Vn.min(r,function(t,e){return t.getBitCount()-e.getBitCount()}).toBitArray(this.text)}},{key:"updateStateListForChar",value:function(e,n){var r,i=[],o=u(e);try{for(o.s();!(r=o.n()).done;)this.updateStateForChar(r.value,n,i)}catch(a){o.e(a)}finally{o.f()}return t.simplifyStates(i)}},{key:"updateStateForChar",value:function(t,e,n){for(var r=255&this.text[e],i=Kn[t.getMode()][r]>0,o=null,a=0;a<=4;a++){var s=Kn[a][r];if(s>0){if(null==o&&(o=t.endBinaryShift(e)),!i||a===t.getMode()||2===a){var u=o.latchAndAppend(a,s);n.push(u)}if(!i&&qn[t.getMode()][a]>=0){var c=o.shiftAndAppend(a,s);n.push(c)}}}if(t.getBinaryShiftByteCount()>0||0===Kn[t.getMode()][r]){var l=t.addBinaryShiftChar(e);n.push(l)}}}],[{key:"updateStateListForPair",value:function(t,e,n){var r,i=[],o=u(t);try{for(o.s();!(r=o.n()).done;)this.updateStateForPair(r.value,e,n,i)}catch(a){o.e(a)}finally{o.f()}return this.simplifyStates(i)}},{key:"updateStateForPair",value:function(t,e,n,r){var i=t.endBinaryShift(e);if(r.push(i.latchAndAppend(4,n)),4!==t.getMode()&&r.push(i.shiftAndAppend(4,n)),3===n||4===n){var o=i.latchAndAppend(2,16-n).latchAndAppend(2,1);r.push(o)}if(t.getBinaryShiftByteCount()>0){var a=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);r.push(a)}}},{key:"simplifyStates",value:function(t){var e,n=[],r=u(t);try{for(r.s();!(e=r.n()).done;){var i,o=e.value,a=!0,s=u(n);try{var c=function(){var t=i.value;if(t.isBetterThanOrEqualTo(o))return a=!1,"break";o.isBetterThanOrEqualTo(t)&&(n=n.filter(function(e){return e!==t}))};for(s.s();!(i=s.n()).done&&"break"!==c(););}catch(l){s.e(l)}finally{s.f()}a&&n.push(o)}}catch(l){r.e(l)}finally{r.f()}return n}}]),t}(),Jn=function(){function t(){c(this,t)}return l(t,null,[{key:"encodeBytes",value:function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)}},{key:"encode",value:function(e,n,r){var i,o,a,s,u,c=new Qn(e).encode(),l=S.truncDivision(c.getSize()*n,100)+11,h=c.getSize()+l;if(r!==t.DEFAULT_AZTEC_LAYERS){if(i=r<0,(o=Math.abs(r))>(i?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new g(N.format("Illegal value %s for layers",r));var f=(a=t.totalBitsInLayer(o,i))-a%(s=t.WORD_SIZE[o]);if((u=t.stuffBits(c,s)).getSize()+l>f)throw new g("Data to large for user specified layer");if(i&&u.getSize()>64*s)throw new g("Data to large for user specified layer")}else{s=0,u=null;for(var d=0;;d++){if(d>t.MAX_NB_BITS)throw new g("Data too large for an Aztec code");if(!(h>(a=t.totalBitsInLayer(o=(i=d<=3)?d+1:d,i)))){null!=u&&s===t.WORD_SIZE[o]||(u=t.stuffBits(c,s=t.WORD_SIZE[o]));var p=a-a%s;if(!(i&&u.getSize()>64*s)&&u.getSize()+l<=p)break}}}var v,m=t.generateCheckWords(u,a,s),y=u.getSize()/s,b=t.generateModeMessage(i,o,y),w=(i?11:14)+4*o,_=new Int32Array(w);if(i){v=w;for(var C=0;C<_.length;C++)_[C]=C}else{v=w+1+2*S.truncDivision(S.truncDivision(w,2)-1,15);for(var E=S.truncDivision(w,2),O=S.truncDivision(v,2),A=0;A<E;A++){var I=A+S.truncDivision(A,15);_[E-A-1]=O-I-1,_[E+A]=O+I+1}}for(var k=new D(v),R=0,T=0;R<o;R++){for(var M=4*(o-R)+(i?9:12),P=0;P<M;P++)for(var x=2*P,L=0;L<2;L++)m.get(T+x+L)&&k.set(_[2*R+L],_[2*R+P]),m.get(T+2*M+x+L)&&k.set(_[2*R+P],_[w-1-2*R-L]),m.get(T+4*M+x+L)&&k.set(_[w-1-2*R-L],_[w-1-2*R-P]),m.get(T+6*M+x+L)&&k.set(_[w-1-2*R-P],_[2*R+L]);T+=8*M}if(t.drawModeMessage(k,i,v,b),i)t.drawBullsEye(k,S.truncDivision(v,2),5);else{t.drawBullsEye(k,S.truncDivision(v,2),7);for(var B=0,F=0;B<S.truncDivision(w,2)-1;B+=15,F+=16)for(var j=1&S.truncDivision(v,2);j<v;j+=2)k.set(S.truncDivision(v,2)-F,j),k.set(S.truncDivision(v,2)+F,j),k.set(j,S.truncDivision(v,2)-F),k.set(j,S.truncDivision(v,2)+F)}var U=new Un;return U.setCompact(i),U.setSize(v),U.setLayers(o),U.setCodeWords(y),U.setMatrix(k),U}},{key:"drawBullsEye",value:function(t,e,n){for(var r=0;r<n;r+=2)for(var i=e-r;i<=e+r;i++)t.set(i,e-r),t.set(i,e+r),t.set(e-r,i),t.set(e+r,i);t.set(e-n,e-n),t.set(e-n+1,e-n),t.set(e-n,e-n+1),t.set(e+n,e-n),t.set(e+n,e-n+1),t.set(e+n,e+n-1)}},{key:"generateModeMessage",value:function(e,n,r){var i=new O;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i}},{key:"drawModeMessage",value:function(t,e,n,r){var i=S.truncDivision(n,2);if(e)for(var o=0;o<7;o++){var a=i-3+o;r.get(o)&&t.set(a,i-5),r.get(o+7)&&t.set(i+5,a),r.get(20-o)&&t.set(a,i+5),r.get(27-o)&&t.set(i-5,a)}else for(var s=0;s<10;s++){var u=i-5+s+S.truncDivision(s,5);r.get(s)&&t.set(u,i-7),r.get(s+10)&&t.set(i+7,u),r.get(29-s)&&t.set(u,i+7),r.get(39-s)&&t.set(i-7,u)}}},{key:"generateCheckWords",value:function(e,n,r){var i=e.getSize()/r,o=new On(t.getGF(r)),a=S.truncDivision(n,r),s=t.bitsToWords(e,r,a);o.encode(s,a-i);var u=n%r,c=new O;c.appendBits(0,u);for(var l=0,h=Array.from(s);l<h.length;l++)c.appendBits(h[l],r);return c}},{key:"bitsToWords",value:function(t,e,n){var r,i,o=new Int32Array(n);for(r=0,i=t.getSize()/e;r<i;r++){for(var a=0,s=0;s<e;s++)a|=t.get(r*e+s)?1<<e-s-1:0;o[r]=a}return o}},{key:"getGF",value:function(t){switch(t){case 4:return $.AZTEC_PARAM;case 6:return $.AZTEC_DATA_6;case 8:return $.AZTEC_DATA_8;case 10:return $.AZTEC_DATA_10;case 12:return $.AZTEC_DATA_12;default:throw new g("Unsupported word size "+t)}}},{key:"stuffBits",value:function(t,e){for(var n=new O,r=t.getSize(),i=(1<<e)-2,o=0;o<r;o+=e){for(var a=0,s=0;s<e;s++)(o+s>=r||t.get(o+s))&&(a|=1<<e-1-s);(a&i)===i?(n.appendBits(a&i,e),o--):0==(a&i)?(n.appendBits(1|a,e),o--):n.appendBits(a,e)}return n}},{key:"totalBitsInLayer",value:function(t,e){return((e?88:112)+16*t)*t}}]),t}();Jn.DEFAULT_EC_PERCENT=33,Jn.DEFAULT_AZTEC_LAYERS=0,Jn.MAX_NB_BITS=32,Jn.MAX_NB_BITS_COMPACT=4,Jn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);var $n=function(){function t(){c(this,t)}return l(t,[{key:"encode",value:function(t,e,n,r){return this.encodeWithHints(t,e,n,r,null)}},{key:"encodeWithHints",value:function(e,n,r,i,o){var a=jn.ISO_8859_1,s=Jn.DEFAULT_EC_PERCENT,u=Jn.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(En.CHARACTER_SET)&&(a=Fn.forName(o.get(En.CHARACTER_SET).toString())),o.has(En.ERROR_CORRECTION)&&(s=S.parseInt(o.get(En.ERROR_CORRECTION).toString())),o.has(En.AZTEC_LAYERS)&&(u=S.parseInt(o.get(En.AZTEC_LAYERS).toString()))),t.encodeLayers(e,n,r,i,a,s,u)}}],[{key:"encodeLayers",value:function(e,n,r,i,o,a,s){if(n!==Z.AZTEC)throw new g("Can only encode AZTEC, but got "+n);var u=Jn.encode(N.getBytes(e,o),a,s);return t.renderResult(u,r,i)}},{key:"renderResult",value:function(t,e,n){var r=t.getMatrix();if(null==r)throw new et;for(var i=r.getWidth(),o=r.getHeight(),a=Math.max(e,i),s=Math.max(n,o),u=Math.min(a/i,s/o),c=(a-i*u)/2,l=(s-o*u)/2,h=new D(a,s),f=0,d=l;f<o;f++,d+=u)for(var p=0,g=c;p<i;p++,g+=u)r.get(p,f)&&h.setRegion(g,d,u,u);return h}}]),t}();t.ArgumentException=p,t.ArithmeticException=J,t.AztecCode=Un,t.AztecCodeReader=mt,t.AztecCodeWriter=$n,t.AztecDecoder=it,t.AztecDetector=vt,t.AztecDetectorResult=ct,t.AztecEncoder=Jn,t.AztecHighLevelEncoder=Qn,t.AztecPoint=gt,t.BarcodeFormat=Z,t.Binarizer=y,t.BinaryBitmap=v,t.BitArray=O,t.BitMatrix=D,t.BitSource=ge,t.BrowserAztecCodeReader=yt,t.BrowserBarcodeReader=ue,t.BrowserCodeReader=z,t.BrowserDatamatrixCodeReader=_e,t.BrowserMultiFormatReader=_n,t.BrowserPDF417Reader=Cn,t.BrowserQRCodeReader=Sn,t.BrowserQRCodeSvgWriter=Pn,t.CharacterSetECI=R,t.ChecksumException=m,t.Code128Reader=wt,t.Code39Reader=_t,t.DataMatrixDecodedBitStreamParser=ve,t.DataMatrixReader=be,t.DecodeHintType=I,t.DecoderResult=Y,t.DefaultGridSampler=dt,t.DetectorResult=ut,t.EAN13Reader=kt,t.EncodeHintType=En,t.Exception=d,t.FormatException=k,t.GenericGF=$,t.GenericGFPoly=Q,t.GlobalHistogramBinarizer=L,t.GridSampler=ht,t.GridSamplerInstance=pt,t.HTMLCanvasElementLuminanceSource=U,t.HybridBinarizer=B,t.ITFReader=Ct,t.IllegalArgumentException=g,t.IllegalStateException=et,t.InvertedLuminanceSource=j,t.LuminanceSource=F,t.MathUtils=ot,t.MultiFormatOneDReader=se,t.MultiFormatReader=wn,t.MultiFormatWriter=xn,t.NotFoundException=x,t.OneDReader=bt,t.PDF417DecodedBitStreamParser=gn,t.PDF417DecoderErrorCorrection=qe,t.PDF417Reader=mn,t.PDF417ResultMetadata=on,t.PerspectiveTransform=ft,t.PlanarYUVLuminanceSource=Ln,t.QRCodeByteMatrix=In,t.QRCodeDataMask=ke,t.QRCodeDecodedBitStreamParser=Pe,t.QRCodeDecoderErrorCorrectionLevel=Ce,t.QRCodeDecoderFormatInformation=Se,t.QRCodeEncoder=Nn,t.QRCodeEncoderQRCode=kn,t.QRCodeMaskUtil=An,t.QRCodeMatrixUtil=Tn,t.QRCodeMode=Ne,t.QRCodeReader=He,t.QRCodeVersion=Ie,t.QRCodeWriter=Dn,t.RGBLuminanceSource=Bn,t.RSS14Reader=ae,t.RSSExpandedReader=ie,t.ReaderException=yn,t.ReedSolomonDecoder=rt,t.ReedSolomonEncoder=On,t.ReedSolomonException=tt,t.Result=G,t.ResultMetadataType=q,t.ResultPoint=st,t.StringUtils=N,t.UnsupportedOperationException=T,t.VideoInputDevice=H,t.WhiteRectangleDetector=lt,t.WriterException=Rn,t.ZXingArrays=C,t.ZXingCharset=Fn,t.ZXingInteger=S,t.ZXingStandardCharsets=jn,t.ZXingStringBuilder=P,t.ZXingStringEncoding=M,t.ZXingSystem=b,Object.defineProperty(t,"__esModule",{value:!0})}(e)},KDZV:function(t,e,n){"use strict";n.r(e),n.d(e,"AngularFireAuth",function(){return d}),n.d(e,"AngularFireAuthModule",function(){return v});var r=n("1OyB"),i=n("fXoL"),o=n("HDdC"),a=n("Cfvw"),s=n("LRne"),u=n("eIep"),c=n("XU1U"),l=n("Czum"),h=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(t,e){return function(n,r){e(n,r,t)}},d=function(){var t=function t(e,n,i,h){var f=this;Object(r.a)(this,t);var d=Object(c.i)(new c.f(h),i);this.auth=h.runOutsideAngular(function(){return Object(l.h)(e,h,n).auth()}),this.authState=new o.a(function(t){return h.runOutsideAngular(function(){return f.auth.onAuthStateChanged(t)})}).pipe(d),this.user=new o.a(function(t){return h.runOutsideAngular(function(){return f.auth.onIdTokenChanged(t)})}).pipe(d),this.idToken=this.user.pipe(Object(u.a)(function(t){return t?Object(a.a)(t.getIdToken()):Object(s.a)(null)})),this.idTokenResult=this.user.pipe(Object(u.a)(function(t){return t?Object(a.a)(t.getIdTokenResult()):Object(s.a)(null)}))};return t.\u0275fac=function(e){return new(e||t)(i.Wb(l.c),i.Wb(l.b,8),i.Wb(i.C),i.Wb(i.A))},t.\u0275prov=i.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}([f(0,Object(i.p)(l.c)),f(1,Object(i.B)()),f(1,Object(i.p)(l.b)),f(2,Object(i.p)(i.C)),h("design:paramtypes",[Object,Object,Object,i.A])],t)}(),p=n("wj3C"),g=n.n(p);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Oa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),a=r.next();!a.done;a=r.next())o(a.value).Oa(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){function i(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,o(r.value).Oa(i(a.length-1),e),r=n.next()}while(!r.done)})},e});var o=o||{},a=this||self,s=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function p(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++m)}var v="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=I+t,this.message=e||k[t]||"",this.a=n||null}function O(t){var e=t&&t.code;return e?new E(e.substring(I.length),t.message,t.serverResponse):null}S(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var A,I="auth/",k={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function T(t){for(var e in R)if(R[e].id===t)return{firebaseEndpoint:(t=R[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function M(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function P(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");N.call(this,n+t[r])}function D(t,e){throw new P("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function x(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function L(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function B(){this.b=this.a=null}A=T("__EID__")?"__EID__":void 0,S(N,Error),N.prototype.name="CustomError",S(P,N),P.prototype.name="AssertionError",x.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var F=new x(function(){return new U},function(t){t.reset()});function j(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function U(){this.next=this.b=this.a=null}B.prototype.add=function(t,e){var n=F.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},U.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},U.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function X(t,e){return 0<=V(t,e)}function Z(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function q(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Y(t){return Array.prototype.concat.apply([],arguments)}function K(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Q,J=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},$=/&/g,tt=/</g,et=/>/g,nt=/"/g,rt=/'/g,it=/\x00/g,ot=/[\x00&<>"']/;function at(t,e){return-1!=t.indexOf(e)}function st(t,e){return t<e?-1:t>e?1:0}t:{var ut=a.navigator;if(ut){var ct=ut.userAgent;if(ct){Q=ct;break t}}Q=""}function lt(t){return at(Q,t)}function ht(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function ft(t){for(var e in t)return!1;return!0}function dt(t){var e,n={};for(e in t)n[e]=t[e];return n}var pt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<pt.length;o++)n=pt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function vt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||a).Element&&r.Location){var i=r;break t}}catch(s){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(d(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(s){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;D("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function mt(t,e){this.a=t===wt&&e||"",this.b=bt}function yt(t){return t instanceof mt&&t.constructor===mt&&t.b===bt?t.a:(D("expected object of type Const, got '"+t+"'"),"type_error:Const")}mt.prototype.ra=!0,mt.prototype.qa=function(){return this.a},mt.prototype.toString=function(){return"Const{"+this.a+"}"};var bt={},wt={},_t=new mt(wt,"");function Ct(t,e){this.a=t===kt&&e||"",this.b=It}function St(t){return t instanceof Ct&&t.constructor===Ct&&t.b===It?t.a:(D("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=yt(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Ot,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof mt?yt(t):encodeURIComponent(String(t))}),new Ct(kt,t)}Ct.prototype.ra=!0,Ct.prototype.qa=function(){return this.a.toString()},Ct.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ot=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,It={},kt={};function Rt(t,e){this.a=t===Dt&&e||"",this.b=Pt}function Tt(t){return t instanceof Rt&&t.constructor===Rt&&t.b===Pt?t.a:(D("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}Rt.prototype.ra=!0,Rt.prototype.qa=function(){return this.a.toString()},Rt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Mt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nt(t){return t instanceof Rt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),Mt.test(t)||(t="about:invalid#zClosurez"),new Rt(Dt,t))}var Pt={},Dt={};function xt(){this.a="",this.b=Bt}function Lt(t){return t instanceof xt&&t.constructor===xt&&t.b===Bt?t.a:(D("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}xt.prototype.ra=!0,xt.prototype.qa=function(){return this.a.toString()},xt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function Ft(t){var e=new xt;return e.a=t,e}Ft("<!DOCTYPE html>");var jt=Ft("");function Ut(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return ot.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace($,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(tt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(et,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(nt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(rt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(it,"&#0;"))),t}function Ht(t){return Ht[" "](t),t}Ft("<br>"),Ht[" "]=c;var Wt,zt,Gt=lt("Opera"),Xt=lt("Trident")||lt("MSIE"),Zt=lt("Edge"),qt=Zt||Xt,Yt=lt("Gecko")&&!(at(Q.toLowerCase(),"webkit")&&!lt("Edge"))&&!(lt("Trident")||lt("MSIE"))&&!lt("Edge"),Kt=at(Q.toLowerCase(),"webkit")&&!lt("Edge");function Qt(){var t=a.document;return t?t.documentMode:void 0}t:{var Jt="",$t=(zt=Q,Yt?/rv:([^\);]+)(\)|;)/.exec(zt):Zt?/Edge\/([\d\.]+)/.exec(zt):Xt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zt):Kt?/WebKit\/(\S+)/.exec(zt):Gt?/(?:Version)[ \/]?(\S+)/.exec(zt):void 0);if($t&&(Jt=$t?$t[1]:""),Xt){var te=Qt();if(null!=te&&te>parseFloat(Jt)){Wt=String(te);break t}}Wt=Jt}var ee,ne={};function re(t){return function(t,e){var n=ne;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=J(String(Wt)).split("."),r=J(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=st(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||st(0==a[2].length,0==s[2].length)||st(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}ee=a.document&&Xt?Qt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(zt){}var ie=!Xt||9<=Number(ee);function oe(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ae(t,e){ht(e,function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ce.hasOwnProperty(n)?t.setAttribute(ce[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var se,ue,ce={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function le(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||d(o)&&0<o.nodeType?r(o):H(fe(o)?K(o):o,r)}}function he(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function fe(t){if(t&&"number"==typeof t.length){if(d(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function de(t){a.setTimeout(function(){throw t},0)}function pe(t,e){ue||function(){if(a.Promise&&a.Promise.resolve){var t=a.Promise.resolve(void 0);ue=function(){t.then(me)}}else ue=function(){var t=me;!f(a.setImmediate)||a.Window&&a.Window.prototype&&!lt("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(se||(se=function(){var t=a.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!lt("Presto")&&(t=function(){var t=he(document,"IFRAME");t.style.display="none",function(t){var e=new Ct(kt,yt(_t));vt(t,"HTMLIFrameElement"),t.src=St(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Lt(jt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!lt("Trident")&&!lt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){a.setTimeout(t,0)}}()),se(t)):a.setImmediate(t)}}(),ge||(ue(),ge=!0),ve.add(t,e)}var ge=!1,ve=new B;function me(){for(var t;t=j();){try{t.a.call(t.b)}catch(e){de(e)}L(F,t)}ge=!1}function ye(t,e){if(this.a=be,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,function(t){Ne(n,we,t)},function(t){if(!(t instanceof je))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Ne(n,_e,t)})}catch(r){Ne(this,_e,r)}}var be=0,we=2,_e=3;function Ce(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ce.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Se=new x(function(){return new Ce},function(t){t.reset()});function Ee(t,e,n){var r=Se.get();return r.g=t,r.b=e,r.f=n,r}function Oe(t){if(t instanceof ye)return t;var e=new ye(c);return Ne(e,we,t),e}function Ae(t){return new ye(function(e,n){n(t)})}function Ie(t,e,n){Pe(t,e,n,null)||pe(_(e,t))}function ke(t){return new ye(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ie(t[o],_(i,o,!0),_(i,o,!1));else e(r)})}function Re(t,e){if(t.a==be)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==be&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):xe(n),Le(n,i,_e,e)))}t.c=null}else Ne(t,_e,e)}function Te(t,e){t.b||t.a!=we&&t.a!=_e||De(t),t.f?t.f.next=e:t.b=e,t.f=e}function Me(t,e,n,r){var i=Ee(null,null,null);return i.a=new ye(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof je?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Te(t,i),i.a}function Ne(t,e,n){t.a==be&&(t===n&&(e=_e,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Pe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,De(t),e!=_e||n instanceof je||function(t,e){t.g=!0,pe(function(){t.g&&Fe.call(null,e)})}(t,n)))}function Pe(t,e,n,r){if(t instanceof ye)return Te(t,Ee(e||c,n||null,r)),!0;if(M(t))return t.then(e,n,r),!0;if(d(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function De(t){t.h||(t.h=!0,pe(t.ec,t))}function xe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Le(t,e,n,r){if(n==_e&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Be(e,n,r);else try{e.c?e.g.call(e.f):Be(e,n,r)}catch(i){Fe.call(null,i)}L(Se,e)}function Be(t,e,n){e==we?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Me(this,f(t)?t:null,f(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).ma=function(t,e){return(t=Ee(t,t,e)).c=!0,Te(this,t),this},t.o=function(t,e){return Me(this,null,t,e)},t.cancel=function(t){if(this.a==be){var e=new je(t);pe(function(){Re(this,e)},this)}},t.Yc=function(t){this.a=be,Ne(this,we,t)},t.Zc=function(t){this.a=be,Ne(this,_e,t)},t.ec=function(){for(var t;t=xe(this);)Le(this,t,this.a,this.i);this.h=!1};var Fe=de;function je(t){N.call(this,t)}function Ue(){0!=Ve&&(He[p(this)]=this),this.wa=this.wa,this.na=this.na}S(je,N),je.prototype.name="cancel";var Ve=0,He={};function We(t){if(!t.wa&&(t.wa=!0,t.Ba(),0!=Ve)){var e=p(t);if(0!=Ve&&t.na&&0<t.na.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}Ue.prototype.wa=!1,Ue.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var ze=Object.freeze||function(t){return t},Ge=!Xt||9<=Number(ee),Xe=Xt&&!re("9"),Ze=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ye(t,e){if(qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Yt){t:{try{Ht(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ke[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}qe.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ye,qe);var Ke=ze({2:"touch",3:"pen",4:"mouse"});Ye.prototype.preventDefault=function(){Ye.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ye.prototype.f=function(){return this.a};var Qe="closure_listenable_"+(1e6*Math.random()|0),Je=0;function $e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Je,this.ua=this.Na=!1}function tn(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function en(t){this.src=t,this.a={},this.b=0}function nn(t,e){var n=e.type;n in t.a&&Z(t.a[n],e)&&(tn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function rn(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}en.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=rn(t,e,r,i);return-1<a?(e=t[a],n||(e.Na=!1)):((e=new $e(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var on="closure_lm_"+(1e6*Math.random()|0),an={};function sn(t,e,n,r,i){if(r&&r.once)cn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else n=yn(n),t&&t[Qe]?wn(t,e,n,d(r)?!!r.capture:!!r,i):un(t,e,n,!1,r,i)}function un(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=vn(t);if(s||(t[on]=s=new en(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=gn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ze||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(fn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function cn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=yn(n),t&&t[Qe]?_n(t,e,n,d(r)?!!r.capture:!!r,i):un(t,e,n,!0,r,i)}function ln(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=yn(n),t&&t[Qe]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=rn(o=t.a[e],n,r,i))&&(tn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=vn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=rn(e,n,r,i)),(n=-1<t?e[t]:null)&&hn(n))}function hn(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Qe])nn(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(fn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=vn(e))?(nn(n,t),0==n.b&&(n.src=null,e[on]=null)):tn(t)}}}function fn(t){return t in an?an[t]:an[t]="on"+t}function dn(t,e,n,r){var i=!0;if((t=vn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=pn(o,r),i=i&&!1!==o)}return i}function pn(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&hn(t),n.call(r,e)}function gn(t,e){if(t.ua)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=a,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ye(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=dn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=dn(r[i],t,!1,e),n=n&&o}return n}return pn(t,new Ye(e,this))}function vn(t){return(t=t[on])instanceof en?t:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(t){return f(t)?t:(t[mn]||(t[mn]=function(e){return t.handleEvent(e)}),t[mn])}function bn(){Ue.call(this),this.u=new en(this),this.Yb=this,this.eb=null}function wn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function _n(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function Cn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ua&&a.capture==n){var s=a.listener,u=a.Ta||a.src;a.Na&&nn(t.u,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(t,e,n){if(f(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function En(t){var e=null;return new ye(function(n,r){-1==(e=Sn(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw a.clearTimeout(e),t})}function On(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function In(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof In)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function kn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(bn,Ue),bn.prototype[Qe]=!0,bn.prototype.addEventListener=function(t,e,n,r){sn(this,t,e,n,r)},bn.prototype.removeEventListener=function(t,e,n,r){ln(this,t,e,n,r)},bn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new qe(t,n);else if(t instanceof qe)t.target=t.target||n;else{var i=t;gt(t=new qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Cn(a,r,!0,t)&&i}if(i=Cn(a=t.b=n,r,!0,t)&&i,i=Cn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Cn(a=t.b=e[o],r,!1,t)&&i;return i},bn.prototype.Ba=function(){if(bn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)tn(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=In.prototype).V=function(){kn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return kn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Tn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof Mn?(this.h=void 0!==e?e:t.h,Nn(this,t.f),this.i=t.i,this.b=t.b,Pn(this,t.l),this.c=t.c,Dn(this,$n(t.a)),this.g=t.g):t&&(n=String(t).match(Tn))?(this.h=!!e,Nn(this,n[1]||"",!0),this.i=jn(n[2]||""),this.b=jn(n[3]||"",!0),Pn(this,n[4]),this.c=jn(n[5]||"",!0),Dn(this,n[6]||"",!0),this.g=jn(n[7]||"")):(this.h=!!e,this.a=new Zn(null,this.h))}function Nn(t,e,n){t.f=n?jn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Pn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Dn(t,e,n){e instanceof Zn?(t.a=e,function(t,e){e&&!t.f&&(qn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Kn(this,e),Jn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=Un(e,Gn)),t.a=new Zn(e,t.h))}function xn(t,e,n){t.a.set(e,n)}function Ln(t,e){return t.a.get(e)}function Bn(t){return t instanceof Mn?new Mn(t):new Mn(t,void 0)}function Fn(t,e){var n=new Mn(null,void 0);return Nn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function jn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Un(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Vn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Vn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Mn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Un(e,Hn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Un(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Un(n,"/"==n.charAt(0)?zn:Wn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Un(n,Xn)),t.join("")},Mn.prototype.resolve=function(t){var e=new Mn(this),n=!!t.f;n?Nn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)Pn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(at(i,"./")||at(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Dn(e,$n(t.a)):n=!!t.g,n&&(e.g=t.g),e};var Hn=/[#\/\?@]/g,Wn=/[#\?:]/g,zn=/[#\?]/g,Gn=/[#\?@]/g,Xn=/#/g;function Zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qn(t){t.a||(t.a=new In,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yn(t){var e=An(t);if(void 0===e)throw Error("Keys are undefined");var n=new Zn(null,void 0);t=On(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Kn(t,e){qn(t),e=tr(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&kn(t)))}function Qn(t,e){return qn(t),e=tr(t,e),Rn(t.a.b,e)}function Jn(t,e,n){Kn(t,e),0<n.length&&(t.c=null,t.a.set(tr(t,e),K(n)),t.b+=n.length)}function $n(t){var e=new Zn;return e.c=t.c,t.a&&(e.a=new In(t.a),e.b=t.b),e}function tr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function er(t){var e=[];return rr(new nr,t,e),e.join("")}function nr(){}function rr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),rr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ar(r,n),n.push(":"),rr(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Zn.prototype).add=function(t,e){qn(this),this.c=null,t=tr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){qn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.X=function(){qn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){qn(this);var e=[];if("string"==typeof t)Qn(this,t)&&(e=Y(e,this.a.get(tr(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=Y(e,t[n])}return e},t.set=function(t,e){return qn(this),this.c=null,Qn(this,t=tr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ir={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},or=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ar(t,e){e.push('"',t.replace(or,function(t){var e=ir[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ir[t]=e),e}),'"')}function sr(){var t=Ir();return Xt&&!!ee&&11==ee||/Edge\/\d+/.test(t)}function ur(){return a.window&&a.window.location.href||self&&self.location&&self.location.href||""}function cr(t,e){e=e||a.window;var n="about:blank";t&&(n=Tt(Nt(t))),e.location.href=n}function lr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<lr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function hr(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function fr(t){t=t||a.window;try{t.close()}catch(e){}}function dr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,at(n,"crios/")&&(e.target="_blank")),Er(Ir())==Cr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Rt?n:Nt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((lt("iPhone")&&!lt("iPod")&&!lt("iPad")||lt("iPad")||lt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(vt(a=he(document,"A"),"HTMLAnchorElement"),e instanceof Rt||e instanceof Rt||(e="object"==typeof e&&e.ra?e.qa():String(e),Mt.test(e)||(e="about:invalid#zClosurez"),e=new Rt(Dt,e)),a.href=Tt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Tt(e),a&&(qt&&at(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t=Ft('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">'),r=a.document)&&(r.write(Lt(t)),r.close())):(a=r.open(Tt(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var pr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gr=/^[^@]+@[^@]+$/;function vr(){var t=null;return new ye(function(e){"complete"==a.document.readyState?e():(t=function(){e()},cn(window,"load",t))}).o(function(e){throw ln(window,"load",t),e})}function mr(t){return t=t||Ir(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var t=a.window;try{return!(!t||t==t.top)}catch(e){return!1}}function br(){return void 0!==a.WorkerGlobalScope&&"function"==typeof a.importScripts}function wr(){return g.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":g.a.INTERNAL.hasOwnProperty("node")?"Node":br()?"Worker":"Browser"}function _r(){var t=wr();return"ReactNative"===t||"Node"===t}var Cr="Firefox",Sr="Chrome";function Er(t){var e=t.toLowerCase();return at(e,"opera/")||at(e,"opr/")||at(e,"opios/")?"Opera":at(e,"iemobile")?"IEMobile":at(e,"msie")||at(e,"trident/")?"IE":at(e,"edge/")?"Edge":at(e,"firefox/")?Cr:at(e,"silk/")?"Silk":at(e,"blackberry")?"Blackberry":at(e,"webos")?"Webos":!at(e,"safari/")||at(e,"chrome/")||at(e,"crios/")||at(e,"android")?!at(e,"chrome/")&&!at(e,"crios/")||at(e,"edge/")?at(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Sr:"Safari"}var Or={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in Or)i[Or[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=wr())?r=Er(i=Ir()):"Worker"===r&&(r=Er(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return a.navigator&&a.navigator.userAgent||""}function kr(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=a.localStorage,e=Br();if(t)return t.setItem(e,"1"),t.removeItem(e),!sr()||!!a.indexedDB}catch(n){return br()&&!!a.indexedDB}return!1}function Tr(){return(Mr()||"chrome-extension:"===Nr()||mr())&&!_r()&&Rr()&&!br()}function Mr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return a.location&&a.location.protocol||null}function Pr(t){return!hr(t=t||Ir())&&Er(t)!=Cr}function Dr(t){return void 0===t?null:er(t)}function xr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Br(t){return t||Math.floor(1e9*Math.random()).toString()}function Fr(t){return"Safari"!=Er(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function jr(){var t=a.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Ur(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=wr(),this.b=hr(t)||"ReactNative"===e}function Vr(){var t=a.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Hr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Wr(){return!(!kr("fireauth.oauthhelper",a)&&!kr("fireauth.iframe",a))}Ur.prototype.get=function(){var t=a.navigator;return!t||"boolean"!=typeof t.onLine||!Mr()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var zr,Gr={};function Xr(t){Gr[t]||(Gr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Zr={};Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Zr,"abcd",{configurable:!0,enumerable:!0,value:2}),zr=2==Zr.abcd}catch(zt){zr=!1}function qr(t,e,n){zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Yr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&qr(t,n,e[n])}function Kr(t){var e={};return Yr(e,t),e}function Qr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)qr(e,n,Qr(t[n]));return e}function Jr(t){var e=t&&(t[ri]?"phone":null);if(!(e&&t&&t[ni]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");qr(this,"uid",t[ni]),qr(this,"displayName",t[ti]||null);var n=null;t[ei]&&(n=new Date(t[ei]).toUTCString()),qr(this,"enrollmentTime",n),qr(this,"factorId",e)}function $r(t){try{var e=new ii(t)}catch(n){e=null}return e}Jr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ti="displayName",ei="enrolledAt",ni="mfaEnrollmentId",ri="phoneInfo";function ii(t){Jr.call(this,t),qr(this,"phoneNumber",t[ri])}function oi(t){var e={},n=t[ci],r=t[hi],i=t[fi];if(t=$r(t[li]),!i||i!=si&&i!=ui&&!n||i==ui&&!r||i==ai&&!t)throw Error("Invalid checkActionCode response!");i==ui?(e[pi]=n||null,e[vi]=n||null,e[di]=r):(e[pi]=r||null,e[vi]=r||null,e[di]=n||null),e[gi]=t||null,qr(this,yi,i),qr(this,mi,Qr(e))}S(ii,Jr),ii.prototype.v=function(){var t=ii.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ai="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ui="VERIFY_AND_CHANGE_EMAIL",ci="email",li="mfaInfo",hi="newEmail",fi="requestType",di="email",pi="fromEmail",gi="multiFactorInfo",vi="previousEmail",mi="data",yi="operation";function bi(t){var e=Ln(t=Bn(t),wi)||null,n=Ln(t,_i)||null,r=Ln(t,Ei)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new E("argument-error",wi+", "+_i+"and "+Ei+" are required in a valid action code URL.");Yr(this,{apiKey:e,operation:r,code:n,continueUrl:Ln(t,Ci)||null,languageCode:Ln(t,Si)||null,tenantId:Ln(t,Oi)||null})}var wi="apiKey",_i="oobCode",Ci="continueUrl",Si="languageCode",Ei="mode",Oi="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ai,signIn:si,verifyAndChangeEmail:ui,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new bi(t)}catch(e){return null}}function ki(t){var e=t[Pi];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"==typeof n){e=n[Li];var r=n[Di];if(n=n[xi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",xi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[Bi])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Bi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Mi])&&"boolean"!=typeof e)throw new E("argument-error",Mi+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ti])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ti+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Ti="dynamicLinkDomain",Mi="handleCodeInApp",Ni="iOS",Pi="url",Di="installApp",xi="minimumVersion",Li="packageName",Bi="bundleId";function Fi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ji=null;function Ui(t){var e=Hi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,C(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Vi(t){try{return new Ui(t)}catch(e){return null}}function Hi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ji[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ji){ji={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===ji[o]&&(ji[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var Wi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),zi=["client_id","response_type","scope","redirect_uri","state"],Gi={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:zi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:zi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:zi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:Wi},gd:{Ha:"locale",ta:600,sa:600,ea:"apple.com",Va:[]}};function Xi(t){for(var e in Gi)if(Gi[e].ea==t)return Gi[e];return null}function Zi(t){var e={};e["facebook.com"]=Ji,e["google.com"]=to,e["github.com"]=$i,e["twitter.com"]=eo;var n=t&&t[Yi];try{if(n)return e[n]?new e[n](t):new Qi(t);if(void 0!==t[qi])return new Ki(t)}catch(r){}return null}var qi="idToken",Yi="providerId";function Ki(t){var e=t[Yi];if(!e&&t[qi]){var n=Vi(t[qi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),qr(this,"providerId",e),qr(this,"isNewUser",n)}function Qi(t){Ki.call(this,t),qr(this,"profile",Qr((t=Lr(t.rawUserInfo||"{}"))||{}))}function Ji(t){if(Qi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function $i(t){if(Qi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",this.profile&&this.profile.login||null)}function to(t){if(Qi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(t){if(Qi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");qr(this,"username",t.screenName||null)}function no(t){var e=Bn(t),n=Ln(e,"link"),r=Ln(Bn(n),"link");return e=Ln(e,"deep_link_id"),Ln(Bn(e),"link")||e||r||n||t}function ro(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?io:oo}S(Qi,Ki),S(Ji,Qi),S($i,Qi),S(to,Qi),S(eo,Qi);var io="enroll",oo="signin";function ao(){}function so(t,e){return t.then(function(t){if(t[qa]){var n=Vi(t[qa]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==I+"user-not-found"?new E("user-mismatch"):t})}function uo(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,qr(this,"providerId",t),qr(this,"signInMethod",t)}function co(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function lo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new uo(t.providerId,t.pendingToken)}catch(e){}return null}function ho(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&qr(this,"idToken",e.idToken),e.accessToken&&qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");qr(this,"accessToken",e.oauthToken),qr(this,"secret",e.oauthTokenSecret)}qr(this,"providerId",t),qr(this,"signInMethod",n)}function fo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function po(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new ho(t.providerId,e,t.signInMethod)}catch(n){}}return null}function go(t,e){this.Oc=e||[],Yr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Xi(t)||{}).Ha||null,this.kb=null}function vo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,t,[])}function mo(t){go.call(this,t,zi),this.a=[]}function yo(){mo.call(this,"facebook.com")}function bo(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new yo).credential({accessToken:e})}function wo(){mo.call(this,"github.com")}function _o(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return d(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Co(){mo.call(this,"google.com"),this.Aa("profile")}function So(t,e){var n=t;return d(t)&&(n=t.idToken,e=t.accessToken),(new Co).credential({idToken:n,accessToken:e})}function Eo(){go.call(this,"twitter.com",Wi)}function Oo(t,e){var n=t;if(d(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new ho("twitter.com",n,"twitter.com")}function Ao(t,e,n){this.a=t,this.f=e,qr(this,"providerId","password"),qr(this,"signInMethod",n===ko.EMAIL_LINK_SIGN_IN_METHOD?ko.EMAIL_LINK_SIGN_IN_METHOD:ko.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new Ao(t.email,t.password,t.signInMethod):null}function ko(){Yr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=To(e)))throw new E("argument-error","Invalid email link!");return new Ao(t,e.code,ko.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=Ii(t=no(t)))&&t.operation===si?t:null}function Mo(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,qr(this,"providerId","phone"),this.ea="phone",qr(this,"signInMethod","phone")}function No(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Mo(e)}return null}function Po(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Do(t){try{this.a=t||g.a.auth()}catch(e){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Yr(this,{providerId:"phone",isOAuthProvider:!1})}function xo(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new Mo({bb:t,ab:e})}function Lo(t){if(t.temporaryProof&&t.phoneNumber)return new Mo({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return So(o,n);case"facebook.com":return bo(n);case"github.com":return _o(n);case"twitter.com":return Oo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new uo(e,a):new ho(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Bo(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Fo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function jo(t){return(t=t||{}).type?new Fo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&O(t.error),t.postBody,t.tenantId):null}function Uo(){this.b=null,this.a=[]}ro.prototype.Fa=function(){return Oe(this.a?this.a:this.b)},ro.prototype.v=function(){return this.type==io?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ao.prototype.ia=function(){},ao.prototype.b=function(){},ao.prototype.c=function(){},ao.prototype.v=function(){},uo.prototype.ia=function(t){return ds(t,co(this))},uo.prototype.b=function(t,e){var n=co(this);return n.idToken=e,ps(t,n)},uo.prototype.c=function(t,e){return so(gs(t,co(this)),e)},uo.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},ho.prototype.ia=function(t){return ds(t,fo(this))},ho.prototype.b=function(t,e){var n=fo(this);return n.idToken=e,ps(t,n)},ho.prototype.c=function(t,e){return so(gs(t,fo(this)),e)},ho.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},go.prototype.Ia=function(t){return this.Fb=dt(t),this},S(vo,go),S(mo,go),mo.prototype.Aa=function(t){return X(this.a,t)||this.a.push(t),this},mo.prototype.Nb=function(){return K(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=d(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new ho(this.providerId,n,this.providerId)},S(yo,mo),qr(yo,"PROVIDER_ID","facebook.com"),qr(yo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(wo,mo),qr(wo,"PROVIDER_ID","github.com"),qr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),S(Co,mo),qr(Co,"PROVIDER_ID","google.com"),qr(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),S(Eo,go),qr(Eo,"PROVIDER_ID","twitter.com"),qr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ao.prototype.ia=function(t){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Ks(t,Ss,{email:this.a,oobCode:this.f}):Ks(t,Gs,{email:this.a,password:this.f})},Ao.prototype.b=function(t,e){return this.signInMethod==ko.EMAIL_LINK_SIGN_IN_METHOD?Ks(t,Es,{idToken:e,email:this.a,oobCode:this.f}):Ks(t,Bs,{idToken:e,email:this.a,password:this.f})},Ao.prototype.c=function(t,e){return so(this.ia(t),e)},Ao.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Yr(ko,{PROVIDER_ID:"password"}),Yr(ko,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Yr(ko,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Mo.prototype.ia=function(t){return t.cb(Po(this))},Mo.prototype.b=function(t,e){var n=Po(this);return n.idToken=e,Ks(t,Zs,n)},Mo.prototype.c=function(t,e){var n=Po(this);return n.operation="REAUTH",so(t=Ks(t,qs,n),e)},Mo.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Do.prototype.cb=function(t,e){var n=this.a.b;return Oe(e.verify()).then(function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=d(t)?t.session:null,o=d(t)?t.phoneNumber:t;return(i&&i.type==io?i.Fa().then(function(t){return function(t,e){return Ks(t,js,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==oo?i.Fa().then(function(e){return function(t,e){return Ks(t,Us,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return Ks(t,xs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Yr(Do,{PROVIDER_ID:"phone"}),Yr(Do,{PHONE_SIGN_IN_METHOD:"phone"}),Fo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Fo.prototype.S=function(){return this.h},Fo.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Vo,Ho=null;function Wo(t){var e="unauthorized-domain",n=void 0,r=Bn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Ut("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ut("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function zo(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&qr(this,"email",t.Gb),t.da&&qr(this,"phoneNumber",t.da),t.credential&&qr(this,"credential",t.credential),t.Wb&&qr(this,"tenantId",t.Wb)}function Go(t){if(t.code){var e=t.code||"";0==e.indexOf(I)&&(e=e.substring(I.length));var n={credential:Lo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new zo(e,n,t.message)}return null}function Xo(){}function Zo(){}function qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Yo(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.oc,this),this.a.onerror=w(this.Pb,this),this.a.onprogress=w(this.pc,this),this.a.ontimeout=w(this.tc,this)}function Qo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Jo(t,e,n){this.reset(t,e,n,void 0,void 0)}function $o(t){this.f=t,this.b=this.c=this.a=null}function ta(t,e){this.name=t,this.value=e}S(Wo,E),S(zo,E),zo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&gt(t,e),t},zo.prototype.toJSON=function(){return this.v()},Xo.prototype.c=null,S(Zo,Xo),Zo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Zo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},Vo=new Zo,S(Yo,Xo),Yo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},Yo.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Qo(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Qo(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Qo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},ta.prototype.toString=function(){return this.name};var ea=new ta("SEVERE",1e3),na=new ta("WARNING",900),ra=new ta("CONFIG",700),ia=new ta("FINE",500);function oa(t){return t.c?t.c:t.a?oa(t.a):(D("Root logger has no level set."),null)}$o.prototype.log=function(t,e,n){if(t.value>=oa(this).value)for(f(e)&&(e=e()),t=new Jo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var aa={},sa=null;function ua(t){var e;if(sa||(sa=new $o(""),aa[""]=sa,sa.c=ra),!(e=aa[t])){e=new $o(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ua(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,aa[t]=e}return e}function ca(t,e){t&&t.log(ia,e,void 0)}function la(t){this.f=t}function ha(t){bn.call(this),this.s=t,this.readyState=fa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=ua("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}S(la,Xo),la.prototype.a=function(){return new ha(this.f)},la.prototype.b=function(t){return function(){return t}}({}),S(ha,bn);var fa=0;function da(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function pa(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ga(t)}function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function va(t){bn.call(this),this.headers=new In,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=ma,this.w=this.R=!1}(t=ha.prototype).open=function(t,e){if(this.readyState!=fa)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ga(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,pa(this,!1)),this.readyState=fa},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ga(this)),this.a&&(this.readyState=3,ga(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==a.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,da(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?pa(this,!0):ga(this),3==this.readyState&&da(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,pa(this,!0))},t.qc=function(t){this.a&&(this.response=t,pa(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(na,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&pa(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(na,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(na,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},S(va,bn);var ma="";va.prototype.b=ua("goog.net.XhrIo");var ya=/^https?$/i,ba=["POST","PUT"];function wa(t){return"content-type"==t.toLowerCase()}function _a(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ca(t),Ea(t)}function Ca(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Sa(t){if(t.c&&void 0!==o)if(t.B[1]&&4==Aa(t)&&2==Ia(t))ca(t.b,ka(t,"Local request error detected and ignored"));else if(t.i&&4==Aa(t))Sn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Aa(t)){ca(t.b,ka(t,"Request complete")),t.c=!1;try{var e,n=Ia(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.l).match(Tn)[1]||null;if(!s&&a.self&&a.self.location){var u=a.self.location.protocol;s=u.substr(0,u.length-1)}i=!ya.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Aa(t)?t.a.statusText:""}catch(l){ca(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ia(t)+"]",Ca(t)}}finally{Ea(t)}}}function Ea(t,e){if(t.a){Oa(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(ea,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Oa(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(a.clearTimeout(t.s),t.s=null)}function Aa(t){return t.a?t.a.readyState:0}function Ia(t){try{return 2<Aa(t)?t.a.status:-1}catch(e){return-1}}function ka(t,e){return e+" ["+t.P+" "+t.l+" "+Ia(t)+"]"}function Ra(t){var e=Ua;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ta(t,e,n){t.a=!0,t.c=n,t.f=!e,Da(t)}function Ma(t){if(t.a){if(!t.u)throw new xa(t);t.u=!1}}function Na(t,e,n,r){t.g.push([e,n,r]),t.a&&Da(t)}function Pa(t){return G(t.g,function(t){return f(t[1])})}function Da(t){if(t.h&&t.a&&Pa(t)){var e=t.h,n=Fa[e];n&&(a.clearTimeout(n.a),delete Fa[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],s=i[1];if(i=i[2],o=t.f?s:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(M(e)||"function"==typeof a.Promise&&e instanceof a.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Pa(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Ra?(Na(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Ba(e),Fa[e.a]=e,t.h=e.a)}function xa(){N.call(this)}function La(){N.call(this)}function Ba(t){this.a=a.setTimeout(w(this.c,this),0),this.b=t}(t=va.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ca(this.b,ka(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ca(this.b,ka(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ea(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ea(this,!0)),va.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?Sa(this):this.Hc())},t.Hc=function(){Sa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ma:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(ea,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ca(this.b,"Can not get response: "+e.message),null}},Ra.prototype.cancel=function(t){if(this.a)this.c instanceof Ra&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new La(this),Ma(this),Ta(this,!1,t))}},Ra.prototype.m=function(t,e){this.i=!1,Ta(this,t,e)},Ra.prototype.then=function(t,e,n){var r,i,o=new ye(function(t,e){r=t,i=e});return Na(this,r,function(t){t instanceof La?o.cancel():i(t)}),o.then(t,e,n)},Ra.prototype.$goog_Thenable=!0,S(xa,N),xa.prototype.message="Deferred has already fired",xa.prototype.name="AlreadyCalledError",S(La,N),La.prototype.message="Deferred was canceled",La.prototype.name="CanceledError",Ba.prototype.c=function(){throw delete Fa[this.a],this.b};var Fa={};function ja(t){var e={},n=e.document||document,r=St(t).toString(),i=he(document,"SCRIPT"),o={Tb:i,Ka:void 0},c=new Ra(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){Va(i,!0);var t=new za(Wa,"Timeout reached for loading script "+r);Ma(c),Ta(c,!1,t)},h),o.Ka=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Va(i,e.ud||!1,l),Ma(c),Ta(c,!0,null))},i.onerror=function(){Va(i,!0,l);var t=new za(Ha,"Error while loading script "+r);Ma(c),Ta(c,!1,t)},gt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ae(i,o),function(t,e){vt(t,"HTMLScriptElement"),t.src=St(e),null===u&&(u=(e=(e=a.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&s.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Ua(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Va(t,!0,this.Ka)}}function Va(t,e,n){null!=n&&a.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ha=0,Wa=1;function za(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function Ga(t){this.f=t}function Xa(t,e,n){if(this.c=t,this.u=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ya,this.g=dt(t.secureTokenHeaders||Ka),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Qa,this.a=dt(t.firebaseHeaders||Ja),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==wr(),!(n=a.XMLHttpRequest||n&&g.a.INTERNAL.node&&g.a.INTERNAL.node.XMLHttpRequest)&&!br())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=br()?new la(self):_r()?new Ga(n):new Yo,this.b=null}S(za,N),S(Ga,Xo),Ga.prototype.a=function(){return new this.f},Ga.prototype.b=function(){return{}};var Za,qa="idToken",Ya=new Ur(3e4,6e4),Ka={"Content-Type":"application/x-www-form-urlencoded"},Qa=new Ur(3e4,6e4),Ja={"Content-Type":"application/json"};function $a(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ts(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function es(t,e,n,r,i,o,s){(function(){var t=Ir();return!((t=Er(t)!=Sr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Xt&&ee&&!(9<ee))})()||br()?t=w(t.w,t):(Za||(Za=new ye(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(a[rs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Na(t,null,e,void 0)}(ja(Et(ns,{onload:rs})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,s)}Xa.prototype.S=function(){return this.b},Xa.prototype.w=function(t,e,n,r,i,o){if(br()&&(void 0===a.fetch||void 0===a.Headers||void 0===a.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new va(this.f);if(o){s.g=Math.max(0,o);var u=setTimeout(function(){s.dispatchEvent("timeout")},o)}wn(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ca(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),_n(s,"ready",function(){u&&clearTimeout(u),We(this)}),_n(s,"timeout",function(){u&&clearTimeout(u),We(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Vo.a(),t.B=function(t){return t.c||(t.c=t.b())}(t.D?t.D:Vo),t.a.onreadystatechange=w(t.Sb,t);try{ca(t.b,ka(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(s){return ca(t.b,ka(t,"Error opening Xhr: "+s.message)),void _a(t,s)}e=r||"";var o=new In(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)H(t,e,void 0);else for(var n=An(t),r=On(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=wa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=a.FormData&&e instanceof a.FormData,!X(ba,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{Oa(t),0<t.g&&(t.w=function(t){return Xt&&re(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),ca(t.b,ka(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ka,t)):t.s=Sn(t.Ka,t.g,t)),ca(t.b,ka(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ca(t.b,ka(t,"Send error: "+s.message)),_a(t,s)}}(s,t,n,r,i)};var ns=new mt(wt,"https://apis.google.com/js/client.js?onload=%{onload}"),rs="__fcb"+Math.floor(1e6*Math.random()).toString();function is(t){if("string"!=typeof(t=t.email)||!gr.test(t))throw new E("invalid-email")}function os(t){"email"in t&&is(t)}function as(t){if(!t[qa]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,dt(t));throw new E("internal-error")}}function ss(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Xa.prototype.s=function(t,e,n,r,i){var o=this;Za.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Xa.prototype.vb=function(){return Ks(this,Fs,{})},Xa.prototype.xb=function(t,e){return Ks(this,Ls,{idToken:t,email:e})},Xa.prototype.yb=function(t,e){return Ks(this,Bs,{idToken:t,password:e})};var us={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function cs(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function ls(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function hs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Qn(t=new Zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function fs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Go(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Go(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Go(t)):t.errorMessage&&(e=Qs(t.errorMessage)),e)throw e;as(t)}function ds(t,e){return e.returnIdpCredential=!0,Ks(t,Vs,e)}function ps(t,e){return e.returnIdpCredential=!0,Ks(t,Ws,e)}function gs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ks(t,Hs,e)}function vs(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Xa.prototype).zb=function(t,e){var n={idToken:t},r=[];return ht(us,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Ks(this,Ls,n)},t.rb=function(t,e){return gt(t={requestType:"PASSWORD_RESET",email:t},e),Ks(this,Ms,t)},t.sb=function(t,e){return gt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ks(this,ks,t)},t.qb=function(t,e){return gt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ks(this,Rs,t)},t.Ab=function(t,e,n){return gt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ks(this,Ts,t)},t.cb=function(t){return Ks(this,Xs,t)},t.jb=function(t,e){return Ks(this,Ds,{oobCode:t,newPassword:e})},t.Pa=function(t){return Ks(this,ys,{oobCode:t})},t.fb=function(t){return Ks(this,ms,{oobCode:t})};var ms={endpoint:"setAccountInfo",A:vs,Y:"email",C:!0},ys={endpoint:"resetPassword",A:vs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},bs={endpoint:"signupNewUser",A:function(t){if(is(t),!t.password)throw new E("weak-password")},G:as,U:!0,C:!0},ws={endpoint:"createAuthUri",C:!0},_s={endpoint:"deleteAccount",M:["idToken"]},Cs={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new E("internal-error")}},Ss={endpoint:"emailLinkSignin",M:["email","oobCode"],A:is,G:as,U:!0,C:!0},Es={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:is,G:as,U:!0},Os={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:cs,G:as,C:!0,La:!0},As={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:cs,G:as,C:!0,La:!0},Is={endpoint:"getAccountInfo"},ks={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");is(t)},Y:"email",C:!0},Rs={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Ts={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},Ms={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");is(t)},Y:"email",C:!0},Ns={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Ps={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Ds={endpoint:"resetPassword",A:vs,Y:"email",C:!0},xs={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Ls={endpoint:"setAccountInfo",M:["idToken"],A:os,U:!0},Bs={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(os(t),!t.password)throw new E("weak-password")},G:as,U:!0},Fs={endpoint:"signupNewUser",G:as,U:!0,C:!0},js={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Us={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Vs={endpoint:"verifyAssertion",A:ls,Wa:hs,G:fs,U:!0,C:!0},Hs={endpoint:"verifyAssertion",A:ls,Wa:hs,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Qs(t.errorMessage);as(t)},U:!0,C:!0},Ws={endpoint:"verifyAssertion",A:function(t){if(ls(t),!t.idToken)throw new E("internal-error")},Wa:hs,G:fs,U:!0},zs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:as,U:!0,C:!0},Gs={endpoint:"verifyPassword",A:function(t){if(is(t),!t.password)throw new E("wrong-password")},G:as,U:!0,C:!0},Xs={endpoint:"verifyPhoneNumber",A:ss,G:as,C:!0},Zs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");ss(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Go(t);as(t)}},qs={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ss,G:as,C:!0},Ys={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[qa]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Ks(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Ae(new E("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Oe(n).then(e.A).then(function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Bn(e+n);xn(s,"key",t.c),a&&xn(s,"cb",C().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&xn(s,c,i[c]);return new ye(function(e,n){es(t,s.toString(),function(t){t?t.error?n(Js(t,o||{})):e(t):n(new E("network-request-failed"))},r,u?void 0:er(xr(i)),t.a,t.i.get())})}(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)}).then(function(t){return r=t,e.Wa?e.Wa(n,r):r}).then(e.G).then(function(){if(!e.Y)return r;if(!(e.Y in r))throw new E("internal-error");return r[e.Y]})}function Qs(t){return Js({error:{errors:[{message:t}],code:400,message:t}})}function Js(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",gt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=Dr(t)),new E("internal-error",e)}function $s(t){this.b=t,this.a=null,this.nb=function(t){return(ru||(ru=new ye(function(t,e){function n(){jr(),kr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){jr(),e(Error("Network Error"))},timeout:eu.get()})}if(kr("gapi.iframes.Iframe"))t();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();a[r]=function(){kr("gapi.load")?n():e(Error("Network Error"))},Oe(ja(r=Et(tu,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw ru=null,t}))).then(function(){return new ye(function(e,n){kr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},nu.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var tu=new mt(wt,"https://apis.google.com/js/api.js?onload=%{onload}"),eu=new Ur(3e4,6e4),nu=new Ur(5e3,15e3),ru=null;function iu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Fn(this.i,"/__/auth/iframe"),xn(this.a,"apiKey",this.g),xn(this.a,"appName",this.h),this.b=null,this.c=[]}function ou(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function au(t){try{return g.a.app(t).auth().Ea()}catch(e){return[]}}function su(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function uu(t){var e=ur();return function(t){return Ks(t,Ns,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Bn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Bn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Wo(ur())})}function cu(t){return t.l||(t.l=vr().then(function(){if(!t.s){var e=t.c,n=t.h,r=au(t.b),i=new iu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=K(r||[]),t.s=i.toString()}t.i=new $s(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then(function(){t.a.register("authEvent",e,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=jo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Oe(n)}return n.status="ERROR",Oe(n)})}(t)})),t.l}function lu(t){return t.m||(t.w=t.c?Ar(t.c,au(t.b)):null,t.m=new Xa(t.f,T(t.h),t.w)),t.m}function hu(t,e,n,r,i,o,a,s,u,c,l){return(t=new ou(t,e,n,r,i)).l=o,t.g=a,t.i=s,t.b=dt(u||null),t.f=c,t.ub(l).toString()}function fu(t){if(this.a=t||g.a.INTERNAL.reactNative&&g.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function du(t){this.b=t,this.a={},this.f=w(this.c,this)}iu.prototype.toString=function(){return this.f?xn(this.a,"v",this.f):Kn(this.a.a,"v"),this.b?xn(this.a,"eid",this.b):Kn(this.a.a,"eid"),this.c.length?xn(this.a,"fw",this.c.join(",")):Kn(this.a.a,"fw"),this.a.toString()},ou.prototype.ub=function(t){return this.h=t,this},ou.prototype.toString=function(){var t=Fn(this.s,"/__/auth/handler");if(xn(t,"apiKey",this.m),xn(t,"appName",this.c),xn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=g.a.app(this.c).auth().ja()}catch(s){n=null}for(var r in e.kb=n,xn(t,"providerId",this.a.providerId),n=xr((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=dt(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),ft(n)||xn(t,"customParameters",Dr(n))}if("function"==typeof this.a.Nb&&(e=this.a.Nb()).length&&xn(t,"scopes",e.join(",")),this.l?xn(t,"redirectUrl",this.l):Kn(t.a,"redirectUrl"),this.g?xn(t,"eventId",this.g):Kn(t.a,"eventId"),this.i?xn(t,"v",this.i):Kn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Ln(t,a)&&xn(t,a,this.b[a]);return this.h?xn(t,"tid",this.h):Kn(t.a,"tid"),this.f?xn(t,"eid",this.f):Kn(t.a,"eid"),(a=au(this.c)).length&&xn(t,"fw",a.join(",")),t.toString()},(t=su.prototype).Lb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,a=!1;return this.ka().then(function(){(function(t){var e={type:"webStorageSupport"};return cu(t).then(function(){return function(t,e){return t.nb.then(function(){return new ye(function(n){t.a.send(e.type,e,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&fr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new ye(function(e){return function n(){En(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return En(n).then(function(){e(r)})})},t.Ub=function(){var t=Ir();return!Pr(t)&&!Fr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,a,s){if(!t)return Ae(new E("popup-blocked"));if(a&&!Pr())return this.ka().o(function(e){fr(t),i(e)}),r(),Oe();this.a||(this.a=uu(lu(this)));var u=this;return this.a.then(function(){var e=u.ka().o(function(e){throw fr(t),i(e),e});return r(),e}).then(function(){Bo(n),a||cr(hu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,s),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Kb=function(t,e,n,r){this.a||(this.a=uu(lu(this)));var i=this;return this.a.then(function(){Bo(e),cr(hu(i.u,i.f,i.b,t,e,ur(),n,i.c,void 0,i.h,r))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ka=function(){var t=this;return cu(this).then(function(){return t.i.nb}).o(function(){throw t.a=null,new E("network-request-failed")})},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){q(this.g,function(e){return e==t})},(t=fu.prototype).get=function(t){return Oe(this.a.getItem(t)).then(function(t){return t&&Lr(t)})},t.set=function(t,e){return Oe(this.a.setItem(t,Dr(e)))},t.T=function(t){return Oe(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var pu,gu=[];function vu(t,e,n){ft(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function mu(t){this.a=t}function yu(t){this.c=t,this.b=!1,this.a=[]}function bu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return wu(t,c),e}).o(function(e){throw wu(t,c),e})}function wu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),q(t.a,function(t){return t==e})}}function _u(){if(!Eu())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=a.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;br()&&self?(this.l=function(){var t=br()?self:null;if(H(gu,function(n){n.b==t&&(e=n)}),!e){var e=new du(t);gu.push(e)}return e}(),vu(this.l,"keyChanged",function(e,n){return Ru(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:X(e,n.key)}})}),vu(this.l,"ping",function(){return Oe(["keyChanged"])})):function(){var t=a.navigator;return t&&t.serviceWorker?Oe().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Oe(null)}().then(function(e){(t.h=e)&&(t.g=new yu(new mu(e)),bu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&X(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Cu(t){return new ye(function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye(function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Cu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Su(t){return t.m||(t.m=Cu(t)),t.m}function Eu(){try{return!!a.indexedDB}catch(zt){return!1}}function Ou(t){return t.objectStore("firebaseLocalStorage")}function Au(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Iu(t){return new ye(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function ku(t,e){return t.g&&t.h&&function(){var t=a.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?bu(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Oe()}function Ru(t){return Su(t).then(function(t){var e=Ou(Au(t,!1));return e.getAll?Iu(e.getAll()):new ye(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=lr(t.c,n),t.c=n}return r})}function Tu(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Mu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Oe().then(function(){if(Eu()){var t=Br(),r="__sak"+t;return pu||(pu=new _u),(n=pu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ba(function(t){H(e.a,function(e){e(t)})}),t})}function Nu(){this.a={},this.type="inMemory"}function Pu(){if(!function(){var t="Node"==wr();if(!(t=Du()||t&&g.a.INTERNAL.node&&g.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Du()||g.a.INTERNAL.node.localStorage,this.type="localStorage"}function Du(){try{var t=a.localStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function xu(){this.type="nullStorage"}function Lu(){if(!function(){var t="Node"==wr();if(!(t=Bu()||t&&g.a.INTERNAL.node&&g.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==wr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Bu()||g.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=a.sessionStorage,e=Br();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Fu(){var t={};t.Browser=Vu,t.Node=Hu,t.ReactNative=Wu,t.Worker=zu,this.a=t[wr()]}du.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Oe().then(function(){return e(t.origin,t.data.data)}))}),ke(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},mu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},yu.prototype.close=function(){for(;0<this.a.length;)wu(this,this.a[0]);this.b=!0},(t=_u.prototype).set=function(t,e){var n,r=!1,i=this;return Su(this).then(function(e){return Iu((e=Ou(Au(n=e,!0))).get(t))}).then(function(o){var a=Ou(Au(n,!0));return o?(o.value=e,Iu(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Iu(a.add(o)))}).then(function(){return i.c[t]=e,ku(i,t)}).ma(function(){r&&i.b--})},t.get=function(t){return Su(this).then(function(e){return Iu(Ou(Au(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.T=function(t){var e=!1,n=this;return Su(this).then(function(r){return e=!0,n.b++,Iu(Ou(Au(r,!0)).delete(t))}).then(function(){return delete n.c[t],ku(n,t)}).ma(function(){e&&n.b--})},t.ba=function(t){0==this.a.length&&function(t){Tu(t),function e(){t.f=setTimeout(function(){t.i=Ru(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ha=function(t){q(this.a,function(e){return e==t}),0==this.a.length&&Tu(this)},(t=Mu.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.T=function(t){return this.b.then(function(e){return e.T(t)})},t.ba=function(t){this.a.push(t)},t.ha=function(t){q(this.a,function(e){return e==t})},(t=Nu.prototype).get=function(t){return Oe(this.a[t])},t.set=function(t,e){return this.a[t]=e,Oe()},t.T=function(t){return delete this.a[t],Oe()},t.ba=function(){},t.ha=function(){},(t=Pu.prototype).get=function(t){var e=this;return Oe().then(function(){return Lr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Oe().then(function(){var r=Dr(e);null===r?n.T(t):n.a.setItem(t,r)})},t.T=function(t){var e=this;return Oe().then(function(){e.a.removeItem(t)})},t.ba=function(t){a.window&&sn(a.window,"storage",t)},t.ha=function(t){a.window&&ln(a.window,"storage",t)},(t=xu.prototype).get=function(){return Oe(null)},t.set=function(){return Oe()},t.T=function(){return Oe()},t.ba=function(){},t.ha=function(){},(t=Lu.prototype).get=function(t){var e=this;return Oe().then(function(){return Lr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Oe().then(function(){var r=Dr(e);null===r?n.T(t):n.a.setItem(t,r)})},t.T=function(t){var e=this;return Oe().then(function(){e.a.removeItem(t)})},t.ba=function(){},t.ha=function(){};var ju,Uu,Vu={F:Pu,$a:Lu},Hu={F:Pu,$a:Lu},Wu={F:fu,$a:xu},zu={F:Pu,$a:xu},Gu={od:"local",NONE:"none",qd:"session"};function Xu(){var t=!(Fr(Ir())||!yr()),e=Pr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},ju||(ju=new Fu),t=ju;try{this.g=!sr()&&Wr()||!a.indexedDB?new t.a.F:new Mu(br()?new Nu:new t.a.F)}catch(r){this.g=new Nu,this.h=!0}try{this.i=new t.a.$a}catch(r){this.i=new Nu}this.u=new Nu,this.f=w(this.Vb,this),this.b={}}function Zu(){return Uu||(Uu=new Xu),Uu}function qu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Yu(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Ku(t,e,n){return n=Yu(e,n),"local"==e.F&&(t.b[n]=null),qu(t,e.F).T(n)}function Qu(t){t.c&&(clearInterval(t.c),t.c=null)}function Ju(t){this.a=t,this.b=Zu()}(t=Xu.prototype).get=function(t,e){return qu(this,t.F).get(Yu(t,e))},t.set=function(t,e,n){var r=Yu(t,n),i=this,o=qu(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Yu(t,e),this.l&&(this.b[t]=a.localStorage.getItem(t)),ft(this.a)&&(qu(this,"local").ba(this.f),this.h||(sr()||!Wr())&&a.indexedDB||!this.l||function(t){Qu(t),t.c=setInterval(function(){for(var e in t.a){var n=a.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ye({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Yu(t,e),this.a[t]&&(q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),ft(this.a)&&(qu(this,"local").ha(this.f),Qu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=a.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?qu(this,"local").ha(this.f):Qu(this),this.m)if(n=a.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?a.localStorage.setItem(e,r):a.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===a.localStorage.getItem(e)||(o.b[e]=a.localStorage.getItem(e),o.ib(e))},Xt&&ee&&10==ee&&a.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.ib,this))},t.ib=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var $u,tc={name:"authEvent",F:"local"};function ec(){this.a=Zu()}function nc(t,e){this.b=rc,this.f=a.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=a.Int32Array?new Int32Array(64):Array(64),void 0===$u&&($u=a.Int32Array?new Int32Array(lc):lc),this.reset()}S(nc,function(){this.b=-1});for(var rc=64,ic=rc-1,oc=[],ac=0;ac<ic;ac++)oc[ac]=0;var sc=Y(128,oc);function uc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|$u[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function cc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(uc(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(uc(t),i=0)}}t.c=i,t.g+=n}nc.prototype.reset=function(){this.g=this.c=0,this.a=a.Int32Array?new Int32Array(this.h):K(this.h)};var lc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hc(){nc.call(this,8,fc)}S(hc,nc);var fc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function dc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new ec,this.g=new Ju(this.h),this.f=null,this.b=[],this.a=this.c=null}function pc(t){return new E("invalid-cordova-configuration",t)}function gc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function vc(t){return t.f||(t.f=t.ka().then(function(){return new ye(function(e){t.Ca(function n(r){return e(r),t.Qa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),mc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=no(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Ln(o=Bn(i),"firebaseError")||null))?O(o):null)?new Fo(r.c,r.b,null,null,o,null,r.S()):new Fo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}gc(t,i)})}var n=new Fo("unknown",null,null,null,new E("no-auth-event")),r=!1,i=En(500).then(function(){return mc(t).then(function(){r||gc(t,n)})}),o=a.handleOpenURL;a.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(kr("BuildInfo.packageName",a).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Ho||(Ho=new Uo),function(t){var e=Ho;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=kr("universalLinks.subscribe",a))&&t(null,e.b))}(e)}(t)})})),t.f}function mc(t){var e=null;return function(t){return t.b.get(tc,t.a).then(function(t){return jo(t)})}(t.g).then(function(n){return e=n,Ku((n=t.g).b,tc,n.a)}).then(function(){return e})}function yc(t){this.a=t,this.b=Zu()}(t=dc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(mr(void 0)?vr().then(function(){return new ye(function(t,e){var n=a.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof kr("universalLinks.subscribe",a))throw pc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",a))throw pc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",a))throw pc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",a))throw pc("cordova-plugin-inappbrowser is not installed")},function(){throw new E("cordova-not-ready")})},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Oe()},t.Jb=function(){return Ae(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Ae(new E("redirect-operation-pending"));var i=this,o=a.document,s=null,u=null,c=null,l=null;return this.c=Oe().then(function(){return Bo(e),vc(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),s=new Fo(e,r,null,o,new E("no-auth-event"),null,i),u=kr("BuildInfo.packageName",a);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=kr("BuildInfo.displayName",a),l={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ir().toLowerCase().match(/android/))return Ae(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new hc;cc(e,t),t=[];var n=8*e.g;cc(e,sc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(uc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=hu(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then(function(){var e=t.h;return t.w.a.set(tc,s.v(),e)}).then(function(){var e=kr("cordova.plugins.browsertab.isAvailable",a);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",a)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",a)))throw new E("invalid-cordova-configuration");e=Ir(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new ye(function(t,e){u=function(){var e=kr("cordova.plugins.browsertab.close",a);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),l=function(){Vr()&&c()},o.addEventListener("resume",c=function(){s||(s=En(2e3).then(function(){e(new E("redirect-cancelled-by-user"))}))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return mc(i).then(function(){throw t})})}).ma(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),u&&i.Qa(u),i.c=null})},t.Ca=function(t){this.b.push(t),vc(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Fo("unknown",null,null,null,new E("no-auth-event")),t(e))})},t.Qa=function(t){q(this.b,function(e){return e==t})};var bc={name:"pendingRedirect",F:"session"};function wc(t){return Ku(t.b,bc,t.a)}function _c(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new xc,this.B=new Uc,this.g=new yc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=Cc(this.D,this.u,this.m,A)}function Cc(t,e,n,r){var i=g.a.SDK_VERSION||null;return mr()?new dc(t,e,n,i,r):new su(t,e,n,i,r)}function Sc(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o(function(n){throw t.a==e&&t.reset(),n})}function Ec(t){t.a.Ub()&&Sc(t).o(function(e){var n=new Fo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Tc(e)&&t.s(n)}),t.a.Qb()||Lc(t.b)}function Oc(t,e){X(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(bc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?wc(t.g).then(function(){Sc(t).o(function(e){var n=new Fo("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));Tc(e)&&t.s(n)})}):Ec(t)}).o(function(){Ec(t)})}function Ac(t,e){q(t.h,function(t){return t==e})}_c.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=Cc(this.D,this.u,this.m),this.i={}},_c.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=C()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=C())),e=!0;break}}return Lc(this.b),e};var Ic=new Ur(2e3,1e4),kc=new Ur(3e4,6e4);function Rc(t,e,n,r,i,o,a){return t.a.Jb(e,n,r,function(){t.f||(t.f=!0,t.a.Ca(t.l))},function(){t.reset()},i,o,a)}function Tc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Mc(t,e,n,r,i){var o;return function(t){return t.b.set(bc,"pending",t.a)}(t.g).then(function(){return t.a.Kb(e,n,r,i).o(function(e){if(Tc(e))throw new E("operation-not-supported-in-this-environment");return o=e,wc(t.g).then(function(){throw o})}).then(function(){return t.a.Xb()?new ye(function(){}):wc(t.g).then(function(){return t.pa()}).then(function(){}).o(function(){})})})}function Nc(t,e,n,r,i){return t.a.Lb(r,function(t){e.la(n,null,t,i)},Ic.get())}_c.prototype.pa=function(){return this.b.pa()};var Pc={};function Dc(t,e,n){var r=e+":"+n;return Pc[r]||(Pc[r]=new _c(t,e,n)),Pc[r]}function xc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Lc(t){t.g||(t.g=!0,jc(t,!1,null,null))}function Bc(t){t.g&&!t.i&&jc(t,!1,null,null)}function Fc(t,e){if(t.b=function(){return Oe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function jc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Fc(t,n):Fc(t,{user:null}),t.f=[],t.c=[]}function Uc(){}function Vc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Hc(t,e){this.a=e,qr(this,"verificationId",t)}function Wc(t,e,n,r){return new Do(t).cb(e,n).then(function(t){return new Hc(t,r)})}function zc(t){var e=Hi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Yr(this,{token:t,expirationTime:Hr(1e3*e.exp),authTime:Hr(1e3*e.auth_time),issuedAtTime:Hr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Gc(t,e,n){var r=e&&e[Zc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=dt(e),this.g=n,this.c=new ro(null,r),this.b=[];var i=this;H(e[Xc]||[],function(t){(t=$r(t))&&i.b.push(t)}),qr(this,"auth",this.a),qr(this,"session",this.c),qr(this,"hints",this.b)}xc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},xc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(jc(this,!0,null,t.a),Oe()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.S(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){jc(t,s,e,null)}).o(function(e){jc(t,s,null,e)})}(this,t,e):Ae(new E("invalid-auth-event")):(jc(this,!1,null,null),Oe())}else Ae(new E("invalid-auth-event"))},xc.prototype.pa=function(){var t=this;return new ye(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=En(kc.get()).then(function(){t.b||(t.g=!0,jc(t,!0,null,e))})}(t))})},Uc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Oe()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then(function(t){e.la(r,t,null,n)}).o(function(t){e.la(r,null,t,n)})}(t,e):Ae(new E("invalid-auth-event"))}else Ae(new E("invalid-auth-event"))},Hc.prototype.confirm=function(t){return t=xo(this.verificationId,t),this.a(t)};var Xc="mfaInfo",Zc="mfaPendingCredential";function qc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new Gc(t,e,n),qr(this,"resolver",this.b)}function Yc(t,e,n){if(t&&d(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new qc(e,t.serverResponse,n,t.message)}catch(r){}return null}function Kc(){}function Qc(t){qr(this,"factorId",t.ea),this.a=t}function Jc(t){if(Qc.call(this,t),this.a.ea!=Do.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function $c(t,e){for(var n in qe.call(this,t),e)this[n]=e[n]}function tl(t,e){this.a=t,this.b=[],this.c=w(this.wc,this),sn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ni]=t.uid),t.displayName&&(r[ti]=t.displayName),t.enrollmentTime&&(r[ei]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ri]=t.phoneNumber);try{e=new ii(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),el(this,n)}function el(t,e){t.b=e,qr(t,"enrolledFactors",e)}function nl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function rl(t,e){t.stop(),t.b=En(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=a.document,e=null;return Vr()||!t?Oe():new ye(function(n){e=function(){Vr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){rl(t,!0)}).o(function(e){t.i(e)&&rl(t,!1)})}function il(t){this.c=t,this.b=this.a=null}function ol(t){return t.b&&1e3*t.b.c||0}function al(t,e){var n=e.refreshToken;t.b=Vi(e[qa]||""),t.a=n}function sl(t,e){this.a=t||null,this.b=e||null,Yr(this,{lastSignInTime:Hr(e||null),creationTime:Hr(t||null)})}function ul(t,e,n,r,i,o){Yr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function cl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=g.a.SDK_VERSION?Ar(g.a.SDK_VERSION):null,this.a=new Xa(this.l,T(A),t),this.b=new il(this.a),vl(this,e[qa]),al(this.b,e),qr(this,"refreshToken",this.b.a),bl(this,n||{}),bn.call(this),this.P=!1,this.s&&Tr()&&(this.i=Dc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new nl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=ol(t.b)-C()-3e5;return 0<e?e:0})}(this),this.Z=w(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){hl(r,t.c)},this.$=null,this.O=new tl(this,n),qr(this,"multiFactor",this.O)}function ll(t,e){t.aa&&ln(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&sn(e,"languageCodeChanged",t.za)}function hl(t,e){t.W=e,ts(t.a,g.a.SDK_VERSION?Ar(g.a.SDK_VERSION,t.W):null)}function fl(t,e){t.$&&ln(t.$,"frameworkChanged",t.ya),(t.$=e)&&sn(e,"frameworkChanged",t.ya)}function dl(t){try{return g.a.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function pl(t){t.D||t.B.b||(t.B.start(),ln(t,"tokenChanged",t.Z),sn(t,"tokenChanged",t.Z))}function gl(t){ln(t,"tokenChanged",t.Z),t.B.stop()}function vl(t,e){t.xa=e,qr(t,"_lat",e)}function ml(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return ke(e).then(function(){return t})}function yl(t){t.i&&!t.P&&(t.P=!0,Oc(t.i,t))}function bl(t,e){Yr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new sl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function wl(){}function _l(t){return Oe().then(function(){if(t.D)throw new E("app-deleted")})}function Cl(t){return z(t.providerData,function(t){return t.providerId})}function Sl(t,e){e&&(El(t,e.providerId),t.providerData.push(e))}function El(t,e){q(t.providerData,function(t){return t.providerId==e})}function Ol(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&qr(t,e,n)}function Al(t,e){t!=e&&(Yr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),qr(t,"metadata",e.metadata?function(t){return new sl(t.a,t.b)}(e.metadata):new sl),H(e.providerData,function(e){Sl(t,e)}),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),qr(t,"refreshToken",t.b.a),el(t.O,e.O.b))}function Il(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return Ks(t.a,Is,{idToken:e}).then(w(t.Ic,t))}(t,e).then(function(){return n||Ol(t,"isAnonymous",!1),e})})}function kl(t,e){e[qa]&&t.xa!=e[qa]&&(al(t.b,e),t.dispatchEvent(new $c("tokenChanged")),vl(t,e[qa]),Ol(t,"refreshToken",t.b.a))}function Rl(t,e){return Il(t).then(function(){if(X(Cl(t),e))return ml(t).then(function(){throw new E("provider-already-linked")})})}function Tl(t,e,n){return Kr({user:t,credential:Lo(e),additionalUserInfo:e=Zi(e),operationType:n})}function Ml(t,e){return kl(t,e),t.reload().then(function(){return t})}function Nl(t,e,n,r,i){if(!Tr())return Ae(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=Xi(n.providerId),a=Br(t.uid+":::"),s=null;(!Pr()||yr())&&t.s&&n.isOAuthProvider&&(s=hu(t.s,t.l,t.m,e,n,null,a,g.a.SDK_VERSION||null,null,null,t.tenantId));var u=dr(s,o&&o.ta,o&&o.sa);return r=r().then(function(){if(Dl(t),!i)return t.I().then(function(){})}).then(function(){return Rc(t.i,u,e,n,a,!!s,t.tenantId)}).then(function(){return new ye(function(n,r){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=a,t.c=Nc(t.i,t,e,u,a)})}).then(function(t){return u&&fr(u),t?Kr(t):null}).o(function(t){throw u&&fr(u),t}),xl(t,r,i)}function Pl(t,e,n,r,i){if(!Tr())return Ae(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,a=Br(t.uid+":::");return r=r().then(function(){if(Dl(t),!i)return t.I().then(function(){})}).then(function(){return t.fa=a,ml(t)}).then(function(e){return t.ga&&(e=(e=t.ga).b.set(Fl,t.v(),e.a)),e}).then(function(){return Mc(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ga)return jl(t.ga);throw o}).then(function(){if(o)throw o}),xl(t,r,i)}function Dl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function xl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new $c("userInvalidated")),t.h=e),e})}(t,e,n);return t.N.push(r),r.ma(function(){Z(t.N,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yc(e.v(),dl(t),w(t.hc,t))),n||e})}function Ll(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[qa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new cl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&Sl(r,Kr(t))}),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Bl(t){this.a=t,this.b=Zu()}Gc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then(function(t){var n=dt(e.f);return delete n[Xc],delete n[Zc],gt(n,t),e.g(n)})},S(qc,E),Kc.prototype.ob=function(t,e,n){return e.type==io?function(t,e,n,r){return n.Fa().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),gt(n,{phoneVerificationInfo:Po(t.a)}),Ks(e,Os,n)})}(this,t,e,n):function(t,e,n){return n.Fa().then(function(n){return gt(n={mfaPendingCredential:n},{phoneVerificationInfo:Po(t.a)}),Ks(e,As,n)})}(this,t,e)},S(Qc,Kc),S(Jc,Qc),S($c,qe),(t=tl.prototype).wc=function(t){el(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=$r(t))&&e.push(t)}),e}(t.ed))},t.Ob=function(){return this.a.I().then(function(t){return new ro(t,null)})},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then(function(n){return t.ob(r,n,e)}).then(function(t){return kl(n.a,t),n.a.reload()})},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return Ks(r,Ys,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=W(e.b,function(t){return t.uid!=n});return el(e,r),kl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.v=function(){return{multiFactor:{enrolledFactors:z(this.b,function(t){return t.v()})}}},nl.prototype.start=function(){this.a=this.c,rl(this,!0)},nl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},il.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:ol(this)}},il.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new E("user-token-expired")):t||!this.b||C()>ol(this)-3e4?this.a?function(t,e){return function(t,e){return new ye(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?es(t,t.u+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(Js(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))},"POST",Yn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))})}(t.c,e).then(function(e){return t.b=Vi(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Oe(null):Oe({accessToken:this.b.toString(),refreshToken:this.a})},sl.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(cl,bn),cl.prototype.va=function(t){this.oa=t,$a(this.a,t)},cl.prototype.ja=function(){return this.oa},cl.prototype.Ea=function(){return K(this.W)},cl.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},qr(cl.prototype,"providerId","firebase"),(t=cl.prototype).reload=function(){var t=this;return xl(this,_l(this).then(function(){return Il(t).then(function(){return ml(t)}).then(wl)}))},t.mc=function(t){return this.I(t).then(function(t){return new zc(t)})},t.I=function(t){var e=this;return xl(this,_l(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(vl(e,t.accessToken),e.dispatchEvent(new $c("tokenChanged"))),Ol(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");bl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,function(t){return new ul(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)Sl(this,e[n]);Ol(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new $c("userReloaded",{ed:t}))},t.Jc=function(t){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return xl(this,t.c(this.a,this.uid).then(function(t){return kl(e,t),n=Tl(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Ac=function(t){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return xl(this,Rl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Tl(e,t,"link"),Ml(e,t)}).then(function(){return n}))},t.Bc=function(t,e){var n=this;return xl(this,Rl(this,"phone").then(function(){return Wc(dl(n),t,e,w(n.mb,n))}))},t.Kc=function(t,e){var n=this;return xl(this,Oe().then(function(){return Wc(dl(n),t,e,w(n.pb,n))}),!0)},t.xb=function(t){var e=this;return xl(this,this.I().then(function(n){return e.a.xb(n,t)}).then(function(t){return kl(e,t),e.reload()}))},t.cd=function(t){var e=this;return xl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return kl(e,t),e.reload()}))},t.yb=function(t){var e=this;return xl(this,this.I().then(function(n){return e.a.yb(n,t)}).then(function(t){return kl(e,t),e.reload()}))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return _l(this);var e=this;return xl(this,this.I().then(function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return kl(e,t),Ol(e,"displayName",t.displayName||null),Ol(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(qr(t,"displayName",e.displayName),qr(t,"photoURL",e.photoURL))}),ml(e)}).then(wl))},t.ad=function(t){var e=this;return xl(this,Il(this).then(function(n){return X(Cl(e),t)?function(t,e,n){return Ks(t,Cs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Cl(e),function(t){n[t]||El(e,t)}),n[Do.PROVIDER_ID]||qr(e,"phoneNumber",null),ml(e)}):ml(e).then(function(){throw new E("no-such-provider")})}))},t.delete=function(){var t=this;return xl(this,this.I().then(function(e){return Ks(t.a,_s,{idToken:e})}).then(function(){t.dispatchEvent(new $c("userDeleted"))})).then(function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ll(t,null),fl(t,null),t.N=[],t.D=!0,gl(t),qr(t,"refreshToken",null),t.i&&Ac(t.i,t)})},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?w(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?w(this.Ib,this):null},t.Cc=function(t){var e=this;return Nl(this,"linkViaPopup",t,function(){return Rl(e,t.providerId).then(function(){return ml(e)})},!1)},t.Lc=function(t){return Nl(this,"reauthViaPopup",t,function(){return Oe()},!0)},t.Dc=function(t){var e=this;return Pl(this,"linkViaRedirect",t,function(){return Rl(e,t.providerId)},!1)},t.Mc=function(t){return Pl(this,"reauthViaRedirect",t,function(){return Oe()},!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return xl(this,this.I().then(function(n){return ps(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Tl(i,t,"link"),Ml(i,t)}).then(function(){return o}))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return xl(this,Oe().then(function(){return so(gs(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Tl(i,t,"reauthenticate"),kl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.qb=function(t){var e=this,n=null;return xl(this,this.I().then(function(e){return n=e,void 0===t||ft(t)?{}:Fi(new ki(t))}).then(function(t){return e.a.qb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Ab=function(t,e){var n=this,r=null;return xl(this,this.I().then(function(t){return r=t,void 0===e||ft(e)?{}:Fi(new ki(e))}).then(function(e){return n.a.Ab(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.hc=function(t){var e=null,n=this;return xl(this,t=so(Oe(t),n.uid).then(function(t){return e=Tl(n,t,"reauthenticate"),kl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&gt(t,this.metadata.v()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),gt(t,this.O.v()),t};var Fl={name:"redirectUser",F:"session"};function jl(t){return Ku(t.b,Fl,t.a)}function Ul(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=Wl("local"),n=Wl("session"),r=Wl("none");return function(t,e,n){var r=Yu(e,n),i=qu(t,e.F);return t.get(e,n).then(function(o){var s=null;try{s=Lr(a.localStorage.getItem(r))}catch(u){}if(s&&!o)return a.localStorage.removeItem(r),t.set(e,s,n);s&&o&&"localStorage"!=i.type&&a.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Hl,t.a).then(function(t){return t?Wl(t):e})})})}).then(function(e){return t.c=e,Vl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Wl("local"),this.a,w(this.g,this))}function Vl(t,e){var n,r=[];for(n in Gu)Gu[n]!==e&&r.push(Ku(t.b,Wl(Gu[n]),t.a));return r.push(Ku(t.b,Hl,t.a)),function(t){return new ye(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ie(t[s],_(o,s),a);else e(i)})}(r)}Ul.prototype.g=function(){var t=this,e=Wl("local");Zl(this,function(){return Oe().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Vl(t,"local").then(function(){t.c=e})})})};var Hl={name:"persistence",F:"session"};function Wl(t){return{name:"authUser",F:t}}function zl(t,e){return Zl(t,function(){return t.b.set(t.c,e.v(),t.a)})}function Gl(t){return Zl(t,function(){return Ku(t.b,t.c,t.a)})}function Xl(t,e){return Zl(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Ll(t||{})})})}function Zl(t,e){return t.f=t.f.then(e,e),t.f}function ql(t){if(this.l=!1,qr(this,"settings",new Vc),qr(this,"app",t),!eh(this).options||!eh(this).options.apiKey)throw new E("invalid-api-key");t=g.a.SDK_VERSION?Ar(g.a.SDK_VERSION):null,this.b=new Xa(eh(this).options&&eh(this).options.apiKey,T(A),t),this.P=[],this.m=[],this.O=[],this.$b=g.a.INTERNAL.createSubscribe(w(this.xc,this)),this.W=void 0,this.ac=g.a.INTERNAL.createSubscribe(w(this.yc,this)),$l(this,null),this.i=new Ul(eh(this).options.apiKey+":"+eh(this).name),this.B=new Bl(eh(this).options.apiKey+":"+eh(this).name),this.Z=oh(this,function(t){var e=eh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then(function(t){return t&&e&&(t.authDomain=e),Ll(t||{})})}(t.B,eh(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ga=t.B),jl(t.B)});return oh(t,e)}(t).then(function(){return Xl(t.i,e)}).then(function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then(function(){return zl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Gl(t.i)})):null}).then(function(e){$l(t,e||null)});return oh(t,n)}(this)),this.h=oh(this,function(t){return t.Z.then(function(){return Jl(t)}).o(function(){}).then(function(){if(!t.l)return t.oa()}).o(function(){}).then(function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Wl("local"),e.a,t.oa)}})}(this)),this.aa=!1,this.oa=w(this.Xc,this),this.Ma=w(this.ca,this),this.xa=w(this.jc,this),this.ya=w(this.uc,this),this.za=w(this.vc,this),this.a=null,function(t){var e=eh(t).options.authDomain,n=eh(t).options.apiKey;e&&Tr()&&(t.Zb=t.Z.then(function(){if(!t.l){if(t.a=Dc(e,n,eh(t).name),Oc(t.a,t),nh(t)&&yl(nh(t)),t.D){yl(t.D);var r=t.D;r.va(t.ja()),ll(r,t),hl(r=t.D,t.N),fl(r,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Ec,this),this.s=0,bn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Yl(t){qe.call(this,"languageCodeChanged"),this.g=t}function Kl(t){qe.call(this,"frameworkChanged"),this.c=t}function Ql(t){return t.Zb||Ae(new E("auth-domain-config-required"))}function Jl(t){if(!Tr())return Ae(new E("operation-not-supported-in-this-environment"));var e=Ql(t).then(function(){return t.a.pa()}).then(function(t){return t?Kr(t):null});return oh(t,e)}function $l(t,e){nh(t)&&(function(t,e){q(t.R,function(t){return t==e})}(nh(t),t.Ma),ln(nh(t),"tokenChanged",t.xa),ln(nh(t),"userDeleted",t.ya),ln(nh(t),"userInvalidated",t.za),gl(nh(t))),e&&(e.R.push(t.Ma),sn(e,"tokenChanged",t.xa),sn(e,"userDeleted",t.ya),sn(e,"userInvalidated",t.za),0<t.s&&pl(e)),qr(t,"currentUser",e),e&&(e.va(t.ja()),ll(e,t),hl(e,t.N),fl(e,t))}function th(t,e){var n=null,r=null;return oh(t,e.then(function(e){return n=Lo(e),r=Zi(e),function(t,e){var n={};return n.apiKey=eh(t).options.apiKey,n.authDomain=eh(t).options.authDomain,n.appName=eh(t).name,t.Z.then(function(){return function(t,e,n,r){var i=new cl(t,e);return n&&(i.ga=n),r&&hl(i,r),i.reload().then(function(){return i})}(n,e,t.B,t.Ea())}).then(function(e){return nh(t)&&e.uid==nh(t).uid?(Al(nh(t),e),t.ca(e)):($l(t,e),yl(e),t.ca(e))}).then(function(){ih(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Yc(e.v(),t,w(t.ic,t))),n||e}).then(function(){return Kr({user:nh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function eh(t){return t.app}function nh(t){return t.currentUser}function rh(t){return nh(t)&&nh(t)._lat||null}function ih(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](rh(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](rh(t))}}function oh(t,e){return t.P.push(e),e.ma(function(){Z(t.P,e)}),e}function ah(){}function sh(){this.a={},this.b=1e12}Ul.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Gu)if(Gu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(wr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),Zl(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Vl(n,t)}).then(function(){if(n.c=Wl(t),e)return n.b.set(n.c,e,n.a)}):Oe()})},S(ql,bn),S(Yl,qe),S(Kl,qe),(t=ql.prototype).tb=function(t){return oh(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,$a(this.b,this.$),this.dispatchEvent(new Yl(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=a.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),ts(this.b,g.a.SDK_VERSION?Ar(g.a.SDK_VERSION,this.N):null),this.dispatchEvent(new Kl(this.N))},t.Ea=function(){return K(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:eh(this).options.apiKey,authDomain:eh(this).options.authDomain,appName:eh(this).name,currentUser:nh(this)&&nh(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then(function(){return th(i,ds(i.b,o))})},t.Vc=function(t){if(!Tr())return Ae(new E("operation-not-supported-in-this-environment"));var e=this,n=Xi(t.providerId),r=Br(),i=null;(!Pr()||yr())&&eh(this).options.authDomain&&t.isOAuthProvider&&(i=hu(eh(this).options.authDomain,eh(this).options.apiKey,eh(this).name,"signInViaPopup",t,null,r,g.a.SDK_VERSION||null,null,null,this.S()));var o=dr(i,n&&n.ta,n&&n.sa);return oh(this,n=Ql(this).then(function(n){return Rc(n,o,"signInViaPopup",t,r,!!i,e.S())}).then(function(){return new ye(function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Nc(e.a,e,"signInViaPopup",o,r)})}).then(function(t){return o&&fr(o),t?Kr(t):null}).o(function(t){throw o&&fr(o),t}))},t.Wc=function(t){if(!Tr())return Ae(new E("operation-not-supported-in-this-environment"));var e=this;return oh(this,Ql(this).then(function(){return function(t){return Zl(t,function(){return t.b.set(Hl,t.c.F,t.a)})}(e.i)}).then(function(){return Mc(e.a,"signInViaRedirect",t,void 0,e.S())}))},t.pa=function(){var t=this;return Jl(this).then(function(e){return t.a&&Bc(t.a.b),e}).o(function(e){throw t.a&&Bc(t.a.b),e})},t.bd=function(t){if(!t)return Ae(new E("null-user"));if(this.R!=t.tenantId)return Ae(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=eh(this).options.apiKey,n.authDomain=eh(this).options.authDomain,n.appName=eh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[qa]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new cl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&hl(e,r),Al(e,t),e}(t,n,e.B,e.Ea());return oh(this,this.h.then(function(){if(eh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return nh(e)&&t.uid==nh(e).uid?(Al(nh(e),t),e.ca(t)):($l(e,r),yl(r),e.ca(r))}).then(function(){ih(e)}))},t.wb=function(){var t=this;return oh(this,this.h.then(function(){return t.a&&Bc(t.a.b),nh(t)?($l(t,null),Gl(t.i).then(function(){ih(t)})):Oe()}))},t.Xc=function(){var t=this;return Xl(this.i,eh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=nh(t)&&e){n=nh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Al(nh(t),e),nh(t).I();(nh(t)||e)&&($l(t,e),e&&(yl(e),e.ga=t.B),t.a&&Oc(t.a,t),ih(t))}})},t.ca=function(t){return zl(this.i,t)},t.jc=function(){ih(this),this.ca(nh(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then(function(){return th(e,Oe(t))})},t.xc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(nh(e))})},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),oh(t,t.h.then(function(){!t.l&&X(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(rh(t)))}))}(this,function(){t.next(nh(e))})},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then(function(){f(t)?t(nh(r)):f(t.next)&&t.next(nh(r))}),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then(function(){r.W=r.getUid(),f(t)?t(nh(r)):f(t.next)&&t.next(nh(r))}),this.ac(t,e,n)},t.kc=function(t){var e=this;return oh(this,this.h.then(function(){return nh(e)?nh(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Rc=function(t){var e=this;return this.h.then(function(){return th(e,Ks(e.b,zs,{token:t}))}).then(function(t){var n=t.user;return Ol(n,"isAnonymous",!1),e.ca(n),t})},t.Sc=function(t,e){var n=this;return this.h.then(function(){return th(n,Ks(n.b,Gs,{email:t,password:e}))})},t.cc=function(t,e){var n=this;return this.h.then(function(){return th(n,Ks(n.b,bs,{email:t,password:e}))})},t.Ya=function(t){var e=this;return this.h.then(function(){return th(e,t.ia(e.b))})},t.Qc=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then(function(){var e=nh(t);if(e&&e.isAnonymous){var n=Kr({providerId:null,isNewUser:!1});return Kr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(t,t.b.vb()).then(function(e){var n=e.user;return Ol(n,"isAnonymous",!0),t.ca(n),e})})},t.getUid=function(){return nh(this)&&nh(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&nh(this)&&pl(nh(this))},t.Nc=function(t){var e=this;H(this.m,function(n){n==t&&e.s--}),0>this.s&&(this.s=0),0==this.s&&nh(this)&&gl(nh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),oh(this,this.h.then(function(){e.l||X(e.m,t)&&t(rh(e))}))},t.removeAuthTokenListener=function(t){q(this.m,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Wl("local"),t.a,this.oa),this.a&&(Ac(this.a,this),Bc(this.a.b)),Promise.resolve()},t.fc=function(t){return oh(this,function(t,e){return Ks(t,ws,{identifier:e,continueUri:Mr()?ur():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.zc=function(t){return!!To(t)},t.sb=function(t,e){var n=this;return oh(this,Oe().then(function(){var t=new ki(e);if(!t.c)throw new E("argument-error",Mi+" must be true when sending sign in link to email");return Fi(t)}).then(function(e){return n.b.sb(t,e)}).then(function(){}))},t.fd=function(t){return this.Pa(t).then(function(t){return t.data.email})},t.jb=function(t,e){return oh(this,this.b.jb(t,e).then(function(){}))},t.Pa=function(t){return oh(this,this.b.Pa(t).then(function(t){return new oi(t)}))},t.fb=function(t){return oh(this,this.b.fb(t).then(function(){}))},t.rb=function(t,e){var n=this;return oh(this,Oe().then(function(){return void 0===e||ft(e)?{}:Fi(new ki(e))}).then(function(e){return n.b.rb(t,e)}).then(function(){}))},t.Uc=function(t,e){return oh(this,Wc(this,t,e,w(this.Ya,this)))},t.Tc=function(t,e){var n=this;return oh(this,Oe().then(function(){var r=e||ur(),i=Ro(t,r);if(!(r=To(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(i)}))},ah.prototype.render=function(){},ah.prototype.reset=function(){},ah.prototype.getResponse=function(){},ah.prototype.execute=function(){};var uh=null;function ch(t,e){return(e=lh(e))&&t.a[e]||null}function lh(t){return(t=void 0===t?1e12:t)?t.toString():null}function hh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=oe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():sn(this.f,"click",this.i)}function fh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function dh(){}function ph(){}sh.prototype.render=function(t,e){return this.a[this.b.toString()]=new hh(t,e),this.b++},sh.prototype.reset=function(t){var e=ch(this,t);t=lh(t),e&&t&&(e.delete(),delete this.a[t])},sh.prototype.getResponse=function(t){return(t=ch(this,t))?t.getResponse():null},sh.prototype.execute=function(t){(t=ch(this,t))&&t.execute()},hh.prototype.getResponse=function(){return fh(this),this.b},hh.prototype.execute=function(){fh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},hh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},qr(dh,"FACTOR_ID","phone"),ph.prototype.g=function(){return uh||(uh=new sh),Oe(uh)},ph.prototype.c=function(){};var gh=null;function vh(){this.b=a.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var mh=new mt(wt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),yh=new Ur(3e4,6e4);vh.prototype.g=function(t){var e=this;return new ye(function(n,r){var i=setTimeout(function(){r(new E("network-request-failed"))},yh.get());!a.grecaptcha||t!==e.f&&!e.b?(a[e.a]=function(){if(a.grecaptcha){e.f=t;var o=a.grecaptcha.render;a.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(a.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete a[e.a]},Oe(ja(Et(mh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(a.grecaptcha))})},vh.prototype.c=function(){this.b--};var bh=null;function wh(t,e,n,r,i,o,s){if(qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,s?(gh||(gh=new ph),s=gh):(bh||(bh=new vh),s=bh),this.m=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Sh])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Eh],!a.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!oe(e)||!this.i&&oe(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Xa(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[_h];this.a[_h]=function(t){if(Oh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=kr(c,a);"function"==typeof e&&e(t)}};var l=this.a[Ch];this.a[Ch]=function(){if(Oh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=kr(l,a);"function"==typeof t&&t()}}}var _h="callback",Ch="expired-callback",Sh="sitekey",Eh="size";function Oh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ah(t,e){return t.h.push(e),e.ma(function(){Z(t.h,e)}),e}function Ih(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function kh(t,e,n){var r=!1;try{this.b=n||g.a.app()}catch(a){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=g.a.SDK_VERSION?Ar(g.a.SDK_VERSION,o):null,wh.call(this,n,t,e,function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t},o,T(A),r)}function Rh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Th.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Th[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=wh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Ah(this,Oe().then(function(){if(Mr()&&!br())return vr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.w())}).then(function(e){return t.g=e,Ks(t.s,Ps,{})}).then(function(e){t.a[Sh]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){Ih(this);var t=this;return Ah(this,this.Ga().then(function(){if(null===t.c){var e=t.u;if(!t.i){var n=oe(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ie&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Vt(a.name),'"'),a.type){o.push(' type="',Vt(a.type),'"');var s={};gt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=he(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ae(o,a)),2<r.length&&le(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Ih(this);var t=this;return Ah(this,this.render().then(function(e){return new ye(function(n){var r=t.g.getResponse(e);r?n(r):(t.l.push(function e(r){r&&(function(t,e){q(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c))})}))},t.reset=function(){Ih(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Ih(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=oe(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},S(kh,wh);var Th="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Mh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Nh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Ph(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:d}}function Dh(t,e){return{name:t||"",J:"a function",optional:!!e,K:f}}function xh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Lh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){return!!e&&!(!e.ia||t&&e.providerId!==t)}}}function Bh(t,e){return d(t)&&"string"==typeof t.type&&t.type===e&&f(t.Fa)}function Fh(t){return d(t)&&"string"==typeof t.uid}function jh(){return{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||!f(t.verify))}}}function Uh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Vh(t,e){for(var n in e){var r=e[n].name;t[r]=zh(r,t[n],e[n].j)}}function Hh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:_(function(t){return this[t]},n),set:_(function(t,e,n,r){Rh(t,[n],[r],!0),this[e]=r},r,n,e[n].gb),enumerable:!0})}}function Wh(t,e,n,r){t[e]=zh(e,n,r)}function zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Rh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Vh(ql.prototype,{fb:{name:"applyActionCode",j:[Mh("code")]},Pa:{name:"checkActionCode",j:[Mh("code")]},jb:{name:"confirmPasswordReset",j:[Mh("code"),Mh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Mh("email"),Mh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Mh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Mh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Uh(Ph(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Uh(Ph(),Dh(),"nextOrObserver"),Dh("opt_error",!0),Dh("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Mh("email"),Uh(Ph("opt_actionCodeSettings",!0),xh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Mh("email"),Ph("actionCodeSettings")]},tb:{name:"setPersistence",j:[Mh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Lh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Lh()]},Rc:{name:"signInWithCustomToken",j:[Mh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Mh("email"),Mh("password")]},Tc:{name:"signInWithEmailLink",j:[Mh("email"),Mh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Mh("phoneNumber"),jh()]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Uh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof cl)}},xh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Mh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Mh("code")]}}),Hh(ql.prototype,{lc:{name:"languageCode",gb:Uh(Mh(),xh(),"languageCode")},ti:{name:"tenantId",gb:Uh(Mh(),xh(),"tenantId")}}),(ql.Persistence=Gu).LOCAL="local",ql.Persistence.SESSION="session",ql.Persistence.NONE="none",Vh(cl.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Nh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Nh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Lh()]},mb:{name:"linkWithCredential",j:[Lh()]},Bc:{name:"linkWithPhoneNumber",j:[Mh("phoneNumber"),jh()]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lh()]},pb:{name:"reauthenticateWithCredential",j:[Lh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Mh("phoneNumber"),jh()]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Uh(Ph("opt_actionCodeSettings",!0),xh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Mh(null,!0)]},ad:{name:"unlink",j:[Mh("provider")]},xb:{name:"updateEmail",j:[Mh("email")]},yb:{name:"updatePassword",j:[Mh("password")]},cd:{name:"updatePhoneNumber",j:[Lh("phone")]},zb:{name:"updateProfile",j:[Ph("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Mh("email"),Uh(Ph("opt_actionCodeSettings",!0),xh(null,!0),"opt_actionCodeSettings",!0)]}}),Vh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Vh(ye.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Hh(Vc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Nh("appVerificationDisabledForTesting")}}),Vh(Hc.prototype,{confirm:{name:"confirm",j:[Mh("verificationCode")]}}),Wh(ao,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[po,Io,No,lo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Uh(Mh(),Ph(),"json")]),Wh(ko,"credential",function(t,e){return new Ao(t,e)},[Mh("email"),Mh("password")]),Vh(Ao.prototype,{v:{name:"toJSON",j:[Mh(null,!0)]}}),Vh(yo.prototype,{Aa:{name:"addScope",j:[Mh("scope")]},Ia:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Wh(yo,"credential",bo,[Uh(Mh(),Ph(),"token")]),Wh(ko,"credentialWithLink",Ro,[Mh("email"),Mh("emailLink")]),Vh(wo.prototype,{Aa:{name:"addScope",j:[Mh("scope")]},Ia:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Wh(wo,"credential",_o,[Uh(Mh(),Ph(),"token")]),Vh(Co.prototype,{Aa:{name:"addScope",j:[Mh("scope")]},Ia:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Wh(Co,"credential",So,[Uh(Mh(),Uh(Ph(),xh()),"idToken"),Uh(Mh(),xh(),"accessToken",!0)]),Vh(Eo.prototype,{Ia:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Wh(Eo,"credential",Oo,[Uh(Mh(),Ph(),"token"),Mh("secret",!0)]),Vh(mo.prototype,{Aa:{name:"addScope",j:[Mh("scope")]},credential:{name:"credential",j:[Uh(Mh(),Uh(Ph(),xh()),"optionsOrIdToken"),Uh(Mh(),xh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Ph("customOAuthParameters")]}}),Vh(ho.prototype,{v:{name:"toJSON",j:[Mh(null,!0)]}}),Vh(uo.prototype,{v:{name:"toJSON",j:[Mh(null,!0)]}}),Wh(Do,"credential",xo,[Mh("verificationId"),Mh("verificationCode")]),Vh(Do.prototype,{cb:{name:"verifyPhoneNumber",j:[Uh(Mh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Bh(t.session,io)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Bh(t.session,oo)&&Fh(t.multiFactorHint):t.session&&t.multiFactorUid?Bh(t.session,oo)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),jh()]}}),Vh(Mo.prototype,{v:{name:"toJSON",j:[Mh(null,!0)]}}),Vh(E.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),Vh(zo.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),Vh(Wo.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),Vh(qc.prototype,{toJSON:{name:"toJSON",j:[Mh(null,!0)]}}),Vh(Gc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Vh(tl.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Mh("displayName",!0)]},$c:{name:"unenroll",j:[Uh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Fh},Mh(),"multiFactorInfoIdentifier")]}}),Vh(kh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Wh(bi,"parseLink",Ii,[Mh("link")]),Wh(dh,"assertion",function(t){return new Jc(t)},[Lh("phone")]),function(){if(void 0===g.a||!g.a.INTERNAL||!g.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ai,VERIFY_AND_CHANGE_EMAIL:ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ql,AuthCredential:ao,Error:E};Wh(t,"EmailAuthProvider",ko,[]),Wh(t,"FacebookAuthProvider",yo,[]),Wh(t,"GithubAuthProvider",wo,[]),Wh(t,"GoogleAuthProvider",Co,[]),Wh(t,"TwitterAuthProvider",Eo,[]),Wh(t,"OAuthProvider",mo,[Mh("providerId")]),Wh(t,"SAMLAuthProvider",vo,[Mh("providerId")]),Wh(t,"PhoneAuthProvider",Do,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof ql)}}]),Wh(t,"RecaptchaVerifier",kh,[Uh(Mh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ph("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof g.a.app.App)}}]),Wh(t,"ActionCodeURL",bi,[]),Wh(t,"PhoneMultiFactorGenerator",dh,[]),g.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ql(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),g.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.kc,t),addAuthTokenListener:w(t.bc,t),removeAuthTokenListener:w(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),g.a.registerVersion("@firebase/auth","0.14.0"),g.a.INTERNAL.extendNamespace({User:cl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var v=function(){var t=function t(){Object(r.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({providers:[d]}),t}()},KQm4:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("a3WO"),i=n("25BE"),o=n("BsWD");function a(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||Object(i.a)(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Kqap:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new c(t,e,n))}}var c=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(o.a)(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r,i,a){var s;return Object(o.a)(this,n),(s=e.call(this,t)).accumulator=r,s._seed=i,s.hasSeed=a,s.index=0,s}return Object(a.a)(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(s.a)},"LK+K":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("foSv"),i=n("2WcH");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=n("JX7q");function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?Object(a.a)(t):e}function u(t){var e=Object(i.a)();return function(){var n,i=Object(r.a)(t);if(e){var o=Object(r.a)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},LQ03:function(t,e,n){var r=n("Nsbk"),i=n("b48C"),o=n("a1gu");t.exports=function(t){var e=i();return function(){var n,i=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},MMa0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("05qF"))},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},NSPt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,a=n("30Go"),s=n("zVF4"),u=n("q/0M"),c=n("S+S0"),l=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),s.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:s.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),h=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return s.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),f=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l(e)}}catch(n){}return new h},d=f("localStorage"),p=f("sessionStorage"),g=new u.Logger("@firebase/database"),v=(i=1,function(){return i++}),m=function(t){var e=s.stringToByteArray(t),n=new s.Sha1;n.update(e);var r=n.digest();return s.base64.encodeByteArray(r)},y=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var o=e[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=t.apply(null,o):r+="object"==typeof o?s.stringify(o):o,r+=" "}return r},b=null,w=!0,_=function(t,e){s.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(g.logLevel=u.LogLevel.VERBOSE,b=g.log.bind(g),e&&p.set("logging_enabled",!0)):"function"==typeof t?b=t:(b=null,p.remove("logging_enabled"))},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===w&&(w=!1,null===b&&!0===p.get("logging_enabled")&&_(!0)),b){var n=y.apply(null,t);b(n)}},S=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];C.apply(void 0,a.__spread([t],e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+y.apply(void 0,a.__spread(t));g.error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+y.apply(void 0,a.__spread(t));throw g.error(n),new Error(n)},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+y.apply(void 0,a.__spread(t));g.warn(n)},I=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},k="[MIN_NAME]",R="[MAX_NAME]",T=function(t,e){if(t===e)return 0;if(t===k||e===R)return-1;if(e===k||t===R)return 1;var n=q(t),r=q(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},M=function(t,e){return t===e?0:t<e?-1:1},N=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+s.stringify(e))},P=function t(e){if("object"!=typeof e||null===e)return s.stringify(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=s.stringify(n[o]),i+=":",i+=t(e[n[o]]);return i+"}"},D=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function x(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var L,B,F,j,U,V,H,W,z,G,X=function(t){var e,n,r,i,o;s.assert(!I(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse();var u=a.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},Z=new RegExp("^-?(0*)\\d{1,10}$"),q=function(t){if(Z.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Y=function(t){try{t()}catch(e){setTimeout(function(){throw A("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},K=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Q=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=T(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),J=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=s.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=s.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),$="firebaseio.com",tt="websocket",et="long_polling",nt=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=d.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&d.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(s.assert("string"==typeof t,"typeof type must == string"),s.assert("object"==typeof e,"typeof params must == object"),t===tt)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==et)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return x(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),rt=function(t){var e=it(t),n=e.namespace;return"firebase"===e.domain&&O(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||O("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new nt(e.host,e.secure,n,"ws"===e.scheme||"wss"===e.scheme,"",n!==e.subdomain),path:new Q(e.pathString)}},it=function(t){var e="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(i=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=a.__values(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):A("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=t.length;var p=e.split(".");3===p.length?(n=p[1],o=r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,l).toLowerCase()&&(n="localhost"),"ns"in d&&(o=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},ot=/[\[\].#$\/\u0000-\u001F\u007F]/,at=/[\[\].#$\u0000-\u001F\u007F]/,st=10485760,ut=function(t){return"string"==typeof t&&0!==t.length&&!ot.test(t)},ct=function(t){return"string"==typeof t&&0!==t.length&&!at.test(t)},lt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!I(t)||t&&"object"==typeof t&&s.contains(t,".sv")},ht=function(t,e,n,r,i){i&&void 0===n||ft(s.errorPrefix(t,e,i),n,r)},ft=function t(e,n,r){var i=r instanceof Q?new J(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(I(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>st/3&&s.stringLength(n)>st)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(x(n,function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!ut(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()}),o&&a)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},dt=function(t,e,n,r,i){if(!i||void 0!==n){var o=s.errorPrefix(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];x(n,function(t,e){var n=new Q(t);if(ft(o,e,r.child(n)),".priority"===n.getBack()&&!lt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ut(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Q.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(o,a)}},pt=function(t,e,n,r){if(!r||void 0!==n){if(I(n))throw new Error(s.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lt(n))throw new Error(s.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},gt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},vt=function(t,e,n,r){if(!(r&&void 0===n||ut(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},mt=function(t,e,n,r){if(!(r&&void 0===n||ct(n)))throw new Error(s.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mt(t,e,n,r)},bt=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},wt=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ut(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),ct(t)}(r))throw new Error(s.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},_t=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(t,e,r)+"must be a boolean.")},Ct=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),bt("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,t,!0);var e=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),bt("OnDisconnect.set",this.path_),ht("OnDisconnect.set",1,t,this.path_,!1),s.validateCallback("OnDisconnect.set",2,e,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),bt("OnDisconnect.setWithPriority",this.path_),ht("OnDisconnect.setWithPriority",1,t,this.path_,!1),pt("OnDisconnect.setWithPriority",2,e,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),bt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,A("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dt("OnDisconnect.update",1,t,this.path_,!1),s.validateCallback("OnDisconnect.update",2,e,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),St=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Et=(L="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",B=0,F=[],function(t){var e,n=t===B;B=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=L.charAt(t%64),t=Math.floor(t/64);s.assert(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===F[e];e--)F[e]=0;F[e]++}else for(e=0;e<12;e++)F[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=L.charAt(F[e]);return s.assert(20===i.length,"nextPushId: Length should be 20."),i}),Ot=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),At=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ot(k,t),r=new Ot(k,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ot.MIN},t}(),It=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return j},set:function(t){j=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return T(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ot.MIN},e.prototype.maxPost=function(){return new Ot(R,j)},e.prototype.makePost=function(t,e){return s.assert("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ot(t,j)},e.prototype.toString=function(){return".key"},e}(At),kt=new It,Rt=function(t){return"number"==typeof t?"number:"+X(t):"string:"+t},Tt=function(t){if(t.isLeafNode()){var e=t.val();s.assert("string"==typeof e||"number"==typeof e||"object"==typeof e&&s.contains(e,".sv"),"Priority must be a string or number.")}else s.assert(t===U||t.isEmpty(),"priority of unexpected type.");s.assert(t===U||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Mt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,s.assert(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Tt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return V},set:function(t){V=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(s.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Rt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?X(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(s.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Nt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?T(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ot.MIN},e.prototype.maxPost=function(){return new Ot(R,new Mt("[PRIORITY-POST]",W))},e.prototype.makePost=function(t,e){var n=H(t);return new Ot(e,new Mt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(At)),Pt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Dt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Lt.EMPTY_NODE,this.right=null!=o?o:Lt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Lt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Lt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),xt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Dt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Lt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Pt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Pt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Pt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new xt,t}(),Bt=Math.log(2),Ft=function(){function t(t){this.count=parseInt(Math.log(t+1)/Bt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),jt=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Dt(a,o.node,Dt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Dt(a,o.node,Dt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Dt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Dt.BLACK):(s(h,Dt.BLACK),s(h,Dt.RED))}return o}(new Ft(t.length));return new Lt(r||e,o)},Ut={},Vt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return s.assert(Ut&&Nt,"ChildrenNode.ts has not been loaded"),z=z||new t({".priority":Ut},{".priority":Nt})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=s.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Lt?e:null},t.prototype.hasIndex=function(t){return s.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){s.assert(e!==kt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,u=n.getIterator(Ot.Wrap),c=u.getNext();c;)o=o||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=o?jt(i,e.getCompare()):Ut;var l=e.toString(),h=a.__assign({},this.indexSet_);h[l]=e;var f=a.__assign({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(s.map(this.indexes_,function(t,i){var o=s.safeGet(r.indexSet_,i);if(s.assert(o,"Missing index implementation for "+i),t===Ut){if(o.isDefinedOn(e.node)){for(var a=[],u=n.getIterator(Ot.Wrap),c=u.getNext();c;)c.name!==e.name&&a.push(c),c=u.getNext();return a.push(e),jt(a,o.getCompare())}return Ut}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Ot(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(s.map(this.indexes_,function(t){if(t===Ut)return t;var r=n.get(e.name);return r?t.remove(new Ot(e.name,r)):t}),this.indexSet_)},t}();function Ht(t,e){return T(t.name,e.name)}function Wt(t,e){return T(t,e)}var zt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Tt(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return G||(G=new t(new Lt(Wt),null,Vt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||G},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?G:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ot(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?G:this.priorityNode_;return new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;s.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Nt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Rt(this.getPriority().val())+":"),this.forEachChild(Nt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ot(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ot(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ot(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Ot.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Ot.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Gt?-1:0},t.prototype.withIndex=function(e){if(e===kt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===kt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Nt),r=e.getIterator(Nt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===kt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Gt=new(function(t){function e(){return t.call(this,new Lt(Wt),zt.EMPTY_NODE,Vt.Default)||this}return a.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return zt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(zt));function Xt(t,e){if(void 0===e&&(e=null),null===t)return zt.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),s.assert(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Mt(t,Xt(e));if(t instanceof Array){var n=zt.EMPTY_NODE;return x(t,function(e,r){if(s.contains(t,e)&&"."!==e.substring(0,1)){var i=Xt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(Xt(e))}var r=[],i=!1;if(x(t,function(t,e){if("."!==t.substring(0,1)){var n=Xt(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ot(t,n)))}}),0===r.length)return zt.EMPTY_NODE;var o=jt(r,Ht,function(t){return t.name},Wt);if(i){var a=jt(r,Nt.getCompare());return new zt(o,Xt(e),new Vt({".priority":a},{".priority":Nt}))}return new zt(o,Xt(e),Vt.Default)}Object.defineProperties(Ot,{MIN:{value:new Ot(k,zt.EMPTY_NODE)},MAX:{value:new Ot(R,Gt)}}),It.__EMPTY_NODE=zt.EMPTY_NODE,Mt.__childrenNodeConstructor=zt,U=Gt,W=Gt,H=Xt;var Zt,qt,Yt,Kt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?T(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ot.MIN},e.prototype.maxPost=function(){return Ot.MAX},e.prototype.makePost=function(t,e){var n=Xt(t);return new Ot(e,n)},e.prototype.toString=function(){return".value"},e}(At)),Qt=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,s.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return a.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?T(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Xt(t),r=zt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ot(e,r)},e.prototype.maxPost=function(){var t=zt.EMPTY_NODE.updateChild(this.indexPath_,Gt);return new Ot(R,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(At),Jt=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),mt("DataSnapshot.child",1,e,!1);var n=new Q(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Nt)},t.prototype.hasChild=function(t){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),mt("DataSnapshot.hasChild",1,t,!1);var e=new Q(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Nt))})},t.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),$t=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},t}(),te=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ee=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new $t("value",this,new Jt(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new te(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ne=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return s.contains(this.callbacks_,e="children_removed"===e?"child_removed":e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new te(this,t,e):null},t.prototype.createEvent=function(t,e){s.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new $t(t.type,this,new Jt(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),re=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Zt,"Reference.ts has not been loaded"),Zt},set:function(t){Zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===kt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==k)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==R)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Nt){if(null!=e&&!lt(e)||null!=n&&!lt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(t.getIndex()instanceof Qt||t.getIndex()===Kt,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){s.validateArgCount("Query.on",2,4,arguments.length),gt("Query.on",1,e,!1),s.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new ee(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ne(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){s.validateArgCount("Query.off",0,3,arguments.length),gt("Query.off",1,t,!0),s.validateCallback("Query.off",2,e,!0),s.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new ee(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new ne(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),gt("Query.once",1,e,!1),s.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new s.Deferred;c.promise.catch(function(){});var l=function t(r){u&&(u=!1,o.off(e,t),n&&n.bind(a.context)(r),c.resolve(r))};return this.on(e,l,function(t){o.off(e,l),a.cancel&&a.cancel.bind(a.context)(t),c.reject(t)}),c.promise},t.prototype.limitToFirst=function(e){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');mt("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Q(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Qt(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Nt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.startAt",0,2,arguments.length),ht("Query.startAt",1,e,this.path,!0),vt("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),s.validateArgCount("Query.endAt",0,2,arguments.length),ht("Query.endAt",1,e,this.path,!0),vt("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),ht("Query.equalTo",1,t,this.path,!1),vt("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=P(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,s.validateCallback(t,3,r.cancel,!0),r.context=n,s.validateContextObject(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(s.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ie=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Nt,function(t,e){n.remember(new Q(t),e)}),this.forget(t)}if(this.children.size>0){var r=t.getFront();return t=t.popFront(),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,r){var i=new Q(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},t}(),oe=function(t,e){return t&&"object"==typeof t?(s.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},ae=function t(e,n){var r,i=e.getPriority().val(),o=oe(i,n);if(e.isLeafNode()){var a=e,s=oe(a.getValue(),n);return s!==a.getValue()||o!==a.getPriority().val()?new Mt(s,Xt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Mt(o))),u.forEachChild(Nt,function(e,i){var o=t(i,n);o!==i&&(r=r.updateImmediateChild(e,o))}),r},se=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({}),ue=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,s.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),ce=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=se.ACK_USER_WRITE,this.source=ue.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Q(e));return new t(Q.Empty,n,this.revert)}return s.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),le=function(){function t(t,e){void 0===e&&(qt||(qt=new Lt(M)),e=qt),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return x(e,function(t,e){n=n.set(new Q(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Q.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Q(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r,i=e.getFront(),o=(this.children.get(i)||t.Empty).setTree(e.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(Q.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Q.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Q.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Q.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),he=function(){function t(t,e){this.source=t,this.path=e,this.type=se.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Q.Empty):new t(this.source,this.path.popFront())},t}(),fe=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=se.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Q.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),de=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=se.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Q(e));return n.isEmpty()?null:n.value?new fe(this.source,Q.Empty,n.value):new t(this.source,Q.Empty,n)}return s.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),pe=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new pe(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new pe(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new pe(zt.EMPTY_NODE,!1,!1),new pe(zt.EMPTY_NODE,!1,!1)),t}(),ve=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),me=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){s.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(ve.childRemovedChange(e,a)):s.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(ve.childAddedChange(e,n)):o.trackChildChange(ve.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Nt,function(t,r){e.hasChild(t)||n.trackChildChange(ve.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Nt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(ve.childChangedChange(e,r,i))}else n.trackChildChange(ve.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?zt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;s.assert(e===ve.CHILD_ADDED||e===ve.CHILD_CHANGED||e===ve.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===ve.CHILD_ADDED&&i===ve.CHILD_REMOVED)this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===ve.CHILD_REMOVED&&i===ve.CHILD_ADDED)this.changeMap.delete(n);else if(e===ve.CHILD_REMOVED&&i===ve.CHILD_CHANGED)this.changeMap.set(n,ve.childRemovedChange(n,r.oldSnap));else if(e===ve.CHILD_CHANGED&&i===ve.CHILD_ADDED)this.changeMap.set(n,ve.childAddedChange(n,t.snapshotNode));else{if(e!==ve.CHILD_CHANGED||i!==ve.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,ve.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),be=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),we=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new pe(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),_e=function(){return function(t,e){this.viewCache=t,this.changes=e}}(),Ce=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){s.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,u=new ye;if(n.type===se.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(s.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(e,c.path,c.snap,r,i,a,u))}else if(n.type===se.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(e,l.path,l.children,r,i,u):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,l.path,l.children,r,i,a,u))}else if(n.type===se.ACK_USER_WRITE){var h=n;o=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==se.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,o,f),new _e(o,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(ve.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,u=void 0;if(e.isEmpty())if(s.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof zt?c:zt.EMPTY_NODE);a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){s.assert(1===e.getLength(),"Can't have a priority with additional path components");var d=o.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);a=null!=p?this.filter_.updatePriority(d,p):o.getNode()}else{var g=e.popFront(),v=void 0;if(o.isCompleteForChild(f)){u=t.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),u);v=null!=m?o.getNode().getImmediateChild(f).updateChild(g,m):o.getNode().getImmediateChild(f)}else v=n.calcCompleteChild(f,t.getServerCache());a=null!=v?this.filter_.updateChild(o.getNode(),f,v,g,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,be,null)}var p=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),g=new we(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,g,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new we(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):zt.EMPTY_NODE}if(f.equals(d))a=t;else{var g=this.filter_.updateChild(u.getNode(),l,d,h,c,o);a=t.updateEventSnap(g,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:le.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new Q(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new Q(e),f,r,i,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=le.Empty;return s.getNode().forEachChild(kt,function(t,e){u=u.set(new Q(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=le.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,be,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new we(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();s.assert(h instanceof zt,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,e.popFront(),a,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,zt.EMPTY_NODE,e.popFront(),a,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Q.Empty),t.updateEventSnap(c,o,this.filter_.filtersNodes())},t}(),Se=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===ve.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(ve.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,ve.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,ve.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,ve.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,ve.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,ve.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw s.assertionError("Should only compare child_ events.");var n=new Ot(t.childName,t.snapshotNode),r=new Ot(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Ee=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new me(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ce(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(zt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(zt.EMPTY_NODE,a.getNode(),null),c=new pe(s,o.isFullyInitialized(),r.filtersNodes()),l=new pe(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ge(l,c),this.eventGenerator_=new Se(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){s.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e=e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===se.MERGE&&null!==t.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Nt,function(t,e){n.push(ve.childAddedChange(t,e))}),e.isFullyInitialized()&&n.push(ve.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return this.eventGenerator_.generateEventsForChanges(t,e,n?[n]:this.eventRegistrations_)},t}(),Oe=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return s.assert(Yt,"Reference.ts has not been loaded"),Yt},set:function(t){s.assert(!Yt,"__referenceConstructor has already been defined"),Yt=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var u=this.views.get(o);return s.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=a.__values(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=this.views.get(o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof zt?(s=n.calcCompleteEventChildren(r),u=!1):(s=zt.EMPTY_NODE,u=!1);var c=new ge(new pe(s,u,!1),new pe(r,i,!1));a=new Ee(t,c),this.views.set(o,a)}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=a.__values(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=a.__read(f.value,2),g=p[0];c=c.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(g),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(v){i={error:v}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}else(d=this.views.get(s))&&(c=c.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=a.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=a.__values(this.views.values()),o=i.next();!o.done;o=i.next())r=r||o.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=a.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Ae=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new le(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=Q.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new le(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return x(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,le.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Q.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Nt,function(e,n){t.push(new Ot(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Ot(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new le(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return Ie(Q.Empty,this.writeTree_,t)},t.Empty=new t(new le(null)),t}();function Ie(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(s.assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Ie(t.child(e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(t.child(".priority"),r)),n}var ke=function(){function t(){this.visibleWrites_=Ae.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Re(t,this)},t.prototype.addOverwrite=function(t,e,n,r){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});s.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):x(r.children,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}),!0))},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);return!i&&o.isEmpty()?n:i||null!=n||o.hasCompleteWrite(Q.Empty)?t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},e).apply(n||zt.EMPTY_NODE):null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var s=this.visibleWrites_.childCompoundWrite(e);return s.isEmpty()?n:null!=n||s.hasCompleteWrite(Q.Empty)?s.apply(n||zt.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=zt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Nt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Nt,function(t,e){var r=i.childCompoundWrite(new Q(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){s.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(Q.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Q.Empty),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ae.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,u=void 0;if(o.snap)n.contains(a)?(u=Q.relativePath(n,a),r=r.addWrite(u,o.snap)):a.contains(n)&&(u=Q.relativePath(a,n),r=r.addWrite(Q.Empty,o.snap.getChild(u)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=Q.relativePath(n,a),r=r.addWrites(u,o.children);else if(a.contains(n))if((u=Q.relativePath(a,n)).isEmpty())r=r.addWrites(Q.Empty,o.children);else{var c=s.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(Q.Empty,l)}}}}}return r},t}(),Re=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Te=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=le.Empty,this.pendingWriteTree_=new ke,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new fe(ue.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=le.fromObject(e);return this.applyOperationToSyncPoints_(new de(ue.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=le.Empty;return null!=n.snap?r=r.set(Q.Empty,!0):x(n.children,function(t,e){r=r.set(new Q(t),e)}),this.applyOperationToSyncPoints_(new ce(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new fe(ue.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=le.fromObject(e);return this.applyOperationToSyncPoints_(new de(ue.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new he(ue.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Q.relativePath(a,e),c=new fe(ue.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=Q.relativePath(a,e),c=le.fromObject(n),l=new de(ue.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=Q.relativePath(o,e),u=new he(ue.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=Q.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a,u=this.syncPointTree_.get(r);u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(Q.Empty)):(u=new Oe,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=zt.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(Q.Empty);n&&(i=i.updateImmediateChild(t,n))}));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);s.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,f,i,a);if(!c&&!o){var p=u.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var g=d[p],v=g.getQuery(),m=this.createListenerForView_(g);this.listenProvider_.startListening(t.queryForListening_(v),this.tagForQuery_(v),m.hashFn,m.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach(function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=Q.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),x(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)s.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),x(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||zt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return s.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Q(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);s.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Q.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Q.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Q.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),Me=function(){function t(){this.rootNode_=zt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ne=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(C("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';A(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Pe=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),s.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return s.deepCopy(this.counters_)},t}(),De=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Pe),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),xe=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=a.__assign({},t);return this.last_&&x(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Le=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new xe(t);var n=1e4+2e4*Math.random();K(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;x(e,function(e,i){i>0&&s.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),K(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Be=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Fe(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1)}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Fe=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();b&&C("event: "+e.toString()),Y(n)}}},t.prototype.getPath=function(){return this.path_},t}(),je=function(){function t(t){this.allowedEvents_=t,this.listeners_={},s.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=a.__spread(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){s.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ue=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(je),Ve=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return a.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return s.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(je),He=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Y(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),We="start",ze="close",Ge=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(t),this.stats_=De.getCollection(e),this.urlFn=function(t){return e.connectionURL(et,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new He(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(s.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Xe(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,5),i=r[0],o=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===We)n.id=o,n.password=s;else{if(i!==ze)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=a.__read(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf($)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(s.isNodeSdk()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=s.base64Encode(e),r=D(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=s.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Xe=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(u){C("frame writing exception"),u.stack&&C(u.stack),C(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||C("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;s.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){C("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),Ze="",qe=null;"undefined"!=typeof MozWebSocket?qe=MozWebSocket:"undefined"!=typeof WebSocket&&(qe=WebSocket);var Ye=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=De.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf($)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL(tt,r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,d.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var r={headers:{"User-Agent":"Firebase/5/"+Ze+"/"+process.platform+"/"+(s.CONSTANTS.NODE_ADMIN?"AdminNode":"Node")}},i=process.env,o=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;o&&(r.proxy={origin:o}),this.mySock=new qe(this.connURL,[],r)}else this.mySock=new qe(this.connURL)}catch(u){this.log_("Error instantiating WebSocket.");var a=u.message||u.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==qe&&!t.forceDisallow_},t.previouslyFailed=function(){return d.isInMemoryStorage||!0===d.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){d.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=s.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(s.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=s.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=D(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Ke=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Ge,Ye]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Ye&&Ye.isAvailable(),o=i&&!Ye.previouslyFailed();if(e.webSocketOnly&&(i||A("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Ye];else{var s=this.transports_=[];try{for(var u=a.__values(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Qe=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new Ke(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=K(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=N("t",t),n=N("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=N("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?E("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&A("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),K(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):K(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(d.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),Je=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),$e=1e3,tn=function(t){function e(n,r,i,o,a,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=i,c.onServerInfoUpdate_=o,c.authTokenProvider_=a,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=S("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=$e,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Ue.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Ve.getInstance().on("online",c.onOnline_,c),c}return a.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&s.contains(t,"w")){var n=s.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();A("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||s.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=s.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+s.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+s.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=$e),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())};this.realtime_={close:l,sendRequest:function(t){s.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(e){u?C("getToken() completed but was canceled"):(C("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,c=new Qe(i,o.repoInfo_,t,n,r,function(t){A(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),u||(s.CONSTANTS.NODE_ADMIN&&A(t),l())})}},e.prototype.interrupt=function(t){C("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){C("Resuming connection for reason: "+t),delete this.interruptReasons_[t],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=$e,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return P(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Q(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){C("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=a.__values(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";s.CONSTANTS.NODE_ADMIN?e="admin_node":s.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+Ze.replace(/\./g,"-")]=1,s.isMobileCordova()?t["framework.cordova"]=1:s.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Ve.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(Je),en=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=S("p:rest:"),i.listens_={},i}return a.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(s.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+s.querystring(e);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=s.jsonEval(u.responseText)}catch(e){A("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&A("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()})},e}(Je),nn="repo_interrupt",rn=function(){function t(t,e,n,r){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Be,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new ie,this.persistentConnection_=null;var o=new Ne(n,r);if(this.stats_=De.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new en(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(null!=a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(a)}catch(u){throw new Error("Invalid authOverride provided: "+u)}}this.persistentConnection_=new tn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(t){i.server_.refreshAuthToken(t)}),this.statsReporter_=De.getOrCreateReporter(t,function(){return new Le(i.stats_,i.server_)}),this.transactionsInit_(),this.infoData_=new Me,this.infoSyncTree_=new Te({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Te({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Q(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=s.map(e,function(t){return Xt(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=Xt(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=s.map(e,function(t){return Xt(t)});o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Xt(e);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;o.length>0&&(h=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(h,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;x(t,function(t,n){e.updateInfo_(t,n)})},t.prototype.updateInfo_=function(t,e){var n=new Q("/.info/"+t),r=Xt(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=Xt(e,n),s=ae(a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||A("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(x(e,function(t,e){i=!1;var n=Xt(e);a[t]=ae(n,o)}),i)C("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||A("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)}),x(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=function(t,e){var n=new ie;return t.forEachTree(new Q(""),function(t,r){n.remember(t,ae(r,e))}),n}(this.onDisconnect_,e),r=[];n.forEachTree(Q.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new ie,this.eventQueue_.raiseEventsForChangedPath(Q.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Xt(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Xt(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(s.isEmpty(e))return C("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&x(e,function(e,n){var i=Xt(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(nn)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(nn)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new xe(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);x(e,function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),C.apply(void 0,a.__spread([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Y(function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new pn(this))},enumerable:!0,configurable:!0}),t}(),on=function(){function t(e){this.indexedFilter_=new me(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ot(e,n))||(n=zt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=zt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(zt.EMPTY_NODE);var i=this;return e.forEachChild(Nt,function(t,e){i.matches(new Ot(t,e))||(r=r.updateImmediateChild(t,zt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),an=function(){function t(t){this.rangedFilter_=new on(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ot(e,n))||(n=zt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=zt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(zt.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,zt.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var u=t;s.assert(u.numChildren()===this.limit_,"");var c=new Ot(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:o(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(ve.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(ve.childRemovedChange(e,f));var g=u.updateImmediateChild(e,zt.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(ve.childAddedChange(d.name,d.node)),g.updateImmediateChild(d.name,d.node)):g}return n.isEmpty()?t:h&&o(l,c)>=0?(null!=i&&(i.trackChildChange(ve.childRemovedChange(l.name,l.node)),i.trackChildChange(ve.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,zt.EMPTY_NODE)):t},t}(),sn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Nt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:k},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:R},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Nt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Nt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new me(this.getIndex()):this.hasLimit()?new an(this):new on(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Nt?e=n.PRIORITY_INDEX:this.index_===Kt?e=n.VALUE_INDEX:this.index_===kt?e=n.KEY_INDEX:(s.assert(this.index_ instanceof Qt,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=s.stringify(e),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),un=function(t){function e(e,n){if(!(e instanceof rn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,sn.DEFAULT,!1)||this}return a.__extends(e,t),e.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Q||(null===this.path.getFront()?yt("Reference.child",1,t,!1):mt("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){s.validateArgCount("Reference.set",1,2,arguments.length),bt("Reference.set",this.path),ht("Reference.set",1,t,this.path,!1),s.validateCallback("Reference.set",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(s.validateArgCount("Reference.update",1,2,arguments.length),bt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,A("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}dt("Reference.update",1,t,this.path,!1),s.validateCallback("Reference.update",2,e,!0);var i=new s.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),bt("Reference.setWithPriority",this.path),ht("Reference.setWithPriority",1,t,this.path,!1),pt("Reference.setWithPriority",2,e,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return s.validateArgCount("Reference.remove",0,1,arguments.length),bt("Reference.remove",this.path),s.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),bt("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,t,!1),s.validateCallback("Reference.transaction",2,e,!0),_t("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.Deferred;"function"==typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new St(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){s.validateArgCount("Reference.setPriority",1,2,arguments.length),bt("Reference.setPriority",this.path),pt("Reference.setPriority",1,t,!1),s.validateCallback("Reference.setPriority",2,e,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){s.validateArgCount("Reference.push",0,2,arguments.length),bt("Reference.push",this.path),ht("Reference.push",1,t,this.path,!0),s.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Et(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return bt("Reference.onDisconnect",this.path),new Ct(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(re);re.__referenceConstructor=un,Oe.__referenceConstructor=un;var cn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),ln=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new cn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Q?e:new Q(e),r=this,i=n.getFront();null!==i;)r=new t(i,r,s.safeGet(r.node_.children,i)||new cn),i=(n=n.popFront()).getFront();return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){s.assert(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;x(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new Q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=s.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),hn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({});rn.MAX_TRANSACTION_RETRIES_=25,rn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new ln},rn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new un(this,t);o.on("value",i);var a={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new Jt(a.currentInputSnapshot,new un(this,a.path),Nt);a.onComplete(null,!1,l)}}else{ft("transaction failed: Data returned ",c,a.path),a.status=hn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(a),h.setValue(f);var d=void 0;"object"==typeof c&&null!==c&&s.contains(c,".priority")?(d=s.safeGet(c,".priority"),s.assert(lt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||zt.EMPTY_NODE).getPriority().val(),d=d;var p=this.generateServerValues(),g=Xt(c,d),m=ae(g,p);a.currentOutputSnapshotRaw=g,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_();var y=this.serverSyncTree_.applyUserOverwrite(t,m,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,y),this.sendReadyTransactions_()}},rn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||zt.EMPTY_NODE},rn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);s.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===hn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},rn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,a=i.hash(),u=0;u<e.length;u++){var c=e[u];s.assert(c.status===hn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=hn.SENT,c.retryCount++;var l=Q.relativePath(t,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var h=o.val(!0),f=t;this.server_.put(f.toString(),h,function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=hn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new un(n,e[a].path),c=new Jt(s,u,Nt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i),a=0;a<o.length;a++)Y(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===hn.SENT_NEEDS_ABORT?hn.NEEDS_ABORT:hn.RUN;else for(A("transaction at "+f.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=hn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}},a)},rn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},rn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===hn.RUN}).map(function(t){return t.currentWriteId}),o=0;o<t.length;o++){var a=t[o],u=Q.relativePath(e,a.path),c=!1,l=void 0;if(s.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===hn.NEEDS_ABORT)c=!0,l=a.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===hn.RUN)if(a.retryCount>=rn.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,i);a.currentInputSnapshot=h;var f=t[o].update(h.val());if(void 0!==f){ft("transaction failed: Data returned ",f,a.path);var d=Xt(f);"object"==typeof f&&null!=f&&s.contains(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=a.currentWriteId,g=this.generateServerValues(),v=ae(d,g);a.currentOutputSnapshotRaw=d,a.currentOutputSnapshotResolved=v,a.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(a.path,v,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],c&&(t[o].status=hn.COMPLETED,setTimeout(t[o].unwatcher,Math.floor(0)),t[o].onComplete))if("nodata"===l){var m=new un(this,t[o].path),y=new Jt(t[o].currentInputSnapshot,m,Nt);n.push(t[o].onComplete.bind(null,null,!1,y))}else n.push(t[o].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),o=0;o<n.length;o++)Y(n[o]);this.sendReadyTransactions_()}},rn.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},rn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},rn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},rn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==hn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},rn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},rn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)e[o].status===hn.SENT_NEEDS_ABORT||(e[o].status===hn.SENT?(s.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=hn.SENT_NEEDS_ABORT,e[o].abortReason="set"):(s.assert(e[o].status===hn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete&&n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r),o=0;o<n.length;o++)Y(n[o])}};var fn,dn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return fn||(fn=new t),fn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=a.__values(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,a.__values(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&O("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=rt(r),o=i.repoInfo,a=void 0;return"undefined"!=typeof process&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a&&(o=(i=rt(r="http://"+a+"?ns="+o.namespace)).repoInfo),wt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||O("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,e).database},t.prototype.deleteRepo=function(t){var e=s.safeGet(this.repos_,t.app.name);e&&s.safeGet(e,t.repoInfo_.toURLString())===t||O("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=s.safeGet(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=s.safeGet(r,t.toURLString());return i&&O("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new rn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),pn=function(){function t(t){this.repo_=t,t instanceof rn||O("Don't call new Database() directly - please use firebase.database()."),this.root_=new un(t,Q.Empty),this.INTERNAL=new gn(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),t instanceof un?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),s.validateArgCount(e,1,1,arguments.length);var n=rt(t);wt(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&O(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&O("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),gn=function(){function t(t){this.database=t}return t.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.database.checkDeleted_("delete"),dn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),vn=Object.freeze({__proto__:null,forceLongPolling:function(){Ye.forceDisallow(),Ge.forceAllow()},forceWebSockets:function(){Ge.forceDisallow()},isWebSocketsAvailable:function(){return Ye.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),mn=tn;tn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},tn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var yn=Object.freeze({__proto__:null,DataConnection:mn,RealTimeConnection:Qe,hijackHash:function(t){var e=tn.prototype.put;return tn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){tn.prototype.put=e}},ConnectionTarget:nt,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){dn.getInstance().forceRestClient(t)}}),bn=pn.ServerValue;function wn(e){Ze=e.SDK_VERSION;var n=e.INTERNAL.registerComponent(new c.Component("database",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return dn.getInstance().databaseFromApp(n,r,e)},"PUBLIC").setServiceProps({Reference:un,Query:re,Database:pn,DataSnapshot:Jt,enableLogging:_,INTERNAL:vn,ServerValue:bn,TEST_ACCESS:yn}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.5.23"),s.isNodeSdk()&&(t.exports=n)}wn(o),e.DataSnapshot=Jt,e.Database=pn,e.OnDisconnect=Ct,e.Query=re,e.Reference=un,e.ServerValue=bn,e.enableLogging=_,e.registerDatabase=wn},Nsbk:function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},ODXe:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DSFK"),i=n("BsWD"),o=n("PYwp");function a(t,e){return Object(r.a)(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||Object(i.a)(t,e)||Object(o.a)()}},Oipj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("KDZV"))},PJYZ:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},PYwp:function(t,e,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(e,"a",function(){return r})},R7y3:function(t,e,n){var r=n("Y3SK"),i=n("o0o1"),o=n("lwsE"),a=n("W8MJ"),s=n("iWIM"),u=n("Nsbk"),c=n("7W2i"),l=n("LQ03");!function(t){"use strict";var e,n,h,f,d,p,g,v,m=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}),y=function(t){function e(e){var n,r,i,o=this.constructor,a=t.call(this,e)||this;return Object.defineProperty(a,"name",{value:o.name,enumerable:!1,configurable:!0}),n=a,r=o.prototype,(i=Object.setPrototypeOf)?i(n,r):n.__proto__=r,function(t,e){void 0===e&&(e=t.constructor);var n=Error.captureStackTrace;n&&n(t,e)}(a),a}return m(e,t),e}(Error),b=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),w=function(t){function e(e){void 0===e&&(e=void 0);var n=t.call(this,e)||this;return n.message=e,n}return b(e,t),e.prototype.getKind=function(){return this.constructor.kind},e.kind="Exception",e}(y),_=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.kind="ArgumentException",e}(w),S=(f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return S(e,t),e.kind="IllegalArgumentException",e}(w),O=function(){function t(t){if(this.binarizer=t,null===t)throw new E("Binarizer must be non-null.")}return t.prototype.getWidth=function(){return this.binarizer.getWidth()},t.prototype.getHeight=function(){return this.binarizer.getHeight()},t.prototype.getBlackRow=function(t,e){return this.binarizer.getBlackRow(t,e)},t.prototype.getBlackMatrix=function(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},t.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},t.prototype.crop=function(e,n,r,i){var o=this.binarizer.getLuminanceSource().crop(e,n,r,i);return new t(this.binarizer.createBinarizer(o))},t.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},t.prototype.rotateCounterClockwise=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new t(this.binarizer.createBinarizer(e))},t.prototype.rotateCounterClockwise45=function(){var e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new t(this.binarizer.createBinarizer(e))},t.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch(t){return""}},t}(),A=(d=function(t,e){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}d(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return A(e,t),e.getChecksumInstance=function(){return new e},e.kind="ChecksumException",e}(w),k=function(){function t(t){this.source=t}return t.prototype.getLuminanceSource=function(){return this.source},t.prototype.getWidth=function(){return this.source.getWidth()},t.prototype.getHeight=function(){return this.source.getHeight()},t}(),R=function(){function t(){}return t.arraycopy=function(t,e,n,r,i){for(;i--;)n[r++]=t[e++]},t.currentTimeMillis=function(){return Date.now()},t}(),T=(p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.kind="IndexOutOfBoundsException",e}(w),N=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),P=function(t){function e(e,n){void 0===e&&(e=void 0),void 0===n&&(n=void 0);var r=t.call(this,n)||this;return r.index=e,r.message=n,r}return N(e,t),e.kind="ArrayIndexOutOfBoundsException",e}(M),D=function(){function t(){}return t.fill=function(t,e){for(var n=0,r=t.length;n<r;n++)t[n]=e},t.fillWithin=function(e,n,r,i){t.rangeCheck(e.length,n,r);for(var o=n;o<r;o++)e[o]=i},t.rangeCheck=function(t,e,n){if(e>n)throw new E("fromIndex("+e+") > toIndex("+n+")");if(e<0)throw new P(e);if(n>t)throw new P(n)},t.asList=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t},t.create=function(t,e,n){return Array.from({length:t}).map(function(t){return Array.from({length:e}).fill(n)})},t.createInt32Array=function(t,e,n){return Array.from({length:t}).map(function(t){return Int32Array.from({length:e}).fill(n)})},t.equals=function(t,e){if(!t)return!1;if(!e)return!1;if(!t.length)return!1;if(!e.length)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0},t.hashCode=function(t){var e,n;if(null===t)return 0;var r=1;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),o=i.next();!o.done;o=i.next())r=31*r+o.value}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.fillUint8Array=function(t,e){for(var n=0;n!==t.length;n++)t[n]=e},t.copyOf=function(t,e){return t.slice(0,e)},t.copyOfUint8Array=function(t,e){if(t.length<=e){var n=new Uint8Array(e);return n.set(t),n}return t.slice(0,e)},t.copyOfRange=function(t,e,n){var r=n-e,i=new Int32Array(r);return R.arraycopy(t,e,i,0,r),i},t.binarySearch=function(e,n,r){void 0===r&&(r=t.numberComparator);for(var i=0,o=e.length-1;i<=o;){var a=o+i>>1,s=r(n,e[a]);if(s>0)i=a+1;else{if(!(s<0))return a;o=a-1}}return-i-1},t.numberComparator=function(t,e){return t-e},t}(),x=function(){function t(){}return t.numberOfTrailingZeros=function(t){var e;if(0===t)return 32;var n=31;return 0!=(e=t<<16)&&(n-=16,t=e),0!=(e=t<<8)&&(n-=8,t=e),0!=(e=t<<4)&&(n-=4,t=e),0!=(e=t<<2)&&(n-=2,t=e),n-(t<<1>>>31)},t.numberOfLeadingZeros=function(t){if(0===t)return 32;var e=1;return t>>>16==0&&(e+=16,t<<=16),t>>>24==0&&(e+=8,t<<=8),t>>>28==0&&(e+=4,t<<=4),t>>>30==0&&(e+=2,t<<=2),e-(t>>>31)},t.toHexString=function(t){return t.toString(16)},t.toBinaryString=function(t){return String(parseInt(String(t),2))},t.bitCount=function(t){return t=(t=(858993459&(t-=t>>>1&1431655765))+(t>>>2&858993459))+(t>>>4)&252645135,63&(t+=t>>>8)+(t>>>16)},t.truncDivision=function(t,e){return Math.trunc(t/e)},t.parseInt=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},t.MIN_VALUE_32_BITS=-2147483648,t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),L=function(){function t(e,n){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==n?t.makeArray(e):n)}return t.prototype.getSize=function(){return this.size},t.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},t.prototype.ensureCapacity=function(e){if(e>32*this.bits.length){var n=t.makeArray(e);R.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},t.prototype.get=function(t){return 0!=(this.bits[Math.floor(t/32)]&1<<(31&t))},t.prototype.set=function(t){this.bits[Math.floor(t/32)]|=1<<(31&t)},t.prototype.flip=function(t){this.bits[Math.floor(t/32)]^=1<<(31&t)},t.prototype.getNextSet=function(t){var e=this.size;if(t>=e)return e;var n=this.bits,r=Math.floor(t/32),i=n[r];i&=~((1<<(31&t))-1);for(var o=n.length;0===i;){if(++r===o)return e;i=n[r]}var a=32*r+x.numberOfTrailingZeros(i);return a>e?e:a},t.prototype.getNextUnset=function(t){var e=this.size;if(t>=e)return e;var n=this.bits,r=Math.floor(t/32),i=~n[r];i&=~((1<<(31&t))-1);for(var o=n.length;0===i;){if(++r===o)return e;i=~n[r]}var a=32*r+x.numberOfTrailingZeros(i);return a>e?e:a},t.prototype.setBulk=function(t,e){this.bits[Math.floor(t/32)]=e},t.prototype.setRange=function(t,e){if(e<t||t<0||e>this.size)throw new E;if(e!==t){e--;for(var n=Math.floor(t/32),r=Math.floor(e/32),i=this.bits,o=n;o<=r;o++)i[o]|=(2<<(o<r?31:31&e))-(1<<(o>n?0:31&t))}},t.prototype.clear=function(){for(var t=this.bits.length,e=this.bits,n=0;n<t;n++)e[n]=0},t.prototype.isRange=function(t,e,n){if(e<t||t<0||e>this.size)throw new E;if(e===t)return!0;e--;for(var r=Math.floor(t/32),i=Math.floor(e/32),o=this.bits,a=r;a<=i;a++){var s=(2<<(a<i?31:31&e))-(1<<(a>r?0:31&t))&4294967295;if((o[a]&s)!==(n?s:0))return!1}return!0},t.prototype.appendBit=function(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++},t.prototype.appendBits=function(t,e){if(e<0||e>32)throw new E("Num bits must be between 0 and 32");this.ensureCapacity(this.size+e);for(var n=e;n>0;n--)this.appendBit(1==(t>>n-1&1))},t.prototype.appendBitArray=function(t){var e=t.size;this.ensureCapacity(this.size+e);for(var n=0;n<e;n++)this.appendBit(t.get(n))},t.prototype.xor=function(t){if(this.size!==t.size)throw new E("Sizes don't match");for(var e=this.bits,n=0,r=e.length;n<r;n++)e[n]^=t.bits[n]},t.prototype.toBytes=function(t,e,n,r){for(var i=0;i<r;i++){for(var o=0,a=0;a<8;a++)this.get(t)&&(o|=1<<7-a),t++;e[n+i]=o}},t.prototype.getBitArray=function(){return this.bits},t.prototype.reverse=function(){for(var t=new Int32Array(this.bits.length),e=Math.floor((this.size-1)/32),n=e+1,r=this.bits,i=0;i<n;i++){var o=r[i];t[e-i]=o=(o=(o=(o=(o=o>>1&1431655765|(1431655765&o)<<1)>>2&858993459|(858993459&o)<<2)>>4&252645135|(252645135&o)<<4)>>8&16711935|(16711935&o)<<8)>>16&65535|(65535&o)<<16}if(this.size!==32*n){var a=32*n-this.size,s=t[0]>>>a;for(i=1;i<n;i++){var u=t[i];t[i-1]=s|=u<<32-a,s=u>>>a}t[n-1]=s}this.bits=t},t.makeArray=function(t){return new Int32Array(Math.floor((t+31)/32))},t.prototype.equals=function(e){return e instanceof t&&this.size===e.size&&D.equals(this.bits,e.bits)},t.prototype.hashCode=function(){return 31*this.size+D.hashCode(this.bits)},t.prototype.toString=function(){for(var t="",e=0,n=this.size;e<n;e++)0==(7&e)&&(t+=" "),t+=this.get(e)?"X":".";return t},t.prototype.clone=function(){return new t(this.size,this.bits.slice())},t}();!function(t){t[t.OTHER=0]="OTHER",t[t.PURE_BARCODE=1]="PURE_BARCODE",t[t.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",t[t.TRY_HARDER=3]="TRY_HARDER",t[t.CHARACTER_SET=4]="CHARACTER_SET",t[t.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",t[t.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",t[t.ASSUME_GS1=7]="ASSUME_GS1",t[t.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",t[t.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",t[t.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"}(v||(v={}));var B,F,j=v,U=(B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return U(e,t),e.getFormatInstance=function(){return new e},e.kind="FormatException",e}(w),H=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};!function(t){t[t.Cp437=0]="Cp437",t[t.ISO8859_1=1]="ISO8859_1",t[t.ISO8859_2=2]="ISO8859_2",t[t.ISO8859_3=3]="ISO8859_3",t[t.ISO8859_4=4]="ISO8859_4",t[t.ISO8859_5=5]="ISO8859_5",t[t.ISO8859_6=6]="ISO8859_6",t[t.ISO8859_7=7]="ISO8859_7",t[t.ISO8859_8=8]="ISO8859_8",t[t.ISO8859_9=9]="ISO8859_9",t[t.ISO8859_10=10]="ISO8859_10",t[t.ISO8859_11=11]="ISO8859_11",t[t.ISO8859_13=12]="ISO8859_13",t[t.ISO8859_14=13]="ISO8859_14",t[t.ISO8859_15=14]="ISO8859_15",t[t.ISO8859_16=15]="ISO8859_16",t[t.SJIS=16]="SJIS",t[t.Cp1250=17]="Cp1250",t[t.Cp1251=18]="Cp1251",t[t.Cp1252=19]="Cp1252",t[t.Cp1256=20]="Cp1256",t[t.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",t[t.UTF8=22]="UTF8",t[t.ASCII=23]="ASCII",t[t.Big5=24]="Big5",t[t.GB18030=25]="GB18030",t[t.EUC_KR=26]="EUC_KR"}(F||(F={}));var W,z,G,X,Z,q,Y,K=function(){function t(e,n,r){for(var i,o,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];this.valueIdentifier=e,this.name=r,this.values="number"==typeof n?Int32Array.from([n]):n,this.otherEncodingNames=a,t.VALUE_IDENTIFIER_TO_ECI.set(e,this),t.NAME_TO_ECI.set(r,this);for(var u=this.values,c=0,l=u.length;c!==l;c++){var h=u[c];t.VALUES_TO_ECI.set(h,this)}try{for(var f=H(a),d=f.next();!d.done;d=f.next()){var p=d.value;t.NAME_TO_ECI.set(p,this)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}}return t.prototype.getValueIdentifier=function(){return this.valueIdentifier},t.prototype.getName=function(){return this.name},t.prototype.getValue=function(){return this.values[0]},t.getCharacterSetECIByValue=function(e){if(e<0||e>=900)throw new V("incorect value");var n=t.VALUES_TO_ECI.get(e);if(void 0===n)throw new V("incorect value");return n},t.getCharacterSetECIByName=function(e){var n=t.NAME_TO_ECI.get(e);if(void 0===n)throw new V("incorect value");return n},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;return this.getName()===n.getName()},t.VALUE_IDENTIFIER_TO_ECI=new Map,t.VALUES_TO_ECI=new Map,t.NAME_TO_ECI=new Map,t.Cp437=new t(F.Cp437,Int32Array.from([0,2]),"Cp437"),t.ISO8859_1=new t(F.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),t.ISO8859_2=new t(F.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),t.ISO8859_3=new t(F.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),t.ISO8859_4=new t(F.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),t.ISO8859_5=new t(F.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),t.ISO8859_6=new t(F.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),t.ISO8859_7=new t(F.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),t.ISO8859_8=new t(F.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),t.ISO8859_9=new t(F.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),t.ISO8859_10=new t(F.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),t.ISO8859_11=new t(F.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),t.ISO8859_13=new t(F.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),t.ISO8859_14=new t(F.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),t.ISO8859_15=new t(F.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),t.ISO8859_16=new t(F.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),t.SJIS=new t(F.SJIS,20,"SJIS","Shift_JIS"),t.Cp1250=new t(F.Cp1250,21,"Cp1250","windows-1250"),t.Cp1251=new t(F.Cp1251,22,"Cp1251","windows-1251"),t.Cp1252=new t(F.Cp1252,23,"Cp1252","windows-1252"),t.Cp1256=new t(F.Cp1256,24,"Cp1256","windows-1256"),t.UnicodeBigUnmarked=new t(F.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),t.UTF8=new t(F.UTF8,26,"UTF8","UTF-8"),t.ASCII=new t(F.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),t.Big5=new t(F.Big5,28,"Big5"),t.GB18030=new t(F.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),t.EUC_KR=new t(F.EUC_KR,30,"EUC_KR","EUC-KR"),t}(),Q=(W=function(t,e){return(W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}W(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),J=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Q(e,t),e.kind="UnsupportedOperationException",e}(w),$=function(){function t(){}return t.decode=function(t,e){var n=this.encodingName(e);return this.customDecoder?this.customDecoder(t,n):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(n)?this.decodeFallback(t,n):new TextDecoder(n).decode(t)},t.shouldDecodeOnFallback=function(e){return!t.isBrowser()&&"ISO-8859-1"===e},t.encode=function(t,e){var n=this.encodingName(e);return this.customEncoder?this.customEncoder(t,n):"undefined"==typeof TextEncoder?this.encodeFallback(t):(new TextEncoder).encode(t)},t.isBrowser=function(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)},t.encodingName=function(t){return"string"==typeof t?t:t.getName()},t.encodingCharacterSet=function(t){return t instanceof K?t:K.getCharacterSetECIByName(t)},t.decodeFallback=function(e,n){var r=this.encodingCharacterSet(n);if(t.isDecodeFallbackSupported(r)){for(var i="",o=0,a=e.length;o<a;o++){var s=e[o].toString(16);s.length<2&&(s="0"+s),i+="%"+s}return decodeURIComponent(i)}if(r.equals(K.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new J("Encoding "+this.encodingName(n)+" not supported by fallback.")},t.isDecodeFallbackSupported=function(t){return t.equals(K.UTF8)||t.equals(K.ISO8859_1)||t.equals(K.ASCII)},t.encodeFallback=function(t){for(var e=btoa(unescape(encodeURIComponent(t))).split(""),n=[],r=0;r<e.length;r++)n.push(e[r].charCodeAt(0));return new Uint8Array(n)},t}(),tt=function(){function t(){}return t.castAsNonUtf8Char=function(t,e){void 0===e&&(e=null);var n=e?e.getName():this.ISO88591;return $.decode(new Uint8Array([t]),n)},t.guessEncoding=function(e,n){if(null!=n&&void 0!==n.get(j.CHARACTER_SET))return n.get(j.CHARACTER_SET).toString();for(var r=e.length,i=!0,o=!0,a=!0,s=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,g=0,v=0,m=0,y=e.length>3&&239===e[0]&&187===e[1]&&191===e[2],b=0;b<r&&(i||o||a);b++){var w=255&e[b];a&&(s>0?0==(128&w)?a=!1:s--:0!=(128&w)&&(0==(64&w)?a=!1:(s++,0==(32&w)?u++:(s++,0==(16&w)?c++:(s++,0==(8&w)?l++:a=!1))))),i&&(w>127&&w<160?i=!1:w>159&&(w<192||215===w||247===w)&&m++),o&&(h>0?w<64||127===w||w>252?o=!1:h--:128===w||160===w||w>239?o=!1:w>160&&w<224?(f++,p=0,++d>g&&(g=d)):w>127?(h++,d=0,++p>v&&(v=p)):(d=0,p=0))}return a&&s>0&&(a=!1),o&&h>0&&(o=!1),a&&(y||u+c+l>0)?t.UTF8:o&&(t.ASSUME_SHIFT_JIS||g>=3||v>=3)?t.SHIFT_JIS:i&&o?2===g&&2===f||10*m>=r?t.SHIFT_JIS:t.ISO88591:i?t.ISO88591:o?t.SHIFT_JIS:a?t.UTF8:t.PLATFORM_DEFAULT_ENCODING},t.format=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=-1;function i(t,n,i,o,a,s){if("%%"===t)return"%";if(void 0!==e[++r]){t=o?parseInt(o.substr(1)):void 0;var u,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":u=e[r];break;case"c":u=e[r][0];break;case"f":u=parseFloat(e[r]).toFixed(t);break;case"p":u=parseFloat(e[r]).toPrecision(t);break;case"e":u=parseFloat(e[r]).toExponential(t);break;case"x":u=parseInt(e[r]).toString(c||16);break;case"d":u=parseFloat(parseInt(e[r],c||10).toPrecision(t)).toFixed(0)}u="object"==typeof u?JSON.stringify(u):(+u).toString(c);for(var l=parseInt(i),h=i&&i[0]+""=="0"?"0":" ";u.length<l;)u=void 0!==n?u+h:h+u;return u}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(o,i)},t.getBytes=function(t,e){return $.encode(t,e)},t.getCharCode=function(t,e){return void 0===e&&(e=0),t.charCodeAt(e)},t.getCharAt=function(t){return String.fromCharCode(t)},t.SHIFT_JIS=K.SJIS.getName(),t.GB2312="GB2312",t.ISO88591=K.ISO8859_1.getName(),t.EUC_JP="EUC_JP",t.UTF8=K.UTF8.getName(),t.PLATFORM_DEFAULT_ENCODING=t.UTF8,t.ASSUME_SHIFT_JIS=!1,t}(),et=function(){function t(t){void 0===t&&(t=""),this.value=t}return t.prototype.enableDecoding=function(t){return this.encoding=t,this},t.prototype.append=function(t){return this.value+="string"==typeof t?t.toString():this.encoding?tt.castAsNonUtf8Char(t,this.encoding):String.fromCharCode(t),this},t.prototype.appendChars=function(t,e,n){for(var r=e;e<e+n;r++)this.append(t[r]);return this},t.prototype.length=function(){return this.value.length},t.prototype.charAt=function(t){return this.value.charAt(t)},t.prototype.deleteCharAt=function(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)},t.prototype.setCharAt=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+1)},t.prototype.substring=function(t,e){return this.value.substring(t,e)},t.prototype.setLengthToZero=function(){this.value=""},t.prototype.toString=function(){return this.value},t.prototype.insert=function(t,e){this.value=this.value.substr(0,t)+e+this.value.substr(t+e.length)},t}(),nt=function(){function t(t,e,n,r){if(this.width=t,this.height=e,this.rowSize=n,this.bits=r,null==e&&(e=t),this.height=e,t<1||e<1)throw new E("Both dimensions must be greater than 0");null==n&&(n=Math.floor((t+31)/32)),this.rowSize=n,null==r&&(this.bits=new Int32Array(this.rowSize*this.height))}return t.parseFromBooleanArray=function(e){for(var n=e.length,r=e[0].length,i=new t(r,n),o=0;o<n;o++)for(var a=e[o],s=0;s<r;s++)a[s]&&i.set(s,o);return i},t.parseFromString=function(e,n,r){if(null===e)throw new E("stringRepresentation cannot be null");for(var i=new Array(e.length),o=0,a=0,s=-1,u=0,c=0;c<e.length;)if("\n"===e.charAt(c)||"\r"===e.charAt(c)){if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new E("row lengths do not match");a=o,u++}c++}else if(e.substring(c,c+n.length)===n)c+=n.length,i[o]=!0,o++;else{if(e.substring(c,c+r.length)!==r)throw new E("illegal character encountered: "+e.substring(c));c+=r.length,i[o]=!1,o++}if(o>a){if(-1===s)s=o-a;else if(o-a!==s)throw new E("row lengths do not match");u++}for(var l=new t(s,u),h=0;h<o;h++)i[h]&&l.set(Math.floor(h%s),Math.floor(h/s));return l},t.prototype.get=function(t,e){var n=e*this.rowSize+Math.floor(t/32);return 0!=(this.bits[n]>>>(31&t)&1)},t.prototype.set=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]|=1<<(31&t)&4294967295},t.prototype.unset=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]&=~(1<<(31&t)&4294967295)},t.prototype.flip=function(t,e){var n=e*this.rowSize+Math.floor(t/32);this.bits[n]^=1<<(31&t)&4294967295},t.prototype.xor=function(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new E("input matrix dimensions do not match");for(var e=new L(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits,i=0,o=this.height;i<o;i++)for(var a=i*n,s=t.getRow(i,e).getBitArray(),u=0;u<n;u++)r[a+u]^=s[u]},t.prototype.clear=function(){for(var t=this.bits,e=t.length,n=0;n<e;n++)t[n]=0},t.prototype.setRegion=function(t,e,n,r){if(e<0||t<0)throw new E("Left and top must be nonnegative");if(r<1||n<1)throw new E("Height and width must be at least 1");var i=t+n,o=e+r;if(o>this.height||i>this.width)throw new E("The region must fit inside the matrix");for(var a=this.rowSize,s=this.bits,u=e;u<o;u++)for(var c=u*a,l=t;l<i;l++)s[c+Math.floor(l/32)]|=1<<(31&l)&4294967295},t.prototype.getRow=function(t,e){null==e||e.getSize()<this.width?e=new L(this.width):e.clear();for(var n=this.rowSize,r=this.bits,i=t*n,o=0;o<n;o++)e.setBulk(32*o,r[i+o]);return e},t.prototype.setRow=function(t,e){R.arraycopy(e.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)},t.prototype.rotate180=function(){for(var t=this.getWidth(),e=this.getHeight(),n=new L(t),r=new L(t),i=0,o=Math.floor((e+1)/2);i<o;i++)n=this.getRow(i,n),r=this.getRow(e-1-i,r),n.reverse(),r.reverse(),this.setRow(i,r),this.setRow(e-1-i,n)},t.prototype.getEnclosingRectangle=function(){for(var t=this.height,e=this.rowSize,n=this.bits,r=this.width,i=t,o=-1,a=-1,s=0;s<t;s++)for(var u=0;u<e;u++){var c=n[s*e+u];if(0!==c){if(s<i&&(i=s),s>a&&(a=s),32*u<r){for(var l=0;0==(c<<31-l&4294967295);)l++;32*u+l<r&&(r=32*u+l)}if(32*u+31>o){for(l=31;c>>>l==0;)l--;32*u+l>o&&(o=32*u+l)}}}return o<r||a<i?null:Int32Array.from([r,i,o-r+1,a-i+1])},t.prototype.getTopLeftOnBit=function(){for(var t=this.rowSize,e=this.bits,n=0;n<e.length&&0===e[n];)n++;if(n===e.length)return null;for(var r=n/t,i=n%t*32,o=e[n],a=0;0==(o<<31-a&4294967295);)a++;return Int32Array.from([i+=a,r])},t.prototype.getBottomRightOnBit=function(){for(var t=this.rowSize,e=this.bits,n=e.length-1;n>=0&&0===e[n];)n--;if(n<0)return null;for(var r=Math.floor(n/t),i=32*Math.floor(n%t),o=e[n],a=31;o>>>a==0;)a--;return Int32Array.from([i+=a,r])},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.getRowSize=function(){return this.rowSize},t.prototype.equals=function(e){return e instanceof t&&this.width===e.width&&this.height===e.height&&this.rowSize===e.rowSize&&D.equals(this.bits,e.bits)},t.prototype.hashCode=function(){var t=this.width;return 31*(t=31*(t=31*(t=31*t+this.width)+this.height)+this.rowSize)+D.hashCode(this.bits)},t.prototype.toString=function(t,e,n){return void 0===t&&(t="X "),void 0===e&&(e="  "),void 0===n&&(n="\n"),this.buildToString(t,e,n)},t.prototype.buildToString=function(t,e,n){for(var r=new et,i=0,o=this.height;i<o;i++){for(var a=0,s=this.width;a<s;a++)r.append(this.get(a,i)?t:e);r.append(n)}return r.toString()},t.prototype.clone=function(){return new t(this.width,this.height,this.rowSize,this.bits.slice())},t}(),rt=(z=function(t,e){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return rt(e,t),e.getNotFoundInstance=function(){return new e},e.kind="NotFoundException",e}(w),ot=(G=function(t,e){return(G=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}G(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),at=function(t){function e(n){var r=t.call(this,n)||this;return r.luminances=e.EMPTY,r.buckets=new Int32Array(e.LUMINANCE_BUCKETS),r}return ot(e,t),e.prototype.getBlackRow=function(t,n){var r=this.getLuminanceSource(),i=r.getWidth();null==n||n.getSize()<i?n=new L(i):n.clear(),this.initArrays(i);for(var o=r.getRow(t,this.luminances),a=this.buckets,s=0;s<i;s++)a[(255&o[s])>>e.LUMINANCE_SHIFT]++;var u=e.estimateBlackPoint(a);if(i<3)for(s=0;s<i;s++)(255&o[s])<u&&n.set(s);else{var c=255&o[0],l=255&o[1];for(s=1;s<i-1;s++){var h=255&o[s+1];(4*l-c-h)/2<u&&n.set(s),c=l,l=h}}return n},e.prototype.getBlackMatrix=function(){var t=this.getLuminanceSource(),n=t.getWidth(),r=t.getHeight(),i=new nt(n,r);this.initArrays(n);for(var o=this.buckets,a=1;a<5;a++)for(var s=Math.floor(r*a/5),u=t.getRow(s,this.luminances),c=Math.floor(4*n/5),l=Math.floor(n/5);l<c;l++)o[(255&u[l])>>e.LUMINANCE_SHIFT]++;var h=e.estimateBlackPoint(o),f=t.getMatrix();for(a=0;a<r;a++){var d=a*n;for(l=0;l<n;l++)(255&f[d+l])<h&&i.set(l,a)}return i},e.prototype.createBinarizer=function(t){return new e(t)},e.prototype.initArrays=function(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));for(var n=this.buckets,r=0;r<e.LUMINANCE_BUCKETS;r++)n[r]=0},e.estimateBlackPoint=function(t){for(var n=t.length,r=0,i=0,o=0,a=0;a<n;a++)t[a]>o&&(i=a,o=t[a]),t[a]>r&&(r=t[a]);var s=0,u=0;for(a=0;a<n;a++){var c=a-i;(d=t[a]*c*c)>u&&(s=a,u=d)}if(i>s){var l=i;i=s,s=l}if(s-i<=n/16)throw new it;var h=s-1,f=-1;for(a=s-1;a>i;a--){var d,p=a-i;(d=p*p*(s-a)*(r-t[a]))>f&&(h=a,f=d)}return h<<e.LUMINANCE_SHIFT},e.LUMINANCE_SHIFT=8-(e.LUMINANCE_BITS=5),e.LUMINANCE_BUCKETS=1<<e.LUMINANCE_BITS,e.EMPTY=Uint8ClampedArray.from([0]),e}(k),st=(X=function(t,e){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}X(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ut=function(t){function e(e){var n=t.call(this,e)||this;return n.matrix=null,n}return st(e,t),e.prototype.getBlackMatrix=function(){if(null!==this.matrix)return this.matrix;var n=this.getLuminanceSource(),r=n.getWidth(),i=n.getHeight();if(r>=e.MINIMUM_DIMENSION&&i>=e.MINIMUM_DIMENSION){var o=n.getMatrix(),a=r>>e.BLOCK_SIZE_POWER;0!=(r&e.BLOCK_SIZE_MASK)&&a++;var s=i>>e.BLOCK_SIZE_POWER;0!=(i&e.BLOCK_SIZE_MASK)&&s++;var u=e.calculateBlackPoints(o,a,s,r,i),c=new nt(r,i);e.calculateThresholdForBlock(o,a,s,r,i,u,c),this.matrix=c}else this.matrix=t.prototype.getBlackMatrix.call(this);return this.matrix},e.prototype.createBinarizer=function(t){return new e(t)},e.calculateThresholdForBlock=function(t,n,r,i,o,a,s){for(var u=o-e.BLOCK_SIZE,c=i-e.BLOCK_SIZE,l=0;l<r;l++){var h=l<<e.BLOCK_SIZE_POWER;h>u&&(h=u);for(var f=e.cap(l,2,r-3),d=0;d<n;d++){var p=d<<e.BLOCK_SIZE_POWER;p>c&&(p=c);for(var g=e.cap(d,2,n-3),v=0,m=-2;m<=2;m++){var y=a[f+m];v+=y[g-2]+y[g-1]+y[g]+y[g+1]+y[g+2]}e.thresholdBlock(t,p,h,v/25,i,s)}}},e.cap=function(t,e,n){return t<e?e:t>n?n:t},e.thresholdBlock=function(t,n,r,i,o,a){for(var s=0,u=r*o+n;s<e.BLOCK_SIZE;s++,u+=o)for(var c=0;c<e.BLOCK_SIZE;c++)(255&t[u+c])<=i&&a.set(n+c,r+s)},e.calculateBlackPoints=function(t,n,r,i,o){for(var a=o-e.BLOCK_SIZE,s=i-e.BLOCK_SIZE,u=new Array(r),c=0;c<r;c++){u[c]=new Int32Array(n);var l=c<<e.BLOCK_SIZE_POWER;l>a&&(l=a);for(var h=0;h<n;h++){var f=h<<e.BLOCK_SIZE_POWER;f>s&&(f=s);for(var d=0,p=255,g=0,v=0,m=l*i+f;v<e.BLOCK_SIZE;v++,m+=i){for(var y=0;y<e.BLOCK_SIZE;y++){var b=255&t[m+y];d+=b,b<p&&(p=b),b>g&&(g=b)}if(g-p>e.MIN_DYNAMIC_RANGE)for(v++,m+=i;v<e.BLOCK_SIZE;v++,m+=i)for(y=0;y<e.BLOCK_SIZE;y++)d+=255&t[m+y]}var w=d>>2*e.BLOCK_SIZE_POWER;if(g-p<=e.MIN_DYNAMIC_RANGE&&(w=p/2,c>0&&h>0)){var _=(u[c-1][h]+2*u[c][h-1]+u[c-1][h-1])/4;p<_&&(w=_)}u[c][h]=w}}return u},e.BLOCK_SIZE_MASK=(e.BLOCK_SIZE=1<<(e.BLOCK_SIZE_POWER=3))-1,e.MINIMUM_DIMENSION=5*e.BLOCK_SIZE,e.MIN_DYNAMIC_RANGE=24,e}(at),ct=function(){function t(t,e){this.width=t,this.height=e}return t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.isCropSupported=function(){return!1},t.prototype.crop=function(t,e,n,r){throw new J("This luminance source does not support cropping.")},t.prototype.isRotateSupported=function(){return!1},t.prototype.rotateCounterClockwise=function(){throw new J("This luminance source does not support rotation by 90 degrees.")},t.prototype.rotateCounterClockwise45=function(){throw new J("This luminance source does not support rotation by 45 degrees.")},t.prototype.toString=function(){for(var t=new Uint8ClampedArray(this.width),e=new et,n=0;n<this.height;n++){for(var r=this.getRow(n,t),i=0;i<this.width;i++){var o=255&r[i];e.append(o<64?"#":o<128?"+":o<192?".":" ")}e.append("\n")}return e.toString()},t}(),lt=(Z=function(t,e){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ht=function(t){function e(e){var n=t.call(this,e.getWidth(),e.getHeight())||this;return n.delegate=e,n}return lt(e,t),e.prototype.getRow=function(t,e){for(var n=this.delegate.getRow(t,e),r=this.getWidth(),i=0;i<r;i++)n[i]=255-(255&n[i]);return n},e.prototype.getMatrix=function(){for(var t=this.delegate.getMatrix(),e=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(e),r=0;r<e;r++)n[r]=255-(255&t[r]);return n},e.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},e.prototype.crop=function(t,n,r,i){return new e(this.delegate.crop(t,n,r,i))},e.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},e.prototype.invert=function(){return this.delegate},e.prototype.rotateCounterClockwise=function(){return new e(this.delegate.rotateCounterClockwise())},e.prototype.rotateCounterClockwise45=function(){return new e(this.delegate.rotateCounterClockwise45())},e}(ct),ft=(q=function(t,e){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}q(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dt=function(t){function e(n){var r=t.call(this,n.width,n.height)||this;return r.canvas=n,r.tempCanvasElement=null,r.buffer=e.makeBufferFromCanvasImageData(n),r}return ft(e,t),e.makeBufferFromCanvasImageData=function(t){var n=t.getContext("2d").getImageData(0,0,t.width,t.height);return e.toGrayscaleBuffer(n.data,t.width,t.height)},e.toGrayscaleBuffer=function(t,e,n){for(var r=new Uint8ClampedArray(e*n),i=0,o=0,a=t.length;i<a;i+=4,o++)r[o]=0===t[i+3]?255:306*t[i]+601*t[i+1]+117*t[i+2]+512>>10;return r},e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new E("Requested row is outside the image: "+t);var n=this.getWidth(),r=t*n;return null===e?e=this.buffer.slice(r,r+n):(e.length<n&&(e=new Uint8ClampedArray(n)),e.set(this.buffer.slice(r,r+n))),e},e.prototype.getMatrix=function(){return this.buffer},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(e,n,r,i){return t.prototype.crop.call(this,e,n,r,i),this},e.prototype.isRotateSupported=function(){return!0},e.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},e.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},e.prototype.getTempCanvasElement=function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement},e.prototype.rotate=function(t){var n=this.getTempCanvasElement(),r=n.getContext("2d"),i=t*e.DEGREE_TO_RADIANS,o=this.canvas.width,a=this.canvas.height,s=Math.ceil(Math.abs(Math.cos(i))*o+Math.abs(Math.sin(i))*a),u=Math.ceil(Math.abs(Math.sin(i))*o+Math.abs(Math.cos(i))*a);return n.width=s,n.height=u,r.translate(s/2,u/2),r.rotate(i),r.drawImage(this.canvas,o/-2,a/-2),this.buffer=e.makeBufferFromCanvasImageData(n),this},e.prototype.invert=function(){return new ht(this)},e.DEGREE_TO_RADIANS=Math.PI/180,e}(ct),pt=function(){function t(t,e,n){this.deviceId=t,this.label=e,this.kind="videoinput",this.groupId=n||void 0}return t.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},t}(),gt=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},vt=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},mt=function(){function t(t,e,n){void 0===e&&(e=500),this.reader=t,this.timeBetweenScansMillis=e,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(t.prototype,"hasNavigator",{get:function(){return"undefined"!=typeof navigator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canEnumerateDevices",{get:function(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(t){this._timeBetweenDecodingAttempts=t<0?0:t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hints",{get:function(){return this._hints},set:function(t){this._hints=t||null},enumerable:!1,configurable:!0}),t.prototype.listVideoInputDevices=function(){return gt(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s;return vt(this,function(u){switch(u.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:t=u.sent(),e=[];try{for(n=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),r=n.next();!r.done;r=n.next())"videoinput"===(o="video"===(i=r.value).kind?"videoinput":i.kind)&&e.push({deviceId:i.deviceId||i.id,label:i.label||"Video device "+(e.length+1),kind:o,groupId:i.groupId})}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,e]}})})},t.prototype.getVideoInputDevices=function(){return gt(this,void 0,void 0,function(){return vt(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return[2,t.sent().map(function(t){return new pt(t.deviceId,t.label)})]}})})},t.prototype.findDeviceById=function(t){return gt(this,void 0,void 0,function(){var e;return vt(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return(e=n.sent())?[2,e.find(function(e){return e.deviceId===t})]:[2,null]}})})},t.prototype.decodeFromInputVideoDevice=function(t,e){return gt(this,void 0,void 0,function(){return vt(this,function(n){switch(n.label){case 0:return[4,this.decodeOnceFromVideoDevice(t,e)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromVideoDevice=function(t,e){return gt(this,void 0,void 0,function(){return vt(this,function(n){switch(n.label){case 0:return this.reset(),[4,this.decodeOnceFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e)];case 1:return[2,n.sent()]}})})},t.prototype.decodeOnceFromConstraints=function(t,e){return gt(this,void 0,void 0,function(){var n;return vt(this,function(r){switch(r.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return n=r.sent(),[4,this.decodeOnceFromStream(n,e)];case 2:return[2,r.sent()]}})})},t.prototype.decodeOnceFromStream=function(t,e){return gt(this,void 0,void 0,function(){var n;return vt(this,function(r){switch(r.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return n=r.sent(),[4,this.decodeOnce(n)];case 2:return[2,r.sent()]}})})},t.prototype.decodeFromInputVideoDeviceContinuously=function(t,e,n){return gt(this,void 0,void 0,function(){return vt(this,function(r){switch(r.label){case 0:return[4,this.decodeFromVideoDevice(t,e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeFromVideoDevice=function(t,e,n){return gt(this,void 0,void 0,function(){return vt(this,function(r){switch(r.label){case 0:return[4,this.decodeFromConstraints({video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},e,n)];case 1:return[2,r.sent()]}})})},t.prototype.decodeFromConstraints=function(t,e,n){return gt(this,void 0,void 0,function(){var r;return vt(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.getUserMedia(t)];case 1:return r=i.sent(),[4,this.decodeFromStream(r,e,n)];case 2:return[2,i.sent()]}})})},t.prototype.decodeFromStream=function(t,e,n){return gt(this,void 0,void 0,function(){var r;return vt(this,function(i){switch(i.label){case 0:return this.reset(),[4,this.attachStreamToVideo(t,e)];case 1:return r=i.sent(),[4,this.decodeContinuously(r,n)];case 2:return[2,i.sent()]}})})},t.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},t.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},t.prototype.attachStreamToVideo=function(t,e){return gt(this,void 0,void 0,function(){var n;return vt(this,function(r){switch(r.label){case 0:return n=this.prepareVideoElement(e),this.addVideoSource(n,t),this.videoElement=n,this.stream=t,[4,this.playVideoOnLoadAsync(n)];case 1:return r.sent(),[2,n]}})})},t.prototype.playVideoOnLoadAsync=function(t){var e=this;return new Promise(function(n,r){return e.playVideoOnLoad(t,function(){return n()})})},t.prototype.playVideoOnLoad=function(t,e){var n=this;this.videoEndedListener=function(){return n.stopStreams()},this.videoCanPlayListener=function(){return n.tryPlayVideo(t)},t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",e),this.tryPlayVideo(t)},t.prototype.isVideoPlaying=function(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2},t.prototype.tryPlayVideo=function(t){return gt(this,void 0,void 0,function(){return vt(this,function(e){switch(e.label){case 0:if(this.isVideoPlaying(t))return console.warn("Trying to play video that is already playing."),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,t.play()];case 2:return e.sent(),[3,4];case 3:return e.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},t.prototype.getMediaElement=function(t,e){var n=document.getElementById(t);if(!n)throw new C("element with id '"+t+"' not found");if(n.nodeName.toLowerCase()!==e.toLowerCase())throw new C("element with id '"+t+"' must be an "+e+" element");return n},t.prototype.decodeFromImage=function(t,e){if(!t&&!e)throw new C("either imageElement with a src set or an url must be provided");return e&&!t?this.decodeFromImageUrl(e):this.decodeFromImageElement(t)},t.prototype.decodeFromVideo=function(t,e){if(!t&&!e)throw new C("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrl(e):this.decodeFromVideoElement(t)},t.prototype.decodeFromVideoContinuously=function(t,e,n){if(void 0===t&&void 0===e)throw new C("Either an element with a src set or an URL must be provided");return e&&!t?this.decodeFromVideoUrlContinuously(e,n):this.decodeFromVideoElementContinuously(t,n)},t.prototype.decodeFromImageElement=function(t){if(!t)throw new C("An image element must be provided.");this.reset();var e=this.prepareImageElement(t);return this.imageElement=e,this.isImageLoaded(e)?this.decodeOnce(e,!1,!0):this._decodeOnLoadImage(e)},t.prototype.decodeFromVideoElement=function(t){var e=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(e)},t.prototype.decodeFromVideoElementContinuously=function(t,e){var n=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(n,e)},t.prototype._decodeFromVideoElementSetup=function(t){if(!t)throw new C("A video element must be provided.");this.reset();var e=this.prepareVideoElement(t);return this.videoElement=e,e},t.prototype.decodeFromImageUrl=function(t){if(!t)throw new C("An URL must be provided.");this.reset();var e=this.prepareImageElement();this.imageElement=e;var n=this._decodeOnLoadImage(e);return e.src=t,n},t.prototype.decodeFromVideoUrl=function(t){if(!t)throw new C("An URL must be provided.");this.reset();var e=this.prepareVideoElement(),n=this.decodeFromVideoElement(e);return e.src=t,n},t.prototype.decodeFromVideoUrlContinuously=function(t,e){if(!t)throw new C("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,e);return n.src=t,r},t.prototype._decodeOnLoadImage=function(t){var e=this;return new Promise(function(n,r){e.imageLoadedListener=function(){return e.decodeOnce(t,!1,!0).then(n,r)},t.addEventListener("load",e.imageLoadedListener)})},t.prototype._decodeOnLoadVideo=function(t){return gt(this,void 0,void 0,function(){return vt(this,function(e){switch(e.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return e.sent(),[4,this.decodeOnce(t)];case 2:return[2,e.sent()]}})})},t.prototype._decodeOnLoadVideoContinuously=function(t,e){return gt(this,void 0,void 0,function(){return vt(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(t)];case 1:return n.sent(),this.decodeContinuously(t,e),[2]}})})},t.prototype.isImageLoaded=function(t){return!!t.complete&&0!==t.naturalWidth},t.prototype.prepareImageElement=function(t){var e;return void 0===t&&((e=document.createElement("img")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(e=t),e},t.prototype.prepareVideoElement=function(t){var e;return t||"undefined"==typeof document||((e=document.createElement("video")).width=200,e.height=200),"string"==typeof t&&(e=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(e=t),e.setAttribute("autoplay","true"),e.setAttribute("muted","true"),e.setAttribute("playsinline","true"),e},t.prototype.decodeOnce=function(t,e,n){var r=this;void 0===e&&(e=!0),void 0===n&&(n=!0),this._stopAsyncDecode=!1;var i=function i(o,a){if(r._stopAsyncDecode)return a(new it("Video stream has ended before any code could be detected.")),void(r._stopAsyncDecode=void 0);try{o(r.decode(t))}catch(s){if(e&&s instanceof it||(s instanceof I||s instanceof V)&&n)return setTimeout(i,r._timeBetweenDecodingAttempts,o,a);a(s)}};return new Promise(function(t,e){return i(t,e)})},t.prototype.decodeContinuously=function(t,e){var n=this;this._stopContinuousDecode=!1,function r(){if(n._stopContinuousDecode)n._stopContinuousDecode=void 0;else try{var i=n.decode(t);e(i,null),setTimeout(r,n.timeBetweenScansMillis)}catch(o){e(null,o),(o instanceof I||o instanceof V||o instanceof it)&&setTimeout(r,n._timeBetweenDecodingAttempts)}}()},t.prototype.decode=function(t){var e=this.createBinaryBitmap(t);return this.decodeBitmap(e)},t.prototype.createBinaryBitmap=function(t){var e=this.getCaptureCanvasContext(t);this.drawImageOnCanvas(e,t);var n=this.getCaptureCanvas(t),r=new dt(n),i=new ut(r);return new O(i)},t.prototype.getCaptureCanvasContext=function(t){if(!this.captureCanvasContext){var e=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=e}return this.captureCanvasContext},t.prototype.getCaptureCanvas=function(t){if(!this.captureCanvas){var e=this.createCaptureCanvas(t);this.captureCanvas=e}return this.captureCanvas},t.prototype.drawImageOnCanvas=function(t,e){t.drawImage(e,0,0)},t.prototype.decodeBitmap=function(t){return this.reader.decode(t,this._hints)},t.prototype.createCaptureCanvas=function(t){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;var e,n,r=document.createElement("canvas");return void 0!==t&&(t instanceof HTMLVideoElement?(e=t.videoWidth,n=t.videoHeight):t instanceof HTMLImageElement&&(e=t.naturalWidth||t.width,n=t.naturalHeight||t.height)),r.style.width=e+"px",r.style.height=n+"px",r.width=e,r.height=n,r},t.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(t){return t.stop()}),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()},t.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},t.prototype._destroyVideoElement=function(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},t.prototype._destroyImageElement=function(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},t.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},t.prototype.addVideoSource=function(t,e){try{t.srcObject=e}catch(n){t.src=URL.createObjectURL(e)}},t.prototype.cleanVideoSource=function(t){try{t.srcObject=null}catch(e){t.src=""}this.videoElement.removeAttribute("src")},t}(),yt=function(){function t(t,e,n,r,i,o){void 0===n&&(n=null==e?0:8*e.length),void 0===o&&(o=R.currentTimeMillis()),this.text=t,this.rawBytes=e,this.numBits=n,this.resultPoints=r,this.format=i,this.timestamp=o,this.text=t,this.rawBytes=e,this.numBits=null==n?null==e?0:8*e.length:n,this.resultPoints=r,this.format=i,this.resultMetadata=null,this.timestamp=null==o?R.currentTimeMillis():o}return t.prototype.getText=function(){return this.text},t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.getBarcodeFormat=function(){return this.format},t.prototype.getResultMetadata=function(){return this.resultMetadata},t.prototype.putMetadata=function(t,e){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(t,e)},t.prototype.putAllMetadata=function(t){null!==t&&(this.resultMetadata=null===this.resultMetadata?t:new Map(t))},t.prototype.addResultPoints=function(t){var e=this.resultPoints;if(null===e)this.resultPoints=t;else if(null!==t&&t.length>0){var n=new Array(e.length+t.length);R.arraycopy(e,0,n,0,e.length),R.arraycopy(t,0,n,e.length,t.length),this.resultPoints=n}},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.toString=function(){return this.text},t}();!function(t){t[t.AZTEC=0]="AZTEC",t[t.CODABAR=1]="CODABAR",t[t.CODE_39=2]="CODE_39",t[t.CODE_93=3]="CODE_93",t[t.CODE_128=4]="CODE_128",t[t.DATA_MATRIX=5]="DATA_MATRIX",t[t.EAN_8=6]="EAN_8",t[t.EAN_13=7]="EAN_13",t[t.ITF=8]="ITF",t[t.MAXICODE=9]="MAXICODE",t[t.PDF_417=10]="PDF_417",t[t.QR_CODE=11]="QR_CODE",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"}(Y||(Y={}));var bt,wt=Y;!function(t){t[t.OTHER=0]="OTHER",t[t.ORIENTATION=1]="ORIENTATION",t[t.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",t[t.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",t[t.ISSUE_NUMBER=4]="ISSUE_NUMBER",t[t.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",t[t.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",t[t.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",t[t.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",t[t.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",t[t.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"}(bt||(bt={}));var _t,Ct,St,Et,Ot,At=bt,It=function(){function t(t,e,n,r,i,o){void 0===i&&(i=-1),void 0===o&&(o=-1),this.rawBytes=t,this.text=e,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=o,this.numBits=null==t?0:8*t.length}return t.prototype.getRawBytes=function(){return this.rawBytes},t.prototype.getNumBits=function(){return this.numBits},t.prototype.setNumBits=function(t){this.numBits=t},t.prototype.getText=function(){return this.text},t.prototype.getByteSegments=function(){return this.byteSegments},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getErrorsCorrected=function(){return this.errorsCorrected},t.prototype.setErrorsCorrected=function(t){this.errorsCorrected=t},t.prototype.getErasures=function(){return this.erasures},t.prototype.setErasures=function(t){this.erasures=t},t.prototype.getOther=function(){return this.other},t.prototype.setOther=function(t){this.other=t},t.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},t.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},t.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},t}(),kt=function(){function t(){}return t.prototype.exp=function(t){return this.expTable[t]},t.prototype.log=function(t){if(0===t)throw new E;return this.logTable[t]},t.addOrSubtract=function(t,e){return t^e},t}(),Rt=function(){function t(t,e){if(0===e.length)throw new E;this.field=t;var n=e.length;if(n>1&&0===e[0]){for(var r=1;r<n&&0===e[r];)r++;r===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-r),R.arraycopy(e,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.evaluateAt=function(t){if(0===t)return this.getCoefficient(0);var e,n=this.coefficients;if(1===t){e=0;for(var r=0,i=n.length;r!==i;r++)e=kt.addOrSubtract(e,n[r]);return e}e=n[0];var o=n.length,a=this.field;for(r=1;r<o;r++)e=kt.addOrSubtract(a.multiply(t,e),n[r]);return e},t.prototype.addOrSubtract=function(e){if(!this.field.equals(e.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),a=r.length-n.length;R.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=kt.addOrSubtract(n[s-a],r[s]);return new t(this.field,o)},t.prototype.multiply=function(e){if(!this.field.equals(e.field))throw new E("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),s=this.field,u=0;u<r;u++)for(var c=n[u],l=0;l<o;l++)a[u+l]=kt.addOrSubtract(a[u+l],s.multiply(c,i[l]));return new t(s,a)},t.prototype.multiplyScalar=function(e){if(0===e)return this.field.getZero();if(1===e)return this;for(var n=this.coefficients.length,r=this.field,i=new Int32Array(n),o=this.coefficients,a=0;a<n;a++)i[a]=r.multiply(o[a],e);return new t(r,i)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new E;if(0===n)return this.field.getZero();for(var r=this.coefficients,i=r.length,o=new Int32Array(i+e),a=this.field,s=0;s<i;s++)o[s]=a.multiply(r[s],n);return new t(a,o)},t.prototype.divide=function(t){if(!this.field.equals(t.field))throw new E("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new E("Divide by 0");for(var e=this.field,n=e.getZero(),r=this,i=t.getCoefficient(t.getDegree()),o=e.inverse(i);r.getDegree()>=t.getDegree()&&!r.isZero();){var a=r.getDegree()-t.getDegree(),s=e.multiply(r.getCoefficient(r.getDegree()),o),u=t.multiplyByMonomial(a,s),c=e.buildMonomial(a,s);n=n.addOrSubtract(c),r=r.addOrSubtract(u)}return[n,r]},t.prototype.toString=function(){for(var t="",e=this.getDegree();e>=0;e--){var n=this.getCoefficient(e);if(0!==n){if(n<0?(t+=" - ",n=-n):t.length>0&&(t+=" + "),0===e||1!==n){var r=this.field.log(n);0===r?t+="1":1===r?t+="a":(t+="a^",t+=r)}0!==e&&(1===e?t+="x":(t+="x^",t+=e))}}return t},t}(),Tt=(_t=function(t,e){return(_t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Tt(e,t),e.kind="ArithmeticException",e}(w),Nt=(Ct=function(t,e){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pt=function(t){function e(e,n,r){var i=t.call(this)||this;i.primitive=e,i.size=n,i.generatorBase=r;for(var o=new Int32Array(n),a=1,s=0;s<n;s++)o[s]=a,(a*=2)>=n&&(a^=e,a&=n-1);i.expTable=o;var u=new Int32Array(n);for(s=0;s<n-1;s++)u[o[s]]=s;return i.logTable=u,i.zero=new Rt(i,Int32Array.from([0])),i.one=new Rt(i,Int32Array.from([1])),i}return Nt(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,e){if(t<0)throw new E;if(0===e)return this.zero;var n=new Int32Array(t+1);return n[0]=e,new Rt(this,n)},e.prototype.inverse=function(t){if(0===t)throw new Mt;return this.expTable[this.size-this.logTable[t]-1]},e.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.size-1)]},e.prototype.getSize=function(){return this.size},e.prototype.getGeneratorBase=function(){return this.generatorBase},e.prototype.toString=function(){return"GF(0x"+x.toHexString(this.primitive)+","+this.size+")"},e.prototype.equals=function(t){return t===this},e.AZTEC_DATA_12=new e(4201,4096,1),e.AZTEC_DATA_10=new e(1033,1024,1),e.AZTEC_DATA_6=new e(67,64,1),e.AZTEC_PARAM=new e(19,16,1),e.QR_CODE_FIELD_256=new e(285,256,0),e.DATA_MATRIX_FIELD_256=new e(301,256,1),e.AZTEC_DATA_8=e.DATA_MATRIX_FIELD_256,e.MAXICODE_FIELD_64=e.AZTEC_DATA_6,e}(kt),Dt=(St=function(t,e){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}St(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Dt(e,t),e.kind="ReedSolomonException",e}(w),Lt=(Et=function(t,e){return(Et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Et(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Lt(e,t),e.kind="IllegalStateException",e}(w),Ft=function(){function t(t){this.field=t}return t.prototype.decode=function(t,e){for(var n=this.field,r=new Rt(n,t),i=new Int32Array(e),o=!0,a=0;a<e;a++){var s=r.evaluateAt(n.exp(a+n.getGeneratorBase()));i[i.length-1-a]=s,0!==s&&(o=!1)}if(!o){var u=new Rt(n,i),c=this.runEuclideanAlgorithm(n.buildMonomial(e,1),u,e),l=c[1],h=this.findErrorLocations(c[0]),f=this.findErrorMagnitudes(l,h);for(a=0;a<h.length;a++){var d=t.length-1-n.log(h[a]);if(d<0)throw new xt("Bad error location");t[d]=Pt.addOrSubtract(t[d],f[a])}}},t.prototype.runEuclideanAlgorithm=function(t,e,n){if(t.getDegree()<e.getDegree()){var r=t;t=e,e=r}for(var i=this.field,o=t,a=e,s=i.getZero(),u=i.getOne();a.getDegree()>=(n/2|0);){var c=o,l=s;if(s=u,(o=a).isZero())throw new xt("r_{i-1} was zero");a=c;for(var h=i.getZero(),f=o.getCoefficient(o.getDegree()),d=i.inverse(f);a.getDegree()>=o.getDegree()&&!a.isZero();){var p=a.getDegree()-o.getDegree(),g=i.multiply(a.getCoefficient(a.getDegree()),d);h=h.addOrSubtract(i.buildMonomial(p,g)),a=a.addOrSubtract(o.multiplyByMonomial(p,g))}if(u=h.multiply(s).addOrSubtract(l),a.getDegree()>=o.getDegree())throw new Bt("Division algorithm failed to reduce polynomial?")}var v=u.getCoefficient(0);if(0===v)throw new xt("sigmaTilde(0) was zero");var m=i.inverse(v);return[u.multiplyScalar(m),a.multiplyScalar(m)]},t.prototype.findErrorLocations=function(t){var e=t.getDegree();if(1===e)return Int32Array.from([t.getCoefficient(1)]);for(var n=new Int32Array(e),r=0,i=this.field,o=1;o<i.getSize()&&r<e;o++)0===t.evaluateAt(o)&&(n[r]=i.inverse(o),r++);if(r!==e)throw new xt("Error locator degree does not match number of roots");return n},t.prototype.findErrorMagnitudes=function(t,e){for(var n=e.length,r=new Int32Array(n),i=this.field,o=0;o<n;o++){for(var a=i.inverse(e[o]),s=1,u=0;u<n;u++)if(o!==u){var c=i.multiply(e[u],a);s=i.multiply(s,0==(1&c)?1|c:-2&c)}r[o]=i.multiply(t.evaluateAt(a),i.inverse(s)),0!==i.getGeneratorBase()&&(r[o]=i.multiply(r[o],a))}return r},t}();!function(t){t[t.UPPER=0]="UPPER",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.DIGIT=3]="DIGIT",t[t.PUNCT=4]="PUNCT",t[t.BINARY=5]="BINARY"}(Ot||(Ot={}));var jt,Ut,Vt,Ht,Wt,zt,Gt,Xt,Zt,qt,Yt,Kt,Qt,Jt,$t,te,ee,ne,re,ie,oe,ae,se,ue,ce,le,he,fe,de,pe,ge,ve,me,ye,be=function(){function t(){}return t.prototype.decode=function(e){this.ddata=e;var n=e.getBits(),r=this.extractBits(n),i=this.correctBits(r),o=t.convertBoolArrayToByteArray(i),a=t.getEncodedData(i),s=new It(o,a,null,null);return s.setNumBits(i.length),s},t.highLevelDecode=function(t){return this.getEncodedData(t)},t.getEncodedData=function(e){for(var n=e.length,r=Ot.UPPER,i=Ot.UPPER,o="",a=0;a<n;)if(i===Ot.BINARY){if(n-a<5)break;var s=t.readCode(e,a,5);if(a+=5,0===s){if(n-a<11)break;s=t.readCode(e,a,11)+31,a+=11}for(var u=0;u<s;u++){if(n-a<8){a=n;break}var c=t.readCode(e,a,8);o+=tt.castAsNonUtf8Char(c),a+=8}i=r}else{var l=i===Ot.DIGIT?4:5;if(n-a<l)break;c=t.readCode(e,a,l),a+=l;var h=t.getCharacter(i,c);h.startsWith("CTRL_")?(r=i,i=t.getTable(h.charAt(5)),"L"===h.charAt(6)&&(r=i)):(o+=h,i=r)}return o},t.getTable=function(t){switch(t){case"L":return Ot.LOWER;case"P":return Ot.PUNCT;case"M":return Ot.MIXED;case"D":return Ot.DIGIT;case"B":return Ot.BINARY;case"U":default:return Ot.UPPER}},t.getCharacter=function(e,n){switch(e){case Ot.UPPER:return t.UPPER_TABLE[n];case Ot.LOWER:return t.LOWER_TABLE[n];case Ot.MIXED:return t.MIXED_TABLE[n];case Ot.PUNCT:return t.PUNCT_TABLE[n];case Ot.DIGIT:return t.DIGIT_TABLE[n];default:throw new Bt("Bad table")}},t.prototype.correctBits=function(e){var n,r;this.ddata.getNbLayers()<=2?(r=6,n=Pt.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,n=Pt.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,n=Pt.AZTEC_DATA_10):(r=12,n=Pt.AZTEC_DATA_12);var i=this.ddata.getNbDatablocks(),o=e.length/r;if(o<i)throw new V;for(var a=e.length%r,s=new Int32Array(o),u=0;u<o;u++,a+=r)s[u]=t.readCode(e,a,r);try{new Ft(n).decode(s,o-i)}catch(g){throw new V(g)}var c=(1<<r)-1,l=0;for(u=0;u<i;u++){if(0===(d=s[u])||d===c)throw new V;1!==d&&d!==c-1||l++}var h=new Array(i*r-l),f=0;for(u=0;u<i;u++){var d;if(1===(d=s[u])||d===c-1)h.fill(d>1,f,f+r-1),f+=r-1;else for(var p=r-1;p>=0;--p)h[f++]=0!=(d&1<<p)}return h},t.prototype.extractBits=function(t){var e=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(e?11:14)+4*n,i=new Int32Array(r),o=new Array(this.totalBitsInLayer(n,e));if(e)for(var a=0;a<i.length;a++)i[a]=a;else{var s=r+1+2*x.truncDivision(x.truncDivision(r,2)-1,15),u=r/2,c=x.truncDivision(s,2);for(a=0;a<u;a++){var l=a+x.truncDivision(a,15);i[u-a-1]=c-l-1,i[u+a]=c+l+1}}a=0;for(var h=0;a<n;a++){for(var f=4*(n-a)+(e?9:12),d=2*a,p=r-1-d,g=0;g<f;g++)for(var v=2*g,m=0;m<2;m++)o[h+v+m]=t.get(i[d+m],i[d+g]),o[h+2*f+v+m]=t.get(i[d+g],i[p-m]),o[h+4*f+v+m]=t.get(i[p-m],i[p-g]),o[h+6*f+v+m]=t.get(i[p-g],i[d+m]);h+=8*f}return o},t.readCode=function(t,e,n){for(var r=0,i=e;i<e+n;i++)r<<=1,t[i]&&(r|=1);return r},t.readByte=function(e,n){var r=e.length-n;return r>=8?t.readCode(e,n,8):t.readCode(e,n,r)<<8-r},t.convertBoolArrayToByteArray=function(e){for(var n=new Uint8Array((e.length+7)/8),r=0;r<n.length;r++)n[r]=t.readByte(e,8*r);return n},t.prototype.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},t.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],t.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],t.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],t.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],t.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],t}(),we=function(){function t(){}return t.round=function(t){return NaN===t?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0},t.distance=function(t,e,n,r){var i=t-n,o=e-r;return Math.sqrt(i*i+o*o)},t.sum=function(t){for(var e=0,n=0,r=t.length;n!==r;n++)e+=t[n];return e},t}(),_e=function(){function t(){}return t.floatToIntBits=function(t){return t},t.MAX_VALUE=Number.MAX_SAFE_INTEGER,t}(),Ce=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t.prototype.equals=function(e){return e instanceof t&&this.x===e.x&&this.y===e.y},t.prototype.hashCode=function(){return 31*_e.floatToIntBits(this.x)+_e.floatToIntBits(this.y)},t.prototype.toString=function(){return"("+this.x+","+this.y+")"},t.orderBestPatterns=function(t){var e,n,r,i=this.distance(t[0],t[1]),o=this.distance(t[1],t[2]),a=this.distance(t[0],t[2]);if(o>=i&&o>=a?(n=t[0],e=t[1],r=t[2]):a>=o&&a>=i?(n=t[1],e=t[0],r=t[2]):(n=t[2],e=t[0],r=t[1]),this.crossProductZ(e,n,r)<0){var s=e;e=r,r=s}t[0]=e,t[1]=n,t[2]=r},t.distance=function(t,e){return we.distance(t.x,t.y,e.x,e.y)},t.crossProductZ=function(t,e,n){var r=e.x,i=e.y;return(n.x-r)*(t.y-i)-(n.y-i)*(t.x-r)},t}(),Se=function(){function t(t,e){this.bits=t,this.points=e}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),Ee=(jt=function(t,e){return(jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oe=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.compact=r,a.nbDatablocks=i,a.nbLayers=o,a}return Ee(e,t),e.prototype.getNbLayers=function(){return this.nbLayers},e.prototype.getNbDatablocks=function(){return this.nbDatablocks},e.prototype.isCompact=function(){return this.compact},e}(Se),Ae=function(){function t(e,n,r,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==n&&(n=t.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==i&&(i=e.getHeight()/2|0);var o=n/2|0;if(this.leftInit=r-o,this.rightInit=r+o,this.upInit=i-o,this.downInit=i+o,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new it}return t.prototype.detect=function(){for(var t=this.leftInit,e=this.rightInit,n=this.upInit,r=this.downInit,i=!1,o=!0,a=!1,s=!1,u=!1,c=!1,l=!1,h=this.width,f=this.height;o;){o=!1;for(var d=!0;(d||!s)&&e<h;)(d=this.containsBlackPoint(n,r,e,!1))?(e++,o=!0,s=!0):s||e++;if(e>=h){i=!0;break}for(var p=!0;(p||!u)&&r<f;)(p=this.containsBlackPoint(t,e,r,!0))?(r++,o=!0,u=!0):u||r++;if(r>=f){i=!0;break}for(var g=!0;(g||!c)&&t>=0;)(g=this.containsBlackPoint(n,r,t,!1))?(t--,o=!0,c=!0):c||t--;if(t<0){i=!0;break}for(var v=!0;(v||!l)&&n>=0;)(v=this.containsBlackPoint(t,e,n,!0))?(n--,o=!0,l=!0):l||n--;if(n<0){i=!0;break}o&&(a=!0)}if(!i&&a){for(var m=e-t,y=null,b=1;null===y&&b<m;b++)y=this.getBlackPointOnSegment(t,r-b,t+b,r);if(null==y)throw new it;var w=null;for(b=1;null===w&&b<m;b++)w=this.getBlackPointOnSegment(t,n+b,t+b,n);if(null==w)throw new it;var _=null;for(b=1;null===_&&b<m;b++)_=this.getBlackPointOnSegment(e,n+b,e-b,n);if(null==_)throw new it;var C=null;for(b=1;null===C&&b<m;b++)C=this.getBlackPointOnSegment(e,r-b,e-b,r);if(null==C)throw new it;return this.centerEdges(C,y,_,w)}throw new it},t.prototype.getBlackPointOnSegment=function(t,e,n,r){for(var i=we.round(we.distance(t,e,n,r)),o=(n-t)/i,a=(r-e)/i,s=this.image,u=0;u<i;u++){var c=we.round(t+u*o),l=we.round(e+u*a);if(s.get(c,l))return new Ce(c,l)}return null},t.prototype.centerEdges=function(e,n,r,i){var o=e.getX(),a=e.getY(),s=n.getX(),u=n.getY(),c=r.getX(),l=r.getY(),h=i.getX(),f=i.getY(),d=t.CORR;return o<this.width/2?[new Ce(h-d,f+d),new Ce(s+d,u+d),new Ce(c-d,l-d),new Ce(o+d,a-d)]:[new Ce(h+d,f+d),new Ce(s+d,u-d),new Ce(c-d,l+d),new Ce(o-d,a-d)]},t.prototype.containsBlackPoint=function(t,e,n,r){var i=this.image;if(r){for(var o=t;o<=e;o++)if(i.get(o,n))return!0}else for(var a=t;a<=e;a++)if(i.get(n,a))return!0;return!1},t.INIT_SIZE=10,t.CORR=1,t}(),Ie=function(){function t(){}return t.checkAndNudgePoints=function(t,e){for(var n=t.getWidth(),r=t.getHeight(),i=!0,o=0;o<e.length&&i;o+=2){var a=Math.floor(e[o]),s=Math.floor(e[o+1]);if(a<-1||a>n||s<-1||s>r)throw new it;i=!1,-1===a?(e[o]=0,i=!0):a===n&&(e[o]=n-1,i=!0),-1===s?(e[o+1]=0,i=!0):s===r&&(e[o+1]=r-1,i=!0)}for(i=!0,o=e.length-2;o>=0&&i;o-=2){if(a=Math.floor(e[o]),s=Math.floor(e[o+1]),a<-1||a>n||s<-1||s>r)throw new it;i=!1,-1===a?(e[o]=0,i=!0):a===n&&(e[o]=n-1,i=!0),-1===s?(e[o+1]=0,i=!0):s===r&&(e[o+1]=r-1,i=!0)}},t}(),ke=function(){function t(t,e,n,r,i,o,a,s,u){this.a11=t,this.a21=e,this.a31=n,this.a12=r,this.a22=i,this.a32=o,this.a13=a,this.a23=s,this.a33=u}return t.quadrilateralToQuadrilateral=function(e,n,r,i,o,a,s,u,c,l,h,f,d,p,g,v){var m=t.quadrilateralToSquare(e,n,r,i,o,a,s,u);return t.squareToQuadrilateral(c,l,h,f,d,p,g,v).times(m)},t.prototype.transformPoints=function(t){for(var e=t.length,n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,u=this.a31,c=this.a32,l=this.a33,h=0;h<e;h+=2){var f=t[h],d=t[h+1],p=i*f+s*d+l;t[h]=(n*f+o*d+u)/p,t[h+1]=(r*f+a*d+c)/p}},t.prototype.transformPointsWithValues=function(t,e){for(var n=this.a11,r=this.a12,i=this.a13,o=this.a21,a=this.a22,s=this.a23,u=this.a31,c=this.a32,l=this.a33,h=t.length,f=0;f<h;f++){var d=t[f],p=e[f],g=i*d+s*p+l;t[f]=(n*d+o*p+u)/g,e[f]=(r*d+a*p+c)/g}},t.squareToQuadrilateral=function(e,n,r,i,o,a,s,u){var c=e-r+o-s,l=n-i+a-u;if(0===c&&0===l)return new t(r-e,o-r,e,i-n,a-i,n,0,0,1);var h=r-o,f=s-o,d=i-a,p=u-a,g=h*p-f*d,v=(c*p-f*l)/g,m=(h*l-c*d)/g;return new t(r-e+v*r,s-e+m*s,e,i-n+v*i,u-n+m*u,n,v,m,1)},t.quadrilateralToSquare=function(e,n,r,i,o,a,s,u){return t.squareToQuadrilateral(e,n,r,i,o,a,s,u).buildAdjoint()},t.prototype.buildAdjoint=function(){return new t(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},t.prototype.times=function(e){return new t(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},t}(),Re=(Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Re(e,t),e.prototype.sampleGrid=function(t,e,n,r,i,o,a,s,u,c,l,h,f,d,p,g,v,m,y){var b=ke.quadrilateralToQuadrilateral(r,i,o,a,s,u,c,l,h,f,d,p,g,v,m,y);return this.sampleGridWithTransform(t,e,n,b)},e.prototype.sampleGridWithTransform=function(t,e,n,r){if(e<=0||n<=0)throw new it;for(var i=new nt(e,n),o=new Float32Array(2*e),a=0;a<n;a++){for(var s=o.length,u=a+.5,c=0;c<s;c+=2)o[c]=c/2+.5,o[c+1]=u;r.transformPoints(o),Ie.checkAndNudgePoints(t,o);try{for(c=0;c<s;c+=2)t.get(Math.floor(o[c]),Math.floor(o[c+1]))&&i.set(c/2,a)}catch(l){throw new it}}return i},e}(Ie),Me=function(){function t(){}return t.setGridSampler=function(e){t.gridSampler=e},t.getInstance=function(){return t.gridSampler},t.gridSampler=new Te,t}(),Ne=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.toResultPoint=function(){return new Ce(this.getX(),this.getY())},t.prototype.getX=function(){return this.x},t.prototype.getY=function(){return this.y},t}(),Pe=function(){function t(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}return t.prototype.detect=function(){return this.detectMirror(!1)},t.prototype.detectMirror=function(t){var e=this.getMatrixCenter(),n=this.getBullsEyeCorners(e);if(t){var r=n[0];n[0]=n[2],n[2]=r}this.extractParameters(n);var i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),o=this.getMatrixCornerPoints(n);return new Oe(i,o,this.compact,this.nbDataBlocks,this.nbLayers)},t.prototype.extractParameters=function(t){if(!(this.isValidPoint(t[0])&&this.isValidPoint(t[1])&&this.isValidPoint(t[2])&&this.isValidPoint(t[3])))throw new it;var e=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(t[0],t[1],e),this.sampleLine(t[1],t[2],e),this.sampleLine(t[2],t[3],e),this.sampleLine(t[3],t[0],e)]);this.shift=this.getRotation(n,e);for(var r=0,i=0;i<4;i++){var o=n[(this.shift+i)%4];this.compact?(r<<=7,r+=o>>1&127):(r<<=10,r+=(o>>2&992)+(o>>1&31))}var a=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=1+(a>>6),this.nbDataBlocks=1+(63&a)):(this.nbLayers=1+(a>>11),this.nbDataBlocks=1+(2047&a))},t.prototype.getRotation=function(t,e){var n=0;t.forEach(function(t,r,i){n=(t>>e-2<<1)+(1&t)+(n<<3)}),n=((1&n)<<11)+(n>>1);for(var r=0;r<4;r++)if(x.bitCount(n^this.EXPECTED_CORNER_BITS[r])<=2)return r;throw new it},t.prototype.getCorrectedParameterData=function(t,e){var n,r;e?(n=7,r=2):(n=10,r=4);for(var i=n-r,o=new Int32Array(n),a=n-1;a>=0;--a)o[a]=15&t,t>>=4;try{new Ft(Pt.AZTEC_PARAM).decode(o,i)}catch(u){throw new it}var s=0;for(a=0;a<r;a++)s=(s<<4)+o[a];return s},t.prototype.getBullsEyeCorners=function(t){var e=t,n=t,r=t,i=t,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var a=this.getFirstDifferent(e,o,1,-1),s=this.getFirstDifferent(n,o,1,1),u=this.getFirstDifferent(r,o,-1,1),c=this.getFirstDifferent(i,o,-1,-1);if(this.nbCenterLayers>2){var l=this.distancePoint(c,a)*this.nbCenterLayers/(this.distancePoint(i,e)*(this.nbCenterLayers+2));if(l<.75||l>1.25||!this.isWhiteOrBlackRectangle(a,s,u,c))break}e=a,n=s,r=u,i=c,o=!o}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new it;this.compact=5===this.nbCenterLayers;var h=new Ce(e.getX()+.5,e.getY()-.5),f=new Ce(n.getX()+.5,n.getY()+.5),d=new Ce(r.getX()-.5,r.getY()+.5),p=new Ce(i.getX()-.5,i.getY()-.5);return this.expandSquare([h,f,d,p],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},t.prototype.getMatrixCenter=function(){var t,e,n,r;try{t=(u=new Ae(this.image).detect())[0],e=u[1],n=u[2],r=u[3]}catch(c){var i=this.image.getWidth()/2,o=this.image.getHeight()/2;t=this.getFirstDifferent(new Ne(i+7,o-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new Ne(i+7,o+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ne(i-7,o+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Ne(i-7,o-7),!1,-1,-1).toResultPoint()}var a=we.round((t.getX()+r.getX()+e.getX()+n.getX())/4),s=we.round((t.getY()+r.getY()+e.getY()+n.getY())/4);try{var u;t=(u=new Ae(this.image,15,a,s).detect())[0],e=u[1],n=u[2],r=u[3]}catch(c){t=this.getFirstDifferent(new Ne(a+7,s-7),!1,1,-1).toResultPoint(),e=this.getFirstDifferent(new Ne(a+7,s+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ne(a-7,s+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Ne(a-7,s-7),!1,-1,-1).toResultPoint()}return a=we.round((t.getX()+r.getX()+e.getX()+n.getX())/4),s=we.round((t.getY()+r.getY()+e.getY()+n.getY())/4),new Ne(a,s)},t.prototype.getMatrixCornerPoints=function(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())},t.prototype.sampleGrid=function(t,e,n,r,i){var o=Me.getInstance(),a=this.getDimension(),s=a/2-this.nbCenterLayers,u=a/2+this.nbCenterLayers;return o.sampleGrid(t,a,a,s,s,u,s,u,u,s,u,e.getX(),e.getY(),n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY())},t.prototype.sampleLine=function(t,e,n){for(var r=0,i=this.distanceResultPoint(t,e),o=i/n,a=t.getX(),s=t.getY(),u=o*(e.getX()-t.getX())/i,c=o*(e.getY()-t.getY())/i,l=0;l<n;l++)this.image.get(we.round(a+l*u),we.round(s+l*c))&&(r|=1<<n-l-1);return r},t.prototype.isWhiteOrBlackRectangle=function(t,e,n,r){t=new Ne(t.getX()-3,t.getY()+3),e=new Ne(e.getX()-3,e.getY()-3),n=new Ne(n.getX()+3,n.getY()-3),r=new Ne(r.getX()+3,r.getY()+3);var i=this.getColor(r,t);if(0===i)return!1;var o=this.getColor(t,e);return o===i&&(o=this.getColor(e,n))===i&&(o=this.getColor(n,r))===i},t.prototype.getColor=function(t,e){for(var n=this.distancePoint(t,e),r=(e.getX()-t.getX())/n,i=(e.getY()-t.getY())/n,o=0,a=t.getX(),s=t.getY(),u=this.image.get(t.getX(),t.getY()),c=Math.ceil(n),l=0;l<c;l++)s+=i,this.image.get(we.round(a+=r),we.round(s))!==u&&o++;var h=o/n;return h>.1&&h<.9?0:h<=.1===u?1:-1},t.prototype.getFirstDifferent=function(t,e,n,r){for(var i=t.getX()+n,o=t.getY()+r;this.isValid(i,o)&&this.image.get(i,o)===e;)i+=n,o+=r;for(i-=n,o-=r;this.isValid(i,o)&&this.image.get(i,o)===e;)i+=n;for(i-=n;this.isValid(i,o)&&this.image.get(i,o)===e;)o+=r;return new Ne(i,o-=r)},t.prototype.expandSquare=function(t,e,n){var r=n/(2*e),i=t[0].getX()-t[2].getX(),o=t[0].getY()-t[2].getY(),a=(t[0].getX()+t[2].getX())/2,s=(t[0].getY()+t[2].getY())/2,u=new Ce(a+r*i,s+r*o),c=new Ce(a-r*i,s-r*o);return i=t[1].getX()-t[3].getX(),o=t[1].getY()-t[3].getY(),a=(t[1].getX()+t[3].getX())/2,s=(t[1].getY()+t[3].getY())/2,[u,new Ce(a+r*i,s+r*o),c,new Ce(a-r*i,s-r*o)]},t.prototype.isValid=function(t,e){return t>=0&&t<this.image.getWidth()&&e>0&&e<this.image.getHeight()},t.prototype.isValidPoint=function(t){var e=we.round(t.getX()),n=we.round(t.getY());return this.isValid(e,n)},t.prototype.distancePoint=function(t,e){return we.distance(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.distanceResultPoint=function(t,e){return we.distance(t.getX(),t.getY(),e.getX(),e.getY())},t.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(x.truncDivision(this.nbLayers-4,8)+1)+15},t}(),De=function(){function t(){}return t.prototype.decode=function(t,e){void 0===e&&(e=null);var n=null,r=new Pe(t.getBlackMatrix()),i=null,o=null;try{i=(a=r.detectMirror(!1)).getPoints(),this.reportFoundResultPoints(e,i),o=(new be).decode(a)}catch(l){n=l}if(null==o)try{var a;i=(a=r.detectMirror(!0)).getPoints(),this.reportFoundResultPoints(e,i),o=(new be).decode(a)}catch(l){if(null!=n)throw n;throw l}var s=new yt(o.getText(),o.getRawBytes(),o.getNumBits(),i,wt.AZTEC,R.currentTimeMillis()),u=o.getByteSegments();null!=u&&s.putMetadata(At.BYTE_SEGMENTS,u);var c=o.getECLevel();return null!=c&&s.putMetadata(At.ERROR_CORRECTION_LEVEL,c),s},t.prototype.reportFoundResultPoints=function(t,e){if(null!=t){var n=t.get(j.NEED_RESULT_POINT_CALLBACK);null!=n&&e.forEach(function(t,e,r){n.foundPossibleResultPoint(t)})}},t.prototype.reset=function(){},t}(),xe=((Vt=function(t,e){return(Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(function(t){return void 0===t&&(t=500),ye.call(this,new De,t)||this},ye=mt),function(){function t(){}return t.prototype.decode=function(t,e){try{return this.doDecode(t,e)}catch(c){if(e&&!0===e.get(j.TRY_HARDER)&&t.isRotateSupported()){var n=t.rotateCounterClockwise(),r=this.doDecode(n,e),i=r.getResultMetadata(),o=270;null!==i&&!0===i.get(At.ORIENTATION)&&(o+=i.get(At.ORIENTATION)%360),r.putMetadata(At.ORIENTATION,o);var a=r.getResultPoints();if(null!==a)for(var s=n.getHeight(),u=0;u<a.length;u++)a[u]=new Ce(s-a[u].getY()-1,a[u].getX());return r}throw new it}},t.prototype.reset=function(){},t.prototype.doDecode=function(t,e){var n,r=t.getWidth(),i=t.getHeight(),o=new L(r),a=e&&!0===e.get(j.TRY_HARDER),s=Math.max(1,i>>(a?8:5));n=a?i:15;for(var u=Math.trunc(i/2),c=0;c<n;c++){var l=Math.trunc((c+1)/2),h=u+s*(0==(1&c)?l:-l);if(h<0||h>=i)break;try{o=t.getBlackRow(h,o)}catch(v){continue}for(var f=function(t){if(1===t&&(o.reverse(),e&&!0===e.get(j.NEED_RESULT_POINT_CALLBACK))){var n=new Map;e.forEach(function(t,e){return n.set(e,t)}),n.delete(j.NEED_RESULT_POINT_CALLBACK),e=n}try{var i=d.decodeRow(h,o,e);if(1===t){i.putMetadata(At.ORIENTATION,180);var a=i.getResultPoints();null!==a&&(a[0]=new Ce(r-a[0].getX()-1,a[0].getY()),a[1]=new Ce(r-a[1].getX()-1,a[1].getY()))}return{value:i}}catch(s){}},d=this,p=0;p<2;p++){var g=f(p);if("object"==typeof g)return g.value}}throw new it},t.recordPattern=function(t,e,n){for(var r=n.length,i=0;i<r;i++)n[i]=0;var o=t.getSize();if(e>=o)throw new it;for(var a=!t.get(e),s=0,u=e;u<o;){if(t.get(u)!==a)n[s]++;else{if(++s===r)break;n[s]=1,a=!a}u++}if(s!==r&&(s!==r-1||u!==o))throw new it},t.recordPatternInReverse=function(e,n,r){for(var i=r.length,o=e.get(n);n>0&&i>=0;)e.get(--n)!==o&&(i--,o=!o);if(i>=0)throw new it;t.recordPattern(e,n+1,r)},t.patternMatchVariance=function(t,e,n){for(var r=t.length,i=0,o=0,a=0;a<r;a++)i+=t[a],o+=e[a];if(i<o)return Number.POSITIVE_INFINITY;var s=i/o;n*=s;for(var u=0,c=0;c<r;c++){var l=t[c],h=e[c]*s,f=l>h?l-h:h-l;if(f>n)return Number.POSITIVE_INFINITY;u+=f}return u/i},t}()),Le=(Ht=function(t,e){return(Ht=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ht(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Le(e,t),e.findStartPattern=function(t){for(var n=t.getSize(),r=t.getNextSet(0),i=0,o=Int32Array.from([0,0,0,0,0,0]),a=r,s=!1,u=r;u<n;u++)if(t.get(u)!==s)o[i]++;else{if(5===i){for(var c=e.MAX_AVG_VARIANCE,l=-1,h=e.CODE_START_A;h<=e.CODE_START_C;h++){var f=xe.patternMatchVariance(o,e.CODE_PATTERNS[h],e.MAX_INDIVIDUAL_VARIANCE);f<c&&(c=f,l=h)}if(l>=0&&t.isRange(Math.max(0,a-(u-a)/2),a,!1))return Int32Array.from([a,u,l]);a+=o[0]+o[1],(o=o.slice(2,o.length-1))[i-1]=0,o[i]=0,i--}else i++;o[i]=1,s=!s}throw new it},e.decodeCode=function(t,n,r){xe.recordPattern(t,r,n);for(var i=e.MAX_AVG_VARIANCE,o=-1,a=0;a<e.CODE_PATTERNS.length;a++){var s=this.patternMatchVariance(n,e.CODE_PATTERNS[a],e.MAX_INDIVIDUAL_VARIANCE);s<i&&(i=s,o=a)}if(o>=0)return o;throw new it},e.prototype.decodeRow=function(t,n,r){var i,o=r&&!0===r.get(j.ASSUME_GS1),a=e.findStartPattern(n),s=a[2],u=0,c=new Uint8Array(20);switch(c[u++]=s,s){case e.CODE_START_A:i=e.CODE_CODE_A;break;case e.CODE_START_B:i=e.CODE_CODE_B;break;case e.CODE_START_C:i=e.CODE_CODE_C;break;default:throw new V}for(var l=!1,h=!1,f="",d=a[0],p=a[1],g=Int32Array.from([0,0,0,0,0,0]),v=0,m=0,y=s,b=0,w=!0,_=!1,C=!1;!l;){var S=h;switch(h=!1,v=m,m=e.decodeCode(n,g,p),c[u++]=m,m!==e.CODE_STOP&&(w=!0),m!==e.CODE_STOP&&(y+=++b*m),d=p,p+=g.reduce(function(t,e){return t+e},0),m){case e.CODE_START_A:case e.CODE_START_B:case e.CODE_START_C:throw new V}switch(i){case e.CODE_CODE_A:if(m<64)f+=String.fromCharCode(C===_?" ".charCodeAt(0)+m:" ".charCodeAt(0)+m+128),C=!1;else if(m<96)f+=String.fromCharCode(C===_?m-64:m+64),C=!1;else switch(m!==e.CODE_STOP&&(w=!1),m){case e.CODE_FNC_1:o&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_A:!_&&C?(_=!0,C=!1):_&&C?(_=!1,C=!1):C=!0;break;case e.CODE_SHIFT:h=!0,i=e.CODE_CODE_B;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0}break;case e.CODE_CODE_B:if(m<96)f+=String.fromCharCode(C===_?" ".charCodeAt(0)+m:" ".charCodeAt(0)+m+128),C=!1;else switch(m!==e.CODE_STOP&&(w=!1),m){case e.CODE_FNC_1:o&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case e.CODE_FNC_2:case e.CODE_FNC_3:break;case e.CODE_FNC_4_B:!_&&C?(_=!0,C=!1):_&&C?(_=!1,C=!1):C=!0;break;case e.CODE_SHIFT:h=!0,i=e.CODE_CODE_A;break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_C:i=e.CODE_CODE_C;break;case e.CODE_STOP:l=!0}break;case e.CODE_CODE_C:if(m<100)m<10&&(f+="0"),f+=m;else switch(m!==e.CODE_STOP&&(w=!1),m){case e.CODE_FNC_1:o&&(f+=0===f.length?"]C1":String.fromCharCode(29));break;case e.CODE_CODE_A:i=e.CODE_CODE_A;break;case e.CODE_CODE_B:i=e.CODE_CODE_B;break;case e.CODE_STOP:l=!0}}S&&(i=i===e.CODE_CODE_A?e.CODE_CODE_B:e.CODE_CODE_A)}var E=p-d;if(p=n.getNextUnset(p),!n.isRange(p,Math.min(n.getSize(),p+(p-d)/2),!1))throw new it;if((y-=b*v)%103!==v)throw new I;var O=f.length;if(0===O)throw new it;O>0&&w&&(f=f.substring(0,i===e.CODE_CODE_C?O-2:O-1));for(var A=(a[1]+a[0])/2,k=d+E/2,R=c.length,T=new Uint8Array(R),M=0;M<R;M++)T[M]=c[M];var N=[new Ce(A,t),new Ce(k,t)];return new yt(f,T,0,N,wt.CODE_128,(new Date).getTime())},e.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],e.MAX_AVG_VARIANCE=.25,e.MAX_INDIVIDUAL_VARIANCE=.7,e.CODE_SHIFT=98,e.CODE_CODE_C=99,e.CODE_CODE_B=100,e.CODE_CODE_A=101,e.CODE_FNC_1=102,e.CODE_FNC_2=97,e.CODE_FNC_3=96,e.CODE_FNC_4_A=101,e.CODE_FNC_4_B=100,e.CODE_START_A=103,e.CODE_START_B=104,e.CODE_START_C=105,e.CODE_STOP=106,e}(xe),Fe=(Wt=function(t,e){return(Wt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),je=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ue=function(t){function e(e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var r=t.call(this)||this;return r.usingCheckDigit=e,r.extendedMode=n,r.decodeRowResult="",r.counters=new Int32Array(9),r}return Fe(e,t),e.prototype.decodeRow=function(t,n,r){var i,o,a,s,u=this.counters;u.fill(0),this.decodeRowResult="";var c,l,h=e.findAsteriskPattern(n,u),f=n.getNextSet(h[1]),d=n.getSize();do{e.recordPattern(n,f,u);var p=e.toNarrowWidePattern(u);if(p<0)throw new it;c=e.patternToChar(p),this.decodeRowResult+=c,l=f;try{for(var g=(i=void 0,je(u)),v=g.next();!v.done;v=g.next())f+=v.value}catch(O){i={error:O}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}f=n.getNextSet(f)}while("*"!==c);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var m,y=0;try{for(var b=je(u),w=b.next();!w.done;w=b.next())y+=w.value}catch(A){a={error:A}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(a)throw a.error}}if(f!==d&&2*(f-l-y)<y)throw new it;if(this.usingCheckDigit){for(var _=this.decodeRowResult.length-1,C=0,S=0;S<_;S++)C+=e.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(S));if(this.decodeRowResult.charAt(_)!==e.ALPHABET_STRING.charAt(C%43))throw new I;this.decodeRowResult=this.decodeRowResult.substring(0,_)}if(0===this.decodeRowResult.length)throw new it;m=this.extendedMode?e.decodeExtended(this.decodeRowResult):this.decodeRowResult;var E=l+y/2;return new yt(m,null,0,[new Ce((h[1]+h[0])/2,t),new Ce(E,t)],wt.CODE_39,(new Date).getTime())},e.findAsteriskPattern=function(t,n){for(var r=t.getSize(),i=t.getNextSet(0),o=0,a=i,s=!1,u=n.length,c=i;c<r;c++)if(t.get(c)!==s)n[o]++;else{if(o===u-1){if(this.toNarrowWidePattern(n)===e.ASTERISK_ENCODING&&t.isRange(Math.max(0,a-Math.floor((c-a)/2)),a,!1))return[a,c];a+=n[0]+n[1],n.copyWithin(0,2,2+o-1),n[o-1]=0,n[o]=0,o--}else o++;n[o]=1,s=!s}throw new it},e.toNarrowWidePattern=function(t){var e,n,r,i=t.length,o=0;do{var a=2147483647;try{for(var s=(e=void 0,je(t)),u=s.next();!u.done;u=s.next())(f=u.value)<a&&f>o&&(a=f)}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}o=a,r=0;for(var c=0,l=0,h=0;h<i;h++)(f=t[h])>o&&(l|=1<<i-1-h,r++,c+=f);if(3===r){for(h=0;h<i&&r>0;h++){var f;if((f=t[h])>o&&(r--,2*f>=c))return-1}return l}}while(r>3);return-1},e.patternToChar=function(t){for(var n=0;n<e.CHARACTER_ENCODINGS.length;n++)if(e.CHARACTER_ENCODINGS[n]===t)return e.ALPHABET_STRING.charAt(n);if(t===e.ASTERISK_ENCODING)return"*";throw new it},e.decodeExtended=function(t){for(var e=t.length,n="",r=0;r<e;r++){var i=t.charAt(r);if("+"===i||"$"===i||"%"===i||"/"===i){var o=t.charAt(r+1),a="\0";switch(i){case"+":if(!(o>="A"&&o<="Z"))throw new V;a=String.fromCharCode(o.charCodeAt(0)+32);break;case"$":if(!(o>="A"&&o<="Z"))throw new V;a=String.fromCharCode(o.charCodeAt(0)-64);break;case"%":if(o>="A"&&o<="E")a=String.fromCharCode(o.charCodeAt(0)-38);else if(o>="F"&&o<="J")a=String.fromCharCode(o.charCodeAt(0)-11);else if(o>="K"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)+16);else if(o>="P"&&o<="T")a=String.fromCharCode(o.charCodeAt(0)+43);else if("U"===o)a="\0";else if("V"===o)a="@";else if("W"===o)a="`";else{if("X"!==o&&"Y"!==o&&"Z"!==o)throw new V;a="\x7f"}break;case"/":if(o>="A"&&o<="O")a=String.fromCharCode(o.charCodeAt(0)-32);else{if("Z"!==o)throw new V;a=":"}}n+=a,r++}else n+=i}return n},e.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",e.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],e.ASTERISK_ENCODING=148,e}(xe),Ve=(zt=function(t,e){return(zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),He=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.narrowLineWidth=-1,e}return Ve(e,t),e.prototype.decodeRow=function(t,n,r){var i,o,a=this.decodeStart(n),s=this.decodeEnd(n),u=new et;e.decodeMiddle(n,a[1],s[0],u);var c=u.toString(),l=null;null!=r&&(l=r.get(j.ALLOWED_LENGTHS)),null==l&&(l=e.DEFAULT_ALLOWED_LENGTHS);var h=c.length,f=!1,d=0;try{for(var p=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),g=p.next();!g.done;g=p.next()){var v=g.value;if(h===v){f=!0;break}v>d&&(d=v)}}catch(y){i={error:y}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}if(!f&&h>d&&(f=!0),!f)throw new V;var m=[new Ce(a[1],t),new Ce(s[0],t)];return new yt(c,null,0,m,wt.ITF,(new Date).getTime())},e.decodeMiddle=function(t,n,r,i){var o=new Int32Array(10),a=new Int32Array(5),s=new Int32Array(5);for(o.fill(0),a.fill(0),s.fill(0);n<r;){xe.recordPattern(t,n,o);for(var u=0;u<5;u++){var c=2*u;a[u]=o[c],s[u]=o[c+1]}var l=e.decodeDigit(a);i.append(l.toString()),l=this.decodeDigit(s),i.append(l.toString()),o.forEach(function(t){n+=t})}},e.prototype.decodeStart=function(t){var n=e.skipWhiteSpace(t),r=e.findGuardPattern(t,n,e.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r},e.prototype.validateQuietZone=function(t,e){var n=10*this.narrowLineWidth;n=n<e?n:e;for(var r=e-1;n>0&&r>=0&&!t.get(r);r--)n--;if(0!==n)throw new it},e.skipWhiteSpace=function(t){var e=t.getSize(),n=t.getNextSet(0);if(n===e)throw new it;return n},e.prototype.decodeEnd=function(t){t.reverse();try{var n=e.skipWhiteSpace(t),r=void 0;try{r=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[0])}catch(o){o instanceof it&&(r=e.findGuardPattern(t,n,e.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);var i=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-i,r}finally{t.reverse()}},e.findGuardPattern=function(t,n,r){var i=r.length,o=new Int32Array(i),a=t.getSize(),s=!1,u=0,c=n;o.fill(0);for(var l=n;l<a;l++)if(t.get(l)!==s)o[u]++;else{if(u===i-1){if(xe.patternMatchVariance(o,r,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return[c,l];c+=o[0]+o[1],R.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,s=!s}throw new it},e.decodeDigit=function(t){for(var n=e.MAX_AVG_VARIANCE,r=-1,i=e.PATTERNS.length,o=0;o<i;o++){var a=xe.patternMatchVariance(t,e.PATTERNS[o],e.MAX_INDIVIDUAL_VARIANCE);a<n?(n=a,r=o):a===n&&(r=-1)}if(r>=0)return r%10;throw new it},e.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],e.MAX_AVG_VARIANCE=.38,e.MAX_INDIVIDUAL_VARIANCE=.5,e.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],e.START_PATTERN=Int32Array.from([1,1,1,1]),e.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],e}(xe),We=(Gt=function(t,e){return(Gt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Gt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ze=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.decodeRowStringBuffer="",e}return We(e,t),e.findStartGuardPattern=function(t){for(var n,r=!1,i=0,o=Int32Array.from([0,0,0]);!r;){o=Int32Array.from([0,0,0]);var a=(n=e.findGuardPattern(t,i,!1,this.START_END_PATTERN,o))[0],s=a-((i=n[1])-a);s>=0&&(r=t.isRange(s,a,!1))}return n},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(0===n)return!1;var r=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===r},e.getStandardUPCEANChecksum=function(t){for(var e=t.length,n=0,r=e-1;r>=0;r-=2){if((i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new V;n+=i}for(n*=3,r=e-2;r>=0;r-=2){var i;if((i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new V;n+=i}return(1e3-n)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e.findGuardPatternWithoutCounters=function(t,e,n,r){return this.findGuardPattern(t,e,n,r,new Int32Array(r.length))},e.findGuardPattern=function(t,n,r,i,o){for(var a=t.getSize(),s=0,u=n=r?t.getNextUnset(n):t.getNextSet(n),c=i.length,l=r,h=n;h<a;h++)if(t.get(h)!==l)o[s]++;else{if(s===c-1){if(xe.patternMatchVariance(o,i,e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return Int32Array.from([u,h]);u+=o[0]+o[1];for(var f=o.slice(2,o.length-1),d=0;d<s-1;d++)o[d]=f[d];o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,l=!l}throw new it},e.decodeDigit=function(t,n,r,i){this.recordPattern(t,r,n);for(var o=this.MAX_AVG_VARIANCE,a=-1,s=i.length,u=0;u<s;u++){var c=xe.patternMatchVariance(n,i[u],e.MAX_INDIVIDUAL_VARIANCE);c<o&&(o=c,a=u)}if(a>=0)return a;throw new it},e.MAX_AVG_VARIANCE=.48,e.MAX_INDIVIDUAL_VARIANCE=.7,e.START_END_PATTERN=Int32Array.from([1,1,1]),e.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),e.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],e}(xe),Ge=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=function(){function t(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),s=t.parseExtensionString(a),u=[new Ce((r[0]+r[1])/2,e),new Ce(o,e)],c=new yt(a,null,0,u,wt.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(e,n,r){var i,o,a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=e.getSize(),u=n[1],c=0,l=0;l<5&&u<s;l++){var h=ze.decodeDigit(e,a,u,ze.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var f=(i=void 0,Ge(a)),d=f.next();!d.done;d=f.next())u+=d.value}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}h>=10&&(c|=1<<4-l),4!==l&&(u=e.getNextSet(u),u=e.getNextUnset(u))}if(5!==r.length)throw new it;var p=this.determineCheckDigit(c);if(t.extensionChecksum(r.toString())!==p)throw new it;return u},t.extensionChecksum=function(t){for(var e=t.length,n=0,r=e-2;r>=0;r-=2)n+=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);for(n*=3,r=e-1;r>=0;r-=2)n+=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0);return(n*=3)%10},t.prototype.determineCheckDigit=function(t){for(var e=0;e<10;e++)if(t===this.CHECK_DIGIT_ENCODINGS[e])return e;throw new it},t.parseExtensionString=function(e){if(5!==e.length)return null;var n=t.parseExtension5String(e);return null==n?null:new Map([[At.SUGGESTED_PRICE,n]])},t.parseExtension5String=function(t){var e;switch(t.charAt(0)){case"0":e="\xa3";break;case"5":e="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}e="";break;default:e=""}var n=parseInt(t.substring(1)),r=n%100;return e+(n/100).toString()+"."+(r<10?"0"+r:r.toString())},t}(),Ze=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},qe=function(){function t(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return t.prototype.decodeRow=function(e,n,r){var i=this.decodeRowStringBuffer,o=this.decodeMiddle(n,r,i),a=i.toString(),s=t.parseExtensionString(a),u=[new Ce((r[0]+r[1])/2,e),new Ce(o,e)],c=new yt(a,null,0,u,wt.UPC_EAN_EXTENSION,(new Date).getTime());return null!=s&&c.putAllMetadata(s),c},t.prototype.decodeMiddle=function(t,e,n){var r,i,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var a=t.getSize(),s=e[1],u=0,c=0;c<2&&s<a;c++){var l=ze.decodeDigit(t,o,s,ze.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+l%10);try{for(var h=(r=void 0,Ze(o)),f=h.next();!f.done;f=h.next())s+=f.value}catch(d){r={error:d}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}l>=10&&(u|=1<<1-c),1!==c&&(s=t.getNextSet(s),s=t.getNextUnset(s))}if(2!==n.length)throw new it;if(parseInt(n.toString())%4!==u)throw new it;return s},t.parseExtensionString=function(t){return 2!==t.length?null:new Map([[At.ISSUE_NUMBER,parseInt(t)]])},t}(),Ye=function(){function t(){}return t.decodeRow=function(t,e,n){var r=ze.findGuardPattern(e,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Xe).decodeRow(t,e,r)}catch(i){return(new qe).decodeRow(t,e,r)}},t.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),t}(),Ke=(Xt=function(t,e){return(Xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Xt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qe=function(t){function e(){var n=t.call(this)||this;n.decodeRowStringBuffer="",e.L_AND_G_PATTERNS=e.L_PATTERNS.map(function(t){return Int32Array.from(t)});for(var r=10;r<20;r++){for(var i=e.L_PATTERNS[r-10],o=new Int32Array(i.length),a=0;a<i.length;a++)o[a]=i[i.length-a-1];e.L_AND_G_PATTERNS[r]=o}return n}return Ke(e,t),e.prototype.decodeRow=function(t,n,r){var i=e.findStartGuardPattern(n),o=null==r?null:r.get(j.NEED_RESULT_POINT_CALLBACK);if(null!=o){var a=new Ce((i[0]+i[1])/2,t);o.foundPossibleResultPoint(a)}var s=this.decodeMiddle(n,i,this.decodeRowStringBuffer),u=s.rowOffset,c=s.resultString;if(null!=o){var l=new Ce(u,t);o.foundPossibleResultPoint(l)}var h=e.decodeEnd(n,u);if(null!=o){var f=new Ce((h[0]+h[1])/2,t);o.foundPossibleResultPoint(f)}var d=h[1],p=d+(d-h[0]);if(p>=n.getSize()||!n.isRange(d,p,!1))throw new it;var g=c.toString();if(g.length<8)throw new V;if(!e.checkChecksum(g))throw new I;var v=(i[1]+i[0])/2,m=(h[1]+h[0])/2,y=this.getBarcodeFormat(),b=[new Ce(v,t),new Ce(m,t)],w=new yt(g,null,0,b,y,(new Date).getTime()),_=0;try{var C=Ye.decodeRow(t,n,h[1]);w.putMetadata(At.UPC_EAN_EXTENSION,C.getText()),w.putAllMetadata(C.getResultMetadata()),w.addResultPoints(C.getResultPoints()),_=C.getText().length}catch(A){}var S=null==r?null:r.get(j.ALLOWED_EAN_EXTENSIONS);if(null!=S){var E=!1;for(var O in S)if(_.toString()===O){E=!0;break}if(!E)throw new it}return w},e.checkChecksum=function(t){return e.checkStandardUPCEANChecksum(t)},e.checkStandardUPCEANChecksum=function(t){var n=t.length;if(0===n)return!1;var r=parseInt(t.charAt(n-1),10);return e.getStandardUPCEANChecksum(t.substring(0,n-1))===r},e.getStandardUPCEANChecksum=function(t){for(var e=t.length,n=0,r=e-1;r>=0;r-=2){if((i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new V;n+=i}for(n*=3,r=e-2;r>=0;r-=2){var i;if((i=t.charAt(r).charCodeAt(0)-"0".charCodeAt(0))<0||i>9)throw new V;n+=i}return(1e3-n)%10},e.decodeEnd=function(t,n){return e.findGuardPattern(t,n,!1,e.START_END_PATTERN,new Int32Array(e.START_END_PATTERN.length).fill(0))},e}(ze),Je=(Zt=function(t,e){return(Zt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Zt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$e=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},tn=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return Je(e,t),e.prototype.decodeMiddle=function(t,n,r){var i,o,a,s,u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=t.getSize(),l=n[1],h=0,f=0;f<6&&l<c;f++){var d=Qe.decodeDigit(t,u,l,Qe.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+d%10);try{for(var p=(i=void 0,$e(u)),g=p.next();!g.done;g=p.next())l+=g.value}catch(y){i={error:y}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}d>=10&&(h|=1<<5-f)}for(r=e.determineFirstDigit(r,h),l=Qe.findGuardPattern(t,l,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1],f=0;f<6&&l<c;f++){d=Qe.decodeDigit(t,u,l,Qe.L_PATTERNS),r+=String.fromCharCode("0".charCodeAt(0)+d);try{for(var v=(a=void 0,$e(u)),m=v.next();!m.done;m=v.next())l+=m.value}catch(b){a={error:b}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}}return{rowOffset:l,resultString:r}},e.prototype.getBarcodeFormat=function(){return wt.EAN_13},e.determineFirstDigit=function(t,e){for(var n=0;n<10;n++)if(e===this.FIRST_DIGIT_ENCODINGS[n])return String.fromCharCode("0".charCodeAt(0)+n)+t;throw new it},e.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],e}(Qe),en=(qt=function(t,e){return(qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),nn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},rn=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=Int32Array.from([0,0,0,0]),e}return en(e,t),e.prototype.decodeMiddle=function(t,e,n){var r,i,o,a,s=this.decodeMiddleCounters;s[0]=0,s[1]=0,s[2]=0,s[3]=0;for(var u=t.getSize(),c=e[1],l=0;l<4&&c<u;l++){var h=Qe.decodeDigit(t,s,c,Qe.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var f=(r=void 0,nn(s)),d=f.next();!d.done;d=f.next())c+=d.value}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}}for(c=Qe.findGuardPattern(t,c,!0,Qe.MIDDLE_PATTERN,new Int32Array(Qe.MIDDLE_PATTERN.length).fill(0))[1],l=0;l<4&&c<u;l++){h=Qe.decodeDigit(t,s,c,Qe.L_PATTERNS),n+=String.fromCharCode("0".charCodeAt(0)+h);try{for(var p=(o=void 0,nn(s)),g=p.next();!g.done;g=p.next())c+=g.value}catch(m){o={error:m}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}return{rowOffset:c,resultString:n}},e.prototype.getBarcodeFormat=function(){return wt.EAN_8},e}(Qe),on=(Yt=function(t,e){return(Yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Yt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),an=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ean13Reader=new tn,e}return on(e,t),e.prototype.getBarcodeFormat=function(){return wt.UPC_A},e.prototype.decode=function(t,e){return this.maybeReturnResult(this.ean13Reader.decode(t))},e.prototype.decodeRow=function(t,e,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,e,n))},e.prototype.decodeMiddle=function(t,e,n){return this.ean13Reader.decodeMiddle(t,e,n)},e.prototype.maybeReturnResult=function(t){var e=t.getText();if("0"===e.charAt(0)){var n=new yt(e.substring(1),null,null,t.getResultPoints(),wt.UPC_A);return null!=t.getResultMetadata()&&n.putAllMetadata(t.getResultMetadata()),n}throw new it},e.prototype.reset=function(){this.ean13Reader.reset()},e}(Qe),sn=(Kt=function(t,e){return(Kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Kt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),un=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},cn=function(t){function e(){var e=t.call(this)||this;return e.decodeMiddleCounters=new Int32Array(4),e}return sn(e,t),e.prototype.decodeMiddle=function(t,n,r){var i,o,a=this.decodeMiddleCounters.map(function(t){return t});a[0]=0,a[1]=0,a[2]=0,a[3]=0;for(var s=t.getSize(),u=n[1],c=0,l=0;l<6&&u<s;l++){var h=e.decodeDigit(t,a,u,e.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+h%10);try{for(var f=(i=void 0,un(a)),d=f.next();!d.done;d=f.next())u+=d.value}catch(p){i={error:p}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}h>=10&&(c|=1<<5-l)}return e.determineNumSysAndCheckDigit(new et(r),c),u},e.prototype.decodeEnd=function(t,n){return e.findGuardPatternWithoutCounters(t,n,!0,e.MIDDLE_END_PATTERN)},e.prototype.checkChecksum=function(t){return Qe.checkChecksum(e.convertUPCEtoUPCA(t))},e.determineNumSysAndCheckDigit=function(t,e){for(var n=0;n<=1;n++)for(var r=0;r<10;r++)if(e===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r])return t.insert(0,"0"+n),void t.append("0"+r);throw it.getNotFoundInstance()},e.prototype.getBarcodeFormat=function(){return wt.UPC_E},e.convertUPCEtoUPCA=function(t){var e=t.slice(1,7).split("").map(function(t){return t.charCodeAt(0)}),n=new et;n.append(t.charAt(0));var r=e[5];switch(r){case 0:case 1:case 2:n.appendChars(e,0,2),n.append(r),n.append("0000"),n.appendChars(e,2,3);break;case 3:n.appendChars(e,0,3),n.append("00000"),n.appendChars(e,3,2);break;case 4:n.appendChars(e,0,4),n.append("00000"),n.append(e[4]);break;default:n.appendChars(e,0,5),n.append("0000"),n.append(r)}return t.length>=8&&n.append(t.charAt(7)),n.toString()},e.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),e.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],e}(Qe),ln=(Qt=function(t,e){return(Qt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Qt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hn=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},fn=function(t){function e(e){var n=t.call(this)||this,r=null==e?null:e.get(j.POSSIBLE_FORMATS),i=[];return null!=r&&(r.indexOf(wt.EAN_13)>-1?i.push(new tn):r.indexOf(wt.UPC_A)>-1&&i.push(new an),r.indexOf(wt.EAN_8)>-1&&i.push(new rn),r.indexOf(wt.UPC_E)>-1&&i.push(new cn)),0===i.length&&(i.push(new tn),i.push(new rn),i.push(new cn)),n.readers=i,n}return ln(e,t),e.prototype.decodeRow=function(t,e,n){var r,i;try{for(var o=hn(this.readers),a=o.next();!a.done;a=o.next()){var s=a.value;try{var u=s.decodeRow(t,e,n),c=u.getBarcodeFormat()===wt.EAN_13&&"0"===u.getText().charAt(0),l=null==n?null:n.get(j.POSSIBLE_FORMATS),h=null==l||l.includes(wt.UPC_A);if(c&&h){var f=u.getRawBytes(),d=new yt(u.getText().substring(1),f,f.length,u.getResultPoints(),wt.UPC_A);return d.putAllMetadata(u.getResultMetadata()),d}return u}catch(p){}}}catch(g){r={error:g}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new it},e.prototype.reset=function(){var t,e;try{for(var n=hn(this.readers),r=n.next();!r.done;r=n.next())r.value.reset()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e}(xe),dn=(Jt=function(t,e){return(Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Jt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pn=function(t){function e(){var e=t.call(this)||this;return e.decodeFinderCounters=new Int32Array(4),e.dataCharacterCounters=new Int32Array(8),e.oddRoundingErrors=new Array(4),e.evenRoundingErrors=new Array(4),e.oddCounts=new Array(e.dataCharacterCounters.length/2),e.evenCounts=new Array(e.dataCharacterCounters.length/2),e}return dn(e,t),e.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},e.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},e.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},e.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},e.prototype.getOddCounts=function(){return this.oddCounts},e.prototype.getEvenCounts=function(){return this.evenCounts},e.prototype.parseFinderValue=function(t,n){for(var r=0;r<n.length;r++)if(xe.patternMatchVariance(t,n[r],e.MAX_INDIVIDUAL_VARIANCE)<e.MAX_AVG_VARIANCE)return r;throw new it},e.count=function(t){return we.sum(new Int32Array(t))},e.increment=function(t,e){for(var n=0,r=e[0],i=1;i<t.length;i++)e[i]>r&&(r=e[i],n=i);t[n]++},e.decrement=function(t,e){for(var n=0,r=e[0],i=1;i<t.length;i++)e[i]<r&&(r=e[i],n=i);t[n]--},e.isFinderPattern=function(t){var n,r,i=t[0]+t[1],o=i/(i+t[2]+t[3]);if(o>=e.MIN_FINDER_PATTERN_RATIO&&o<=e.MAX_FINDER_PATTERN_RATIO){var a=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),c=u.next();!c.done;c=u.next()){var l=c.value;l>s&&(s=l),l<a&&(a=l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return s<10*a}return!1},e.MAX_AVG_VARIANCE=.2,e.MAX_INDIVIDUAL_VARIANCE=.45,e.MIN_FINDER_PATTERN_RATIO=9.5/12,e.MAX_FINDER_PATTERN_RATIO=12.5/14,e}(xe),gn=function(){function t(t,e){this.value=t,this.checksumPortion=e}return t.prototype.getValue=function(){return this.value},t.prototype.getChecksumPortion=function(){return this.checksumPortion},t.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value&&this.checksumPortion===e.checksumPortion},t.prototype.hashCode=function(){return this.value^this.checksumPortion},t}(),vn=function(){function t(t,e,n,r,i){this.value=t,this.startEnd=e,this.value=t,this.startEnd=e,this.resultPoints=new Array,this.resultPoints.push(new Ce(n,i)),this.resultPoints.push(new Ce(r,i))}return t.prototype.getValue=function(){return this.value},t.prototype.getStartEnd=function(){return this.startEnd},t.prototype.getResultPoints=function(){return this.resultPoints},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.prototype.hashCode=function(){return this.value},t}(),mn=function(){function t(){}return t.getRSSvalue=function(e,n,r){var i,o,a=0;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),u=s.next();!u.done;u=s.next())a+=u.value}catch(m){i={error:m}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}for(var c=0,l=0,h=e.length,f=0;f<h-1;f++){var d=void 0;for(d=1,l|=1<<f;d<e[f];d++,l&=~(1<<f)){var p=t.combins(a-d-1,h-f-2);if(r&&0===l&&a-d-(h-f-1)>=h-f-1&&(p-=t.combins(a-d-(h-f),h-f-2)),h-f-1>1){for(var g=0,v=a-d-(h-f-2);v>n;v--)g+=t.combins(a-d-v-1,h-f-3);p-=g*(h-1-f)}else a-d>n&&p--;c+=p}a-=d}return c},t.combins=function(t,e){var n,r;t-e>e?(r=e,n=t-e):(r=t-e,n=e);for(var i=1,o=1,a=t;a>n;a--)i*=a,o<=r&&(i/=o,o++);for(;o<=r;)i/=o,o++;return i},t}(),yn=function(){function t(){}return t.buildBitArray=function(t){var e=2*t.length-1;null==t[t.length-1].getRightChar()&&(e-=1);for(var n=new L(12*e),r=0,i=t[0].getRightChar().getValue(),o=11;o>=0;--o)0!=(i&1<<o)&&n.set(r),r++;for(o=1;o<t.length;++o){for(var a=t[o],s=a.getLeftChar().getValue(),u=11;u>=0;--u)0!=(s&1<<u)&&n.set(r),r++;if(null!=a.getRightChar()){var c=a.getRightChar().getValue();for(u=11;u>=0;--u)0!=(c&1<<u)&&n.set(r),r++}}return n},t}(),bn=function(){function t(t,e){e?this.decodedInformation=null:(this.finished=t,this.decodedInformation=e)}return t.prototype.getDecodedInformation=function(){return this.decodedInformation},t.prototype.isFinished=function(){return this.finished},t}(),wn=function(){function t(t){this.newPosition=t}return t.prototype.getNewPosition=function(){return this.newPosition},t}(),_n=($t=function(t,e){return($t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}$t(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Cn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return _n(e,t),e.prototype.getValue=function(){return this.value},e.prototype.isFNC1=function(){return this.value===e.FNC1},e.FNC1="$",e}(wn),Sn=(te=function(t,e){return(te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}te(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),En=function(t){function e(e,n,r){var i=t.call(this,e)||this;return r?(i.remaining=!0,i.remainingValue=i.remainingValue):(i.remaining=!1,i.remainingValue=0),i.newString=n,i}return Sn(e,t),e.prototype.getNewString=function(){return this.newString},e.prototype.isRemaining=function(){return this.remaining},e.prototype.getRemainingValue=function(){return this.remainingValue},e}(wn),On=(ee=function(t,e){return(ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ee(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),An=function(t){function e(e,n,r){var i=t.call(this,e)||this;if(n<0||n>10||r<0||r>10)throw new V;return i.firstDigit=n,i.secondDigit=r,i}return On(e,t),e.prototype.getFirstDigit=function(){return this.firstDigit},e.prototype.getSecondDigit=function(){return this.secondDigit},e.prototype.getValue=function(){return 10*this.firstDigit+this.secondDigit},e.prototype.isFirstDigitFNC1=function(){return this.firstDigit===e.FNC1},e.prototype.isSecondDigitFNC1=function(){return this.secondDigit===e.FNC1},e.prototype.isAnyFNC1=function(){return this.firstDigit===e.FNC1||this.secondDigit===e.FNC1},e.FNC1=10,e}(wn),In=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},kn=function(){function t(){}return t.parseFieldsInGeneralPurpose=function(e){var n,r,i,o,a,s,u,c;if(!e)return null;if(e.length<2)throw new it;var l=e.substring(0,2);try{for(var h=In(t.TWO_DIGIT_DATA_LENGTH),f=h.next();!f.done;f=h.next())if((_=f.value)[0]===l)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(2,_[2],e):t.processFixedAI(2,_[1],e)}catch(C){n={error:C}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}if(e.length<3)throw new it;var d=e.substring(0,3);try{for(var p=In(t.THREE_DIGIT_DATA_LENGTH),g=p.next();!g.done;g=p.next())if((_=g.value)[0]===d)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(3,_[2],e):t.processFixedAI(3,_[1],e)}catch(S){i={error:S}}finally{try{g&&!g.done&&(o=p.return)&&o.call(p)}finally{if(i)throw i.error}}try{for(var v=In(t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),m=v.next();!m.done;m=v.next())if((_=m.value)[0]===d)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,_[2],e):t.processFixedAI(4,_[1],e)}catch(E){a={error:E}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(e.length<4)throw new it;var y=e.substring(0,4);try{for(var b=In(t.FOUR_DIGIT_DATA_LENGTH),w=b.next();!w.done;w=b.next()){var _;if((_=w.value)[0]===y)return _[1]===t.VARIABLE_LENGTH?t.processVariableAI(4,_[2],e):t.processFixedAI(4,_[1],e)}}catch(O){u={error:O}}finally{try{w&&!w.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}throw new it},t.processFixedAI=function(e,n,r){if(r.length<e)throw new it;var i=r.substring(0,e);if(r.length<e+n)throw new it;var o=r.substring(e,e+n),a=r.substring(e+n),s="("+i+")"+o,u=t.parseFieldsInGeneralPurpose(a);return null==u?s:s+u},t.processVariableAI=function(e,n,r){var i,o=r.substring(0,e),a=r.substring(e,i=r.length<e+n?r.length:e+n),s=r.substring(i),u="("+o+")"+a,c=t.parseFieldsInGeneralPurpose(s);return null==c?u:u+c},t.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",t.VARIABLE_LENGTH=[],20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",t.VARIABLE_LENGTH,20],["22",t.VARIABLE_LENGTH,29],["30",t.VARIABLE_LENGTH,8],["37",t.VARIABLE_LENGTH,8],["90",t.VARIABLE_LENGTH,30],["91",t.VARIABLE_LENGTH,30],["92",t.VARIABLE_LENGTH,30],["93",t.VARIABLE_LENGTH,30],["94",t.VARIABLE_LENGTH,30],["95",t.VARIABLE_LENGTH,30],["96",t.VARIABLE_LENGTH,30],["97",t.VARIABLE_LENGTH,3],["98",t.VARIABLE_LENGTH,30],["99",t.VARIABLE_LENGTH,30]],t.THREE_DIGIT_DATA_LENGTH=[["240",t.VARIABLE_LENGTH,30],["241",t.VARIABLE_LENGTH,30],["242",t.VARIABLE_LENGTH,6],["250",t.VARIABLE_LENGTH,30],["251",t.VARIABLE_LENGTH,30],["253",t.VARIABLE_LENGTH,17],["254",t.VARIABLE_LENGTH,20],["400",t.VARIABLE_LENGTH,30],["401",t.VARIABLE_LENGTH,30],["402",17],["403",t.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",t.VARIABLE_LENGTH,20],["421",t.VARIABLE_LENGTH,15],["422",3],["423",t.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],t.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",t.VARIABLE_LENGTH,15],["391",t.VARIABLE_LENGTH,18],["392",t.VARIABLE_LENGTH,15],["393",t.VARIABLE_LENGTH,18],["703",t.VARIABLE_LENGTH,30]],t.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",t.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",t.VARIABLE_LENGTH,20],["8003",t.VARIABLE_LENGTH,30],["8004",t.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",t.VARIABLE_LENGTH,30],["8008",t.VARIABLE_LENGTH,12],["8018",18],["8020",t.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",t.VARIABLE_LENGTH,70],["8200",t.VARIABLE_LENGTH,70]],t}(),Rn=function(){function t(t){this.buffer=new et,this.information=t}return t.prototype.decodeAllCodes=function(t,e){for(var n=e,r=null;;){var i=this.decodeGeneralPurposeField(n,r),o=kn.parseFieldsInGeneralPurpose(i.getNewString());if(null!=o&&t.append(o),r=i.isRemaining()?""+i.getRemainingValue():null,n===i.getNewPosition())break;n=i.getNewPosition()}return t.toString()},t.prototype.isStillNumeric=function(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(var e=t;e<t+3;++e)if(this.information.get(e))return!0;return this.information.get(t+3)},t.prototype.decodeNumeric=function(t){if(t+7>this.information.getSize()){var e=this.extractNumericValueFromBitArray(t,4);return new An(this.information.getSize(),0===e?An.FNC1:e-1,An.FNC1)}var n=this.extractNumericValueFromBitArray(t,7);return new An(t+7,(n-8)/11,(n-8)%11)},t.prototype.extractNumericValueFromBitArray=function(e,n){return t.extractNumericValueFromBitArray(this.information,e,n)},t.extractNumericValueFromBitArray=function(t,e,n){for(var r=0,i=0;i<n;++i)t.get(e+i)&&(r|=1<<n-i-1);return r},t.prototype.decodeGeneralPurposeField=function(t,e){this.buffer.setLengthToZero(),null!=e&&this.buffer.append(e),this.current.setPosition(t);var n=this.parseBlocks();return null!=n&&n.isRemaining()?new En(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new En(this.current.getPosition(),this.buffer.toString())},t.prototype.parseBlocks=function(){var t,e;do{var n=this.current.getPosition();if(t=this.current.isAlpha()?(e=this.parseAlphaBlock()).isFinished():this.current.isIsoIec646()?(e=this.parseIsoIec646Block()).isFinished():(e=this.parseNumericBlock()).isFinished(),n===this.current.getPosition()&&!t)break}while(!t);return e.getDecodedInformation()},t.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){var e=void 0;return e=t.isSecondDigitFNC1()?new En(this.current.getPosition(),this.buffer.toString()):new En(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new bn(!0,e)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1())return e=new En(this.current.getPosition(),this.buffer.toString()),new bn(!0,e);this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new bn(!1)},t.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new En(this.current.getPosition(),this.buffer.toString());return new bn(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new bn(!1)},t.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){var e=new En(this.current.getPosition(),this.buffer.toString());return new bn(!0,e)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new bn(!1)},t.prototype.isStillIsoIec646=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+7>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,7);if(n>=64&&n<116)return!0;if(t+8>this.information.getSize())return!1;var r=this.extractNumericValueFromBitArray(t,8);return r>=232&&r<253},t.prototype.decodeIsoIec646=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Cn(t+5,Cn.FNC1);if(e>=5&&e<15)return new Cn(t+5,"0"+(e-5));var n,r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new Cn(t+7,""+(r+1));if(r>=90&&r<116)return new Cn(t+7,""+(r+7));switch(this.extractNumericValueFromBitArray(t,8)){case 232:n="!";break;case 233:n='"';break;case 234:n="%";break;case 235:n="&";break;case 236:n="'";break;case 237:n="(";break;case 238:n=")";break;case 239:n="*";break;case 240:n="+";break;case 241:n=",";break;case 242:n="-";break;case 243:n=".";break;case 244:n="/";break;case 245:n=":";break;case 246:n=";";break;case 247:n="<";break;case 248:n="=";break;case 249:n=">";break;case 250:n="?";break;case 251:n="_";break;case 252:n=" ";break;default:throw new V}return new Cn(t+8,n)},t.prototype.isStillAlpha=function(t){if(t+5>this.information.getSize())return!1;var e=this.extractNumericValueFromBitArray(t,5);if(e>=5&&e<16)return!0;if(t+6>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(t,6);return n>=16&&n<63},t.prototype.decodeAlphanumeric=function(t){var e=this.extractNumericValueFromBitArray(t,5);if(15===e)return new Cn(t+5,Cn.FNC1);if(e>=5&&e<15)return new Cn(t+5,"0"+(e-5));var n,r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new Cn(t+6,""+(r+33));switch(r){case 58:n="*";break;case 59:n=",";break;case 60:n="-";break;case 61:n=".";break;case 62:n="/";break;default:throw new Bt("Decoding invalid alphanumeric value: "+r)}return new Cn(t+6,n)},t.prototype.isAlphaTo646ToAlphaLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<5&&e+t<this.information.getSize();++e)if(2===e){if(!this.information.get(t+2))return!1}else if(this.information.get(t+e))return!1;return!0},t.prototype.isAlphaOr646ToNumericLatch=function(t){if(t+3>this.information.getSize())return!1;for(var e=t;e<t+3;++e)if(this.information.get(e))return!1;return!0},t.prototype.isNumericToAlphaNumericLatch=function(t){if(t+1>this.information.getSize())return!1;for(var e=0;e<4&&e+t<this.information.getSize();++e)if(this.information.get(t+e))return!1;return!0},t}(),Tn=function(){function t(t){this.information=t,this.generalDecoder=new Rn(t)}return t.prototype.getInformation=function(){return this.information},t.prototype.getGeneralDecoder=function(){return this.generalDecoder},t}(),Mn=(ne=function(t,e){return(ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ne(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nn=function(t){function e(e){return t.call(this,e)||this}return Mn(e,t),e.prototype.encodeCompressedGtin=function(t,e){t.append("(01)");var n=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,e,n)},e.prototype.encodeCompressedGtinWithoutAI=function(t,n,r){for(var i=0;i<4;++i){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(n+10*i,10);o/100==0&&t.append("0"),o/10==0&&t.append("0"),t.append(o)}e.appendCheckDigit(t,r)},e.appendCheckDigit=function(t,e){for(var n=0,r=0;r<13;r++){var i=t.charAt(r+e).charCodeAt(0)-"0".charCodeAt(0);n+=0==(1&r)?3*i:i}10==(n=10-n%10)&&(n=0),t.append(n)},e.GTIN_SIZE=40,e}(Tn),Pn=(re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Dn=function(t){function e(e){return t.call(this,e)||this}return Pn(e,t),e.prototype.parseInformation=function(){var t=new et;t.append("(01)");var n=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,e.HEADER_SIZE+4,n),this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE+44)},e.HEADER_SIZE=4,e}(Nn),xn=(ie=function(t,e){return(ie=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ie(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ln=function(t){function e(e){return t.call(this,e)||this}return xn(e,t),e.prototype.parseInformation=function(){var t=new et;return this.getGeneralDecoder().decodeAllCodes(t,e.HEADER_SIZE)},e.HEADER_SIZE=5,e}(Tn),Bn=(oe=function(t,e){return(oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fn=function(t){function e(e){return t.call(this,e)||this}return Bn(e,t),e.prototype.encodeCompressedWeight=function(t,e,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e,n);this.addWeightCode(t,r);for(var i=this.checkWeight(r),o=1e5,a=0;a<5;++a)i/o==0&&t.append("0"),o/=10;t.append(i)},e}(Nn),jn=(ae=function(t,e){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ae(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Un=function(t){function e(e){return t.call(this,e)||this}return jn(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+Fn.GTIN_SIZE+e.WEIGHT_SIZE)throw new it;var t=new et;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+Fn.GTIN_SIZE,e.WEIGHT_SIZE),t.toString()},e.HEADER_SIZE=5,e.WEIGHT_SIZE=15,e}(Fn),Vn=(se=function(t,e){return(se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hn=function(t){function e(e){return t.call(this,e)||this}return Vn(e,t),e.prototype.addWeightCode=function(t,e){t.append("(3103)")},e.prototype.checkWeight=function(t){return t},e}(Un),Wn=(ue=function(t,e){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ue(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zn=function(t){function e(e){return t.call(this,e)||this}return Wn(e,t),e.prototype.addWeightCode=function(t,e){t.append(e<1e4?"(3202)":"(3203)")},e.prototype.checkWeight=function(t){return t<1e4?t:t-1e4},e}(Un),Gn=(ce=function(t,e){return(ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ce(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xn=function(t){function e(e){return t.call(this,e)||this}return Gn(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Nn.GTIN_SIZE)throw new it;var t=new et;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Nn.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(392"),t.append(n),t.append(")");var r=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Nn.GTIN_SIZE+e.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e}(Nn),Zn=(le=function(t,e){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qn=function(t){function e(e){return t.call(this,e)||this}return Zn(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()<e.HEADER_SIZE+Nn.GTIN_SIZE)throw new it;var t=new et;this.encodeCompressedGtin(t,e.HEADER_SIZE);var n=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Nn.GTIN_SIZE,e.LAST_DIGIT_SIZE);t.append("(393"),t.append(n),t.append(")");var r=this.getGeneralDecoder().extractNumericValueFromBitArray(e.HEADER_SIZE+Nn.GTIN_SIZE+e.LAST_DIGIT_SIZE,e.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);var i=this.getGeneralDecoder().decodeGeneralPurposeField(e.HEADER_SIZE+Nn.GTIN_SIZE+e.LAST_DIGIT_SIZE+e.FIRST_THREE_DIGITS_SIZE,null);return t.append(i.getNewString()),t.toString()},e.HEADER_SIZE=8,e.LAST_DIGIT_SIZE=2,e.FIRST_THREE_DIGITS_SIZE=10,e}(Nn),Yn=(he=function(t,e){return(he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}he(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Kn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dateCode=r,i.firstAIdigits=n,i}return Yn(e,t),e.prototype.parseInformation=function(){if(this.getInformation().getSize()!=e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE+e.DATE_SIZE)throw new it;var t=new et;return this.encodeCompressedGtin(t,e.HEADER_SIZE),this.encodeCompressedWeight(t,e.HEADER_SIZE+e.GTIN_SIZE,e.WEIGHT_SIZE),this.encodeCompressedDate(t,e.HEADER_SIZE+e.GTIN_SIZE+e.WEIGHT_SIZE),t.toString()},e.prototype.encodeCompressedDate=function(t,n){var r=this.getGeneralDecoder().extractNumericValueFromBitArray(n,e.DATE_SIZE);if(38400!=r){t.append("("),t.append(this.dateCode),t.append(")");var i=r%32,o=(r/=32)%12+1,a=r/=12;a/10==0&&t.append("0"),t.append(a),o/10==0&&t.append("0"),t.append(o),i/10==0&&t.append("0"),t.append(i)}},e.prototype.addWeightCode=function(t,e){t.append("("),t.append(this.firstAIdigits),t.append(e/1e5),t.append(")")},e.prototype.checkWeight=function(t){return t%1e5},e.HEADER_SIZE=8,e.WEIGHT_SIZE=20,e.DATE_SIZE=16,e}(Fn),Qn=function(){function t(t,e,n,r){this.leftchar=t,this.rightchar=e,this.finderpattern=n,this.maybeLast=r}return t.prototype.mayBeLast=function(){return this.maybeLast},t.prototype.getLeftChar=function(){return this.leftchar},t.prototype.getRightChar=function(){return this.rightchar},t.prototype.getFinderPattern=function(){return this.finderpattern},t.prototype.mustBeLast=function(){return null==this.rightchar},t.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"},t.equals=function(e,n){return e instanceof t&&t.equalsOrNull(e.leftchar,n.leftchar)&&t.equalsOrNull(e.rightchar,n.rightchar)&&t.equalsOrNull(e.finderpattern,n.finderpattern)},t.equalsOrNull=function(e,n){return null===e?null===n:t.equals(e,n)},t.prototype.hashCode=function(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()},t}(),Jn=function(){function t(t,e,n){this.pairs=t,this.rowNumber=e,this.wasReversed=n}return t.prototype.getPairs=function(){return this.pairs},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.isReversed=function(){return this.wasReversed},t.prototype.isEquivalent=function(t){return this.checkEqualitity(this,t)},t.prototype.toString=function(){return"{ "+this.pairs+" }"},t.prototype.equals=function(e,n){return e instanceof t&&this.checkEqualitity(e,n)&&e.wasReversed===n.wasReversed},t.prototype.checkEqualitity=function(t,e){var n;if(t&&e)return t.forEach(function(t,r){e.forEach(function(e){t.getLeftChar().getValue()===e.getLeftChar().getValue()&&t.getRightChar().getValue()===e.getRightChar().getValue()&&t.getFinderPatter().getValue()===e.getFinderPatter().getValue()&&(n=!0)})}),n},t}(),$n=(fe=function(t,e){return(fe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}fe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),tr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},er=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.pairs=new Array(e.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return $n(e,t),e.prototype.decodeRow=function(t,n,r){this.pairs.length=0,this.startFromEven=!1;try{return e.constructResult(this.decodeRow2pairs(t,n))}catch(i){console.log(i)}return this.pairs.length=0,this.startFromEven=!0,e.constructResult(this.decodeRow2pairs(t,n))},e.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},e.prototype.decodeRow2pairs=function(t,e){for(var n,r=!1;!r;)try{this.pairs.push(this.retrieveNextPair(e,this.pairs,t))}catch(o){if(o instanceof it){if(!this.pairs.length)throw new it;r=!0}}if(this.checkChecksum())return this.pairs;if(n=!!this.rows.length,this.storeRow(t,!1),n){var i=this.checkRowsBoolean(!1);if(null!=i)return i;if(null!=(i=this.checkRowsBoolean(!0)))return i}throw new it},e.prototype.checkRowsBoolean=function(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());var e=null;try{e=this.checkRows(new Array,0)}catch(n){console.log(n)}return t&&(this.rows=this.rows.reverse()),e},e.prototype.checkRows=function(t,n){for(var r,i,o=n;o<this.rows.length;o++){var a=this.rows[o];this.pairs.length=0;try{for(var s=(r=void 0,tr(t)),u=s.next();!u.done;u=s.next())this.pairs.push(u.value.getPairs())}catch(l){r={error:l}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}if(this.pairs.push(a.getPairs()),e.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var c=new Array(t);c.push(a);try{return this.checkRows(c,o+1)}catch(h){console.log(h)}}}throw new it},e.isValidSequence=function(t){var n,r;try{for(var i=tr(e.FINDER_PATTERN_SEQUENCES),o=i.next();!o.done;o=i.next()){var a=o.value;if(!(t.length>a.length)){for(var s=!0,u=0;u<t.length;u++)if(t[u].getFinderPattern().getValue()!=a[u]){s=!1;break}if(s)return!0}}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1},e.prototype.storeRow=function(t,n){for(var r=0,i=!1,o=!1;r<this.rows.length;){var a=this.rows[r];if(a.getRowNumber()>t){o=a.isEquivalent(this.pairs);break}i=a.isEquivalent(this.pairs),r++}o||i||e.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new Jn(this.pairs,t,n)),this.removePartialRows(this.pairs,this.rows))},e.prototype.removePartialRows=function(t,e){var n,r,i,o,a,s;try{for(var u=tr(e),c=u.next();!c.done;c=u.next()){var l=c.value;if(l.getPairs().length!==t.length)try{for(var h=(i=void 0,tr(l.getPairs())),f=h.next();!f.done;f=h.next()){var d=f.value;try{for(var p=(a=void 0,tr(t)),g=p.next();!g.done&&!Qn.equals(d,g.value);g=p.next());}catch(v){a={error:v}}finally{try{g&&!g.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}}}catch(m){i={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}}}catch(y){n={error:y}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}},e.isPartialRow=function(t,e){var n,r,i,o,a,s;try{for(var u=tr(e),c=u.next();!c.done;c=u.next()){var l=c.value,h=!0;try{for(var f=(i=void 0,tr(t)),d=f.next();!d.done;d=f.next()){var p=d.value,g=!1;try{for(var v=(a=void 0,tr(l.getPairs())),m=v.next();!m.done;m=v.next())if(p.equals(m.value)){g=!0;break}}catch(y){a={error:y}}finally{try{m&&!m.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}if(!g){h=!1;break}}}catch(b){i={error:b}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}if(h)return!0}}catch(w){n={error:w}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return!1},e.prototype.getRows=function(){return this.rows},e.constructResult=function(t){var e=function(t){try{if(t.get(1))return new Dn(t);if(!t.get(2))return new Ln(t);switch(Rn.extractNumericValueFromBitArray(t,1,4)){case 4:return new Hn(t);case 5:return new zn(t)}switch(Rn.extractNumericValueFromBitArray(t,1,5)){case 12:return new Xn(t);case 13:return new qn(t)}switch(Rn.extractNumericValueFromBitArray(t,1,7)){case 56:return new Kn(t,"310","11");case 57:return new Kn(t,"320","11");case 58:return new Kn(t,"310","13");case 59:return new Kn(t,"320","13");case 60:return new Kn(t,"310","15");case 61:return new Kn(t,"320","15");case 62:return new Kn(t,"310","17");case 63:return new Kn(t,"320","17")}}catch(e){throw console.log(e),new Bt("unknown decoder: "+t)}}(yn.buildBitArray(t)).parseInformation(),n=t[0].getFinderPattern().getResultPoints(),r=t[t.length-1].getFinderPattern().getResultPoints();return new yt(e,null,null,[n[0],n[1],r[0],r[1]],wt.RSS_EXPANDED,null)},e.prototype.checkChecksum=function(){var t=this.pairs.get(0),e=t.getLeftChar(),n=t.getRightChar();if(null==n)return!1;for(var r=n.getChecksumPortion(),i=2,o=1;o<this.pairs.size();++o){var a=this.pairs.get(o);r+=a.getLeftChar().getChecksumPortion(),i++;var s=a.getRightChar();null!=s&&(r+=s.getChecksumPortion(),i++)}return 211*(i-4)+(r%=211)==e.getValue()},e.getNextSecondBar=function(t,e){var n;return t.get(e)?(n=t.getNextUnset(e),n=t.getNextSet(n)):(n=t.getNextSet(e),n=t.getNextUnset(n)),n},e.prototype.retrieveNextPair=function(t,n,r){var i,o=n.length%2==0;this.startFromEven&&(o=!o);var a=!0,s=-1;do{this.findNextPair(t,n,s),null==(i=this.parseFoundFinderPattern(t,r,o))?s=e.getNextSecondBar(t,this.startEnd[0]):a=!1}while(a);var u,c=this.decodeDataCharacter(t,i,o,!0);if(!this.isEmptyPair(n)&&n[n.length-1].mustBeLast())throw new it;try{u=this.decodeDataCharacter(t,i,o,!1)}catch(l){u=null,console.log(l)}return new Qn(c,u,i,!0)},e.prototype.isEmptyPair=function(t){return 0===t.length},e.prototype.findNextPair=function(t,n,r){var i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;var o,a=t.getSize();o=r>=0?r:this.isEmptyPair(n)?0:n[n.length-1].getFinderPattern().getStartEnd()[1];var s=n.length%2!=0;this.startFromEven&&(s=!s);for(var u=!1;o<a&&(u=!t.get(o));)o++;for(var c=0,l=o,h=o;h<a;h++)if(t.get(h)!=u)i[c]++;else{if(3==c){if(s&&e.reverseCounters(i),e.isFinderPattern(i))return this.startEnd[0]=l,void(this.startEnd[1]=h);s&&e.reverseCounters(i),l+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,c--}else c++;i[c]=1,u=!u}throw new it},e.reverseCounters=function(t){for(var e=t.length,n=0;n<e/2;++n){var r=t[n];t[n]=t[e-n-1],t[e-n-1]=r}},e.prototype.parseFoundFinderPattern=function(t,n,r){var i,o,a;if(r){for(var s=this.startEnd[0]-1;s>=0&&!t.get(s);)s--;s++,i=this.startEnd[0]-s,o=s,a=this.startEnd[1]}else o=this.startEnd[0],i=(a=t.getNextUnset(this.startEnd[1]+1))-this.startEnd[1];var u,c=this.getDecodeFinderCounters();R.arraycopy(c,0,c,1,c.length-1),c[0]=i;try{u=this.parseFinderValue(c,e.FINDER_PATTERNS)}catch(l){return null}return new vn(u,[o,a],o,a,n)},e.prototype.decodeDataCharacter=function(t,n,r,i){for(var o=this.getDataCharacterCounters(),a=0;a<o.length;a++)o[a]=0;if(i)e.recordPatternInReverse(t,n.getStartEnd()[0],o);else{e.recordPattern(t,n.getStartEnd()[1],o);for(var s=0,u=o.length-1;s<u;s++,u--){var c=o[s];o[s]=o[u],o[u]=c}}var l=we.sum(new Int32Array(o))/17,h=(n.getStartEnd()[1]-n.getStartEnd()[0])/15;if(Math.abs(l-h)/h>.3)throw new it;var f=this.getOddCounts(),d=this.getEvenCounts(),p=this.getOddRoundingErrors(),g=this.getEvenRoundingErrors();for(s=0;s<o.length;s++){var v=1*o[s]/l,m=v+.5;if(m<1){if(v<.3)throw new it;m=1}else if(m>8){if(v>8.7)throw new it;m=8}var y=s/2;0==(1&s)?(f[y]=m,p[y]=v-m):(d[y]=m,g[y]=v-m)}this.adjustOddEvenCounts(17);var b=4*n.getValue()+(r?0:2)+(i?0:1)-1,w=0,_=0;for(s=f.length-1;s>=0;s--)e.isNotA1left(n,r,i)&&(_+=f[s]*e.WEIGHTS[b][2*s]),w+=f[s];var C=0;for(s=d.length-1;s>=0;s--)e.isNotA1left(n,r,i)&&(C+=d[s]*e.WEIGHTS[b][2*s+1]);var S=_+C;if(0!=(1&w)||w>13||w<4)throw new it;var E=(13-w)/2,O=e.SYMBOL_WIDEST[E],A=9-O,I=mn.getRSSvalue(f,O,!0),k=mn.getRSSvalue(d,A,!1);return new gn(I*e.EVEN_TOTAL_SUBSET[E]+k+e.GSUM[E],S)},e.isNotA1left=function(t,e,n){return!(0==t.getValue()&&e&&n)},e.prototype.adjustOddEvenCounts=function(t){var n=we.sum(new Int32Array(this.getOddCounts())),r=we.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1;n>13?o=!0:n<4&&(i=!0);var a=!1,s=!1;r>13?s=!0:r<4&&(a=!0);var u=n+r-t,c=1==(1&n),l=0==(1&r);if(1==u)if(c){if(l)throw new it;o=!0}else{if(!l)throw new it;s=!0}else if(-1==u)if(c){if(l)throw new it;i=!0}else{if(!l)throw new it;a=!0}else{if(0!=u)throw new it;if(c){if(!l)throw new it;n<r?(i=!0,s=!0):(o=!0,a=!0)}else if(l)throw new it}if(i){if(o)throw new it;e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new it;e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.SYMBOL_WIDEST=[7,5,4,3,1],e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],e.GSUM=[0,348,1388,2948,3988],e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],e.FINDER_PATTERN_SEQUENCES=[[e.FINDER_PAT_A=0,e.FINDER_PAT_A],[e.FINDER_PAT_A,e.FINDER_PAT_B=1,e.FINDER_PAT_B],[e.FINDER_PAT_A,e.FINDER_PAT_C=2,e.FINDER_PAT_B,e.FINDER_PAT_D=3],[e.FINDER_PAT_A,e.FINDER_PAT_E=4,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_C],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_F=5],[e.FINDER_PAT_A,e.FINDER_PAT_E,e.FINDER_PAT_B,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F],[e.FINDER_PAT_A,e.FINDER_PAT_A,e.FINDER_PAT_B,e.FINDER_PAT_B,e.FINDER_PAT_C,e.FINDER_PAT_D,e.FINDER_PAT_D,e.FINDER_PAT_E,e.FINDER_PAT_E,e.FINDER_PAT_F,e.FINDER_PAT_F]],e.MAX_PAIRS=11,e}(pn),nr=(de=function(t,e){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}de(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),rr=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.count=0,i.finderPattern=r,i}return nr(e,t),e.prototype.getFinderPattern=function(){return this.finderPattern},e.prototype.getCount=function(){return this.count},e.prototype.incrementCount=function(){this.count++},e}(gn),ir=(pe=function(t,e){return(pe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}pe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),or=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ar=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.possibleLeftPairs=[],e.possibleRightPairs=[],e}return ir(e,t),e.prototype.decodeRow=function(t,n,r){var i,o,a,s,u=this.decodePair(n,!1,t,r);e.addOrTally(this.possibleLeftPairs,u),n.reverse();var c=this.decodePair(n,!0,t,r);e.addOrTally(this.possibleRightPairs,c),n.reverse();try{for(var l=or(this.possibleLeftPairs),h=l.next();!h.done;h=l.next()){var f=h.value;if(f.getCount()>1)try{for(var d=(a=void 0,or(this.possibleRightPairs)),p=d.next();!p.done;p=d.next()){var g=p.value;if(g.getCount()>1&&e.checkChecksum(f,g))return e.constructResult(f,g)}}catch(v){a={error:v}}finally{try{p&&!p.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}}}catch(m){i={error:m}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}throw new it},e.addOrTally=function(t,e){var n,r;if(null!=e){var i=!1;try{for(var o=or(t),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.getValue()===e.getValue()){s.incrementCount(),i=!0;break}}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}i||t.push(e)}},e.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},e.constructResult=function(t,e){for(var n=4537077*t.getValue()+e.getValue(),r=new String(n).toString(),i=new et,o=13-r.length;o>0;o--)i.append("0");i.append(r);var a=0;for(o=0;o<13;o++){var s=i.charAt(o).charCodeAt(0)-"0".charCodeAt(0);a+=0==(1&o)?3*s:s}10==(a=10-a%10)&&(a=0),i.append(a.toString());var u=t.getFinderPattern().getResultPoints(),c=e.getFinderPattern().getResultPoints();return new yt(i.toString(),null,0,[u[0],u[1],c[0],c[1]],wt.RSS_14,(new Date).getTime())},e.checkChecksum=function(t,e){var n=(t.getChecksumPortion()+16*e.getChecksumPortion())%79,r=9*t.getFinderPattern().getValue()+e.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r},e.prototype.decodePair=function(t,e,n,r){try{var i=this.findFinderPattern(t,e),o=this.parseFoundFinderPattern(t,n,e,i),a=null==r?null:r.get(j.NEED_RESULT_POINT_CALLBACK);if(null!=a){var s=(i[0]+i[1])/2;e&&(s=t.getSize()-1-s),a.foundPossibleResultPoint(new Ce(s,n))}var u=this.decodeDataCharacter(t,o,!0),c=this.decodeDataCharacter(t,o,!1);return new rr(1597*u.getValue()+c.getValue(),u.getChecksumPortion()+4*c.getChecksumPortion(),o)}catch(l){return null}},e.prototype.decodeDataCharacter=function(t,n,r){for(var i=this.getDataCharacterCounters(),o=0;o<i.length;o++)i[o]=0;if(r)xe.recordPatternInReverse(t,n.getStartEnd()[0],i);else{xe.recordPattern(t,n.getStartEnd()[1]+1,i);for(var a=0,s=i.length-1;a<s;a++,s--){var u=i[a];i[a]=i[s],i[s]=u}}var c=r?16:15,l=we.sum(new Int32Array(i))/c,h=this.getOddCounts(),f=this.getEvenCounts(),d=this.getOddRoundingErrors(),p=this.getEvenRoundingErrors();for(a=0;a<i.length;a++){var g=i[a]/l,v=Math.floor(g+.5);v<1?v=1:v>8&&(v=8);var m=Math.floor(a/2);0==(1&a)?(h[m]=v,d[m]=g-v):(f[m]=v,p[m]=g-v)}this.adjustOddEvenCounts(r,c);var y=0,b=0;for(a=h.length-1;a>=0;a--)b*=9,b+=h[a],y+=h[a];var w=0,_=0;for(a=f.length-1;a>=0;a--)w*=9,w+=f[a],_+=f[a];var C,S,E=b+3*w;if(r){if(0!=(1&y)||y>12||y<4)throw new it;var O=9-(S=e.OUTSIDE_ODD_WIDEST[C=(12-y)/2]),A=mn.getRSSvalue(h,S,!1),I=mn.getRSSvalue(f,O,!0);return new gn(A*e.OUTSIDE_EVEN_TOTAL_SUBSET[C]+I+e.OUTSIDE_GSUM[C],E)}if(0!=(1&_)||_>10||_<4)throw new it;return O=9-(S=e.INSIDE_ODD_WIDEST[C=(10-_)/2]),A=mn.getRSSvalue(h,S,!0),I=mn.getRSSvalue(f,O,!1),new gn(I*e.INSIDE_ODD_TOTAL_SUBSET[C]+A+e.INSIDE_GSUM[C],E)},e.prototype.findFinderPattern=function(t,e){var n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;for(var r=t.getSize(),i=!1,o=0;o<r&&e!==(i=!t.get(o));)o++;for(var a=0,s=o,u=o;u<r;u++)if(t.get(u)!==i)n[a]++;else{if(3===a){if(pn.isFinderPattern(n))return[s,u];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,a--}else a++;n[a]=1,i=!i}throw new it},e.prototype.parseFoundFinderPattern=function(t,n,r,i){for(var o=t.get(i[0]),a=i[0]-1;a>=0&&o!==t.get(a);)a--;a++;var s=i[0]-a,u=this.getDecodeFinderCounters(),c=new Int32Array(u.length);R.arraycopy(u,0,c,1,u.length-1),c[0]=s;var l=this.parseFinderValue(c,e.FINDER_PATTERNS),h=a,f=i[1];return r&&(h=t.getSize()-1-h,f=t.getSize()-1-f),new vn(l,[a,i[1]],h,f,n)},e.prototype.adjustOddEvenCounts=function(t,e){var n=we.sum(new Int32Array(this.getOddCounts())),r=we.sum(new Int32Array(this.getEvenCounts())),i=!1,o=!1,a=!1,s=!1;t?(n>12?o=!0:n<4&&(i=!0),r>12?s=!0:r<4&&(a=!0)):(n>11?o=!0:n<5&&(i=!0),r>10?s=!0:r<4&&(a=!0));var u=n+r-e,c=(1&n)==(t?1:0),l=1==(1&r);if(1===u)if(c){if(l)throw new it;o=!0}else{if(!l)throw new it;s=!0}else if(-1===u)if(c){if(l)throw new it;i=!0}else{if(!l)throw new it;a=!0}else{if(0!==u)throw new it;if(c){if(!l)throw new it;n<r?(i=!0,s=!0):(o=!0,a=!0)}else if(l)throw new it}if(i){if(o)throw new it;pn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&pn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(s)throw new it;pn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&pn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},e.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],e.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],e.OUTSIDE_GSUM=[0,161,961,2015,2715],e.INSIDE_GSUM=[0,336,1036,1516],e.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],e.INSIDE_ODD_WIDEST=[2,4,6,8],e.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],e}(pn),sr=(ge=function(t,e){return(ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ur=function(t){function e(e){var n=t.call(this)||this;n.readers=[];var r=e?e.get(j.POSSIBLE_FORMATS):null,i=e&&void 0!==e.get(j.ASSUME_CODE_39_CHECK_DIGIT);return r&&((r.includes(wt.EAN_13)||r.includes(wt.UPC_A)||r.includes(wt.EAN_8)||r.includes(wt.UPC_E))&&n.readers.push(new fn(e)),r.includes(wt.CODE_39)&&n.readers.push(new Ue(i)),r.includes(wt.CODE_128)&&n.readers.push(new Be),r.includes(wt.ITF)&&n.readers.push(new He),r.includes(wt.RSS_14)&&n.readers.push(new ar),r.includes(wt.RSS_EXPANDED)&&n.readers.push(new er)),0===n.readers.length&&(n.readers.push(new fn(e)),n.readers.push(new Ue),n.readers.push(new fn(e)),n.readers.push(new Be),n.readers.push(new He),n.readers.push(new ar),n.readers.push(new er)),n}return sr(e,t),e.prototype.decodeRow=function(t,e,n){for(var r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(t,e,n)}catch(i){}throw new it},e.prototype.reset=function(){this.readers.forEach(function(t){return t.reset()})},e}(xe),cr=(ve=function(t,e){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),lr=(function(t){cr(function(e,n){return void 0===e&&(e=500),t.call(this,new ur(n),e,n)||this},t)}(mt),function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}),hr=function(){function t(t,e,n){this.ecCodewords=t,this.ecBlocks=[e],n&&this.ecBlocks.push(n)}return t.prototype.getECCodewords=function(){return this.ecCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),fr=function(){function t(t,e){this.count=t,this.dataCodewords=e}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),dr=function(){function t(t,e,n,r,i,o){var a,s;this.versionNumber=t,this.symbolSizeRows=e,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=i,this.ecBlocks=o;var u=0,c=o.getECCodewords(),l=o.getECBlocks();try{for(var h=lr(l),f=h.next();!f.done;f=h.next()){var d=f.value;u+=d.getCount()*(d.getDataCodewords()+c)}}catch(p){a={error:p}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}this.totalCodewords=u}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},t.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},t.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},t.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getECBlocks=function(){return this.ecBlocks},t.getVersionForDimensions=function(e,n){var r,i;if(0!=(1&e)||0!=(1&n))throw new V;try{for(var o=lr(t.VERSIONS),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.symbolSizeRows===e&&s.symbolSizeColumns===n)return s}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}throw new V},t.prototype.toString=function(){return""+this.versionNumber},t.buildVersions=function(){return[new t(1,10,10,8,8,new hr(5,new fr(1,3))),new t(2,12,12,10,10,new hr(7,new fr(1,5))),new t(3,14,14,12,12,new hr(10,new fr(1,8))),new t(4,16,16,14,14,new hr(12,new fr(1,12))),new t(5,18,18,16,16,new hr(14,new fr(1,18))),new t(6,20,20,18,18,new hr(18,new fr(1,22))),new t(7,22,22,20,20,new hr(20,new fr(1,30))),new t(8,24,24,22,22,new hr(24,new fr(1,36))),new t(9,26,26,24,24,new hr(28,new fr(1,44))),new t(10,32,32,14,14,new hr(36,new fr(1,62))),new t(11,36,36,16,16,new hr(42,new fr(1,86))),new t(12,40,40,18,18,new hr(48,new fr(1,114))),new t(13,44,44,20,20,new hr(56,new fr(1,144))),new t(14,48,48,22,22,new hr(68,new fr(1,174))),new t(15,52,52,24,24,new hr(42,new fr(2,102))),new t(16,64,64,14,14,new hr(56,new fr(2,140))),new t(17,72,72,16,16,new hr(36,new fr(4,92))),new t(18,80,80,18,18,new hr(48,new fr(4,114))),new t(19,88,88,20,20,new hr(56,new fr(4,144))),new t(20,96,96,22,22,new hr(68,new fr(4,174))),new t(21,104,104,24,24,new hr(56,new fr(6,136))),new t(22,120,120,18,18,new hr(68,new fr(6,175))),new t(23,132,132,20,20,new hr(62,new fr(8,163))),new t(24,144,144,22,22,new hr(62,new fr(8,156),new fr(2,155))),new t(25,8,18,6,16,new hr(7,new fr(1,5))),new t(26,8,32,6,14,new hr(11,new fr(1,10))),new t(27,12,26,10,24,new hr(14,new fr(1,16))),new t(28,12,36,10,16,new hr(18,new fr(1,22))),new t(29,16,36,14,16,new hr(24,new fr(1,32))),new t(30,16,48,14,22,new hr(28,new fr(1,49)))]},t.VERSIONS=t.buildVersions(),t}(),pr=function(){function t(e){var n=e.getHeight();if(n<8||n>144||0!=(1&n))throw new V;this.version=t.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new nt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return t.prototype.getVersion=function(){return this.version},t.readVersion=function(t){var e=t.getHeight(),n=t.getWidth();return dr.getVersionForDimensions(e,n)},t.prototype.readCodewords=function(){var t=new Int8Array(this.version.getTotalCodewords()),e=0,n=4,r=0,i=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),a=!1,s=!1,u=!1,c=!1;do{if(n!==i||0!==r||a)if(n!==i-2||0!==r||0==(3&o)||s)if(n!==i+4||2!==r||0!=(7&o)||u)if(n!==i-2||0!==r||4!=(7&o)||c){do{n<i&&r>=0&&!this.readMappingMatrix.get(r,n)&&(t[e++]=255&this.readUtah(n,r,i,o)),n-=2,r+=2}while(n>=0&&r<o);n+=1,r+=3;do{n>=0&&r<o&&!this.readMappingMatrix.get(r,n)&&(t[e++]=255&this.readUtah(n,r,i,o)),n+=2,r-=2}while(n<i&&r>=0);n+=3,r+=1}else t[e++]=255&this.readCorner4(i,o),n-=2,r+=2,c=!0;else t[e++]=255&this.readCorner3(i,o),n-=2,r+=2,u=!0;else t[e++]=255&this.readCorner2(i,o),n-=2,r+=2,s=!0;else t[e++]=255&this.readCorner1(i,o),n-=2,r+=2,a=!0}while(n<i||r<o);if(e!==this.version.getTotalCodewords())throw new V;return t},t.prototype.readModule=function(t,e,n,r){return t<0&&(t+=n,e+=4-(n+4&7)),e<0&&(e+=r,t+=4-(r+4&7)),this.readMappingMatrix.set(e,t),this.mappingBitMatrix.get(e,t)},t.prototype.readUtah=function(t,e,n,r){var i=0;return this.readModule(t-2,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t-2,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t-1,e,n,r)&&(i|=1),i<<=1,this.readModule(t,e-2,n,r)&&(i|=1),i<<=1,this.readModule(t,e-1,n,r)&&(i|=1),i<<=1,this.readModule(t,e,n,r)&&(i|=1),i},t.prototype.readCorner1=function(t,e){var n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,1,t,e)&&(n|=1),n<<=1,this.readModule(t-1,2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n},t.prototype.readCorner2=function(t,e){var n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-4,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n},t.prototype.readCorner3=function(t,e){var n=0;return this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(0,e-3,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-3,t,e)&&(n|=1),n<<=1,this.readModule(1,e-2,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n},t.prototype.readCorner4=function(t,e){var n=0;return this.readModule(t-3,0,t,e)&&(n|=1),n<<=1,this.readModule(t-2,0,t,e)&&(n|=1),n<<=1,this.readModule(t-1,0,t,e)&&(n|=1),n<<=1,this.readModule(0,e-2,t,e)&&(n|=1),n<<=1,this.readModule(0,e-1,t,e)&&(n|=1),n<<=1,this.readModule(1,e-1,t,e)&&(n|=1),n<<=1,this.readModule(2,e-1,t,e)&&(n|=1),n<<=1,this.readModule(3,e-1,t,e)&&(n|=1),n},t.prototype.extractDataRegion=function(t){var e=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(t.getHeight()!==e)throw new E("Dimension of bitMatrix must match the version size");for(var r=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),o=e/r|0,a=n/i|0,s=new nt(a*i,o*r),u=0;u<o;++u)for(var c=u*r,l=0;l<a;++l)for(var h=l*i,f=0;f<r;++f)for(var d=u*(r+2)+1+f,p=c+f,g=0;g<i;++g)t.get(l*(i+2)+1+g,d)&&s.set(h+g,p);return s},t}(),gr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},vr=function(){function t(t,e){this.numDataCodewords=t,this.codewords=e}return t.getDataBlocks=function(e,n){var r,i,o,a,s=n.getECBlocks(),u=0,c=s.getECBlocks();try{for(var l=gr(c),h=l.next();!h.done;h=l.next())u+=(v=h.value).getCount()}catch(R){r={error:R}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}var f=new Array(u),d=0;try{for(var p=gr(c),g=p.next();!g.done;g=p.next())for(var v=g.value,m=0;m<v.getCount();m++){var y=v.getDataCodewords(),b=s.getECCodewords()+y;f[d++]=new t(y,new Uint8Array(b))}}catch(T){o={error:T}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}var w=f[0].codewords.length-s.getECCodewords(),_=w-1,C=0;for(m=0;m<_;m++)for(var S=0;S<d;S++)f[S].codewords[m]=e[C++];var O=24===n.getVersionNumber(),A=O?8:d;for(S=0;S<A;S++)f[S].codewords[w-1]=e[C++];var I=f[0].codewords.length;for(m=w;m<I;m++)for(S=0;S<d;S++){var k=O?(S+8)%d:S;f[k].codewords[O&&k>7?m-1:m]=e[C++]}if(C!==e.length)throw new E;return f},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}(),mr=function(){function t(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}return t.prototype.getBitOffset=function(){return this.bitOffset},t.prototype.getByteOffset=function(){return this.byteOffset},t.prototype.readBits=function(t){if(t<1||t>32||t>this.available())throw new E(""+t);var e=0,n=this.bitOffset,r=this.byteOffset,i=this.bytes;if(n>0){var o=8-n,a=t<o?t:o;e=(i[r]&255>>8-a<<(s=o-a))>>s,t-=a,8===(n+=a)&&(n=0,r++)}if(t>0){for(;t>=8;)e=e<<8|255&i[r],r++,t-=8;var s;t>0&&(e=e<<t|(i[r]&255>>(s=8-t)<<s)>>s,n+=t)}return this.bitOffset=n,this.byteOffset=r,e},t.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},t}();!function(t){t[t.PAD_ENCODE=0]="PAD_ENCODE",t[t.ASCII_ENCODE=1]="ASCII_ENCODE",t[t.C40_ENCODE=2]="C40_ENCODE",t[t.TEXT_ENCODE=3]="TEXT_ENCODE",t[t.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",t[t.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",t[t.BASE256_ENCODE=6]="BASE256_ENCODE"}(me||(me={}));var yr,br,wr=function(){function t(){}return t.decode=function(t){var e=new mr(t),n=new et,r=new et,i=new Array,o=me.ASCII_ENCODE;do{if(o===me.ASCII_ENCODE)o=this.decodeAsciiSegment(e,n,r);else{switch(o){case me.C40_ENCODE:this.decodeC40Segment(e,n);break;case me.TEXT_ENCODE:this.decodeTextSegment(e,n);break;case me.ANSIX12_ENCODE:this.decodeAnsiX12Segment(e,n);break;case me.EDIFACT_ENCODE:this.decodeEdifactSegment(e,n);break;case me.BASE256_ENCODE:this.decodeBase256Segment(e,n,i);break;default:throw new V}o=me.ASCII_ENCODE}}while(o!==me.PAD_ENCODE&&e.available()>0);return r.length()>0&&n.append(r.toString()),new It(t,n.toString(),0===i.length?null:i,null)},t.decodeAsciiSegment=function(t,e,n){var r=!1;do{var i=t.readBits(8);if(0===i)throw new V;if(i<=128)return r&&(i+=128),e.append(String.fromCharCode(i-1)),me.ASCII_ENCODE;if(129===i)return me.PAD_ENCODE;if(i<=229){var o=i-130;o<10&&e.append("0"),e.append(""+o)}else switch(i){case 230:return me.C40_ENCODE;case 231:return me.BASE256_ENCODE;case 232:e.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:r=!0;break;case 236:e.append("[)>\x1e05\x1d"),n.insert(0,"\x1e\x04");break;case 237:e.append("[)>\x1e06\x1d"),n.insert(0,"\x1e\x04");break;case 238:return me.ANSIX12_ENCODE;case 239:return me.TEXT_ENCODE;case 240:return me.EDIFACT_ENCODE;case 241:break;default:if(254!==i||0!==t.available())throw new V}}while(t.available()>0);return me.ASCII_ENCODE},t.decodeC40Segment=function(t,e){var n=!1,r=[],i=0;do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(i){case 0:if(s<3)i=s+1;else{if(!(s<this.C40_BASIC_SET_CHARS.length))throw new V;var u=this.C40_BASIC_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u)}break;case 1:n?(e.append(String.fromCharCode(s+128)),n=!1):e.append(String.fromCharCode(s)),i=0;break;case 2:if(s<this.C40_SHIFT2_SET_CHARS.length)u=this.C40_SHIFT2_SET_CHARS[s],n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u);else switch(s){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new V}i=0;break;case 3:n?(e.append(String.fromCharCode(s+224)),n=!1):e.append(String.fromCharCode(s+96)),i=0;break;default:throw new V}}}while(t.available()>0)},t.decodeTextSegment=function(t,e){var n=!1,r=[],i=0;do{if(8===t.available())return;var o=t.readBits(8);if(254===o)return;this.parseTwoBytes(o,t.readBits(8),r);for(var a=0;a<3;a++){var s=r[a];switch(i){case 0:if(s<3)i=s+1;else{if(!(s<this.TEXT_BASIC_SET_CHARS.length))throw new V;var u=this.TEXT_BASIC_SET_CHARS[s];n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u)}break;case 1:n?(e.append(String.fromCharCode(s+128)),n=!1):e.append(String.fromCharCode(s)),i=0;break;case 2:if(s<this.TEXT_SHIFT2_SET_CHARS.length)u=this.TEXT_SHIFT2_SET_CHARS[s],n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u);else switch(s){case 27:e.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new V}i=0;break;case 3:if(!(s<this.TEXT_SHIFT3_SET_CHARS.length))throw new V;u=this.TEXT_SHIFT3_SET_CHARS[s],n?(e.append(String.fromCharCode(u.charCodeAt(0)+128)),n=!1):e.append(u),i=0;break;default:throw new V}}}while(t.available()>0)},t.decodeAnsiX12Segment=function(t,e){var n=[];do{if(8===t.available())return;var r=t.readBits(8);if(254===r)return;this.parseTwoBytes(r,t.readBits(8),n);for(var i=0;i<3;i++){var o=n[i];switch(o){case 0:e.append("\r");break;case 1:e.append("*");break;case 2:e.append(">");break;case 3:e.append(" ");break;default:if(o<14)e.append(String.fromCharCode(o+44));else{if(!(o<40))throw new V;e.append(String.fromCharCode(o+51))}}}}while(t.available()>0)},t.parseTwoBytes=function(t,e,n){var r=(t<<8)+e-1,i=Math.floor(r/1600);n[0]=i,r-=1600*i,i=Math.floor(r/40),n[1]=i,n[2]=r-40*i},t.decodeEdifactSegment=function(t,e){do{if(t.available()<=16)return;for(var n=0;n<4;n++){var r=t.readBits(6);if(31===r){var i=8-t.getBitOffset();return void(8!==i&&t.readBits(i))}0==(32&r)&&(r|=64),e.append(String.fromCharCode(r))}}while(t.available()>0)},t.decodeBase256Segment=function(t,e,n){var r,i=1+t.getByteOffset(),o=this.unrandomize255State(t.readBits(8),i++);if((r=0===o?t.available()/8|0:o<250?o:250*(o-249)+this.unrandomize255State(t.readBits(8),i++))<0)throw new V;for(var a=new Uint8Array(r),s=0;s<r;s++){if(t.available()<8)throw new V;a[s]=this.unrandomize255State(t.readBits(8),i++)}n.push(a);try{e.append($.decode(a,tt.ISO88591))}catch(u){throw new Bt("Platform does not support required encoding: "+u.message)}},t.unrandomize255State=function(t,e){var n=t-(149*e%255+1);return n>=0?n:n+256},t.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],t.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],t.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t.TEXT_SHIFT2_SET_CHARS=t.C40_SHIFT2_SET_CHARS,t.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)],t}(),_r=function(){function t(){this.rsDecoder=new Ft(Pt.DATA_MATRIX_FIELD_256)}return t.prototype.decode=function(t){var e,n,r=new pr(t),i=r.getVersion(),o=r.readCodewords(),a=vr.getDataBlocks(o,i),s=0;try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),c=u.next();!c.done;c=u.next())s+=c.value.getNumDataCodewords()}catch(m){e={error:m}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}for(var l=new Uint8Array(s),h=a.length,f=0;f<h;f++){var d=a[f],p=d.getCodewords(),g=d.getNumDataCodewords();this.correctErrors(p,g);for(var v=0;v<g;v++)l[v*h+f]=p[v]}return wr.decode(l)},t.prototype.correctErrors=function(t,e){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch(i){throw new I}for(var r=0;r<e;r++)t[r]=n[r]},t}(),Cr=function(){function t(t){this.image=t,this.rectangleDetector=new Ae(this.image)}return t.prototype.detect=function(){var e=this.rectangleDetector.detect(),n=this.detectSolid1(e);if((n=this.detectSolid2(n))[3]=this.correctTopRight(n),!n[3])throw new it;var r=(n=this.shiftToModuleCenter(n))[0],i=n[1],o=n[2],a=n[3],s=this.transitionsBetween(r,a)+1,u=this.transitionsBetween(o,a)+1;1==(1&s)&&(s+=1),1==(1&u)&&(u+=1),4*s<7*u&&4*u<7*s&&(s=u=Math.max(s,u));var c=t.sampleGrid(this.image,r,i,o,a,s,u);return new Se(c,[r,i,o,a])},t.shiftPoint=function(t,e,n){var r=(e.getX()-t.getX())/(n+1),i=(e.getY()-t.getY())/(n+1);return new Ce(t.getX()+r,t.getY()+i)},t.moveAway=function(t,e,n){var r=t.getX(),i=t.getY();return r<e?r-=1:r+=1,i<n?i-=1:i+=1,new Ce(r,i)},t.prototype.detectSolid1=function(t){var e=t[0],n=t[1],r=t[3],i=t[2],o=this.transitionsBetween(e,n),a=this.transitionsBetween(n,r),s=this.transitionsBetween(r,i),u=this.transitionsBetween(i,e),c=o,l=[i,e,n,r];return c>a&&(c=a,l[0]=e,l[1]=n,l[2]=r,l[3]=i),c>s&&(c=s,l[0]=n,l[1]=r,l[2]=i,l[3]=e),c>u&&(l[0]=r,l[1]=i,l[2]=e,l[3]=n),l},t.prototype.detectSolid2=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),s=t.shiftPoint(r,i,4*(a+1)),u=t.shiftPoint(i,r,4*(a+1));return this.transitionsBetween(s,n)<this.transitionsBetween(u,o)?(e[0]=n,e[1]=r,e[2]=i,e[3]=o):(e[0]=r,e[1]=i,e[2]=o,e[3]=n),e},t.prototype.correctTopRight=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o),s=this.transitionsBetween(r,o),u=t.shiftPoint(n,r,4*(s+1)),c=t.shiftPoint(i,r,4*(a+1));a=this.transitionsBetween(u,o),s=this.transitionsBetween(c,o);var l=new Ce(o.getX()+(i.getX()-r.getX())/(a+1),o.getY()+(i.getY()-r.getY())/(a+1)),h=new Ce(o.getX()+(n.getX()-r.getX())/(s+1),o.getY()+(n.getY()-r.getY())/(s+1));return this.isValid(l)?this.isValid(h)?this.transitionsBetween(u,l)+this.transitionsBetween(c,l)>this.transitionsBetween(u,h)+this.transitionsBetween(c,h)?l:h:l:this.isValid(h)?h:null},t.prototype.shiftToModuleCenter=function(e){var n=e[0],r=e[1],i=e[2],o=e[3],a=this.transitionsBetween(n,o)+1,s=this.transitionsBetween(i,o)+1,u=t.shiftPoint(n,r,4*s),c=t.shiftPoint(i,r,4*a);1==(1&(a=this.transitionsBetween(u,o)+1))&&(a+=1),1==(1&(s=this.transitionsBetween(c,o)+1))&&(s+=1);var l,h,f=(n.getX()+r.getX()+i.getX()+o.getX())/4,d=(n.getY()+r.getY()+i.getY()+o.getY())/4;return n=t.moveAway(n,f,d),r=t.moveAway(r,f,d),i=t.moveAway(i,f,d),o=t.moveAway(o,f,d),u=t.shiftPoint(n,r,4*s),u=t.shiftPoint(u,o,4*a),l=t.shiftPoint(r,n,4*s),l=t.shiftPoint(l,i,4*a),c=t.shiftPoint(i,o,4*s),c=t.shiftPoint(c,r,4*a),h=t.shiftPoint(o,i,4*s),[u,l,c,h=t.shiftPoint(h,n,4*a)]},t.prototype.isValid=function(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()},t.sampleGrid=function(t,e,n,r,i,o,a){return Me.getInstance().sampleGrid(t,o,a,.5,.5,o-.5,.5,o-.5,a-.5,.5,a-.5,e.getX(),e.getY(),i.getX(),i.getY(),r.getX(),r.getY(),n.getX(),n.getY())},t.prototype.transitionsBetween=function(t,e){var n=Math.trunc(t.getX()),r=Math.trunc(t.getY()),i=Math.trunc(e.getX()),o=Math.trunc(e.getY()),a=Math.abs(o-r)>Math.abs(i-n);if(a){var s=n;n=r,r=s,s=i,i=o,o=s}for(var u=Math.abs(i-n),c=Math.abs(o-r),l=-u/2,h=r<o?1:-1,f=n<i?1:-1,d=0,p=this.image.get(a?r:n,a?n:r),g=n,v=r;g!==i;g+=f){var m=this.image.get(a?v:g,a?g:v);if(m!==p&&(d++,p=m),(l+=c)>0){if(v===o)break;v+=h,l-=u}}return d},t}(),Sr=function(){function t(){this.decoder=new _r}return t.prototype.decode=function(e,n){var r,i;if(void 0===n&&(n=null),null!=n&&n.has(j.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(o),i=t.NO_POINTS}else{var a=new Cr(e.getBlackMatrix()).detect();r=this.decoder.decode(a.getBits()),i=a.getPoints()}var s=r.getRawBytes(),u=new yt(r.getText(),s,8*s.length,i,wt.DATA_MATRIX,R.currentTimeMillis()),c=r.getByteSegments();null!=c&&u.putMetadata(At.BYTE_SEGMENTS,c);var l=r.getECLevel();return null!=l&&u.putMetadata(At.ERROR_CORRECTION_LEVEL,l),u},t.prototype.reset=function(){},t.extractPureBits=function(t){var e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(null==e||null==n)throw new it;var r=this.moduleSize(e,t),i=e[1],o=e[0],a=(n[0]-o+1)/r,s=(n[1]-i+1)/r;if(a<=0||s<=0)throw new it;var u=r/2;i+=u,o+=u;for(var c=new nt(a,s),l=0;l<s;l++)for(var h=i+l*r,f=0;f<a;f++)t.get(o+f*r,h)&&c.set(f,l);return c},t.moduleSize=function(t,e){for(var n=e.getWidth(),r=t[0],i=t[1];r<n&&e.get(r,i);)r++;if(r===n)throw new it;var o=r-t[0];if(0===o)throw new it;return o},t.NO_POINTS=[],t}(),Er=(yr=function(t,e){return(yr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}yr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){Er(function(e){return void 0===e&&(e=500),t.call(this,new Sr,e)||this},t)}(mt),function(t){t[t.L=0]="L",t[t.M=1]="M",t[t.Q=2]="Q",t[t.H=3]="H"}(br||(br={}));var Or,Ar=function(){function t(e,n,r){this.value=e,this.stringValue=n,this.bits=r,t.FOR_BITS.set(r,this),t.FOR_VALUE.set(e,this)}return t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.fromString=function(e){switch(e){case"L":return t.L;case"M":return t.M;case"Q":return t.Q;case"H":return t.H;default:throw new C(e+"not available")}},t.prototype.toString=function(){return this.stringValue},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.forBits=function(e){if(e<0||e>=t.FOR_BITS.size)throw new E;return t.FOR_BITS.get(e)},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.L=new t(br.L,"L",1),t.M=new t(br.M,"M",0),t.Q=new t(br.Q,"Q",3),t.H=new t(br.H,"H",2),t}(),Ir=function(){function t(t){this.errorCorrectionLevel=Ar.forBits(t>>3&3),this.dataMask=7&t}return t.numBitsDiffering=function(t,e){return x.bitCount(t^e)},t.decodeFormatInformation=function(e,n){var r=t.doDecodeFormatInformation(e,n);return null!==r?r:t.doDecodeFormatInformation(e^t.FORMAT_INFO_MASK_QR,n^t.FORMAT_INFO_MASK_QR)},t.doDecodeFormatInformation=function(e,n){var r,i,o=Number.MAX_SAFE_INTEGER,a=0;try{for(var s=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t.FORMAT_INFO_DECODE_LOOKUP),u=s.next();!u.done;u=s.next()){var c=u.value,l=c[0];if(l===e||l===n)return new t(c[1]);var h=t.numBitsDiffering(e,l);h<o&&(a=c[1],o=h),e!==n&&(h=t.numBitsDiffering(n,l))<o&&(a=c[1],o=h)}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return o<=3?new t(a):null},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getDataMask=function(){return this.dataMask},t.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},t.prototype.equals=function(e){return e instanceof t&&this.errorCorrectionLevel===e.errorCorrectionLevel&&this.dataMask===e.dataMask},t.FORMAT_INFO_MASK_QR=21522,t.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],t}(),kr=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.ecCodewordsPerBlock=t,this.ecBlocks=e}return t.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},t.prototype.getNumBlocks=function(){var t,e,n=0,r=this.ecBlocks;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),o=i.next();!o.done;o=i.next())n+=o.value.getCount()}catch(a){t={error:a}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n},t.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},t.prototype.getECBlocks=function(){return this.ecBlocks},t}(),Rr=function(){function t(t,e){this.count=t,this.dataCodewords=e}return t.prototype.getCount=function(){return this.count},t.prototype.getDataCodewords=function(){return this.dataCodewords},t}(),Tr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Mr=function(){function t(t,e){for(var n,r,i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];this.versionNumber=t,this.alignmentPatternCenters=e,this.ecBlocks=i;var a=0,s=i[0].getECCodewordsPerBlock(),u=i[0].getECBlocks();try{for(var c=Tr(u),l=c.next();!l.done;l=c.next()){var h=l.value;a+=h.getCount()*(h.getDataCodewords()+s)}}catch(f){n={error:f}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}this.totalCodewords=a}return t.prototype.getVersionNumber=function(){return this.versionNumber},t.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},t.prototype.getTotalCodewords=function(){return this.totalCodewords},t.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},t.prototype.getECBlocksForLevel=function(t){return this.ecBlocks[t.getValue()]},t.getProvisionalVersionForDimension=function(t){if(t%4!=1)throw new V;try{return this.getVersionForNumber((t-17)/4)}catch(e){throw new V}},t.getVersionForNumber=function(e){if(e<1||e>40)throw new E;return t.VERSIONS[e-1]},t.decodeVersionInformation=function(e){for(var n=Number.MAX_SAFE_INTEGER,r=0,i=0;i<t.VERSION_DECODE_INFO.length;i++){var o=t.VERSION_DECODE_INFO[i];if(o===e)return t.getVersionForNumber(i+7);var a=Ir.numBitsDiffering(e,o);a<n&&(r=i+7,n=a)}return n<=3?t.getVersionForNumber(r):null},t.prototype.buildFunctionPattern=function(){var t=this.getDimensionForVersion(),e=new nt(t);e.setRegion(0,0,9,9),e.setRegion(t-8,0,8,9),e.setRegion(0,t-8,9,8);for(var n=this.alignmentPatternCenters.length,r=0;r<n;r++)for(var i=this.alignmentPatternCenters[r]-2,o=0;o<n;o++)0===r&&(0===o||o===n-1)||r===n-1&&0===o||e.setRegion(this.alignmentPatternCenters[o]-2,i,5,5);return e.setRegion(6,9,1,t-17),e.setRegion(9,6,t-17,1),this.versionNumber>6&&(e.setRegion(t-11,0,3,6),e.setRegion(0,t-11,6,3)),e},t.prototype.toString=function(){return""+this.versionNumber},t.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),t.VERSIONS=[new t(1,new Int32Array(0),new kr(7,new Rr(1,19)),new kr(10,new Rr(1,16)),new kr(13,new Rr(1,13)),new kr(17,new Rr(1,9))),new t(2,Int32Array.from([6,18]),new kr(10,new Rr(1,34)),new kr(16,new Rr(1,28)),new kr(22,new Rr(1,22)),new kr(28,new Rr(1,16))),new t(3,Int32Array.from([6,22]),new kr(15,new Rr(1,55)),new kr(26,new Rr(1,44)),new kr(18,new Rr(2,17)),new kr(22,new Rr(2,13))),new t(4,Int32Array.from([6,26]),new kr(20,new Rr(1,80)),new kr(18,new Rr(2,32)),new kr(26,new Rr(2,24)),new kr(16,new Rr(4,9))),new t(5,Int32Array.from([6,30]),new kr(26,new Rr(1,108)),new kr(24,new Rr(2,43)),new kr(18,new Rr(2,15),new Rr(2,16)),new kr(22,new Rr(2,11),new Rr(2,12))),new t(6,Int32Array.from([6,34]),new kr(18,new Rr(2,68)),new kr(16,new Rr(4,27)),new kr(24,new Rr(4,19)),new kr(28,new Rr(4,15))),new t(7,Int32Array.from([6,22,38]),new kr(20,new Rr(2,78)),new kr(18,new Rr(4,31)),new kr(18,new Rr(2,14),new Rr(4,15)),new kr(26,new Rr(4,13),new Rr(1,14))),new t(8,Int32Array.from([6,24,42]),new kr(24,new Rr(2,97)),new kr(22,new Rr(2,38),new Rr(2,39)),new kr(22,new Rr(4,18),new Rr(2,19)),new kr(26,new Rr(4,14),new Rr(2,15))),new t(9,Int32Array.from([6,26,46]),new kr(30,new Rr(2,116)),new kr(22,new Rr(3,36),new Rr(2,37)),new kr(20,new Rr(4,16),new Rr(4,17)),new kr(24,new Rr(4,12),new Rr(4,13))),new t(10,Int32Array.from([6,28,50]),new kr(18,new Rr(2,68),new Rr(2,69)),new kr(26,new Rr(4,43),new Rr(1,44)),new kr(24,new Rr(6,19),new Rr(2,20)),new kr(28,new Rr(6,15),new Rr(2,16))),new t(11,Int32Array.from([6,30,54]),new kr(20,new Rr(4,81)),new kr(30,new Rr(1,50),new Rr(4,51)),new kr(28,new Rr(4,22),new Rr(4,23)),new kr(24,new Rr(3,12),new Rr(8,13))),new t(12,Int32Array.from([6,32,58]),new kr(24,new Rr(2,92),new Rr(2,93)),new kr(22,new Rr(6,36),new Rr(2,37)),new kr(26,new Rr(4,20),new Rr(6,21)),new kr(28,new Rr(7,14),new Rr(4,15))),new t(13,Int32Array.from([6,34,62]),new kr(26,new Rr(4,107)),new kr(22,new Rr(8,37),new Rr(1,38)),new kr(24,new Rr(8,20),new Rr(4,21)),new kr(22,new Rr(12,11),new Rr(4,12))),new t(14,Int32Array.from([6,26,46,66]),new kr(30,new Rr(3,115),new Rr(1,116)),new kr(24,new Rr(4,40),new Rr(5,41)),new kr(20,new Rr(11,16),new Rr(5,17)),new kr(24,new Rr(11,12),new Rr(5,13))),new t(15,Int32Array.from([6,26,48,70]),new kr(22,new Rr(5,87),new Rr(1,88)),new kr(24,new Rr(5,41),new Rr(5,42)),new kr(30,new Rr(5,24),new Rr(7,25)),new kr(24,new Rr(11,12),new Rr(7,13))),new t(16,Int32Array.from([6,26,50,74]),new kr(24,new Rr(5,98),new Rr(1,99)),new kr(28,new Rr(7,45),new Rr(3,46)),new kr(24,new Rr(15,19),new Rr(2,20)),new kr(30,new Rr(3,15),new Rr(13,16))),new t(17,Int32Array.from([6,30,54,78]),new kr(28,new Rr(1,107),new Rr(5,108)),new kr(28,new Rr(10,46),new Rr(1,47)),new kr(28,new Rr(1,22),new Rr(15,23)),new kr(28,new Rr(2,14),new Rr(17,15))),new t(18,Int32Array.from([6,30,56,82]),new kr(30,new Rr(5,120),new Rr(1,121)),new kr(26,new Rr(9,43),new Rr(4,44)),new kr(28,new Rr(17,22),new Rr(1,23)),new kr(28,new Rr(2,14),new Rr(19,15))),new t(19,Int32Array.from([6,30,58,86]),new kr(28,new Rr(3,113),new Rr(4,114)),new kr(26,new Rr(3,44),new Rr(11,45)),new kr(26,new Rr(17,21),new Rr(4,22)),new kr(26,new Rr(9,13),new Rr(16,14))),new t(20,Int32Array.from([6,34,62,90]),new kr(28,new Rr(3,107),new Rr(5,108)),new kr(26,new Rr(3,41),new Rr(13,42)),new kr(30,new Rr(15,24),new Rr(5,25)),new kr(28,new Rr(15,15),new Rr(10,16))),new t(21,Int32Array.from([6,28,50,72,94]),new kr(28,new Rr(4,116),new Rr(4,117)),new kr(26,new Rr(17,42)),new kr(28,new Rr(17,22),new Rr(6,23)),new kr(30,new Rr(19,16),new Rr(6,17))),new t(22,Int32Array.from([6,26,50,74,98]),new kr(28,new Rr(2,111),new Rr(7,112)),new kr(28,new Rr(17,46)),new kr(30,new Rr(7,24),new Rr(16,25)),new kr(24,new Rr(34,13))),new t(23,Int32Array.from([6,30,54,78,102]),new kr(30,new Rr(4,121),new Rr(5,122)),new kr(28,new Rr(4,47),new Rr(14,48)),new kr(30,new Rr(11,24),new Rr(14,25)),new kr(30,new Rr(16,15),new Rr(14,16))),new t(24,Int32Array.from([6,28,54,80,106]),new kr(30,new Rr(6,117),new Rr(4,118)),new kr(28,new Rr(6,45),new Rr(14,46)),new kr(30,new Rr(11,24),new Rr(16,25)),new kr(30,new Rr(30,16),new Rr(2,17))),new t(25,Int32Array.from([6,32,58,84,110]),new kr(26,new Rr(8,106),new Rr(4,107)),new kr(28,new Rr(8,47),new Rr(13,48)),new kr(30,new Rr(7,24),new Rr(22,25)),new kr(30,new Rr(22,15),new Rr(13,16))),new t(26,Int32Array.from([6,30,58,86,114]),new kr(28,new Rr(10,114),new Rr(2,115)),new kr(28,new Rr(19,46),new Rr(4,47)),new kr(28,new Rr(28,22),new Rr(6,23)),new kr(30,new Rr(33,16),new Rr(4,17))),new t(27,Int32Array.from([6,34,62,90,118]),new kr(30,new Rr(8,122),new Rr(4,123)),new kr(28,new Rr(22,45),new Rr(3,46)),new kr(30,new Rr(8,23),new Rr(26,24)),new kr(30,new Rr(12,15),new Rr(28,16))),new t(28,Int32Array.from([6,26,50,74,98,122]),new kr(30,new Rr(3,117),new Rr(10,118)),new kr(28,new Rr(3,45),new Rr(23,46)),new kr(30,new Rr(4,24),new Rr(31,25)),new kr(30,new Rr(11,15),new Rr(31,16))),new t(29,Int32Array.from([6,30,54,78,102,126]),new kr(30,new Rr(7,116),new Rr(7,117)),new kr(28,new Rr(21,45),new Rr(7,46)),new kr(30,new Rr(1,23),new Rr(37,24)),new kr(30,new Rr(19,15),new Rr(26,16))),new t(30,Int32Array.from([6,26,52,78,104,130]),new kr(30,new Rr(5,115),new Rr(10,116)),new kr(28,new Rr(19,47),new Rr(10,48)),new kr(30,new Rr(15,24),new Rr(25,25)),new kr(30,new Rr(23,15),new Rr(25,16))),new t(31,Int32Array.from([6,30,56,82,108,134]),new kr(30,new Rr(13,115),new Rr(3,116)),new kr(28,new Rr(2,46),new Rr(29,47)),new kr(30,new Rr(42,24),new Rr(1,25)),new kr(30,new Rr(23,15),new Rr(28,16))),new t(32,Int32Array.from([6,34,60,86,112,138]),new kr(30,new Rr(17,115)),new kr(28,new Rr(10,46),new Rr(23,47)),new kr(30,new Rr(10,24),new Rr(35,25)),new kr(30,new Rr(19,15),new Rr(35,16))),new t(33,Int32Array.from([6,30,58,86,114,142]),new kr(30,new Rr(17,115),new Rr(1,116)),new kr(28,new Rr(14,46),new Rr(21,47)),new kr(30,new Rr(29,24),new Rr(19,25)),new kr(30,new Rr(11,15),new Rr(46,16))),new t(34,Int32Array.from([6,34,62,90,118,146]),new kr(30,new Rr(13,115),new Rr(6,116)),new kr(28,new Rr(14,46),new Rr(23,47)),new kr(30,new Rr(44,24),new Rr(7,25)),new kr(30,new Rr(59,16),new Rr(1,17))),new t(35,Int32Array.from([6,30,54,78,102,126,150]),new kr(30,new Rr(12,121),new Rr(7,122)),new kr(28,new Rr(12,47),new Rr(26,48)),new kr(30,new Rr(39,24),new Rr(14,25)),new kr(30,new Rr(22,15),new Rr(41,16))),new t(36,Int32Array.from([6,24,50,76,102,128,154]),new kr(30,new Rr(6,121),new Rr(14,122)),new kr(28,new Rr(6,47),new Rr(34,48)),new kr(30,new Rr(46,24),new Rr(10,25)),new kr(30,new Rr(2,15),new Rr(64,16))),new t(37,Int32Array.from([6,28,54,80,106,132,158]),new kr(30,new Rr(17,122),new Rr(4,123)),new kr(28,new Rr(29,46),new Rr(14,47)),new kr(30,new Rr(49,24),new Rr(10,25)),new kr(30,new Rr(24,15),new Rr(46,16))),new t(38,Int32Array.from([6,32,58,84,110,136,162]),new kr(30,new Rr(4,122),new Rr(18,123)),new kr(28,new Rr(13,46),new Rr(32,47)),new kr(30,new Rr(48,24),new Rr(14,25)),new kr(30,new Rr(42,15),new Rr(32,16))),new t(39,Int32Array.from([6,26,54,82,110,138,166]),new kr(30,new Rr(20,117),new Rr(4,118)),new kr(28,new Rr(40,47),new Rr(7,48)),new kr(30,new Rr(43,24),new Rr(22,25)),new kr(30,new Rr(10,15),new Rr(67,16))),new t(40,Int32Array.from([6,30,58,86,114,142,170]),new kr(30,new Rr(19,118),new Rr(6,119)),new kr(28,new Rr(18,47),new Rr(31,48)),new kr(30,new Rr(34,24),new Rr(34,25)),new kr(30,new Rr(20,15),new Rr(61,16)))],t}();!function(t){t[t.DATA_MASK_000=0]="DATA_MASK_000",t[t.DATA_MASK_001=1]="DATA_MASK_001",t[t.DATA_MASK_010=2]="DATA_MASK_010",t[t.DATA_MASK_011=3]="DATA_MASK_011",t[t.DATA_MASK_100=4]="DATA_MASK_100",t[t.DATA_MASK_101=5]="DATA_MASK_101",t[t.DATA_MASK_110=6]="DATA_MASK_110",t[t.DATA_MASK_111=7]="DATA_MASK_111"}(Or||(Or={}));var Nr,Pr=function(){function t(t,e){this.value=t,this.isMasked=e}return t.prototype.unmaskBitMatrix=function(t,e){for(var n=0;n<e;n++)for(var r=0;r<e;r++)this.isMasked(n,r)&&t.flip(r,n)},t.values=new Map([[Or.DATA_MASK_000,new t(Or.DATA_MASK_000,function(t,e){return 0==(t+e&1)})],[Or.DATA_MASK_001,new t(Or.DATA_MASK_001,function(t,e){return 0==(1&t)})],[Or.DATA_MASK_010,new t(Or.DATA_MASK_010,function(t,e){return e%3==0})],[Or.DATA_MASK_011,new t(Or.DATA_MASK_011,function(t,e){return(t+e)%3==0})],[Or.DATA_MASK_100,new t(Or.DATA_MASK_100,function(t,e){return 0==(Math.floor(t/2)+Math.floor(e/3)&1)})],[Or.DATA_MASK_101,new t(Or.DATA_MASK_101,function(t,e){return t*e%6==0})],[Or.DATA_MASK_110,new t(Or.DATA_MASK_110,function(t,e){return t*e%6<3})],[Or.DATA_MASK_111,new t(Or.DATA_MASK_111,function(t,e){return 0==(t+e+t*e%3&1)})]]),t}(),Dr=function(){function t(t){var e=t.getHeight();if(e<21||1!=(3&e))throw new V;this.bitMatrix=t}return t.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var t=0,e=0;e<6;e++)t=this.copyBit(e,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(var n=5;n>=0;n--)t=this.copyBit(8,n,t);var r=this.bitMatrix.getHeight(),i=0,o=r-7;for(n=r-1;n>=o;n--)i=this.copyBit(8,n,i);for(e=r-8;e<r;e++)i=this.copyBit(e,8,i);if(this.parsedFormatInfo=Ir.decodeFormatInformation(t,i),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new V},t.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var t=this.bitMatrix.getHeight(),e=Math.floor((t-17)/4);if(e<=6)return Mr.getVersionForNumber(e);for(var n=0,r=t-11,i=5;i>=0;i--)for(var o=t-9;o>=r;o--)n=this.copyBit(o,i,n);var a=Mr.decodeVersionInformation(n);if(null!==a&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;for(n=0,o=5;o>=0;o--)for(i=t-9;i>=r;i--)n=this.copyBit(o,i,n);if(null!==(a=Mr.decodeVersionInformation(n))&&a.getDimensionForVersion()===t)return this.parsedVersion=a,a;throw new V},t.prototype.copyBit=function(t,e,n){return(this.isMirror?this.bitMatrix.get(e,t):this.bitMatrix.get(t,e))?n<<1|1:n<<1},t.prototype.readCodewords=function(){var t=this.readFormatInformation(),e=this.readVersion(),n=Pr.values.get(t.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);for(var i=e.buildFunctionPattern(),o=!0,a=new Uint8Array(e.getTotalCodewords()),s=0,u=0,c=0,l=r-1;l>0;l-=2){6===l&&l--;for(var h=0;h<r;h++)for(var f=o?r-1-h:h,d=0;d<2;d++)i.get(l-d,f)||(c++,u<<=1,this.bitMatrix.get(l-d,f)&&(u|=1),8===c&&(a[s++]=u,c=0,u=0));o=!o}if(s!==e.getTotalCodewords())throw new V;return a},t.prototype.remask=function(){if(null!==this.parsedFormatInfo){var t=Pr.values[this.parsedFormatInfo.getDataMask()],e=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,e)}},t.prototype.setMirror=function(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t},t.prototype.mirror=function(){for(var t=this.bitMatrix,e=0,n=t.getWidth();e<n;e++)for(var r=e+1,i=t.getHeight();r<i;r++)t.get(e,r)!==t.get(r,e)&&(t.flip(r,e),t.flip(e,r))},t}(),xr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Lr=function(){function t(t,e){this.numDataCodewords=t,this.codewords=e}return t.getDataBlocks=function(e,n,r){var i,o,a,s;if(e.length!==n.getTotalCodewords())throw new E;var u=n.getECBlocksForLevel(r),c=0,l=u.getECBlocks();try{for(var h=xr(l),f=h.next();!f.done;f=h.next())c+=(m=f.value).getCount()}catch(k){i={error:k}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(i)throw i.error}}var d=new Array(c),p=0;try{for(var g=xr(l),v=g.next();!v.done;v=g.next())for(var m=v.value,y=0;y<m.getCount();y++){var b=m.getDataCodewords(),w=u.getECCodewordsPerBlock()+b;d[p++]=new t(b,new Uint8Array(w))}}catch(R){a={error:R}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(a)throw a.error}}for(var _=d[0].codewords.length,C=d.length-1;C>=0&&d[C].codewords.length!==_;)C--;C++;var S=_-u.getECCodewordsPerBlock(),O=0;for(y=0;y<S;y++)for(var A=0;A<p;A++)d[A].codewords[y]=e[O++];for(A=C;A<p;A++)d[A].codewords[S]=e[O++];var I=d[0].codewords.length;for(y=S;y<I;y++)for(A=0;A<p;A++)d[A].codewords[A<C?y:y+1]=e[O++];return d},t.prototype.getNumDataCodewords=function(){return this.numDataCodewords},t.prototype.getCodewords=function(){return this.codewords},t}();!function(t){t[t.TERMINATOR=0]="TERMINATOR",t[t.NUMERIC=1]="NUMERIC",t[t.ALPHANUMERIC=2]="ALPHANUMERIC",t[t.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",t[t.BYTE=4]="BYTE",t[t.ECI=5]="ECI",t[t.KANJI=6]="KANJI",t[t.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",t[t.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",t[t.HANZI=9]="HANZI"}(Nr||(Nr={}));var Br,Fr,jr,Ur,Vr,Hr,Wr,zr,Gr,Xr=function(){function t(e,n,r,i){this.value=e,this.stringValue=n,this.characterCountBitsForVersions=r,this.bits=i,t.FOR_BITS.set(i,this),t.FOR_VALUE.set(e,this)}return t.forBits=function(e){var n=t.FOR_BITS.get(e);if(void 0===n)throw new E;return n},t.prototype.getCharacterCountBits=function(t){var e=t.getVersionNumber();return this.characterCountBitsForVersions[e<=9?0:e<=26?1:2]},t.prototype.getValue=function(){return this.value},t.prototype.getBits=function(){return this.bits},t.prototype.equals=function(e){return e instanceof t&&this.value===e.value},t.prototype.toString=function(){return this.stringValue},t.FOR_BITS=new Map,t.FOR_VALUE=new Map,t.TERMINATOR=new t(Nr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),t.NUMERIC=new t(Nr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),t.ALPHANUMERIC=new t(Nr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),t.STRUCTURED_APPEND=new t(Nr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),t.BYTE=new t(Nr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),t.ECI=new t(Nr.ECI,"ECI",Int32Array.from([0,0,0]),7),t.KANJI=new t(Nr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),t.FNC1_FIRST_POSITION=new t(Nr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),t.FNC1_SECOND_POSITION=new t(Nr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),t.HANZI=new t(Nr.HANZI,"HANZI",Int32Array.from([8,10,12]),13),t}(),Zr=function(){function t(){}return t.decode=function(e,n,r,i){var o=new mr(e),a=new et,s=new Array,u=-1,c=-1;try{var l=null,h=!1,f=void 0;do{if(o.available()<4)f=Xr.TERMINATOR;else{var d=o.readBits(4);f=Xr.forBits(d)}switch(f){case Xr.TERMINATOR:break;case Xr.FNC1_FIRST_POSITION:case Xr.FNC1_SECOND_POSITION:h=!0;break;case Xr.STRUCTURED_APPEND:if(o.available()<16)throw new V;u=o.readBits(8),c=o.readBits(8);break;case Xr.ECI:var p=t.parseECIValue(o);if(null===(l=K.getCharacterSetECIByValue(p)))throw new V;break;case Xr.HANZI:var g=o.readBits(4),v=o.readBits(f.getCharacterCountBits(n));g===t.GB2312_SUBSET&&t.decodeHanziSegment(o,a,v);break;default:var m=o.readBits(f.getCharacterCountBits(n));switch(f){case Xr.NUMERIC:t.decodeNumericSegment(o,a,m);break;case Xr.ALPHANUMERIC:t.decodeAlphanumericSegment(o,a,m,h);break;case Xr.BYTE:t.decodeByteSegment(o,a,m,l,s,i);break;case Xr.KANJI:t.decodeKanjiSegment(o,a,m);break;default:throw new V}}}while(f!==Xr.TERMINATOR)}catch(y){throw new V}return new It(e,a.toString(),0===s.length?null:s,null===r?null:r.toString(),u,c)},t.decodeHanziSegment=function(t,e,n){if(13*n>t.available())throw new V;for(var r=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),a=o/96<<8&4294967295|o%96;r[i]=(a+=a<959?41377:42657)>>8&255,r[i+1]=255&a,i+=2,n--}try{e.append($.decode(r,tt.GB2312))}catch(s){throw new V(s)}},t.decodeKanjiSegment=function(t,e,n){if(13*n>t.available())throw new V;for(var r=new Uint8Array(2*n),i=0;n>0;){var o=t.readBits(13),a=o/192<<8&4294967295|o%192;r[i]=(a+=a<7936?33088:49472)>>8,r[i+1]=a,i+=2,n--}try{e.append($.decode(r,tt.SHIFT_JIS))}catch(s){throw new V(s)}},t.decodeByteSegment=function(t,e,n,r,i,o){if(8*n>t.available())throw new V;for(var a,s=new Uint8Array(n),u=0;u<n;u++)s[u]=t.readBits(8);a=null===r?tt.guessEncoding(s,o):r.getName();try{e.append($.decode(s,a))}catch(c){throw new V(c)}i.push(s)},t.toAlphaNumericChar=function(e){if(e>=t.ALPHANUMERIC_CHARS.length)throw new V;return t.ALPHANUMERIC_CHARS[e]},t.decodeAlphanumericSegment=function(e,n,r,i){for(var o=n.length();r>1;){if(e.available()<11)throw new V;var a=e.readBits(11);n.append(t.toAlphaNumericChar(Math.floor(a/45))),n.append(t.toAlphaNumericChar(a%45)),r-=2}if(1===r){if(e.available()<6)throw new V;n.append(t.toAlphaNumericChar(e.readBits(6)))}if(i)for(var s=o;s<n.length();s++)"%"===n.charAt(s)&&(s<n.length()-1&&"%"===n.charAt(s+1)?n.deleteCharAt(s+1):n.setCharAt(s,String.fromCharCode(29)))},t.decodeNumericSegment=function(e,n,r){for(;r>=3;){if(e.available()<10)throw new V;var i=e.readBits(10);if(i>=1e3)throw new V;n.append(t.toAlphaNumericChar(Math.floor(i/100))),n.append(t.toAlphaNumericChar(Math.floor(i/10)%10)),n.append(t.toAlphaNumericChar(i%10)),r-=3}if(2===r){if(e.available()<7)throw new V;var o=e.readBits(7);if(o>=100)throw new V;n.append(t.toAlphaNumericChar(Math.floor(o/10))),n.append(t.toAlphaNumericChar(o%10))}else if(1===r){if(e.available()<4)throw new V;var a=e.readBits(4);if(a>=10)throw new V;n.append(t.toAlphaNumericChar(a))}},t.parseECIValue=function(t){var e=t.readBits(8);if(0==(128&e))return 127&e;if(128==(192&e))return(63&e)<<8&4294967295|t.readBits(8);if(192==(224&e))return(31&e)<<16&4294967295|t.readBits(16);throw new V},t.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",t.GB2312_SUBSET=1,t}(),qr=function(){function t(t){this.mirrored=t}return t.prototype.isMirrored=function(){return this.mirrored},t.prototype.applyMirroredCorrection=function(t){if(this.mirrored&&null!==t&&!(t.length<3)){var e=t[0];t[0]=t[2],t[2]=e}},t}(),Yr=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Kr=function(){function t(){this.rsDecoder=new Ft(Pt.QR_CODE_FIELD_256)}return t.prototype.decodeBooleanArray=function(t,e){return this.decodeBitMatrix(nt.parseFromBooleanArray(t),e)},t.prototype.decodeBitMatrix=function(t,e){var n=new Dr(t),r=null;try{return this.decodeBitMatrixParser(n,e)}catch(o){r=o}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();var i=this.decodeBitMatrixParser(n,e);return i.setOther(new qr(!0)),i}catch(o){if(null!==r)throw r;throw o}},t.prototype.decodeBitMatrixParser=function(t,e){var n,r,i,o,a=t.readVersion(),s=t.readFormatInformation().getErrorCorrectionLevel(),u=t.readCodewords(),c=Lr.getDataBlocks(u,a,s),l=0;try{for(var h=Yr(c),f=h.next();!f.done;f=h.next())l+=(m=f.value).getNumDataCodewords()}catch(_){n={error:_}}finally{try{f&&!f.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}var d=new Uint8Array(l),p=0;try{for(var g=Yr(c),v=g.next();!v.done;v=g.next()){var m,y=(m=v.value).getCodewords(),b=m.getNumDataCodewords();this.correctErrors(y,b);for(var w=0;w<b;w++)d[p++]=y[w]}}catch(C){i={error:C}}finally{try{v&&!v.done&&(o=g.return)&&o.call(g)}finally{if(i)throw i.error}}return Zr.decode(d,a,s,e)},t.prototype.correctErrors=function(t,e){var n=new Int32Array(t);try{this.rsDecoder.decode(n,t.length-e)}catch(i){throw new I}for(var r=0;r<e;r++)t[r]=n[r]},t}(),Qr=(Br=function(t,e){return(Br=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Br(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jr=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.estimatedModuleSize=r,i}return Qr(e,t),e.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,r){return new e((this.getX()+n)/2,(this.getY()+t)/2,(this.estimatedModuleSize+r)/2)},e}(Ce),$r=function(){function t(t,e,n,r,i,o,a){this.image=t,this.startX=e,this.startY=n,this.width=r,this.height=i,this.moduleSize=o,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return t.prototype.find=function(){for(var t=this.startX,e=this.height,n=t+this.width,r=this.startY+e/2,i=new Int32Array(3),o=this.image,a=0;a<e;a++){var s=r+(0==(1&a)?Math.floor((a+1)/2):-Math.floor((a+1)/2));i[0]=0,i[1]=0,i[2]=0;for(var u=t;u<n&&!o.get(u,s);)u++;for(var c=0;u<n;){if(o.get(u,s))if(1===c)i[1]++;else if(2===c){var l;if(this.foundPatternCross(i)&&null!==(l=this.handlePossibleCenter(i,s,u)))return l;i[0]=i[2],i[1]=1,i[2]=0,c=1}else i[++c]++;else 1===c&&c++,i[c]++;u++}if(this.foundPatternCross(i)&&null!==(l=this.handlePossibleCenter(i,s,n)))return l}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new it},t.centerFromEnd=function(t,e){return e-t[2]-t[1]/2},t.prototype.foundPatternCross=function(t){for(var e=this.moduleSize,n=e/2,r=0;r<3;r++)if(Math.abs(e-t[r])>=n)return!1;return!0},t.prototype.crossCheckVertical=function(e,n,r,i){var o=this.image,a=o.getHeight(),s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var u=e;u>=0&&o.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&!o.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(n,u)&&s[1]<=r;)s[1]++,u++;if(u===a||s[1]>r)return NaN;for(;u<a&&!o.get(n,u)&&s[2]<=r;)s[2]++,u++;return s[2]>r||5*Math.abs(s[0]+s[1]+s[2]-i)>=2*i?NaN:this.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r){var i,o,a=e[0]+e[1]+e[2],s=t.centerFromEnd(e,r),u=this.crossCheckVertical(n,s,2*e[1],a);if(!isNaN(u)){var c=(e[0]+e[1]+e[2])/3;try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.possibleCenters),h=l.next();!h.done;h=l.next()){var f=h.value;if(f.aboutEquals(c,u,s))return f.combineEstimate(u,s,c)}}catch(p){i={error:p}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}var d=new Jr(s,u,c);this.possibleCenters.push(d),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(d)}return null},t}(),ti=(Fr=function(t,e){return(Fr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Fr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ei=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.estimatedModuleSize=r,o.count=i,void 0===i&&(o.count=1),o}return ti(e,t),e.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},e.prototype.getCount=function(){return this.count},e.prototype.aboutEquals=function(t,e,n){if(Math.abs(e-this.getY())<=t&&Math.abs(n-this.getX())<=t){var r=Math.abs(t-this.estimatedModuleSize);return r<=1||r<=this.estimatedModuleSize}return!1},e.prototype.combineEstimate=function(t,n,r){var i=this.count+1;return new e((this.count*this.getX()+n)/i,(this.count*this.getY()+t)/i,(this.count*this.estimatedModuleSize+r)/i,i)},e}(Ce),ni=function(){function t(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}return t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t}(),ri=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},ii=function(){function t(t,e){this.image=t,this.resultPointCallback=e,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=e}return t.prototype.getImage=function(){return this.image},t.prototype.getPossibleCenters=function(){return this.possibleCenters},t.prototype.find=function(e){var n=null!=e&&void 0!==e.get(j.TRY_HARDER),r=null!=e&&void 0!==e.get(j.PURE_BARCODE),i=this.image,o=i.getHeight(),a=i.getWidth(),s=Math.floor(3*o/(4*t.MAX_MODULES));(s<t.MIN_SKIP||n)&&(s=t.MIN_SKIP);for(var u=!1,c=new Int32Array(5),l=s-1;l<o&&!u;l+=s){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;for(var h=0,f=0;f<a;f++)if(i.get(f,l))1==(1&h)&&h++,c[h]++;else if(0==(1&h))if(4===h)if(t.foundPatternCross(c)){if(!0!==this.handlePossibleCenter(c,l,f,r)){c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,h=3;continue}if(s=2,!0===this.hasSkipped)u=this.haveMultiplyConfirmedCenters();else{var d=this.findRowSkip();d>c[2]&&(l+=d-c[2]-s,f=a-1)}h=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,h=3;else c[++h]++;else c[h]++;t.foundPatternCross(c)&&!0===this.handlePossibleCenter(c,l,a,r)&&(s=c[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return Ce.orderBestPatterns(p),new ni(p)},t.centerFromEnd=function(t,e){return e-t[4]-t[3]-t[2]/2},t.foundPatternCross=function(t){for(var e=0,n=0;n<5;n++){var r=t[n];if(0===r)return!1;e+=r}if(e<7)return!1;var i=e/7,o=i/2;return Math.abs(i-t[0])<o&&Math.abs(i-t[1])<o&&Math.abs(3*i-t[2])<3*o&&Math.abs(i-t[3])<o&&Math.abs(i-t[4])<o},t.prototype.getCrossCheckStateCount=function(){var t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t},t.prototype.crossCheckDiagonal=function(e,n,r,i){for(var o=this.getCrossCheckStateCount(),a=0,s=this.image;e>=a&&n>=a&&s.get(n-a,e-a);)o[2]++,a++;if(e<a||n<a)return!1;for(;e>=a&&n>=a&&!s.get(n-a,e-a)&&o[1]<=r;)o[1]++,a++;if(e<a||n<a||o[1]>r)return!1;for(;e>=a&&n>=a&&s.get(n-a,e-a)&&o[0]<=r;)o[0]++,a++;if(o[0]>r)return!1;var u=s.getHeight(),c=s.getWidth();for(a=1;e+a<u&&n+a<c&&s.get(n+a,e+a);)o[2]++,a++;if(e+a>=u||n+a>=c)return!1;for(;e+a<u&&n+a<c&&!s.get(n+a,e+a)&&o[3]<r;)o[3]++,a++;if(e+a>=u||n+a>=c||o[3]>=r)return!1;for(;e+a<u&&n+a<c&&s.get(n+a,e+a)&&o[4]<r;)o[4]++,a++;return!(o[4]>=r)&&Math.abs(o[0]+o[1]+o[2]+o[3]+o[4]-i)<2*i&&t.foundPatternCross(o)},t.prototype.crossCheckVertical=function(e,n,r,i){for(var o=this.image,a=o.getHeight(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(n,u);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(n,u)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&o.get(n,u)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(n,u);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(n,u)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&o.get(n,u)&&s[4]<r;)s[4]++,u++;return s[4]>=r||5*Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-i)>=2*i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.crossCheckHorizontal=function(e,n,r,i){for(var o=this.image,a=o.getWidth(),s=this.getCrossCheckStateCount(),u=e;u>=0&&o.get(u,n);)s[2]++,u--;if(u<0)return NaN;for(;u>=0&&!o.get(u,n)&&s[1]<=r;)s[1]++,u--;if(u<0||s[1]>r)return NaN;for(;u>=0&&o.get(u,n)&&s[0]<=r;)s[0]++,u--;if(s[0]>r)return NaN;for(u=e+1;u<a&&o.get(u,n);)s[2]++,u++;if(u===a)return NaN;for(;u<a&&!o.get(u,n)&&s[3]<r;)s[3]++,u++;if(u===a||s[3]>=r)return NaN;for(;u<a&&o.get(u,n)&&s[4]<r;)s[4]++,u++;return s[4]>=r||5*Math.abs(s[0]+s[1]+s[2]+s[3]+s[4]-i)>=i?NaN:t.foundPatternCross(s)?t.centerFromEnd(s,u):NaN},t.prototype.handlePossibleCenter=function(e,n,r,i){var o=e[0]+e[1]+e[2]+e[3]+e[4],a=t.centerFromEnd(e,r),s=this.crossCheckVertical(n,Math.floor(a),e[2],o);if(!isNaN(s)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(s),e[2],o),!isNaN(a)&&(!i||this.crossCheckDiagonal(Math.floor(s),Math.floor(a),e[2],o)))){for(var u=o/7,c=!1,l=this.possibleCenters,h=0,f=l.length;h<f;h++){var d=l[h];if(d.aboutEquals(u,s,a)){l[h]=d.combineEstimate(s,a,u),c=!0;break}}if(!c){var p=new ei(a,s,u);l.push(p),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return!0}return!1},t.prototype.findRowSkip=function(){var e,n;if(this.possibleCenters.length<=1)return 0;var r=null;try{for(var i=ri(this.possibleCenters),o=i.next();!o.done;o=i.next()){var a=o.value;if(a.getCount()>=t.CENTER_QUORUM){if(null!=r)return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-a.getX())-Math.abs(r.getY()-a.getY()))/2);r=a}}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return 0},t.prototype.haveMultiplyConfirmedCenters=function(){var e,n,r,i,o=0,a=0,s=this.possibleCenters.length;try{for(var u=ri(this.possibleCenters),c=u.next();!c.done;c=u.next())(p=c.value).getCount()>=t.CENTER_QUORUM&&(o++,a+=p.getEstimatedModuleSize())}catch(g){e={error:g}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}if(o<3)return!1;var l=a/s,h=0;try{for(var f=ri(this.possibleCenters),d=f.next();!d.done;d=f.next()){var p=d.value;h+=Math.abs(p.getEstimatedModuleSize()-l)}}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}return h<=.05*a},t.prototype.selectBestPatterns=function(){var t,e,n,r,i=this.possibleCenters.length;if(i<3)throw new it;var o,a=this.possibleCenters;if(i>3){var s=0,u=0;try{for(var c=ri(this.possibleCenters),l=c.next();!l.done;l=c.next()){var h=l.value.getEstimatedModuleSize();s+=h,u+=h*h}}catch(m){t={error:m}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}o=s/i;var f=Math.sqrt(u/i-o*o);a.sort(function(t,e){var n=Math.abs(e.getEstimatedModuleSize()-o),r=Math.abs(t.getEstimatedModuleSize()-o);return n<r?-1:n>r?1:0});for(var d=Math.max(.2*o,f),p=0;p<a.length&&a.length>3;p++)Math.abs(a[p].getEstimatedModuleSize()-o)>d&&(a.splice(p,1),p--)}if(a.length>3){s=0;try{for(var g=ri(a),v=g.next();!v.done;v=g.next())s+=v.value.getEstimatedModuleSize()}catch(y){n={error:y}}finally{try{v&&!v.done&&(r=g.return)&&r.call(g)}finally{if(n)throw n.error}}o=s/a.length,a.sort(function(t,e){if(e.getCount()===t.getCount()){var n=Math.abs(e.getEstimatedModuleSize()-o),r=Math.abs(t.getEstimatedModuleSize()-o);return n<r?1:n>r?-1:0}return e.getCount()-t.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]},t.CENTER_QUORUM=2,t.MIN_SKIP=3,t.MAX_MODULES=57,t}(),oi=function(){function t(t){this.image=t}return t.prototype.getImage=function(){return this.image},t.prototype.getResultPointCallback=function(){return this.resultPointCallback},t.prototype.detect=function(t){this.resultPointCallback=null==t?null:t.get(j.NEED_RESULT_POINT_CALLBACK);var e=new ii(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(e)},t.prototype.processFinderPatternInfo=function(e){var n=e.getTopLeft(),r=e.getTopRight(),i=e.getBottomLeft(),o=this.calculateModuleSize(n,r,i);if(o<1)throw new it("No pattern found in proccess finder.");var a=t.computeDimension(n,r,i,o),s=Mr.getProvisionalVersionForDimension(a),u=s.getDimensionForVersion()-7,c=null;if(s.getAlignmentPatternCenters().length>0)for(var l=r.getX()-n.getX()+i.getX(),h=r.getY()-n.getY()+i.getY(),f=1-3/u,d=Math.floor(n.getX()+f*(l-n.getX())),p=Math.floor(n.getY()+f*(h-n.getY())),g=4;g<=16;g<<=1)try{c=this.findAlignmentInRegion(o,d,p,g);break}catch(y){if(!(y instanceof it))throw y}var v=t.createTransform(n,r,i,c,a),m=t.sampleGrid(this.image,v,a);return new Se(m,null===c?[i,n,r]:[i,n,r,c])},t.createTransform=function(t,e,n,r,i){var o,a,s,u,c=i-3.5;return null!==r?(o=r.getX(),a=r.getY(),u=s=c-3):(o=e.getX()-t.getX()+n.getX(),a=e.getY()-t.getY()+n.getY(),s=c,u=c),ke.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,s,u,3.5,c,t.getX(),t.getY(),e.getX(),e.getY(),o,a,n.getX(),n.getY())},t.sampleGrid=function(t,e,n){return Me.getInstance().sampleGridWithTransform(t,n,n,e)},t.computeDimension=function(t,e,n,r){var i=we.round(Ce.distance(t,e)/r),o=we.round(Ce.distance(t,n)/r),a=Math.floor((i+o)/2)+7;switch(3&a){case 0:a++;break;case 2:a--;break;case 3:throw new it("Dimensions could be not found.")}return a},t.prototype.calculateModuleSize=function(t,e,n){return(this.calculateModuleSizeOneWay(t,e)+this.calculateModuleSizeOneWay(t,n))/2},t.prototype.calculateModuleSizeOneWay=function(t,e){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14},t.prototype.sizeOfBlackWhiteBlackRunBothWays=function(t,e,n,r){var i=this.sizeOfBlackWhiteBlackRun(t,e,n,r),o=1,a=t-(n-t);a<0?(o=t/(t-a),a=0):a>=this.image.getWidth()&&(o=(this.image.getWidth()-1-t)/(a-t),a=this.image.getWidth()-1);var s=Math.floor(e-(r-e)*o);return o=1,s<0?(o=e/(e-s),s=0):s>=this.image.getHeight()&&(o=(this.image.getHeight()-1-e)/(s-e),s=this.image.getHeight()-1),a=Math.floor(t+(a-t)*o),(i+=this.sizeOfBlackWhiteBlackRun(t,e,a,s))-1},t.prototype.sizeOfBlackWhiteBlackRun=function(t,e,n,r){var i=Math.abs(r-e)>Math.abs(n-t);if(i){var o=t;t=e,e=o,o=n,n=r,r=o}for(var a=Math.abs(n-t),s=Math.abs(r-e),u=-a/2,c=t<n?1:-1,l=e<r?1:-1,h=0,f=n+c,d=t,p=e;d!==f;d+=c){if(1===h===this.image.get(i?p:d,i?d:p)){if(2===h)return we.distance(d,p,t,e);h++}if((u+=s)>0){if(p===r)break;p+=l,u-=a}}return 2===h?we.distance(n+c,r,t,e):NaN},t.prototype.findAlignmentInRegion=function(t,e,n,r){var i=Math.floor(r*t),o=Math.max(0,e-i),a=Math.min(this.image.getWidth()-1,e+i);if(a-o<3*t)throw new it("Alignment top exceeds estimated module size.");var s=Math.max(0,n-i),u=Math.min(this.image.getHeight()-1,n+i);if(u-s<3*t)throw new it("Alignment bottom exceeds estimated module size.");return new $r(this.image,o,s,a-o,u-s,t,this.resultPointCallback).find()},t}(),ai=function(){function t(){this.decoder=new Kr}return t.prototype.getDecoder=function(){return this.decoder},t.prototype.decode=function(e,n){var r,i;if(null!=n&&void 0!==n.get(j.PURE_BARCODE)){var o=t.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(o,n),i=t.NO_POINTS}else{var a=new oi(e.getBlackMatrix()).detect(n);r=this.decoder.decodeBitMatrix(a.getBits(),n),i=a.getPoints()}r.getOther()instanceof qr&&r.getOther().applyMirroredCorrection(i);var s=new yt(r.getText(),r.getRawBytes(),void 0,i,wt.QR_CODE,void 0),u=r.getByteSegments();null!==u&&s.putMetadata(At.BYTE_SEGMENTS,u);var c=r.getECLevel();return null!==c&&s.putMetadata(At.ERROR_CORRECTION_LEVEL,c),r.hasStructuredAppend()&&(s.putMetadata(At.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(At.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s},t.prototype.reset=function(){},t.extractPureBits=function(t){var e=t.getTopLeftOnBit(),n=t.getBottomRightOnBit();if(null===e||null===n)throw new it;var r=this.moduleSize(e,t),i=e[1],o=n[1],a=e[0],s=n[0];if(a>=s||i>=o)throw new it;if(o-i!=s-a&&(s=a+(o-i))>=t.getWidth())throw new it;var u=Math.round((s-a+1)/r),c=Math.round((o-i+1)/r);if(u<=0||c<=0)throw new it;if(c!==u)throw new it;var l=Math.floor(r/2);i+=l;var h=(a+=l)+Math.floor((u-1)*r)-s;if(h>0){if(h>l)throw new it;a-=h}var f=i+Math.floor((c-1)*r)-o;if(f>0){if(f>l)throw new it;i-=f}for(var d=new nt(u,c),p=0;p<c;p++)for(var g=i+Math.floor(p*r),v=0;v<u;v++)t.get(a+Math.floor(v*r),g)&&d.set(v,p);return d},t.moduleSize=function(t,e){for(var n=e.getHeight(),r=e.getWidth(),i=t[0],o=t[1],a=!0,s=0;i<r&&o<n;){if(a!==e.get(i,o)){if(5==++s)break;a=!a}i++,o++}if(i===r||o===n)throw new it;return(i-t[0])/7},t.NO_POINTS=new Array,t}(),si=function(){function t(){}return t.prototype.PDF417Common=function(){},t.getBitCountSum=function(t){return we.sum(t)},t.toIntArray=function(e){var n,r;if(null==e||!e.length)return t.EMPTY_INT_ARRAY;var i=new Int32Array(e.length),o=0;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),s=a.next();!s.done;s=a.next())i[o++]=s.value}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return i},t.getCodeword=function(e){var n=D.binarySearch(t.SYMBOL_TABLE,262143&e);return n<0?-1:(t.CODEWORD_TABLE[n]-1)%t.NUMBER_OF_CODEWORDS},t.MAX_CODEWORDS_IN_BARCODE=(t.NUMBER_OF_CODEWORDS=929)-1,t.MIN_ROWS_IN_BARCODE=3,t.MAX_ROWS_IN_BARCODE=90,t.MODULES_IN_CODEWORD=17,t.MODULES_IN_STOP_PATTERN=18,t.BARS_IN_MODULE=8,t.EMPTY_INT_ARRAY=new Int32Array([]),t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),t}(),ui=function(){function t(t,e){this.bits=t,this.points=e}return t.prototype.getBits=function(){return this.bits},t.prototype.getPoints=function(){return this.points},t}(),ci=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},li=function(){function t(){}return t.detectMultiple=function(e,n,r){var i=e.getBlackMatrix(),o=t.detect(r,i);return o.length||((i=i.clone()).rotate180(),o=t.detect(r,i)),new ui(i,o)},t.detect=function(e,n){for(var r,i,o=new Array,a=0,s=0,u=!1;a<n.getHeight();){var c=t.findVertices(n,a,s);if(null!=c[0]||null!=c[3]){if(u=!0,o.push(c),!e)break;null!=c[2]?(s=Math.trunc(c[2].getX()),a=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),a=Math.trunc(c[4].getY()))}else{if(!u)break;u=!1,s=0;try{for(var l=(r=void 0,ci(o)),h=l.next();!h.done;h=l.next()){var f=h.value;null!=f[1]&&(a=Math.trunc(Math.max(a,f[1].getY()))),null!=f[3]&&(a=Math.max(a,Math.trunc(f[3].getY())))}}catch(d){r={error:d}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}a+=t.ROW_STEP}}return o},t.findVertices=function(e,n,r){var i=e.getHeight(),o=e.getWidth(),a=new Array(8);return t.copyToResult(a,t.findRowsWithPattern(e,i,o,n,r,t.START_PATTERN),t.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),n=Math.trunc(a[4].getY())),t.copyToResult(a,t.findRowsWithPattern(e,i,o,n,r,t.STOP_PATTERN),t.INDEXES_STOP_PATTERN),a},t.copyToResult=function(t,e,n){for(var r=0;r<n.length;r++)t[n[r]]=e[r]},t.findRowsWithPattern=function(e,n,r,i,o,a){for(var s=new Array(4),u=!1,c=new Int32Array(a.length);i<n;i+=t.ROW_STEP)if(null!=(d=t.findGuardPattern(e,o,i,r,!1,a,c))){for(;i>0;){if(null==(f=t.findGuardPattern(e,o,--i,r,!1,a,c))){i++;break}d=f}s[0]=new Ce(d[0],i),s[1]=new Ce(d[1],i),u=!0;break}var l=i+1;if(u){for(var h=0,f=Int32Array.from([Math.trunc(s[0].getX()),Math.trunc(s[1].getX())]);l<n;l++){var d;if(null!=(d=t.findGuardPattern(e,f[0],l,r,!1,a,c))&&Math.abs(f[0]-d[0])<t.MAX_PATTERN_DRIFT&&Math.abs(f[1]-d[1])<t.MAX_PATTERN_DRIFT)f=d,h=0;else{if(h>t.SKIPPED_ROW_COUNT_MAX)break;h++}}s[2]=new Ce(f[0],l-=h+1),s[3]=new Ce(f[1],l)}return l-i<t.BARCODE_MIN_HEIGHT&&D.fill(s,null),s},t.findGuardPattern=function(e,n,r,i,o,a,s){D.fillWithin(s,0,s.length,0);for(var u=n,c=0;e.get(u,r)&&u>0&&c++<t.MAX_PIXEL_DRIFT;)u--;for(var l=u,h=0,f=a.length,d=o;l<i;l++)if(e.get(l,r)!==d)s[h]++;else{if(h===f-1){if(t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE)return new Int32Array([u,l]);u+=s[0]+s[1],R.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,d=!d}return h===f-1&&t.patternMatchVariance(s,a,t.MAX_INDIVIDUAL_VARIANCE)<t.MAX_AVG_VARIANCE?new Int32Array([u,l-1]):null},t.patternMatchVariance=function(t,e,n){for(var r=t.length,i=0,o=0,a=0;a<r;a++)i+=t[a],o+=e[a];if(i<o)return 1/0;var s=i/o;n*=s;for(var u=0,c=0;c<r;c++){var l=t[c],h=e[c]*s,f=l>h?l-h:h-l;if(f>n)return 1/0;u+=f}return u/i},t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),t.MAX_AVG_VARIANCE=.42,t.MAX_INDIVIDUAL_VARIANCE=.8,t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),t.MAX_PIXEL_DRIFT=3,t.MAX_PATTERN_DRIFT=5,t.SKIPPED_ROW_COUNT_MAX=25,t.ROW_STEP=5,t.BARCODE_MIN_HEIGHT=10,t}(),hi=function(){function t(t,e){if(0===e.length)throw new E;this.field=t;var n=e.length;if(n>1&&0===e[0]){for(var r=1;r<n&&0===e[r];)r++;r===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-r),R.arraycopy(e,r,this.coefficients,0,this.coefficients.length))}else this.coefficients=e}return t.prototype.getCoefficients=function(){return this.coefficients},t.prototype.getDegree=function(){return this.coefficients.length-1},t.prototype.isZero=function(){return 0===this.coefficients[0]},t.prototype.getCoefficient=function(t){return this.coefficients[this.coefficients.length-1-t]},t.prototype.evaluateAt=function(t){var e,n;if(0===t)return this.getCoefficient(0);if(1===t){var r=0;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.coefficients),o=i.next();!o.done;o=i.next())r=this.field.add(r,o.value)}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}for(var a=this.coefficients[0],s=this.coefficients.length,u=1;u<s;u++)a=this.field.add(this.field.multiply(t,a),this.coefficients[u]);return a},t.prototype.add=function(e){if(!this.field.equals(e.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;var n=this.coefficients,r=e.coefficients;if(n.length>r.length){var i=n;n=r,r=i}var o=new Int32Array(r.length),a=r.length-n.length;R.arraycopy(r,0,o,0,a);for(var s=a;s<r.length;s++)o[s]=this.field.add(n[s-a],r[s]);return new t(this.field,o)},t.prototype.subtract=function(t){if(!this.field.equals(t.field))throw new E("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())},t.prototype.multiply=function(e){return e instanceof t?this.multiplyOther(e):this.multiplyScalar(e)},t.prototype.multiplyOther=function(e){if(!this.field.equals(e.field))throw new E("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new t(this.field,new Int32Array([0]));for(var n=this.coefficients,r=n.length,i=e.coefficients,o=i.length,a=new Int32Array(r+o-1),s=0;s<r;s++)for(var u=n[s],c=0;c<o;c++)a[s+c]=this.field.add(a[s+c],this.field.multiply(u,i[c]));return new t(this.field,a)},t.prototype.negative=function(){for(var e=this.coefficients.length,n=new Int32Array(e),r=0;r<e;r++)n[r]=this.field.subtract(0,this.coefficients[r]);return new t(this.field,n)},t.prototype.multiplyScalar=function(e){if(0===e)return new t(this.field,new Int32Array([0]));if(1===e)return this;for(var n=this.coefficients.length,r=new Int32Array(n),i=0;i<n;i++)r[i]=this.field.multiply(this.coefficients[i],e);return new t(this.field,r)},t.prototype.multiplyByMonomial=function(e,n){if(e<0)throw new E;if(0===n)return new t(this.field,new Int32Array([0]));for(var r=this.coefficients.length,i=new Int32Array(r+e),o=0;o<r;o++)i[o]=this.field.multiply(this.coefficients[o],n);return new t(this.field,i)},t.prototype.toString=function(){for(var t=new et,e=this.getDegree();e>=0;e--){var n=this.getCoefficient(e);0!==n&&(n<0?(t.append(" - "),n=-n):t.length()>0&&t.append(" + "),0!==e&&1===n||t.append(n),0!==e&&(1===e?t.append("x"):(t.append("x^"),t.append(e))))}return t.toString()},t}(),fi=function(){function t(){}return t.prototype.add=function(t,e){return(t+e)%this.modulus},t.prototype.subtract=function(t,e){return(this.modulus+t-e)%this.modulus},t.prototype.exp=function(t){return this.expTable[t]},t.prototype.log=function(t){if(0===t)throw new E;return this.logTable[t]},t.prototype.inverse=function(t){if(0===t)throw new Mt;return this.expTable[this.modulus-this.logTable[t]-1]},t.prototype.multiply=function(t,e){return 0===t||0===e?0:this.expTable[(this.logTable[t]+this.logTable[e])%(this.modulus-1)]},t.prototype.getSize=function(){return this.modulus},t.prototype.equals=function(t){return t===this},t}(),di=(jr=function(t,e){return(jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}jr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pi=function(t){function e(e,n){var r=t.call(this)||this;r.modulus=e,r.expTable=new Int32Array(e),r.logTable=new Int32Array(e);for(var i=1,o=0;o<e;o++)r.expTable[o]=i,i=i*n%e;for(o=0;o<e-1;o++)r.logTable[r.expTable[o]]=o;return r.zero=new hi(r,new Int32Array([0])),r.one=new hi(r,new Int32Array([1])),r}return di(e,t),e.prototype.getZero=function(){return this.zero},e.prototype.getOne=function(){return this.one},e.prototype.buildMonomial=function(t,e){if(t<0)throw new E;if(0===e)return this.zero;var n=new Int32Array(t+1);return n[0]=e,new hi(this,n)},e.PDF417_GF=new e(si.NUMBER_OF_CODEWORDS,3),e}(fi),gi=function(){function t(){this.field=pi.PDF417_GF}return t.prototype.decode=function(t,e,n){for(var r,i,o=new hi(this.field,t),a=new Int32Array(e),s=!1,u=e;u>0;u--){var c=o.evaluateAt(this.field.exp(u));a[e-u]=c,0!==c&&(s=!0)}if(!s)return 0;var l=this.field.getOne();if(null!=n)try{for(var h=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),f=h.next();!f.done;f=h.next()){var d=this.field.exp(t.length-1-f.value),p=new hi(this.field,new Int32Array([this.field.subtract(0,d),1]));l=l.multiply(p)}}catch(C){r={error:C}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}var g=new hi(this.field,a),v=this.runEuclideanAlgorithm(this.field.buildMonomial(e,1),g,e),m=v[0],y=v[1],b=this.findErrorLocations(m),w=this.findErrorMagnitudes(y,m,b);for(u=0;u<b.length;u++){var _=t.length-1-this.field.log(b[u]);if(_<0)throw I.getChecksumInstance();t[_]=this.field.subtract(t[_],w[u])}return b.length},t.prototype.runEuclideanAlgorithm=function(t,e,n){if(t.getDegree()<e.getDegree()){var r=t;t=e,e=r}for(var i=t,o=e,a=this.field.getZero(),s=this.field.getOne();o.getDegree()>=Math.round(n/2);){var u=i,c=a;if(a=s,(i=o).isZero())throw I.getChecksumInstance();o=u;for(var l=this.field.getZero(),h=i.getCoefficient(i.getDegree()),f=this.field.inverse(h);o.getDegree()>=i.getDegree()&&!o.isZero();){var d=o.getDegree()-i.getDegree(),p=this.field.multiply(o.getCoefficient(o.getDegree()),f);l=l.add(this.field.buildMonomial(d,p)),o=o.subtract(i.multiplyByMonomial(d,p))}s=l.multiply(a).subtract(c).negative()}var g=s.getCoefficient(0);if(0===g)throw I.getChecksumInstance();var v=this.field.inverse(g);return[s.multiply(v),o.multiply(v)]},t.prototype.findErrorLocations=function(t){for(var e=t.getDegree(),n=new Int32Array(e),r=0,i=1;i<this.field.getSize()&&r<e;i++)0===t.evaluateAt(i)&&(n[r]=this.field.inverse(i),r++);if(r!==e)throw I.getChecksumInstance();return n},t.prototype.findErrorMagnitudes=function(t,e,n){for(var r=e.getDegree(),i=new Int32Array(r),o=1;o<=r;o++)i[r-o]=this.field.multiply(o,e.getCoefficient(o));var a=new hi(this.field,i),s=n.length,u=new Int32Array(s);for(o=0;o<s;o++){var c=this.field.inverse(n[o]),l=this.field.subtract(0,t.evaluateAt(c)),h=this.field.inverse(a.evaluateAt(c));u[o]=this.field.multiply(l,h)}return u},t}(),vi=function(){function t(e,n,r,i,o){e instanceof t?this.constructor_2(e):this.constructor_1(e,n,r,i,o)}return t.prototype.constructor_1=function(t,e,n,r,i){var o=null==e||null==n,a=null==r||null==i;if(o&&a)throw new it;o?(e=new Ce(0,r.getY()),n=new Ce(0,i.getY())):a&&(r=new Ce(t.getWidth()-1,e.getY()),i=new Ce(t.getWidth()-1,n.getY())),this.image=t,this.topLeft=e,this.bottomLeft=n,this.topRight=r,this.bottomRight=i,this.minX=Math.trunc(Math.min(e.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),i.getX())),this.minY=Math.trunc(Math.min(e.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))},t.prototype.constructor_2=function(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()},t.merge=function(e,n){return null==e?n:null==n?e:new t(e.image,e.topLeft,e.bottomLeft,n.topRight,n.bottomRight)},t.prototype.addMissingRows=function(e,n,r){var i=this.topLeft,o=this.bottomLeft,a=this.topRight,s=this.bottomRight;if(e>0){var u=r?this.topLeft:this.topRight,c=Math.trunc(u.getY()-e);c<0&&(c=0);var l=new Ce(u.getX(),c);r?i=l:a=l}if(n>0){var h=r?this.bottomLeft:this.bottomRight,f=Math.trunc(h.getY()+n);f>=this.image.getHeight()&&(f=this.image.getHeight()-1);var d=new Ce(h.getX(),f);r?o=d:s=d}return new t(this.image,i,o,a,s)},t.prototype.getMinX=function(){return this.minX},t.prototype.getMaxX=function(){return this.maxX},t.prototype.getMinY=function(){return this.minY},t.prototype.getMaxY=function(){return this.maxY},t.prototype.getTopLeft=function(){return this.topLeft},t.prototype.getTopRight=function(){return this.topRight},t.prototype.getBottomLeft=function(){return this.bottomLeft},t.prototype.getBottomRight=function(){return this.bottomRight},t}(),mi=function(){function t(t,e,n,r){this.columnCount=t,this.errorCorrectionLevel=r,this.rowCountUpperPart=e,this.rowCountLowerPart=n,this.rowCount=e+n}return t.prototype.getColumnCount=function(){return this.columnCount},t.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},t.prototype.getRowCount=function(){return this.rowCount},t.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},t.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},t}(),yi=function(){function t(){this.buffer=""}return t.form=function(t,e){var n=-1;return t.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function(t,r,i,o,a,s){if("%%"===t)return"%";if(void 0!==e[++n]){t=o?parseInt(o.substr(1)):void 0;var u,c=a?parseInt(a.substr(1)):void 0;switch(s){case"s":u=e[n];break;case"c":u=e[n][0];break;case"f":u=parseFloat(e[n]).toFixed(t);break;case"p":u=parseFloat(e[n]).toPrecision(t);break;case"e":u=parseFloat(e[n]).toExponential(t);break;case"x":u=parseInt(e[n]).toString(c||16);break;case"d":u=parseFloat(parseInt(e[n],c||10).toPrecision(t)).toFixed(0)}u="object"==typeof u?JSON.stringify(u):(+u).toString(c);for(var l=parseInt(i),h=i&&i[0]+""=="0"?"0":" ";u.length<l;)u=void 0!==r?u+h:h+u;return u}})},t.prototype.format=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.buffer+=t.form(e,n)},t.prototype.toString=function(){return this.buffer},t}(),bi=function(){function t(t){this.boundingBox=new vi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}return t.prototype.getCodewordNearby=function(e){var n=this.getCodeword(e);if(null!=n)return n;for(var r=1;r<t.MAX_NEARBY_DISTANCE;r++){var i=this.imageRowToCodewordIndex(e)-r;if(i>=0&&null!=(n=this.codewords[i]))return n;if((i=this.imageRowToCodewordIndex(e)+r)<this.codewords.length&&null!=(n=this.codewords[i]))return n}return null},t.prototype.imageRowToCodewordIndex=function(t){return t-this.boundingBox.getMinY()},t.prototype.setCodeword=function(t,e){this.codewords[this.imageRowToCodewordIndex(t)]=e},t.prototype.getCodeword=function(t){return this.codewords[this.imageRowToCodewordIndex(t)]},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.getCodewords=function(){return this.codewords},t.prototype.toString=function(){var t,e,n=new yi,r=0;try{for(var i=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.codewords),o=i.next();!o.done;o=i.next()){var a=o.value;null!=a?n.format("%3d: %3d|%3d%n",r++,a.getRowNumber(),a.getValue()):n.format("%3d:    |   %n",r++)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return n.toString()},t.MAX_NEARBY_DISTANCE=5,t}(),wi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},_i=function(){function t(){this.values=new Map}return t.prototype.setValue=function(t){t=Math.trunc(t);var e=this.values.get(t);null==e&&(e=0),e++,this.values.set(t,e)},t.prototype.getValue=function(){var t,e,n=-1,r=new Array,i=function(t,e){var i=function(){return t},o=function(){return e};o()>n?(n=o(),(r=[]).push(i())):o()===n&&r.push(i())};try{for(var o=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.values.entries()),a=o.next();!a.done;a=o.next()){var s=wi(a.value,2);i(s[0],s[1])}}catch(u){t={error:u}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return si.toIntArray(r)},t.prototype.getConfidence=function(t){return this.values.get(t)},t}(),Ci=(Ur=function(t,e){return(Ur=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ur(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Si=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Ei=function(t){function e(e,n){var r=t.call(this,e)||this;return r._isLeft=n,r}return Ci(e,t),e.prototype.setRowNumbers=function(){var t,e;try{for(var n=Si(this.getCodewords()),r=n.next();!r.done;r=n.next()){var i=r.value;null!=i&&i.setRowNumberAsRowIndicatorColumn()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},e.prototype.adjustCompleteIndicatorColumnRowNumbers=function(t){var e=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(e,t);for(var n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=-1,u=1,c=0,l=o;l<a;l++)if(null!=e[l]){var h=e[l],f=h.getRowNumber()-s;if(0===f)c++;else if(1===f)u=Math.max(u,c),c=1,s=h.getRowNumber();else if(f<0||h.getRowNumber()>=t.getRowCount()||f>l)e[l]=null;else{for(var d,p=(d=u>2?(u-2)*f:f)>=l,g=1;g<=d&&!p;g++)p=null!=e[l-g];p?e[l]=null:(s=h.getRowNumber(),c=1)}}},e.prototype.getRowHeights=function(){var t,e,n=this.getBarcodeMetadata();if(null==n)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);var r=new Int32Array(n.getRowCount());try{for(var i=Si(this.getCodewords()),o=i.next();!o.done;o=i.next()){var a=o.value;if(null!=a){var s=a.getRowNumber();if(s>=r.length)continue;r[s]++}}}catch(u){t={error:u}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r},e.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(t){for(var e=this.getBoundingBox(),n=this._isLeft?e.getTopLeft():e.getTopRight(),r=this._isLeft?e.getBottomLeft():e.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),o=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.getCodewords(),s=-1,u=i;u<o;u++)if(null!=a[u]){var c=a[u];c.setRowNumberAsRowIndicatorColumn();var l=c.getRowNumber()-s;0===l||(1===l?s=c.getRowNumber():c.getRowNumber()>=t.getRowCount()?a[u]=null:s=c.getRowNumber())}},e.prototype.getBarcodeMetadata=function(){var t,e,n=this.getCodewords(),r=new _i,i=new _i,o=new _i,a=new _i;try{for(var s=Si(n),u=s.next();!u.done;u=s.next()){var c=u.value;if(null!=c){c.setRowNumberAsRowIndicatorColumn();var l=c.getValue()%30,h=c.getRowNumber();switch(this._isLeft||(h+=2),h%3){case 0:i.setValue(3*l+1);break;case 1:a.setValue(l/3),o.setValue(l%3);break;case 2:r.setValue(l+1)}}}}catch(d){t={error:d}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}if(0===r.getValue().length||0===i.getValue().length||0===o.getValue().length||0===a.getValue().length||r.getValue()[0]<1||i.getValue()[0]+o.getValue()[0]<si.MIN_ROWS_IN_BARCODE||i.getValue()[0]+o.getValue()[0]>si.MAX_ROWS_IN_BARCODE)return null;var f=new mi(r.getValue()[0],i.getValue()[0],o.getValue()[0],a.getValue()[0]);return this.removeIncorrectCodewords(n,f),f},e.prototype.removeIncorrectCodewords=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(null!=t[n]){var i=r.getValue()%30,o=r.getRowNumber();if(o>e.getRowCount())t[n]=null;else switch(this._isLeft||(o+=2),o%3){case 0:3*i+1!==e.getRowCountUpperPart()&&(t[n]=null);break;case 1:Math.trunc(i/3)===e.getErrorCorrectionLevel()&&i%3===e.getRowCountLowerPart()||(t[n]=null);break;case 2:i+1!==e.getColumnCount()&&(t[n]=null)}}}},e.prototype.isLeft=function(){return this._isLeft},e.prototype.toString=function(){return"IsLeft: "+this._isLeft+"\n"+t.prototype.toString.call(this)},e}(bi),Oi=function(){function t(t,e){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=e,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return t.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var t,e=si.MAX_CODEWORDS_IN_BARCODE;do{t=e,e=this.adjustRowNumbersAndGetCount()}while(e>0&&e<t);return this.detectionResultColumns},t.prototype.adjustIndicatorColumnRowNumbers=function(t){null!=t&&t.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},t.prototype.adjustRowNumbersAndGetCount=function(){var t=this.adjustRowNumbersByRow();if(0===t)return 0;for(var e=1;e<this.barcodeColumnCount+1;e++)for(var n=this.detectionResultColumns[e].getCodewords(),r=0;r<n.length;r++)null!=n[r]&&(n[r].hasValidRowNumber()||this.adjustRowNumbers(e,r,n));return t},t.prototype.adjustRowNumbersByRow=function(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()},t.prototype.adjustRowNumbersFromBothRI=function(){if(null!=this.detectionResultColumns[0]&&null!=this.detectionResultColumns[this.barcodeColumnCount+1])for(var t=this.detectionResultColumns[0].getCodewords(),e=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),n=0;n<t.length;n++)if(null!=t[n]&&null!=e[n]&&t[n].getRowNumber()===e[n].getRowNumber())for(var r=1;r<=this.barcodeColumnCount;r++){var i=this.detectionResultColumns[r].getCodewords()[n];null!=i&&(i.setRowNumber(t[n].getRowNumber()),i.hasValidRowNumber()||(this.detectionResultColumns[r].getCodewords()[n]=null))}},t.prototype.adjustRowNumbersFromRRI=function(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;for(var e=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var i=n[r].getRowNumber(),o=0,a=this.barcodeColumnCount+1;a>0&&o<this.ADJUST_ROW_NUMBER_SKIP;a--){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.prototype.adjustRowNumbersFromLRI=function(){if(null==this.detectionResultColumns[0])return 0;for(var e=0,n=this.detectionResultColumns[0].getCodewords(),r=0;r<n.length;r++)if(null!=n[r])for(var i=n[r].getRowNumber(),o=0,a=1;a<this.barcodeColumnCount+1&&o<this.ADJUST_ROW_NUMBER_SKIP;a++){var s=this.detectionResultColumns[a].getCodewords()[r];null!=s&&(o=t.adjustRowNumberIfValid(i,o,s),s.hasValidRowNumber()||e++)}return e},t.adjustRowNumberIfValid=function(t,e,n){return null==n||n.hasValidRowNumber()||(n.isValidRowNumber(t)?(n.setRowNumber(t),e=0):++e),e},t.prototype.adjustRowNumbers=function(e,n,r){var i,o,a=r[n],s=this.detectionResultColumns[e-1].getCodewords(),u=s;null!=this.detectionResultColumns[e+1]&&(u=this.detectionResultColumns[e+1].getCodewords());var c=new Array(14);c[2]=s[n],c[3]=u[n],n>0&&(c[0]=r[n-1],c[4]=s[n-1],c[5]=u[n-1]),n>1&&(c[8]=r[n-2],c[10]=s[n-2],c[11]=u[n-2]),n<r.length-1&&(c[1]=r[n+1],c[6]=s[n+1],c[7]=u[n+1]),n<r.length-2&&(c[9]=r[n+2],c[12]=s[n+2],c[13]=u[n+2]);try{for(var l=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(c),h=l.next();!h.done;h=l.next())if(t.adjustRowNumber(a,h.value))return}catch(f){i={error:f}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}},t.adjustRowNumber=function(t,e){return!(null==e||!e.hasValidRowNumber()||e.getBucket()!==t.getBucket()||(t.setRowNumber(e.getRowNumber()),0))},t.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},t.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},t.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},t.prototype.setBoundingBox=function(t){this.boundingBox=t},t.prototype.getBoundingBox=function(){return this.boundingBox},t.prototype.setDetectionResultColumn=function(t,e){this.detectionResultColumns[t]=e},t.prototype.getDetectionResultColumn=function(t){return this.detectionResultColumns[t]},t.prototype.toString=function(){var t=this.detectionResultColumns[0];null==t&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var e=new yi,n=0;n<t.getCodewords().length;n++){e.format("CW %3d:",n);for(var r=0;r<this.barcodeColumnCount+2;r++)if(null!=this.detectionResultColumns[r]){var i=this.detectionResultColumns[r].getCodewords()[n];null!=i?e.format(" %3d|%3d",i.getRowNumber(),i.getValue()):e.format("    |   ")}else e.format("    |   ");e.format("%n")}return e.toString()},t}(),Ai=function(){function t(e,n,r,i){this.rowNumber=t.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(n),this.bucket=Math.trunc(r),this.value=Math.trunc(i)}return t.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},t.prototype.isValidRowNumber=function(e){return e!==t.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3},t.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))},t.prototype.getWidth=function(){return this.endX-this.startX},t.prototype.getStartX=function(){return this.startX},t.prototype.getEndX=function(){return this.endX},t.prototype.getBucket=function(){return this.bucket},t.prototype.getValue=function(){return this.value},t.prototype.getRowNumber=function(){return this.rowNumber},t.prototype.setRowNumber=function(t){this.rowNumber=t},t.prototype.toString=function(){return this.rowNumber+"|"+this.value},t.BARCODE_ROW_UNKNOWN=-1,t}(),Ii=function(){function t(){}return t.initialize=function(){for(var e=0;e<si.SYMBOL_TABLE.length;e++)for(var n=si.SYMBOL_TABLE[e],r=1&n,i=0;i<si.BARS_IN_MODULE;i++){for(var o=0;(1&n)===r;)o+=1,n>>=1;r=1&n,t.RATIOS_TABLE[e]||(t.RATIOS_TABLE[e]=new Array(si.BARS_IN_MODULE)),t.RATIOS_TABLE[e][si.BARS_IN_MODULE-i-1]=Math.fround(o/si.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},t.getDecodedValue=function(e){var n=t.getDecodedCodewordValue(t.sampleBitCounts(e));return-1!==n?n:t.getClosestDecodedValue(e)},t.sampleBitCounts=function(t){for(var e=we.sum(t),n=new Int32Array(si.BARS_IN_MODULE),r=0,i=0,o=0;o<si.MODULES_IN_CODEWORD;o++)i+t[r]<=e/(2*si.MODULES_IN_CODEWORD)+o*e/si.MODULES_IN_CODEWORD&&(i+=t[r],r++),n[r]++;return n},t.getDecodedCodewordValue=function(e){var n=t.getBitValue(e);return-1===si.getCodeword(n)?-1:n},t.getBitValue=function(t){for(var e=0,n=0;n<t.length;n++)for(var r=0;r<t[n];r++)e=e<<1|(n%2==0?1:0);return Math.trunc(e)},t.getClosestDecodedValue=function(e){var n=we.sum(e),r=new Array(si.BARS_IN_MODULE);if(n>1)for(var i=0;i<r.length;i++)r[i]=Math.fround(e[i]/n);var o=_e.MAX_VALUE,a=-1;this.bSymbolTableReady||t.initialize();for(var s=0;s<t.RATIOS_TABLE.length;s++){for(var u=0,c=t.RATIOS_TABLE[s],l=0;l<si.BARS_IN_MODULE;l++){var h=Math.fround(c[l]-r[l]);if((u+=Math.fround(h*h))>=o)break}u<o&&(o=u,a=si.SYMBOL_TABLE[s])}return a},t.bSymbolTableReady=!1,t.RATIOS_TABLE=new Array(si.SYMBOL_TABLE.length).map(function(t){return new Array(si.BARS_IN_MODULE)}),t}(),ki=function(){function t(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return t.prototype.getSegmentIndex=function(){return this.segmentIndex},t.prototype.setSegmentIndex=function(t){this.segmentIndex=t},t.prototype.getFileId=function(){return this.fileId},t.prototype.setFileId=function(t){this.fileId=t},t.prototype.getOptionalData=function(){return this.optionalData},t.prototype.setOptionalData=function(t){this.optionalData=t},t.prototype.isLastSegment=function(){return this.lastSegment},t.prototype.setLastSegment=function(t){this.lastSegment=t},t.prototype.getSegmentCount=function(){return this.segmentCount},t.prototype.setSegmentCount=function(t){this.segmentCount=t},t.prototype.getSender=function(){return this.sender||null},t.prototype.setSender=function(t){this.sender=t},t.prototype.getAddressee=function(){return this.addressee||null},t.prototype.setAddressee=function(t){this.addressee=t},t.prototype.getFileName=function(){return this.fileName},t.prototype.setFileName=function(t){this.fileName=t},t.prototype.getFileSize=function(){return this.fileSize},t.prototype.setFileSize=function(t){this.fileSize=t},t.prototype.getChecksum=function(){return this.checksum},t.prototype.setChecksum=function(t){this.checksum=t},t.prototype.getTimestamp=function(){return this.timestamp},t.prototype.setTimestamp=function(t){this.timestamp=t},t}(),Ri=function(){function t(){}return t.parseLong=function(t,e){return void 0===e&&(e=void 0),parseInt(t,e)},t}(),Ti=(Vr=function(t,e){return(Vr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ti(e,t),e.kind="NullPointerException",e}(w),Ni=function(){function t(){}return t.prototype.writeBytes=function(t){this.writeBytesOffset(t,0,t.length)},t.prototype.writeBytesOffset=function(t,e,n){if(null==t)throw new Mi;if(e<0||e>t.length||n<0||e+n>t.length||e+n<0)throw new M;if(0!==n)for(var r=0;r<n;r++)this.write(t[e+r])},t.prototype.flush=function(){},t.prototype.close=function(){},t}(),Pi=(Hr=function(t,e){return(Hr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Hr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Di=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Pi(e,t),e}(w),xi=(Wr=function(t,e){return(Wr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Wr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Li=function(t){function e(e){void 0===e&&(e=32);var n=t.call(this)||this;if(n.count=0,e<0)throw new E("Negative initial size: "+e);return n.buf=new Uint8Array(e),n}return xi(e,t),e.prototype.ensureCapacity=function(t){t-this.buf.length>0&&this.grow(t)},e.prototype.grow=function(t){var e=this.buf.length<<1;if(e-t<0&&(e=t),e<0){if(t<0)throw new Di;e=x.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,e)},e.prototype.write=function(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1},e.prototype.writeBytesOffset=function(t,e,n){if(e<0||e>t.length||n<0||e+n-t.length>0)throw new M;this.ensureCapacity(this.count+n),R.arraycopy(t,e,this.buf,this.count,n),this.count+=n},e.prototype.writeTo=function(t){t.writeBytesOffset(this.buf,0,this.count)},e.prototype.reset=function(){this.count=0},e.prototype.toByteArray=function(){return D.copyOfUint8Array(this.buf,this.count)},e.prototype.size=function(){return this.count},e.prototype.toString=function(t){return t?"string"==typeof t?this.toString_string(t):this.toString_number(t):this.toString_void()},e.prototype.toString_void=function(){return new String(this.buf).toString()},e.prototype.toString_string=function(t){return new String(this.buf).toString()},e.prototype.toString_number=function(t){return new String(this.buf).toString()},e.prototype.close=function(){},e}(Ni);function Bi(){if("undefined"!=typeof window)return window.BigInt||null;if("undefined"!=typeof global)return global.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}function Fi(t){if(void 0===Gr&&(Gr=Bi()),null===Gr)throw new Error("BigInt is not supported!");return Gr(t)}!function(t){t[t.ALPHA=0]="ALPHA",t[t.LOWER=1]="LOWER",t[t.MIXED=2]="MIXED",t[t.PUNCT=3]="PUNCT",t[t.ALPHA_SHIFT=4]="ALPHA_SHIFT",t[t.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(zr||(zr={}));var ji,Ui,Vi,Hi,Wi,zi=function(){function t(){}return t.decode=function(e,n){var r=new et(""),i=K.ISO8859_1;r.enableDecoding(i);for(var o=1,a=e[o++],s=new ki;o<e[0];){switch(a){case t.TEXT_COMPACTION_MODE_LATCH:o=t.textCompaction(e,o,r);break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:o=t.byteCompaction(a,e,i,o,r);break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[o++]);break;case t.NUMERIC_COMPACTION_MODE_LATCH:o=t.numericCompaction(e,o,r);break;case t.ECI_CHARSET:K.getCharacterSetECIByValue(e[o++]);break;case t.ECI_GENERAL_PURPOSE:o+=2;break;case t.ECI_USER_DEFINED:o++;break;case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:o=t.decodeMacroBlock(e,o,s);break;case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:throw new V;default:o--,o=t.textCompaction(e,o,r)}if(!(o<e.length))throw V.getFormatInstance();a=e[o++]}if(0===r.length())throw V.getFormatInstance();var u=new It(null,r.toString(),null,n);return u.setOther(s),u},t.decodeMacroBlock=function(e,n,r){if(n+t.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw V.getFormatInstance();for(var i=new Int32Array(t.NUMBER_OF_SEQUENCE_CODEWORDS),o=0;o<t.NUMBER_OF_SEQUENCE_CODEWORDS;o++,n++)i[o]=e[n];r.setSegmentIndex(x.parseInt(t.decodeBase900toBase10(i,t.NUMBER_OF_SEQUENCE_CODEWORDS)));var a=new et;n=t.textCompaction(e,n,a),r.setFileId(a.toString());var s=-1;for(e[n]===t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(s=n+1);n<e[0];)switch(e[n]){case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++n]){case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var u=new et;n=t.textCompaction(e,n+1,u),r.setFileName(u.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var c=new et;n=t.textCompaction(e,n+1,c),r.setSender(c.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var l=new et;n=t.textCompaction(e,n+1,l),r.setAddressee(l.toString());break;case t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var h=new et;n=t.numericCompaction(e,n+1,h),r.setSegmentCount(x.parseInt(h.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var f=new et;n=t.numericCompaction(e,n+1,f),r.setTimestamp(Ri.parseLong(f.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var d=new et;n=t.numericCompaction(e,n+1,d),r.setChecksum(x.parseInt(d.toString()));break;case t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var p=new et;n=t.numericCompaction(e,n+1,p),r.setFileSize(Ri.parseLong(p.toString()));break;default:throw V.getFormatInstance()}break;case t.MACRO_PDF417_TERMINATOR:n++,r.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(-1!==s){var g=n-s;r.isLastSegment()&&g--,r.setOptionalData(D.copyOfRange(e,s,s+g))}return n},t.textCompaction=function(e,n,r){for(var i=new Int32Array(2*(e[0]-n)),o=new Int32Array(2*(e[0]-n)),a=0,s=!1;n<e[0]&&!s;){var u=e[n++];if(u<t.TEXT_COMPACTION_MODE_LATCH)i[a]=u/30,i[a+1]=u%30,a+=2;else switch(u){case t.TEXT_COMPACTION_MODE_LATCH:i[a++]=t.TEXT_COMPACTION_MODE_LATCH;break;case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,s=!0;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[a]=t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[n++],o[a]=u,a++}}return t.decodeTextCompaction(i,o,a,r),n},t.decodeTextCompaction=function(e,n,r,i){for(var o=zr.ALPHA,a=zr.ALPHA,s=0;s<r;){var u=e[s],c="";switch(o){case zr.ALPHA:if(u<26)c=String.fromCharCode(65+u);else switch(u){case 26:c=" ";break;case t.LL:o=zr.LOWER;break;case t.ML:o=zr.MIXED;break;case t.PS:a=o,o=zr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=zr.ALPHA}break;case zr.LOWER:if(u<26)c=String.fromCharCode(97+u);else switch(u){case 26:c=" ";break;case t.AS:a=o,o=zr.ALPHA_SHIFT;break;case t.ML:o=zr.MIXED;break;case t.PS:a=o,o=zr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=zr.ALPHA}break;case zr.MIXED:if(u<t.PL)c=t.MIXED_CHARS[u];else switch(u){case t.PL:o=zr.PUNCT;break;case 26:c=" ";break;case t.LL:o=zr.LOWER;break;case t.AL:o=zr.ALPHA;break;case t.PS:a=o,o=zr.PUNCT_SHIFT;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=zr.ALPHA}break;case zr.PUNCT:if(u<t.PAL)c=t.PUNCT_CHARS[u];else switch(u){case t.PAL:o=zr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=zr.ALPHA}break;case zr.ALPHA_SHIFT:if(o=a,u<26)c=String.fromCharCode(65+u);else switch(u){case 26:c=" ";break;case t.TEXT_COMPACTION_MODE_LATCH:o=zr.ALPHA}break;case zr.PUNCT_SHIFT:if(o=a,u<t.PAL)c=t.PUNCT_CHARS[u];else switch(u){case t.PAL:o=zr.ALPHA;break;case t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(n[s]);break;case t.TEXT_COMPACTION_MODE_LATCH:o=zr.ALPHA}}""!==c&&i.append(c),s++}},t.byteCompaction=function(e,n,r,i,o){var a=new Li,s=0,u=0,c=!1;switch(e){case t.BYTE_COMPACTION_MODE_LATCH:for(var l=new Int32Array(6),h=n[i++];i<n[0]&&!c;)switch(l[s++]=h,u=900*u+h,h=n[i++]){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0;break;default:if(s%5==0&&s>0){for(var f=0;f<6;++f)a.write(Number(Fi(u)>>Fi(8*(5-f))));u=0,s=0}}i===n[0]&&h<t.TEXT_COMPACTION_MODE_LATCH&&(l[s++]=h);for(var d=0;d<s;d++)a.write(l[d]);break;case t.BYTE_COMPACTION_MODE_LATCH_6:for(;i<n[0]&&!c;){var p=n[i++];if(p<t.TEXT_COMPACTION_MODE_LATCH)s++,u=900*u+p;else switch(p){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.NUMERIC_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:i--,c=!0}if(s%5==0&&s>0){for(f=0;f<6;++f)a.write(Number(Fi(u)>>Fi(8*(5-f))));u=0,s=0}}}return o.append($.decode(a.toByteArray(),r)),i},t.numericCompaction=function(e,n,r){for(var i=0,o=!1,a=new Int32Array(t.MAX_NUMERIC_CODEWORDS);n<e[0]&&!o;){var s=e[n++];if(n===e[0]&&(o=!0),s<t.TEXT_COMPACTION_MODE_LATCH)a[i]=s,i++;else switch(s){case t.TEXT_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH:case t.BYTE_COMPACTION_MODE_LATCH_6:case t.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case t.MACRO_PDF417_TERMINATOR:n--,o=!0}(i%t.MAX_NUMERIC_CODEWORDS==0||s===t.NUMERIC_COMPACTION_MODE_LATCH||o)&&i>0&&(r.append(t.decodeBase900toBase10(a,i)),i=0)}return n},t.decodeBase900toBase10=function(e,n){for(var r=Fi(0),i=0;i<n;i++)r+=t.EXP900[n-i-1]*Fi(e[i]);var o=r.toString();if("1"!==o.charAt(0))throw new V;return o.substring(1)},t.TEXT_COMPACTION_MODE_LATCH=900,t.BYTE_COMPACTION_MODE_LATCH=901,t.NUMERIC_COMPACTION_MODE_LATCH=902,t.BYTE_COMPACTION_MODE_LATCH_6=924,t.ECI_USER_DEFINED=925,t.ECI_GENERAL_PURPOSE=926,t.ECI_CHARSET=927,t.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,t.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,t.MACRO_PDF417_TERMINATOR=922,t.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,t.MAX_NUMERIC_CODEWORDS=15,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,t.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,t.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,t.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,t.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,t.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,t.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,t.PL=25,t.LL=27,t.AS=27,t.ML=28,t.AL=28,t.PS=29,t.PAL=29,t.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",t.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",t.EXP900=Bi()?function(){var t=[];t[0]=Fi(1);var e=Fi(900);t[1]=e;for(var n=2;n<16;n++)t[n]=t[n-1]*e;return t}():[],t.NUMBER_OF_SEQUENCE_CODEWORDS=2,t}(),Gi=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Xi=function(){function t(){}return t.decode=function(e,n,r,i,o,a,s){for(var u,c=new vi(e,n,r,i,o),l=null,h=null,f=!0;;f=!1){if(null!=n&&(l=t.getRowIndicatorColumn(e,c,n,!0,a,s)),null!=i&&(h=t.getRowIndicatorColumn(e,c,i,!1,a,s)),null==(u=t.merge(l,h)))throw it.getNotFoundInstance();var d=u.getBoundingBox();if(!f||null==d||!(d.getMinY()<c.getMinY()||d.getMaxY()>c.getMaxY()))break;c=d}u.setBoundingBox(c);var p=u.getBarcodeColumnCount()+1;u.setDetectionResultColumn(0,l),u.setDetectionResultColumn(p,h);for(var g=null!=l,v=1;v<=p;v++){var m=g?v:p-v;if(void 0===u.getDetectionResultColumn(m)){var y=void 0;y=0===m||m===p?new Ei(c,0===m):new bi(c),u.setDetectionResultColumn(m,y);for(var b=-1,w=b,_=c.getMinY();_<=c.getMaxY();_++){if((b=t.getStartColumn(u,m,_,g))<0||b>c.getMaxX()){if(-1===w)continue;b=w}var C=t.detectCodeword(e,c.getMinX(),c.getMaxX(),g,b,_,a,s);null!=C&&(y.setCodeword(_,C),w=b,a=Math.min(a,C.getWidth()),s=Math.max(s,C.getWidth()))}}}return t.createDecoderResult(u)},t.merge=function(e,n){if(null==e&&null==n)return null;var r=t.getBarcodeMetadata(e,n);if(null==r)return null;var i=vi.merge(t.adjustBoundingBox(e),t.adjustBoundingBox(n));return new Oi(r,i)},t.adjustBoundingBox=function(e){var n,r;if(null==e)return null;var i=e.getRowHeights();if(null==i)return null;var o=t.getMax(i),a=0;try{for(var s=Gi(i),u=s.next();!u.done;u=s.next()){var c=u.value;if(a+=o-c,c>0)break}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}for(var l=e.getCodewords(),h=0;a>0&&null==l[h];h++)a--;var f=0;for(h=i.length-1;h>=0&&(f+=o-i[h],!(i[h]>0));h--);for(h=l.length-1;f>0&&null==l[h];h--)f--;return e.getBoundingBox().addMissingRows(a,f,e.isLeft())},t.getMax=function(t){var e,n,r=-1;try{for(var i=Gi(t),o=i.next();!o.done;o=i.next())r=Math.max(r,o.value)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.getBarcodeMetadata=function(t,e){var n,r;return null==t||null==(n=t.getBarcodeMetadata())?null==e?null:e.getBarcodeMetadata():null==e||null==(r=e.getBarcodeMetadata())?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n},t.getRowIndicatorColumn=function(e,n,r,i,o,a){for(var s=new Ei(n,i),u=0;u<2;u++)for(var c=0===u?1:-1,l=Math.trunc(Math.trunc(r.getX())),h=Math.trunc(Math.trunc(r.getY()));h<=n.getMaxY()&&h>=n.getMinY();h+=c){var f=t.detectCodeword(e,0,e.getWidth(),i,l,h,o,a);null!=f&&(s.setCodeword(h,f),l=i?f.getStartX():f.getEndX())}return s},t.adjustCodewordCount=function(e,n){var r=n[0][1],i=r.getValue(),o=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-t.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===i.length){if(o<1||o>si.MAX_CODEWORDS_IN_BARCODE)throw it.getNotFoundInstance();r.setValue(o)}else i[0]!==o&&r.setValue(o)},t.createDecoderResult=function(e){var n=t.createBarcodeMatrix(e);t.adjustCodewordCount(e,n);for(var r=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),o=[],a=new Array,s=0;s<e.getBarcodeRowCount();s++)for(var u=0;u<e.getBarcodeColumnCount();u++){var c=n[s][u+1].getValue(),l=s*e.getBarcodeColumnCount()+u;0===c.length?r.push(l):1===c.length?i[l]=c[0]:(a.push(l),o.push(c))}for(var h=new Array(o.length),f=0;f<h.length;f++)h[f]=o[f];return t.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,si.toIntArray(r),si.toIntArray(a),h)},t.createDecoderResultFromAmbiguousValues=function(e,n,r,i,o){for(var a=new Int32Array(i.length),s=100;s-- >0;){for(var u=0;u<a.length;u++)n[i[u]]=o[u][a[u]];try{return t.decodeCodewords(n,e,r)}catch(c){if(!(c instanceof I))throw c}if(0===a.length)throw I.getChecksumInstance();for(u=0;u<a.length;u++){if(a[u]<o[u].length-1){a[u]++;break}if(a[u]=0,u===a.length-1)throw I.getChecksumInstance()}}throw I.getChecksumInstance()},t.createBarcodeMatrix=function(t){for(var e,n,r,i,o=Array.from({length:t.getBarcodeRowCount()},function(){return new Array(t.getBarcodeColumnCount()+2)}),a=0;a<o.length;a++)for(var s=0;s<o[a].length;s++)o[a][s]=new _i;var u=0;try{for(var c=Gi(t.getDetectionResultColumns()),l=c.next();!l.done;l=c.next()){var h=l.value;if(null!=h)try{for(var f=(r=void 0,Gi(h.getCodewords())),d=f.next();!d.done;d=f.next()){var p=d.value;if(null!=p){var g=p.getRowNumber();if(g>=0){if(g>=o.length)continue;o[g][u].setValue(p.getValue())}}}}catch(v){r={error:v}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}u++}}catch(m){e={error:m}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return o},t.isValidBarcodeColumn=function(t,e){return e>=0&&e<=t.getBarcodeColumnCount()+1},t.getStartColumn=function(e,n,r,i){var o,a,s=i?1:-1,u=null;if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodeword(r)),null!=u)return i?u.getEndX():u.getStartX();if(null!=(u=e.getDetectionResultColumn(n).getCodewordNearby(r)))return i?u.getStartX():u.getEndX();if(t.isValidBarcodeColumn(e,n-s)&&(u=e.getDetectionResultColumn(n-s).getCodewordNearby(r)),null!=u)return i?u.getEndX():u.getStartX();for(var c=0;t.isValidBarcodeColumn(e,n-s);){n-=s;try{for(var l=(o=void 0,Gi(e.getDetectionResultColumn(n).getCodewords())),h=l.next();!h.done;h=l.next()){var f=h.value;if(null!=f)return(i?f.getEndX():f.getStartX())+s*c*(f.getEndX()-f.getStartX())}}catch(d){o={error:d}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()},t.detectCodeword=function(e,n,r,i,o,a,s,u){o=t.adjustCodewordStartColumn(e,n,r,i,o,a);var c,l=t.getModuleBitCount(e,n,r,i,o,a);if(null==l)return null;var h=we.sum(l);if(i)c=o+h;else{for(var f=0;f<l.length/2;f++){var d=l[f];l[f]=l[l.length-1-f],l[l.length-1-f]=d}o=(c=o)-h}if(!t.checkCodewordSkew(h,s,u))return null;var p=Ii.getDecodedValue(l),g=si.getCodeword(p);return-1===g?null:new Ai(o,c,t.getCodewordBucketNumber(p),g)},t.getModuleBitCount=function(t,e,n,r,i,o){for(var a=i,s=new Int32Array(8),u=0,c=r?1:-1,l=r;(r?a<n:a>=e)&&u<s.length;)t.get(a,o)===l?(s[u]++,a+=c):(u++,l=!l);return u===s.length||a===(r?n:e)&&u===s.length-1?s:null},t.getNumberOfECCodeWords=function(t){return 2<<t},t.adjustCodewordStartColumn=function(e,n,r,i,o,a){for(var s=o,u=i?-1:1,c=0;c<2;c++){for(;(i?s>=n:s<r)&&i===e.get(s,a);){if(Math.abs(o-s)>t.CODEWORD_SKEW_SIZE)return o;s+=u}u=-u,i=!i}return s},t.checkCodewordSkew=function(e,n,r){return n-t.CODEWORD_SKEW_SIZE<=e&&e<=r+t.CODEWORD_SKEW_SIZE},t.decodeCodewords=function(e,n,r){if(0===e.length)throw V.getFormatInstance();var i=1<<n+1,o=t.correctErrors(e,r,i);t.verifyCodewordCount(e,i);var a=zi.decode(e,""+n);return a.setErrorsCorrected(o),a.setErasures(r.length),a},t.correctErrors=function(e,n,r){if(null!=n&&n.length>r/2+t.MAX_ERRORS||r<0||r>t.MAX_EC_CODEWORDS)throw I.getChecksumInstance();return t.errorCorrection.decode(e,r,n)},t.verifyCodewordCount=function(t,e){if(t.length<4)throw V.getFormatInstance();var n=t[0];if(n>t.length)throw V.getFormatInstance();if(0===n){if(!(e<t.length))throw V.getFormatInstance();t[0]=t.length-e}},t.getBitCountForCodeword=function(t){for(var e=new Int32Array(8),n=0,r=e.length-1;!((1&t)!==n&&(n=1&t,--r<0));)e[r]++,t>>=1;return e},t.getCodewordBucketNumber=function(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)},t.getCodewordBucketNumber_number=function(e){return t.getCodewordBucketNumber(t.getBitCountForCodeword(e))},t.getCodewordBucketNumber_Int32Array=function(t){return(t[0]-t[2]+t[4]-t[6]+9)%9},t.toString=function(t){for(var e=new yi,n=0;n<t.length;n++){e.format("Row %2d: ",n);for(var r=0;r<t[n].length;r++){var i=t[n][r];0===i.getValue().length?e.format("        ",null):e.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}e.format("%n")}return e.toString()},t.CODEWORD_SKEW_SIZE=2,t.MAX_ERRORS=3,t.MAX_EC_CODEWORDS=512,t.errorCorrection=new gi,t}(),Zi=function(){function t(){}return t.prototype.decode=function(e,n){void 0===n&&(n=null);var r=t.decode(e,n,!1);if(null==r||0===r.length||null==r[0])throw it.getNotFoundInstance();return r[0]},t.prototype.decodeMultiple=function(e,n){void 0===n&&(n=null);try{return t.decode(e,n,!0)}catch(r){if(r instanceof V||r instanceof I)throw it.getNotFoundInstance();throw r}},t.decode=function(e,n,r){var i,o,a=new Array,s=li.detectMultiple(e,n,r);try{for(var u=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(s.getPoints()),c=u.next();!c.done;c=u.next()){var l=c.value,h=Xi.decode(s.getBits(),l[4],l[5],l[6],l[7],t.getMinCodewordWidth(l),t.getMaxCodewordWidth(l)),f=new yt(h.getText(),h.getRawBytes(),void 0,l,wt.PDF_417);f.putMetadata(At.ERROR_CORRECTION_LEVEL,h.getECLevel());var d=h.getOther();null!=d&&f.putMetadata(At.PDF417_EXTRA_METADATA,d),a.push(f)}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return a.map(function(t){return t})},t.getMaxWidth=function(t,e){return null==t||null==e?0:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMinWidth=function(t,e){return null==t||null==e?x.MAX_VALUE:Math.trunc(Math.abs(t.getX()-e.getX()))},t.getMaxCodewordWidth=function(e){return Math.floor(Math.max(Math.max(t.getMaxWidth(e[0],e[4]),t.getMaxWidth(e[6],e[2])*si.MODULES_IN_CODEWORD/si.MODULES_IN_STOP_PATTERN),Math.max(t.getMaxWidth(e[1],e[5]),t.getMaxWidth(e[7],e[3])*si.MODULES_IN_CODEWORD/si.MODULES_IN_STOP_PATTERN)))},t.getMinCodewordWidth=function(e){return Math.floor(Math.min(Math.min(t.getMinWidth(e[0],e[4]),t.getMinWidth(e[6],e[2])*si.MODULES_IN_CODEWORD/si.MODULES_IN_STOP_PATTERN),Math.min(t.getMinWidth(e[1],e[5]),t.getMinWidth(e[7],e[3])*si.MODULES_IN_CODEWORD/si.MODULES_IN_STOP_PATTERN)))},t.prototype.reset=function(){},t}(),qi=(ji=function(t,e){return(ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ji(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return qi(e,t),e.kind="ReaderException",e}(w),Ki=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qi=function(){function t(){}return t.prototype.decode=function(t,e){return this.setHints(e),this.decodeInternal(t)},t.prototype.decodeWithState=function(t){return null==this.readers&&this.setHints(null),this.decodeInternal(t)},t.prototype.setHints=function(t){this.hints=t;var e=null!=t&&void 0!==t.get(j.TRY_HARDER),n=null==t?null:t.get(j.POSSIBLE_FORMATS),r=new Array;if(null!=n){var i=n.some(function(t){return t===wt.UPC_A||t===wt.UPC_E||t===wt.EAN_13||t===wt.EAN_8||t===wt.CODABAR||t===wt.CODE_39||t===wt.CODE_93||t===wt.CODE_128||t===wt.ITF||t===wt.RSS_14||t===wt.RSS_EXPANDED});i&&!e&&r.push(new ur(t)),n.includes(wt.QR_CODE)&&r.push(new ai),n.includes(wt.DATA_MATRIX)&&r.push(new Sr),n.includes(wt.AZTEC)&&r.push(new De),n.includes(wt.PDF_417)&&r.push(new Zi),i&&e&&r.push(new ur(t))}0===r.length&&(e||r.push(new ur(t)),r.push(new ai),r.push(new Sr),r.push(new De),r.push(new Zi),e&&r.push(new ur(t))),this.readers=r},t.prototype.reset=function(){var t,e;if(null!==this.readers)try{for(var n=Ki(this.readers),r=n.next();!r.done;r=n.next())r.value.reset()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}},t.prototype.decodeInternal=function(t){var e,n;if(null===this.readers)throw new Yi("No readers where selected, nothing can be read.");try{for(var r=Ki(this.readers),i=r.next();!i.done;i=r.next()){var o=i.value;try{return o.decode(t,this.hints)}catch(a){if(a instanceof Yi)continue}}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}throw new it("No MultiFormat Readers were able to detect the code.")},t}(),Ji=(Ui=function(t,e){return(Ui=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Ui(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),$i=(function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=500);var r=new Qi;return r.setHints(e),t.call(this,r,n)||this}Ji(e,t),e.prototype.decodeBitmap=function(t){return this.reader.decodeWithState(t)}}(mt),Vi=function(t,e){return(Vi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Vi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),to=(function(t){$i(function(e){return void 0===e&&(e=500),t.call(this,new Zi,e)||this},t)}(mt),Hi=function(t,e){return(Hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}Hi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});!function(t){to(function(e){return void 0===e&&(e=500),t.call(this,new ai,e)||this},t)}(mt),function(t){t[t.ERROR_CORRECTION=0]="ERROR_CORRECTION",t[t.CHARACTER_SET=1]="CHARACTER_SET",t[t.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",t[t.MIN_SIZE=3]="MIN_SIZE",t[t.MAX_SIZE=4]="MAX_SIZE",t[t.MARGIN=5]="MARGIN",t[t.PDF417_COMPACT=6]="PDF417_COMPACT",t[t.PDF417_COMPACTION=7]="PDF417_COMPACTION",t[t.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",t[t.AZTEC_LAYERS=9]="AZTEC_LAYERS",t[t.QR_VERSION=10]="QR_VERSION"}(Wi||(Wi={}));var eo,no,ro,io,oo,ao,so=Wi,uo=function(){function t(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new Rt(t,Int32Array.from([1])))}return t.prototype.buildGenerator=function(t){var e=this.cachedGenerators;if(t>=e.length)for(var n=e[e.length-1],r=this.field,i=e.length;i<=t;i++){var o=n.multiply(new Rt(r,Int32Array.from([1,r.exp(i-1+r.getGeneratorBase())])));e.push(o),n=o}return e[t]},t.prototype.encode=function(t,e){if(0===e)throw new E("No error correction bytes");var n=t.length-e;if(n<=0)throw new E("No data bytes provided");var r=this.buildGenerator(e),i=new Int32Array(n);R.arraycopy(t,0,i,0,n);for(var o=new Rt(this.field,i),a=(o=o.multiplyByMonomial(e,1)).divide(r)[1].getCoefficients(),s=e-a.length,u=0;u<s;u++)t[n+u]=0;R.arraycopy(a,0,t,n+s,a.length)},t}(),co=function(){function t(){}return t.applyMaskPenaltyRule1=function(e){return t.applyMaskPenaltyRule1Internal(e,!0)+t.applyMaskPenaltyRule1Internal(e,!1)},t.applyMaskPenaltyRule2=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o-1;a++)for(var s=r[a],u=0;u<i-1;u++){var c=s[u];c===s[u+1]&&c===r[a+1][u]&&c===r[a+1][u+1]&&n++}return t.N2*n},t.applyMaskPenaltyRule3=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=0;s<i;s++){var u=r[a];s+6<i&&1===u[s]&&0===u[s+1]&&1===u[s+2]&&1===u[s+3]&&1===u[s+4]&&0===u[s+5]&&1===u[s+6]&&(t.isWhiteHorizontal(u,s-4,s)||t.isWhiteHorizontal(u,s+7,s+11))&&n++,a+6<o&&1===r[a][s]&&0===r[a+1][s]&&1===r[a+2][s]&&1===r[a+3][s]&&1===r[a+4][s]&&0===r[a+5][s]&&1===r[a+6][s]&&(t.isWhiteVertical(r,s,a-4,a)||t.isWhiteVertical(r,s,a+7,a+11))&&n++}return n*t.N3},t.isWhiteHorizontal=function(t,e,n){e=Math.max(e,0),n=Math.min(n,t.length);for(var r=e;r<n;r++)if(1===t[r])return!1;return!0},t.isWhiteVertical=function(t,e,n,r){n=Math.max(n,0),r=Math.min(r,t.length);for(var i=n;i<r;i++)if(1===t[i][e])return!1;return!0},t.applyMaskPenaltyRule4=function(e){for(var n=0,r=e.getArray(),i=e.getWidth(),o=e.getHeight(),a=0;a<o;a++)for(var s=r[a],u=0;u<i;u++)1===s[u]&&n++;var c=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*n-c)/c)*t.N4},t.getDataMaskBit=function(t,e,n){var r,i;switch(t){case 0:r=n+e&1;break;case 1:r=1&n;break;case 2:r=e%3;break;case 3:r=(n+e)%3;break;case 4:r=Math.floor(n/2)+Math.floor(e/3)&1;break;case 5:r=(1&(i=n*e))+i%3;break;case 6:r=(1&(i=n*e))+i%3&1;break;case 7:r=(i=n*e)%3+(n+e&1)&1;break;default:throw new E("Invalid mask pattern: "+t)}return 0===r},t.applyMaskPenaltyRule1Internal=function(e,n){for(var r=0,i=n?e.getHeight():e.getWidth(),o=n?e.getWidth():e.getHeight(),a=e.getArray(),s=0;s<i;s++){for(var u=0,c=-1,l=0;l<o;l++){var h=n?a[s][l]:a[l][s];h===c?u++:(u>=5&&(r+=t.N1+(u-5)),u=1,c=h)}u>=5&&(r+=t.N1+(u-5))}return r},t.N1=3,t.N2=3,t.N3=40,t.N4=10,t}(),lo=function(){function t(t,e){this.width=t,this.height=e;for(var n=new Array(e),r=0;r!==e;r++)n[r]=new Uint8Array(t);this.bytes=n}return t.prototype.getHeight=function(){return this.height},t.prototype.getWidth=function(){return this.width},t.prototype.get=function(t,e){return this.bytes[e][t]},t.prototype.getArray=function(){return this.bytes},t.prototype.setNumber=function(t,e,n){this.bytes[e][t]=n},t.prototype.setBoolean=function(t,e,n){this.bytes[e][t]=n?1:0},t.prototype.clear=function(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.bytes),i=r.next();!i.done;i=r.next())D.fill(i.value,t)}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.equals=function(e){if(!(e instanceof t))return!1;var n=e;if(this.width!==n.width)return!1;if(this.height!==n.height)return!1;for(var r=0,i=this.height;r<i;++r)for(var o=this.bytes[r],a=n.bytes[r],s=0,u=this.width;s<u;++s)if(o[s]!==a[s])return!1;return!0},t.prototype.toString=function(){for(var t=new et,e=0,n=this.height;e<n;++e){for(var r=this.bytes[e],i=0,o=this.width;i<o;++i)switch(r[i]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ")}t.append("\n")}return t.toString()},t}(),ho=function(){function t(){this.maskPattern=-1}return t.prototype.getMode=function(){return this.mode},t.prototype.getECLevel=function(){return this.ecLevel},t.prototype.getVersion=function(){return this.version},t.prototype.getMaskPattern=function(){return this.maskPattern},t.prototype.getMatrix=function(){return this.matrix},t.prototype.toString=function(){var t=new et;return t.append("<<\n"),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append("\n ecLevel: "),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append("\n version: "),t.append(this.version?this.version.toString():"null"),t.append("\n maskPattern: "),t.append(this.maskPattern.toString()),this.matrix?(t.append("\n matrix:\n"),t.append(this.matrix.toString())):t.append("\n matrix: null\n"),t.append(">>\n"),t.toString()},t.prototype.setMode=function(t){this.mode=t},t.prototype.setECLevel=function(t){this.ecLevel=t},t.prototype.setVersion=function(t){this.version=t},t.prototype.setMaskPattern=function(t){this.maskPattern=t},t.prototype.setMatrix=function(t){this.matrix=t},t.isValidMaskPattern=function(e){return e>=0&&e<t.NUM_MASK_PATTERNS},t.NUM_MASK_PATTERNS=8,t}(),fo=(eo=function(t,e){return(eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}eo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return fo(e,t),e.kind="WriterException",e}(w),go=function(){function t(){}return t.clearMatrix=function(t){t.clear(255)},t.buildMatrix=function(e,n,r,i,o){t.clearMatrix(o),t.embedBasicPatterns(r,o),t.embedTypeInfo(n,i,o),t.maybeEmbedVersionInfo(r,o),t.embedDataBits(e,i,o)},t.embedBasicPatterns=function(e,n){t.embedPositionDetectionPatternsAndSeparators(n),t.embedDarkDotAtLeftBottomCorner(n),t.maybeEmbedPositionAdjustmentPatterns(e,n),t.embedTimingPatterns(n)},t.embedTypeInfo=function(e,n,r){var i=new L;t.makeTypeInfoBits(e,n,i);for(var o=0,a=i.getSize();o<a;++o){var s=i.get(i.getSize()-1-o),u=t.TYPE_INFO_COORDINATES[o];if(r.setBoolean(u[0],u[1],s),o<8){var c=r.getWidth()-o-1;r.setBoolean(c,l=8,s)}else{c=8;var l=r.getHeight()-7+(o-8);r.setBoolean(c,l,s)}}},t.maybeEmbedVersionInfo=function(e,n){if(!(e.getVersionNumber()<7)){var r=new L;t.makeVersionInfoBits(e,r);for(var i=17,o=0;o<6;++o)for(var a=0;a<3;++a){var s=r.get(i);i--,n.setBoolean(o,n.getHeight()-11+a,s),n.setBoolean(n.getHeight()-11+a,o,s)}}},t.embedDataBits=function(e,n,r){for(var i=0,o=-1,a=r.getWidth()-1,s=r.getHeight()-1;a>0;){for(6===a&&(a-=1);s>=0&&s<r.getHeight();){for(var u=0;u<2;++u){var c=a-u;if(t.isEmpty(r.get(c,s))){var l=void 0;i<e.getSize()?(l=e.get(i),++i):l=!1,255!==n&&co.getDataMaskBit(n,c,s)&&(l=!l),r.setBoolean(c,s,l)}}s+=o}s+=o=-o,a-=2}if(i!==e.getSize())throw new po("Not all bits consumed: "+i+"/"+e.getSize())},t.findMSBSet=function(t){return 32-x.numberOfLeadingZeros(t)},t.calculateBCHCode=function(e,n){if(0===n)throw new E("0 polynomial");var r=t.findMSBSet(n);for(e<<=r-1;t.findMSBSet(e)>=r;)e^=n<<t.findMSBSet(e)-r;return e},t.makeTypeInfoBits=function(e,n,r){if(!ho.isValidMaskPattern(n))throw new po("Invalid mask pattern");var i=e.getBits()<<3|n;r.appendBits(i,5);var o=t.calculateBCHCode(i,t.TYPE_INFO_POLY);r.appendBits(o,10);var a=new L;if(a.appendBits(t.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new po("should not happen but we got: "+r.getSize())},t.makeVersionInfoBits=function(e,n){n.appendBits(e.getVersionNumber(),6);var r=t.calculateBCHCode(e.getVersionNumber(),t.VERSION_INFO_POLY);if(n.appendBits(r,12),18!==n.getSize())throw new po("should not happen but we got: "+n.getSize())},t.isEmpty=function(t){return 255===t},t.embedTimingPatterns=function(e){for(var n=8;n<e.getWidth()-8;++n){var r=(n+1)%2;t.isEmpty(e.get(n,6))&&e.setNumber(n,6,r),t.isEmpty(e.get(6,n))&&e.setNumber(6,n,r)}},t.embedDarkDotAtLeftBottomCorner=function(t){if(0===t.get(8,t.getHeight()-8))throw new po;t.setNumber(8,t.getHeight()-8,1)},t.embedHorizontalSeparationPattern=function(e,n,r){for(var i=0;i<8;++i){if(!t.isEmpty(r.get(e+i,n)))throw new po;r.setNumber(e+i,n,0)}},t.embedVerticalSeparationPattern=function(e,n,r){for(var i=0;i<7;++i){if(!t.isEmpty(r.get(e,n+i)))throw new po;r.setNumber(e,n+i,0)}},t.embedPositionAdjustmentPattern=function(e,n,r){for(var i=0;i<5;++i)for(var o=t.POSITION_ADJUSTMENT_PATTERN[i],a=0;a<5;++a)r.setNumber(e+a,n+i,o[a])},t.embedPositionDetectionPattern=function(e,n,r){for(var i=0;i<7;++i)for(var o=t.POSITION_DETECTION_PATTERN[i],a=0;a<7;++a)r.setNumber(e+a,n+i,o[a])},t.embedPositionDetectionPatternsAndSeparators=function(e){var n=t.POSITION_DETECTION_PATTERN[0].length;t.embedPositionDetectionPattern(0,0,e),t.embedPositionDetectionPattern(e.getWidth()-n,0,e),t.embedPositionDetectionPattern(0,e.getWidth()-n,e),t.embedHorizontalSeparationPattern(0,7,e),t.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),t.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),t.embedVerticalSeparationPattern(7,0,e),t.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),t.embedVerticalSeparationPattern(7,e.getHeight()-7,e)},t.maybeEmbedPositionAdjustmentPatterns=function(e,n){if(!(e.getVersionNumber()<2))for(var r=e.getVersionNumber()-1,i=t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r],o=0,a=i.length;o!==a;o++){var s=i[o];if(s>=0)for(var u=0;u!==a;u++){var c=i[u];c>=0&&t.isEmpty(n.get(c,s))&&t.embedPositionAdjustmentPattern(c-2,s-2,n)}}},t.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),t.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),t.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),t.VERSION_INFO_POLY=7973,t.TYPE_INFO_POLY=1335,t.TYPE_INFO_MASK_PATTERN=21522,t}(),vo=function(){function t(t,e){this.dataBytes=t,this.errorCorrectionBytes=e}return t.prototype.getDataBytes=function(){return this.dataBytes},t.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},t}(),mo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yo=function(){function t(){}return t.calculateMaskPenalty=function(t){return co.applyMaskPenaltyRule1(t)+co.applyMaskPenaltyRule2(t)+co.applyMaskPenaltyRule3(t)+co.applyMaskPenaltyRule4(t)},t.encode=function(e,n,r){void 0===r&&(r=null);var i=t.DEFAULT_BYTE_MODE_ENCODING,o=null!==r&&void 0!==r.get(so.CHARACTER_SET);o&&(i=r.get(so.CHARACTER_SET).toString());var a=this.chooseMode(e,i),s=new L;if(a===Xr.BYTE&&(o||t.DEFAULT_BYTE_MODE_ENCODING!==i)){var u=K.getCharacterSetECIByName(i);void 0!==u&&this.appendECI(u,s)}this.appendModeInfo(a,s);var c,l=new L;if(this.appendBytes(e,a,l,i),null!==r&&void 0!==r.get(so.QR_VERSION)){var h=Number.parseInt(r.get(so.QR_VERSION).toString(),10);c=Mr.getVersionForNumber(h);var f=this.calculateBitsNeeded(a,s,l,c);if(!this.willFit(f,c,n))throw new po("Data too big for requested version")}else c=this.recommendVersion(n,a,s,l);var d=new L;d.appendBitArray(s);var p=a===Xr.BYTE?l.getSizeInBytes():e.length;this.appendLengthInfo(p,c,a,d),d.appendBitArray(l);var g=c.getECBlocksForLevel(n),v=c.getTotalCodewords()-g.getTotalECCodewords();this.terminateBits(v,d);var m=this.interleaveWithECBytes(d,c.getTotalCodewords(),v,g.getNumBlocks()),y=new ho;y.setECLevel(n),y.setMode(a),y.setVersion(c);var b=c.getDimensionForVersion(),w=new lo(b,b),_=this.chooseMaskPattern(m,n,c,w);return y.setMaskPattern(_),go.buildMatrix(m,n,c,_,w),y.setMatrix(w),y},t.recommendVersion=function(t,e,n,r){var i=this.calculateBitsNeeded(e,n,r,Mr.getVersionForNumber(1)),o=this.chooseVersion(i,t),a=this.calculateBitsNeeded(e,n,r,o);return this.chooseVersion(a,t)},t.calculateBitsNeeded=function(t,e,n,r){return e.getSize()+t.getCharacterCountBits(r)+n.getSize()},t.getAlphanumericCode=function(e){return e<t.ALPHANUMERIC_TABLE.length?t.ALPHANUMERIC_TABLE[e]:-1},t.chooseMode=function(e,n){if(void 0===n&&(n=null),K.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(e))return Xr.KANJI;for(var r=!1,i=!1,o=0,a=e.length;o<a;++o){var s=e.charAt(o);if(t.isDigit(s))r=!0;else{if(-1===this.getAlphanumericCode(s.charCodeAt(0)))return Xr.BYTE;i=!0}}return i?Xr.ALPHANUMERIC:r?Xr.NUMERIC:Xr.BYTE},t.isOnlyDoubleByteKanji=function(t){var e;try{e=$.encode(t,K.SJIS)}catch(o){return!1}var n=e.length;if(n%2!=0)return!1;for(var r=0;r<n;r+=2){var i=255&e[r];if((i<129||i>159)&&(i<224||i>235))return!1}return!0},t.chooseMaskPattern=function(t,e,n,r){for(var i=Number.MAX_SAFE_INTEGER,o=-1,a=0;a<ho.NUM_MASK_PATTERNS;a++){go.buildMatrix(t,e,n,a,r);var s=this.calculateMaskPenalty(r);s<i&&(i=s,o=a)}return o},t.chooseVersion=function(e,n){for(var r=1;r<=40;r++){var i=Mr.getVersionForNumber(r);if(t.willFit(e,i,n))return i}throw new po("Data too big")},t.willFit=function(t,e,n){return e.getTotalCodewords()-e.getECBlocksForLevel(n).getTotalECCodewords()>=(t+7)/8},t.terminateBits=function(t,e){var n=8*t;if(e.getSize()>n)throw new po("data bits cannot fit in the QR Code"+e.getSize()+" > "+n);for(var r=0;r<4&&e.getSize()<n;++r)e.appendBit(!1);var i=7&e.getSize();if(i>0)for(r=i;r<8;r++)e.appendBit(!1);var o=t-e.getSizeInBytes();for(r=0;r<o;++r)e.appendBits(0==(1&r)?236:17,8);if(e.getSize()!==n)throw new po("Bits size does not equal capacity")},t.getNumDataBytesAndNumECBytesForBlockID=function(t,e,n,r,i,o){if(r>=n)throw new po("Block ID too large");var a=t%n,s=n-a,u=Math.floor(t/n),c=u+1,l=Math.floor(e/n),h=l+1,f=u-l,d=c-h;if(f!==d)throw new po("EC bytes mismatch");if(n!==s+a)throw new po("RS blocks mismatch");if(t!==(l+f)*s+(h+d)*a)throw new po("Total bytes mismatch");r<s?(i[0]=l,o[0]=f):(i[0]=h,o[0]=d)},t.interleaveWithECBytes=function(e,n,r,i){var o,a,s,u;if(e.getSizeInBytes()!==r)throw new po("Number of bits and data bytes does not match");for(var c=0,l=0,h=0,f=new Array,d=0;d<i;++d){var p=new Int32Array(1),g=new Int32Array(1);t.getNumDataBytesAndNumECBytesForBlockID(n,r,i,d,p,g);var v=p[0],m=new Uint8Array(v);e.toBytes(8*c,m,0,v);var y=t.generateECBytes(m,g[0]);f.push(new vo(m,y)),l=Math.max(l,v),h=Math.max(h,y.length),c+=p[0]}if(r!==c)throw new po("Data bytes does not match offset");var b=new L;for(d=0;d<l;++d)try{for(var w=(o=void 0,mo(f)),_=w.next();!_.done;_=w.next())d<(m=_.value.getDataBytes()).length&&b.appendBits(m[d],8)}catch(E){o={error:E}}finally{try{_&&!_.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}for(d=0;d<h;++d)try{for(var C=(s=void 0,mo(f)),S=C.next();!S.done;S=C.next())d<(y=S.value.getErrorCorrectionBytes()).length&&b.appendBits(y[d],8)}catch(O){s={error:O}}finally{try{S&&!S.done&&(u=C.return)&&u.call(C)}finally{if(s)throw s.error}}if(n!==b.getSizeInBytes())throw new po("Interleaving error: "+n+" and "+b.getSizeInBytes()+" differ.");return b},t.generateECBytes=function(t,e){for(var n=t.length,r=new Int32Array(n+e),i=0;i<n;i++)r[i]=255&t[i];new uo(Pt.QR_CODE_FIELD_256).encode(r,e);var o=new Uint8Array(e);for(i=0;i<e;i++)o[i]=r[n+i];return o},t.appendModeInfo=function(t,e){e.appendBits(t.getBits(),4)},t.appendLengthInfo=function(t,e,n,r){var i=n.getCharacterCountBits(e);if(t>=1<<i)throw new po(t+" is bigger than "+((1<<i)-1));r.appendBits(t,i)},t.appendBytes=function(e,n,r,i){switch(n){case Xr.NUMERIC:t.appendNumericBytes(e,r);break;case Xr.ALPHANUMERIC:t.appendAlphanumericBytes(e,r);break;case Xr.BYTE:t.append8BitBytes(e,r,i);break;case Xr.KANJI:t.appendKanjiBytes(e,r);break;default:throw new po("Invalid mode: "+n)}},t.getDigit=function(t){return t.charCodeAt(0)-48},t.isDigit=function(e){var n=t.getDigit(e);return n>=0&&n<=9},t.appendNumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getDigit(e.charAt(i));if(i+2<r){var a=t.getDigit(e.charAt(i+1)),s=t.getDigit(e.charAt(i+2));n.appendBits(100*o+10*a+s,10),i+=3}else i+1<r?(a=t.getDigit(e.charAt(i+1)),n.appendBits(10*o+a,7),i+=2):(n.appendBits(o,4),i++)}},t.appendAlphanumericBytes=function(e,n){for(var r=e.length,i=0;i<r;){var o=t.getAlphanumericCode(e.charCodeAt(i));if(-1===o)throw new po;if(i+1<r){var a=t.getAlphanumericCode(e.charCodeAt(i+1));if(-1===a)throw new po;n.appendBits(45*o+a,11),i+=2}else n.appendBits(o,6),i++}},t.append8BitBytes=function(t,e,n){var r;try{r=$.encode(t,n)}catch(a){throw new po(a)}for(var i=0,o=r.length;i!==o;i++)e.appendBits(r[i],8)},t.appendKanjiBytes=function(t,e){var n;try{n=$.encode(t,K.SJIS)}catch(s){throw new po(s)}for(var r=n.length,i=0;i<r;i+=2){var o=(255&n[i])<<8&4294967295|255&n[i+1],a=-1;if(o>=33088&&o<=40956?a=o-33088:o>=57408&&o<=60351&&(a=o-49472),-1===a)throw new po("Invalid byte sequence");e.appendBits(192*(a>>8)+(255&a),13)}},t.appendECI=function(t,e){e.appendBits(Xr.ECI.getBits(),4),e.appendBits(t.getValue(),8)},t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),t.DEFAULT_BYTE_MODE_ENCODING=K.UTF8.getName(),t}(),bo=(function(){function t(){}t.prototype.encode=function(e,n,r,i,o){if(0===e.length)throw new E("Found empty contents");if(n!==wt.QR_CODE)throw new E("Can only encode QR_CODE, but got "+n);if(r<0||i<0)throw new E("Requested dimensions are too small: "+r+"x"+i);var a=Ar.L,s=t.QUIET_ZONE_SIZE;null!==o&&(void 0!==o.get(so.ERROR_CORRECTION)&&(a=Ar.fromString(o.get(so.ERROR_CORRECTION).toString())),void 0!==o.get(so.MARGIN)&&(s=Number.parseInt(o.get(so.MARGIN).toString(),10)));var u=yo.encode(e,a,o);return t.renderResult(u,r,i,s)},t.renderResult=function(t,e,n,r){var i=t.getMatrix();if(null===i)throw new Bt;for(var o=i.getWidth(),a=i.getHeight(),s=o+2*r,u=a+2*r,c=Math.max(e,s),l=Math.max(n,u),h=Math.min(Math.floor(c/s),Math.floor(l/u)),f=Math.floor((c-o*h)/2),d=Math.floor((l-a*h)/2),p=new nt(c,l),g=0,v=d;g<a;g++,v+=h)for(var m=0,y=f;m<o;m++,y+=h)1===i.get(m,g)&&p.setRegion(y,v,h,h);return p},t.QUIET_ZONE_SIZE=4}(),no=function(t,e){return(no=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}no(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),wo=(function(t){function e(e,n,r,i,o,a,s,u){var c=t.call(this,a,s)||this;if(c.yuvData=e,c.dataWidth=n,c.dataHeight=r,c.left=i,c.top=o,i+a>n||o+s>r)throw new E("Crop rectangle does not fit within image data.");return u&&c.reverseHorizontal(a,s),c}bo(e,t),e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new E("Requested row is outside the image: "+t);var n=this.getWidth();return(null==e||e.length<n)&&(e=new Uint8ClampedArray(n)),R.arraycopy(this.yuvData,(t+this.top)*this.dataWidth+this.left,e,0,n),e},e.prototype.getMatrix=function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.yuvData;var n=t*e,r=new Uint8ClampedArray(n),i=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return R.arraycopy(this.yuvData,i,r,0,n),r;for(var o=0;o<e;o++)R.arraycopy(this.yuvData,i,r,o*t,t),i+=this.dataWidth;return r},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,r,i){return new e(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+n,r,i,!1)},e.prototype.renderThumbnail=function(){for(var t=this.getWidth()/e.THUMBNAIL_SCALE_FACTOR,n=this.getHeight()/e.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*n),i=this.yuvData,o=this.top*this.dataWidth+this.left,a=0;a<n;a++){for(var s=a*t,u=0;u<t;u++)r[s+u]=4278190080|65793*(255&i[o+u*e.THUMBNAIL_SCALE_FACTOR]);o+=this.dataWidth*e.THUMBNAIL_SCALE_FACTOR}return r},e.prototype.getThumbnailWidth=function(){return this.getWidth()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.getThumbnailHeight=function(){return this.getHeight()/e.THUMBNAIL_SCALE_FACTOR},e.prototype.reverseHorizontal=function(t,e){for(var n=this.yuvData,r=0,i=this.top*this.dataWidth+this.left;r<e;r++,i+=this.dataWidth)for(var o=i+t/2,a=i,s=i+t-1;a<o;a++,s--){var u=n[a];n[a]=n[s],n[s]=u}},e.prototype.invert=function(){return new ht(this)},e.THUMBNAIL_SCALE_FACTOR=2}(ct),ro=function(t,e){return(ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ro(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_o=(function(t){function e(e,n,r,i,o,a,s){var u=t.call(this,n,r)||this;if(u.dataWidth=i,u.dataHeight=o,u.left=a,u.top=s,4===e.BYTES_PER_ELEMENT){for(var c=n*r,l=new Uint8ClampedArray(c),h=0;h<c;h++){var f=e[h];l[h]=((f>>16&255)+(f>>7&510)+(255&f))/4&255}u.luminances=l}else u.luminances=e;if(void 0===i&&(u.dataWidth=n),void 0===o&&(u.dataHeight=r),void 0===a&&(u.left=0),void 0===s&&(u.top=0),u.left+n>u.dataWidth||u.top+r>u.dataHeight)throw new E("Crop rectangle does not fit within image data.");return u}wo(e,t),e.prototype.getRow=function(t,e){if(t<0||t>=this.getHeight())throw new E("Requested row is outside the image: "+t);var n=this.getWidth();return(null==e||e.length<n)&&(e=new Uint8ClampedArray(n)),R.arraycopy(this.luminances,(t+this.top)*this.dataWidth+this.left,e,0,n),e},e.prototype.getMatrix=function(){var t=this.getWidth(),e=this.getHeight();if(t===this.dataWidth&&e===this.dataHeight)return this.luminances;var n=t*e,r=new Uint8ClampedArray(n),i=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return R.arraycopy(this.luminances,i,r,0,n),r;for(var o=0;o<e;o++)R.arraycopy(this.luminances,i,r,o*t,t),i+=this.dataWidth;return r},e.prototype.isCropSupported=function(){return!0},e.prototype.crop=function(t,n,r,i){return new e(this.luminances,r,i,this.dataWidth,this.dataHeight,this.left+t,this.top+n)},e.prototype.invert=function(){return new ht(this)}}(ct),io=function(t,e){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Co=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _o(e,t),e.forName=function(t){return this.getCharacterSetECIByName(t)},e}(K),So=function(){function t(){}return t.ISO_8859_1=K.ISO8859_1,t}(),Eo=function(){function t(){}return t.prototype.isCompact=function(){return this.compact},t.prototype.setCompact=function(t){this.compact=t},t.prototype.getSize=function(){return this.size},t.prototype.setSize=function(t){this.size=t},t.prototype.getLayers=function(){return this.layers},t.prototype.setLayers=function(t){this.layers=t},t.prototype.getCodeWords=function(){return this.codeWords},t.prototype.setCodeWords=function(t){this.codeWords=t},t.prototype.getMatrix=function(){return this.matrix},t.prototype.setMatrix=function(t){this.matrix=t},t}(),Oo=function(){function t(){}return t.singletonList=function(t){return[t]},t.min=function(t,e){return t.sort(e)[0]},t}(),Ao=function(){function t(t){this.previous=t}return t.prototype.getPrevious=function(){return this.previous},t}(),Io=(oo=function(t,e){return(oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}oo(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ko=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.value=n,i.bitCount=r,i}return Io(e,t),e.prototype.appendTo=function(t,e){t.appendBits(this.value,this.bitCount)},e.prototype.add=function(t,n){return new e(this,t,n)},e.prototype.addBinaryShift=function(t,n){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new e(this,t,n)},e.prototype.toString=function(){var t=this.value&(1<<this.bitCount)-1;return"<"+x.toBinaryString((t|=1<<this.bitCount)|1<<this.bitCount).substring(1)+">"},e}(Ao),Ro=(ao=function(t,e){return(ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}ao(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),To=function(t){function e(e,n,r){var i=t.call(this,e,0,0)||this;return i.binaryShiftStart=n,i.binaryShiftByteCount=r,i}return Ro(e,t),e.prototype.appendTo=function(t,e){for(var n=0;n<this.binaryShiftByteCount;n++)(0===n||31===n&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):t.appendBits(0===n?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),t.appendBits(e[this.binaryShiftStart+n],8)},e.prototype.addBinaryShift=function(t,n){return new e(this,t,n)},e.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},e}(ko);function Mo(t,e,n){return new ko(t,e,n)}var No=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Po=new ko(null,0,0),Do=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])],xo=function(t){var e,n;try{for(var r=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),i=r.next();!i.done;i=r.next())D.fill(i.value,-1)}catch(o){e={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return t[0][4]=0,t[1][4]=0,t[1][0]=28,t[3][4]=0,t[2][4]=0,t[2][0]=15,t}(D.createInt32Array(6,6)),Lo=function(){function t(t,e,n,r){this.token=t,this.mode=e,this.binaryShiftByteCount=n,this.bitCount=r}return t.prototype.getMode=function(){return this.mode},t.prototype.getToken=function(){return this.token},t.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},t.prototype.getBitCount=function(){return this.bitCount},t.prototype.latchAndAppend=function(e,n){var r=this.bitCount,i=this.token;if(e!==this.mode){var o=Do[this.mode][e];i=Mo(i,65535&o,o>>16),r+=o>>16}var a=2===e?4:5;return new t(i=Mo(i,n,a),e,0,r+a)},t.prototype.shiftAndAppend=function(e,n){var r=this.token,i=2===this.mode?4:5;return r=Mo(r,xo[this.mode][e],i),new t(r=Mo(r,n,5),this.mode,0,this.bitCount+i+5)},t.prototype.addBinaryShiftChar=function(e){var n=this.token,r=this.mode,i=this.bitCount;if(4===this.mode||2===this.mode){var o=Do[r][0];n=Mo(n,65535&o,o>>16),i+=o>>16,r=0}var a=new t(n,r,this.binaryShiftByteCount+1,i+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===a.binaryShiftByteCount&&(a=a.endBinaryShift(e+1)),a},t.prototype.endBinaryShift=function(e){if(0===this.binaryShiftByteCount)return this;var n=this.token;return new t(n=function(t,e,n){return new To(t,e,n)}(n,e-this.binaryShiftByteCount,this.binaryShiftByteCount),this.mode,0,this.bitCount)},t.prototype.isBetterThanOrEqualTo=function(e){var n=this.bitCount+(Do[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?n+=t.calculateBinaryShiftCost(e)-t.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(n+=10),n<=e.bitCount},t.prototype.toBitArray=function(t){for(var e,n,r=[],i=this.endBinaryShift(t.length).token;null!==i;i=i.getPrevious())r.unshift(i);var o=new L;try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(r),s=a.next();!s.done;s=a.next())s.value.appendTo(o,t)}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o},t.prototype.toString=function(){return tt.format("%s bits=%d bytes=%d",No[this.mode],this.bitCount,this.binaryShiftByteCount)},t.calculateBinaryShiftCost=function(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0},t.INITIAL_STATE=new t(Po,0,0,0),t}(),Bo=function(t){var e=tt.getCharCode(" "),n=tt.getCharCode("."),r=tt.getCharCode(",");t[0][e]=1;for(var i=tt.getCharCode("Z"),o=tt.getCharCode("A"),a=o;a<=i;a++)t[0][a]=a-o+2;t[1][e]=1;var s=tt.getCharCode("z"),u=tt.getCharCode("a");for(a=u;a<=s;a++)t[1][a]=a-u+2;t[2][e]=1;var c=tt.getCharCode("9"),l=tt.getCharCode("0");for(a=l;a<=c;a++)t[2][a]=a-l+2;t[2][r]=12,t[2][n]=13;for(var h=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"],f=0;f<h.length;f++)t[3][tt.getCharCode(h[f])]=f;var d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(f=0;f<d.length;f++)tt.getCharCode(d[f])>0&&(t[4][tt.getCharCode(d[f])]=f);return t}(D.createInt32Array(5,256)),Fo=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},jo=function(){function t(t){this.text=t}return t.prototype.encode=function(){for(var e=tt.getCharCode(" "),n=tt.getCharCode("\n"),r=Oo.singletonList(Lo.INITIAL_STATE),i=0;i<this.text.length;i++){var o=void 0,a=i+1<this.text.length?this.text[i+1]:0;switch(this.text[i]){case tt.getCharCode("\r"):o=a===n?2:0;break;case tt.getCharCode("."):o=a===e?3:0;break;case tt.getCharCode(","):o=a===e?4:0;break;case tt.getCharCode(":"):o=a===e?5:0;break;default:o=0}o>0?(r=t.updateStateListForPair(r,i,o),i++):r=this.updateStateListForChar(r,i)}return Oo.min(r,function(t,e){return t.getBitCount()-e.getBitCount()}).toBitArray(this.text)},t.prototype.updateStateListForChar=function(e,n){var r,i,o=[];try{for(var a=Fo(e),s=a.next();!s.done;s=a.next())this.updateStateForChar(s.value,n,o)}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return t.simplifyStates(o)},t.prototype.updateStateForChar=function(t,e,n){for(var r=255&this.text[e],i=Bo[t.getMode()][r]>0,o=null,a=0;a<=4;a++){var s=Bo[a][r];if(s>0){if(null==o&&(o=t.endBinaryShift(e)),!i||a===t.getMode()||2===a){var u=o.latchAndAppend(a,s);n.push(u)}if(!i&&xo[t.getMode()][a]>=0){var c=o.shiftAndAppend(a,s);n.push(c)}}}if(t.getBinaryShiftByteCount()>0||0===Bo[t.getMode()][r]){var l=t.addBinaryShiftChar(e);n.push(l)}},t.updateStateListForPair=function(t,e,n){var r,i,o=[];try{for(var a=Fo(t),s=a.next();!s.done;s=a.next())this.updateStateForPair(s.value,e,n,o)}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return this.simplifyStates(o)},t.updateStateForPair=function(t,e,n,r){var i=t.endBinaryShift(e);if(r.push(i.latchAndAppend(4,n)),4!==t.getMode()&&r.push(i.shiftAndAppend(4,n)),3===n||4===n){var o=i.latchAndAppend(2,16-n).latchAndAppend(2,1);r.push(o)}if(t.getBinaryShiftByteCount()>0){var a=t.addBinaryShiftChar(e).addBinaryShiftChar(e+1);r.push(a)}},t.simplifyStates=function(t){var e,n,r,i,o=[];try{for(var a=Fo(t),s=a.next();!s.done;s=a.next()){var u=s.value,c=!0,l=function(t){if(t.isBetterThanOrEqualTo(u))return c=!1,"break";u.isBetterThanOrEqualTo(t)&&(o=o.filter(function(e){return e!==t}))};try{for(var h=(r=void 0,Fo(o)),f=h.next();!f.done&&"break"!==l(f.value);f=h.next());}catch(d){r={error:d}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}c&&o.push(u)}}catch(p){e={error:p}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return o},t}(),Uo=function(){function t(){}return t.encodeBytes=function(e){return t.encode(e,t.DEFAULT_EC_PERCENT,t.DEFAULT_AZTEC_LAYERS)},t.encode=function(e,n,r){var i,o,a,s,u,c=new jo(e).encode(),l=x.truncDivision(c.getSize()*n,100)+11,h=c.getSize()+l;if(r!==t.DEFAULT_AZTEC_LAYERS){if(i=r<0,(o=Math.abs(r))>(i?t.MAX_NB_BITS_COMPACT:t.MAX_NB_BITS))throw new E(tt.format("Illegal value %s for layers",r));var f=(a=t.totalBitsInLayer(o,i))-a%(s=t.WORD_SIZE[o]);if((u=t.stuffBits(c,s)).getSize()+l>f)throw new E("Data to large for user specified layer");if(i&&u.getSize()>64*s)throw new E("Data to large for user specified layer")}else{s=0,u=null;for(var d=0;;d++){if(d>t.MAX_NB_BITS)throw new E("Data too large for an Aztec code");if(!(h>(a=t.totalBitsInLayer(o=(i=d<=3)?d+1:d,i)))&&(null!=u&&s===t.WORD_SIZE[o]||(u=t.stuffBits(c,s=t.WORD_SIZE[o])),f=a-a%s,!(i&&u.getSize()>64*s)&&u.getSize()+l<=f))break}}var p,g=t.generateCheckWords(u,a,s),v=u.getSize()/s,m=t.generateModeMessage(i,o,v),y=(i?11:14)+4*o,b=new Int32Array(y);if(i)for(p=y,d=0;d<b.length;d++)b[d]=d;else{p=y+1+2*x.truncDivision(x.truncDivision(y,2)-1,15);var w=x.truncDivision(y,2),_=x.truncDivision(p,2);for(d=0;d<w;d++){var C=d+x.truncDivision(d,15);b[w-d-1]=_-C-1,b[w+d]=_+C+1}}for(var S=new nt(p),O=(d=0,0);d<o;d++){for(var A=4*(o-d)+(i?9:12),I=0;I<A;I++)for(var k=2*I,R=0;R<2;R++)g.get(O+k+R)&&S.set(b[2*d+R],b[2*d+I]),g.get(O+2*A+k+R)&&S.set(b[2*d+I],b[y-1-2*d-R]),g.get(O+4*A+k+R)&&S.set(b[y-1-2*d-R],b[y-1-2*d-I]),g.get(O+6*A+k+R)&&S.set(b[y-1-2*d-I],b[2*d+R]);O+=8*A}if(t.drawModeMessage(S,i,p,m),i)t.drawBullsEye(S,x.truncDivision(p,2),5);else for(t.drawBullsEye(S,x.truncDivision(p,2),7),d=0,I=0;d<x.truncDivision(y,2)-1;d+=15,I+=16)for(R=1&x.truncDivision(p,2);R<p;R+=2)S.set(x.truncDivision(p,2)-I,R),S.set(x.truncDivision(p,2)+I,R),S.set(R,x.truncDivision(p,2)-I),S.set(R,x.truncDivision(p,2)+I);var T=new Eo;return T.setCompact(i),T.setSize(p),T.setLayers(o),T.setCodeWords(v),T.setMatrix(S),T},t.drawBullsEye=function(t,e,n){for(var r=0;r<n;r+=2)for(var i=e-r;i<=e+r;i++)t.set(i,e-r),t.set(i,e+r),t.set(e-r,i),t.set(e+r,i);t.set(e-n,e-n),t.set(e-n+1,e-n),t.set(e-n,e-n+1),t.set(e+n,e-n),t.set(e+n,e-n+1),t.set(e+n,e+n-1)},t.generateModeMessage=function(e,n,r){var i=new L;return e?(i.appendBits(n-1,2),i.appendBits(r-1,6),i=t.generateCheckWords(i,28,4)):(i.appendBits(n-1,5),i.appendBits(r-1,11),i=t.generateCheckWords(i,40,4)),i},t.drawModeMessage=function(t,e,n,r){var i=x.truncDivision(n,2);if(e)for(var o=0;o<7;o++){var a=i-3+o;r.get(o)&&t.set(a,i-5),r.get(o+7)&&t.set(i+5,a),r.get(20-o)&&t.set(a,i+5),r.get(27-o)&&t.set(i-5,a)}else for(o=0;o<10;o++)a=i-5+o+x.truncDivision(o,5),r.get(o)&&t.set(a,i-7),r.get(o+10)&&t.set(i+7,a),r.get(29-o)&&t.set(a,i+7),r.get(39-o)&&t.set(i-7,a)},t.generateCheckWords=function(e,n,r){var i,o,a=e.getSize()/r,s=new uo(t.getGF(r)),u=x.truncDivision(n,r),c=t.bitsToWords(e,r,u);s.encode(c,u-a);var l=n%r,h=new L;h.appendBits(0,l);try{for(var f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Array.from(c)),d=f.next();!d.done;d=f.next())h.appendBits(d.value,r)}catch(p){i={error:p}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return h},t.bitsToWords=function(t,e,n){var r,i,o=new Int32Array(n);for(r=0,i=t.getSize()/e;r<i;r++){for(var a=0,s=0;s<e;s++)a|=t.get(r*e+s)?1<<e-s-1:0;o[r]=a}return o},t.getGF=function(t){switch(t){case 4:return Pt.AZTEC_PARAM;case 6:return Pt.AZTEC_DATA_6;case 8:return Pt.AZTEC_DATA_8;case 10:return Pt.AZTEC_DATA_10;case 12:return Pt.AZTEC_DATA_12;default:throw new E("Unsupported word size "+t)}},t.stuffBits=function(t,e){for(var n=new L,r=t.getSize(),i=(1<<e)-2,o=0;o<r;o+=e){for(var a=0,s=0;s<e;s++)(o+s>=r||t.get(o+s))&&(a|=1<<e-1-s);(a&i)===i?(n.appendBits(a&i,e),o--):0==(a&i)?(n.appendBits(1|a,e),o--):n.appendBits(a,e)}return n},t.totalBitsInLayer=function(t,e){return((e?88:112)+16*t)*t},t.DEFAULT_EC_PERCENT=33,t.DEFAULT_AZTEC_LAYERS=0,t.MAX_NB_BITS=32,t.MAX_NB_BITS_COMPACT=4,t.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),t}(),Vo=(function(){function t(){}t.prototype.encode=function(t,e,n,r){return this.encodeWithHints(t,e,n,r,null)},t.prototype.encodeWithHints=function(e,n,r,i,o){var a=So.ISO_8859_1,s=Uo.DEFAULT_EC_PERCENT,u=Uo.DEFAULT_AZTEC_LAYERS;return null!=o&&(o.has(so.CHARACTER_SET)&&(a=Co.forName(o.get(so.CHARACTER_SET).toString())),o.has(so.ERROR_CORRECTION)&&(s=x.parseInt(o.get(so.ERROR_CORRECTION).toString())),o.has(so.AZTEC_LAYERS)&&(u=x.parseInt(o.get(so.AZTEC_LAYERS).toString()))),t.encodeLayers(e,n,r,i,a,s,u)},t.encodeLayers=function(e,n,r,i,o,a,s){if(n!==wt.AZTEC)throw new E("Can only encode AZTEC, but got "+n);var u=Uo.encode(tt.getBytes(e,o),a,s);return t.renderResult(u,r,i)},t.renderResult=function(t,e,n){var r=t.getMatrix();if(null==r)throw new Bt;for(var i=r.getWidth(),o=r.getHeight(),a=Math.max(e,i),s=Math.max(n,o),u=Math.min(a/i,s/o),c=(a-i*u)/2,l=(s-o*u)/2,h=new nt(a,s),f=0,d=l;f<o;f++,d+=u)for(var p=0,g=c;p<i;p++,g+=u)r.get(p,f)&&h.setRegion(g,d,u,u);return h}}(),function(t){c(n,t);var e=l(n);function n(t){var r;return o(this,n),(r=e.call(this,t.width,t.height)).canvas=t,r.buffer=n.makeBufferFromCanvasImageData(t),r}return a(n,[{key:"getRow",value:function(t,e){if(t<0||t>=this.getHeight())throw new E("Requested row is outside the image: "+t);var n=this.getWidth(),r=t*n;return null===e?e=this.buffer.slice(r,r+n):(e.length<n&&(e=new Uint8ClampedArray(n)),e.set(this.buffer.slice(r,r+n))),e}},{key:"getMatrix",value:function(){return this.buffer}},{key:"isCropSupported",value:function(){return!0}},{key:"crop",value:function(t,e,r,i){return s(u(n.prototype),"crop",this).call(this,t,e,r,i),this}},{key:"isRotateSupported",value:function(){return!0}},{key:"rotateCounterClockwise",value:function(){return this.rotate(-90),this}},{key:"rotateCounterClockwise45",value:function(){return this.rotate(-45),this}},{key:"invert",value:function(){return new ht(this)}},{key:"getTempCanvasElement",value:function(){if(null===this.tempCanvasElement){var t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}},{key:"rotate",value:function(t){var e=this.getTempCanvasElement();if(!e)throw new Error("Could not create a Canvas element.");var r=t*n.DEGREE_TO_RADIANS,i=this.canvas.width,o=this.canvas.height,a=Math.ceil(Math.abs(Math.cos(r))*i+Math.abs(Math.sin(r))*o),s=Math.ceil(Math.abs(Math.sin(r))*i+Math.abs(Math.cos(r))*o);e.width=a,e.height=s;var u=e.getContext("2d");if(!u)throw new Error("Could not create a Convas Context element.");return u.translate(a/2,s/2),u.rotate(r),u.drawImage(this.canvas,i/-2,o/-2),this.buffer=n.makeBufferFromCanvasImageData(e),this}}],[{key:"makeBufferFromCanvasImageData",value:function(t){var e=t.getContext("2d");if(!e)throw new Error("Couldn't get canvas context.");var r=e.getImageData(0,0,t.width,t.height);return n.toGrayscaleBuffer(r.data,t.width,t.height)}},{key:"toGrayscaleBuffer",value:function(t,e,n){for(var r=new Uint8ClampedArray(e*n),i=0,o=0,a=t.length;i<a;i+=4,o++)r[o]=0===t[i+3]?255:306*t[i]+601*t[i+1]+117*t[i+2]+512>>10;return r}}]),n}(ct));function Ho(){return"undefined"!=typeof navigator}Vo.DEGREE_TO_RADIANS=Math.PI/180;var Wo=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})},zo={delayBetweenScanAttempts:500,delayBetweenScanSuccess:500,tryPlayVideoTimeout:5e3},Go=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,t),this.reader=e,this.hints=n,this.options=Object.assign(Object.assign({},zo),r)}return a(t,[{key:"possibleFormats",set:function(t){this.hints.set(j.POSSIBLE_FORMATS,t)}},{key:"decode",value:function(e){var n=t.createCanvasFromMediaElement(e);return this.decodeFromCanvas(n)}},{key:"decodeBitmap",value:function(t){return this.reader.decode(t,this.hints)}},{key:"decodeFromCanvas",value:function(e){var n=t.createBinaryBitmapFromCanvas(e);return this.decodeBitmap(n)}},{key:"decodeFromImageElement",value:function(e){return Wo(this,void 0,void 0,i.mark(function n(){var r;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new C("An image element must be provided.");case 2:return r=t.prepareImageElement(e),n.next=5,this._decodeOnLoadImage(r);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}},{key:"decodeFromImageUrl",value:function(e){return Wo(this,void 0,void 0,i.mark(function n(){var r;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new C("An URL must be provided.");case 2:return(r=t.prepareImageElement()).src=e,n.prev=4,n.next=7,this.decodeFromImageElement(r);case 7:return n.abrupt("return",n.sent);case 8:return n.prev=8,t.destroyImageElement(r),n.finish(8);case 11:case"end":return n.stop()}},n,this,[[4,,8,11]])}))}},{key:"decodeFromConstraints",value:function(e,n,r){return Wo(this,void 0,void 0,i.mark(function o(){var a;return i.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.checkCallbackFnOrThrow(r),i.next=3,navigator.mediaDevices.getUserMedia(e);case 3:return a=i.sent,i.prev=4,i.next=7,this.decodeFromStream(a,n,r);case 7:return i.abrupt("return",i.sent);case 10:throw i.prev=10,i.t0=i.catch(4),t.disposeMediaStream(a),i.t0;case 14:case"end":return i.stop()}},o,this,[[4,10]])}))}},{key:"decodeFromStream",value:function(e,n,o){return Wo(this,void 0,void 0,i.mark(function a(){var s,u,c,l,h,f,d,p,g=this;return i.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t.checkCallbackFnOrThrow(o),s=this.options.tryPlayVideoTimeout,a.next=4,t.attachStreamToVideo(e,n,s);case 4:return c=function(){var t,n=r(e.getVideoTracks());try{for(n.s();!(t=n.n()).done;)t.value.stop()}catch(i){n.e(i)}finally{n.f()}e=void 0},l=this.scan(u=a.sent,o,function(){c(),t.cleanVideoSource(u)}),h=e.getVideoTracks(),f=Object.assign(Object.assign({},l),{stop:function(){l.stop()},streamVideoConstraintsApply:function(t,e){return Wo(this,void 0,void 0,i.mark(function n(){var o,a,s,u;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=e?h.filter(e):h,a=r(o),n.prev=2,a.s();case 4:if((s=a.n()).done){n.next=10;break}return u=s.value,n.next=8,u.applyConstraints(t);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),a.e(n.t0);case 15:return n.prev=15,a.f(),n.finish(15);case 18:case"end":return n.stop()}},n,null,[[2,12,15,18]])}))},streamVideoConstraintsGet:function(t){return h.find(t).getConstraints()},streamVideoSettingsGet:function(t){return h.find(t).getSettings()},streamVideoCapabilitiesGet:function(t){return h.find(t).getCapabilities()}}),t.mediaStreamIsTorchCompatible(e)&&(d=null==h?void 0:h.find(function(e){return t.mediaStreamIsTorchCompatibleTrack(e)}),f.switchTorch=p=function(e){return Wo(g,void 0,void 0,i.mark(function n(){return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.mediaStreamSetTorch(d,e);case 2:case"end":return n.stop()}},n)}))},f.stop=function(){l.stop(),p(!1)}),a.abrupt("return",f);case 13:case"end":return a.stop()}},a,this)}))}},{key:"decodeFromVideoDevice",value:function(e,n,r){return Wo(this,void 0,void 0,i.mark(function o(){var a;return i.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t.checkCallbackFnOrThrow(r),a={video:e?{deviceId:{exact:e}}:{facingMode:"environment"}},i.next=5,this.decodeFromConstraints(a,n,r);case 5:return i.abrupt("return",i.sent);case 6:case"end":return i.stop()}},o,this)}))}},{key:"decodeFromVideoElement",value:function(e,n){return Wo(this,void 0,void 0,i.mark(function r(){var o,a;return i.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.checkCallbackFnOrThrow(n),e){r.next=3;break}throw new C("A video element must be provided.");case 3:return o=t.prepareVideoElement(e),a=this.options.tryPlayVideoTimeout,r.next=7,t.playVideoOnLoadAsync(o,a);case 7:return r.abrupt("return",this.scan(o,n));case 8:case"end":return r.stop()}},r,this)}))}},{key:"decodeFromVideoUrl",value:function(e,n){return Wo(this,void 0,void 0,i.mark(function r(){var o,a,s,u;return i.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t.checkCallbackFnOrThrow(n),e){r.next=3;break}throw new C("An URL must be provided.");case 3:return(o=t.prepareVideoElement()).src=e,a=function(){t.cleanVideoSource(o)},s=this.options.tryPlayVideoTimeout,r.next=9,t.playVideoOnLoadAsync(o,s);case 9:return u=this.scan(o,n,a),r.abrupt("return",u);case 11:case"end":return r.stop()}},r,this)}))}},{key:"decodeOnceFromConstraints",value:function(t,e){return Wo(this,void 0,void 0,i.mark(function n(){var r;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,navigator.mediaDevices.getUserMedia(t);case 2:return r=n.sent,n.next=5,this.decodeOnceFromStream(r,e);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}},n,this)}))}},{key:"decodeOnceFromStream",value:function(e,n){return Wo(this,void 0,void 0,i.mark(function r(){var o,a;return i.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=Boolean(n),r.next=3,t.attachStreamToVideo(e,n);case 3:return a=r.sent,r.prev=4,r.next=7,this.scanOneResult(a);case 7:return r.abrupt("return",r.sent);case 9:return r.prev=9,o||t.cleanVideoSource(a),r.finish(9);case 12:case"end":return r.stop()}},r,this,[[4,,9,12]])}))}},{key:"decodeOnceFromVideoDevice",value:function(t,e){return Wo(this,void 0,void 0,i.mark(function n(){var r;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r={video:t?{deviceId:{exact:t}}:{facingMode:"environment"}},n.next=4,this.decodeOnceFromConstraints(r,e);case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},n,this)}))}},{key:"decodeOnceFromVideoElement",value:function(e){return Wo(this,void 0,void 0,i.mark(function n(){var r,o;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new C("A video element must be provided.");case 2:return r=t.prepareVideoElement(e),o=this.options.tryPlayVideoTimeout,n.next=6,t.playVideoOnLoadAsync(r,o);case 6:return n.next=8,this.scanOneResult(r);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},n,this)}))}},{key:"decodeOnceFromVideoUrl",value:function(e){return Wo(this,void 0,void 0,i.mark(function n(){var r,o;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}throw new C("An URL must be provided.");case 2:return(r=t.prepareVideoElement()).src=e,o=this.decodeOnceFromVideoElement(r),n.prev=5,n.next=8,o;case 8:return n.abrupt("return",n.sent);case 9:return n.prev=9,t.cleanVideoSource(r),n.finish(9);case 12:case"end":return n.stop()}},n,this,[[5,,9,12]])}))}},{key:"scanOneResult",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise(function(o,a){e.scan(t,function(t,e,s){if(t)return o(t),void s.stop();if(e){if(e instanceof it&&n)return;if(e instanceof I&&r)return;if(e instanceof V&&i)return;s.stop(),a(e)}})})}},{key:"scan",value:function(e,n,r){var i=this;t.checkCallbackFnOrThrow(n);var o=t.createCaptureCanvas(e),a=o.getContext("2d");if(!a)throw new Error("Couldn't create canvas for visual element scan.");var s,u=function(){a=void 0,o=void 0},c=!1,l={stop:function(){c=!0,clearTimeout(s),u(),r&&r()}};return function h(){if(!c)try{t.drawImageOnCanvas(a,e);var f=i.decodeFromCanvas(o);n(f,void 0,l),s=setTimeout(h,i.options.delayBetweenScanSuccess)}catch(d){if(n(void 0,d,l),d instanceof I||d instanceof V||d instanceof it)return void(s=setTimeout(h,i.options.delayBetweenScanAttempts));u(),r&&r(d)}}(),l}},{key:"_decodeOnLoadImage",value:function(e){return Wo(this,void 0,void 0,i.mark(function n(){return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isImageLoaded(e)){n.next=4;break}return n.next=4,t._waitImageLoad(e);case 4:return n.abrupt("return",this.decode(e));case 5:case"end":return n.stop()}},n,this)}))}}],[{key:"addVideoSource",value:function(t,e){try{t.srcObject=e}catch(n){t.src=URL.createObjectURL(e)}}},{key:"mediaStreamSetTorch",value:function(t,e){return Wo(this,void 0,void 0,i.mark(function n(){return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.applyConstraints({advanced:[{fillLightMode:e?"flash":"off",torch:!!e}]});case 2:case"end":return n.stop()}},n)}))}},{key:"mediaStreamIsTorchCompatible",value:function(e){var n,i=e.getVideoTracks(),o=r(i);try{for(o.s();!(n=o.n()).done;)if(t.mediaStreamIsTorchCompatibleTrack(n.value))return!0}catch(a){o.e(a)}finally{o.f()}return!1}},{key:"mediaStreamIsTorchCompatibleTrack",value:function(t){try{return"torch"in t.getCapabilities()}catch(e){return console.error(e),console.warn("Your browser may be not fully compatible with WebRTC and/or ImageCapture specs. Torch will not be available."),!1}}},{key:"isVideoPlaying",value:function(t){return t.currentTime>0&&!t.paused&&t.readyState>2}},{key:"getMediaElement",value:function(t,e){var n=document.getElementById(t);if(!n)throw new C("element with id '".concat(t,"' not found"));if(n.nodeName.toLowerCase()!==e.toLowerCase())throw new C("element with id '".concat(t,"' must be an ").concat(e," element"));return n}},{key:"createVideoElement",value:function(e){if(e instanceof HTMLVideoElement)return e;if("string"==typeof e)return t.getMediaElement(e,"video");if(!e&&"undefined"!=typeof document){var n=document.createElement("video");return n.width=200,n.height=200,n}throw new Error("Couldn't get videoElement from videoSource!")}},{key:"prepareImageElement",value:function(e){if(e instanceof HTMLImageElement)return e;if("string"==typeof e)return t.getMediaElement(e,"img");if(void 0===e){var n=document.createElement("img");return n.width=200,n.height=200,n}throw new Error("Couldn't get imageElement from imageSource!")}},{key:"prepareVideoElement",value:function(e){var n=t.createVideoElement(e);return n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n}},{key:"isImageLoaded",value:function(t){return!!t.complete&&0!==t.naturalWidth}},{key:"createBinaryBitmapFromCanvas",value:function(t){var e=new Vo(t),n=new ut(e);return new O(n)}},{key:"drawImageOnCanvas",value:function(t,e){t.drawImage(e,0,0)}},{key:"getMediaElementDimensions",value:function(t){if(t instanceof HTMLVideoElement)return{height:t.videoHeight,width:t.videoWidth};if(t instanceof HTMLImageElement)return{height:t.naturalHeight||t.height,width:t.naturalWidth||t.width};throw new Error("Couldn't find the Source's dimentions!")}},{key:"createCaptureCanvas",value:function(e){if(!e)throw new C("Cannot create a capture canvas without a media element.");if("undefined"==typeof document)throw new Error('The page "Document" is undefined, make sure you\'re running in a browser.');var n=document.createElement("canvas"),r=t.getMediaElementDimensions(e),i=r.width,o=r.height;return n.style.width=i+"px",n.style.height=o+"px",n.width=i,n.height=o,n}},{key:"tryPlayVideo",value:function(e){return Wo(this,void 0,void 0,i.mark(function n(){return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(null==e?void 0:e.ended)){n.next=3;break}return console.error("Trying to play video that has ended."),n.abrupt("return",!1);case 3:if(!t.isVideoPlaying(e)){n.next=6;break}return console.warn("Trying to play video that is already playing."),n.abrupt("return",!0);case 6:return n.prev=6,n.next=9,e.play();case 9:return n.abrupt("return",!0);case 12:return n.prev=12,n.t0=n.catch(6),console.warn("It was not possible to play the video.",n.t0),n.abrupt("return",!1);case 16:case"end":return n.stop()}},n,null,[[6,12]])}))}},{key:"createCanvasFromMediaElement",value:function(e){var n=t.createCaptureCanvas(e),r=n.getContext("2d");if(!r)throw new Error("Couldn't find Canvas 2D Context.");return t.drawImageOnCanvas(r,e),n}},{key:"createBinaryBitmapFromMediaElem",value:function(e){var n=t.createCanvasFromMediaElement(e);return t.createBinaryBitmapFromCanvas(n)}},{key:"destroyImageElement",value:function(t){t.src="",t.removeAttribute("src"),t=void 0}},{key:"listVideoInputDevices",value:function(){return Wo(this,void 0,void 0,i.mark(function t(){var e,n,o,a,s,u,c;return i.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(Ho()){t.next=2;break}throw new Error("Can't enumerate devices, navigator is not present.");case 2:if(Ho()&&navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){t.next=4;break}throw new Error("Can't enumerate devices, method not supported.");case 4:return t.next=6,navigator.mediaDevices.enumerateDevices();case 6:e=[],n=r(t.sent),t.prev=9,n.s();case 11:if((o=n.n()).done){t.next=23;break}if("videoinput"===(s="video"===(a=o.value).kind?"videoinput":a.kind)){t.next=16;break}return t.abrupt("continue",21);case 16:u=a.deviceId||a.id,c=a.label||"Video device ".concat(e.length+1),e.push({deviceId:u,label:c,kind:s,groupId:a.groupId});case 21:t.next=11;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(9),n.e(t.t0);case 28:return t.prev=28,n.f(),t.finish(28);case 31:return t.abrupt("return",e);case 32:case"end":return t.stop()}},t,null,[[9,25,28,31]])}))}},{key:"findDeviceById",value:function(e){return Wo(this,void 0,void 0,i.mark(function n(){var r;return i.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.listVideoInputDevices();case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return");case 5:return n.abrupt("return",r.find(function(t){return t.deviceId===e}));case 6:case"end":return n.stop()}},n)}))}},{key:"cleanVideoSource",value:function(t){if(t){try{t.srcObject=null}catch(e){t.src=""}t&&t.removeAttribute("src")}}},{key:"playVideoOnLoadAsync",value:function(e,n){return Wo(this,void 0,void 0,i.mark(function r(){return i.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.tryPlayVideo(e);case 2:if(!r.sent){r.next=5;break}return r.abrupt("return",!0);case 5:return r.abrupt("return",new Promise(function(r,i){var o=setTimeout(function(){t.isVideoPlaying(e)||(i(!1),e.removeEventListener("canplay",a))},n),a=function n(){t.tryPlayVideo(e).then(function(t){clearTimeout(o),e.removeEventListener("canplay",n),r(t)})};e.addEventListener("canplay",a)}));case 6:case"end":return r.stop()}},r)}))}},{key:"attachStreamToVideo",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return Wo(this,void 0,void 0,i.mark(function o(){var a;return i.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return a=t.prepareVideoElement(n),t.addVideoSource(a,e),i.next=4,t.playVideoOnLoadAsync(a,r);case 4:return i.abrupt("return",a);case 5:case"end":return i.stop()}},o)}))}},{key:"_waitImageLoad",value:function(e){return new Promise(function(n,r){var i=setTimeout(function(){t.isImageLoaded(e)||(e.removeEventListener("load",o),r())},1e4),o=function t(){clearTimeout(i),e.removeEventListener("load",t),n()};e.addEventListener("load",o)})}},{key:"checkCallbackFnOrThrow",value:function(t){if(!t)throw new C("`callbackFn` is a required parameter, you cannot capture results without it.")}},{key:"disposeMediaStream",value:function(t){t.getVideoTracks().forEach(function(t){return t.stop()}),t=void 0}}]),t}(),Xo=function(t){c(n,t);var e=l(n);function n(t,r){return o(this,n),e.call(this,new De,t,r)}return n}(Go),Zo=function(t){c(n,t);var e=l(n);function n(t,r){return o(this,n),e.call(this,new ur(t),t,r)}return n}(Go),qo=function(t){c(n,t);var e=l(n);function n(t,r){return o(this,n),e.call(this,new Sr,t,r)}return n}(Go),Yo=function(t){c(n,t);var e=l(n);function n(t,r){var i;o(this,n);var a=new Qi;return a.setHints(t),(i=e.call(this,a,t,r)).reader=a,i}return a(n,[{key:"possibleFormats",set:function(t){this.hints.set(j.POSSIBLE_FORMATS,t),this.reader.setHints(this.hints)}},{key:"decodeBitmap",value:function(t){return this.reader.decodeWithState(t)}},{key:"setHints",value:function(t){this.hints=t,this.reader.setHints(this.hints)}}]),n}(Go),Ko=function(t){c(n,t);var e=l(n);function n(t,r){return o(this,n),e.call(this,new Zi,t,r)}return n}(Go),Qo=function(t){c(n,t);var e=l(n);function n(t,r){return o(this,n),e.call(this,new ai,t,r)}return n}(Go),Jo="http://www.w3.org/2000/svg",$o=function(){function t(e){if(o(this,t),"string"==typeof e){var n=document.getElementById(e);if(!n)throw new Error("Could not find a Container element with '".concat(e,"'."));this.containerElement=n}else this.containerElement=e}return a(t,[{key:"write",value:function(e,n,r,i){if(0===e.length)throw new E("Found empty contents");if(n<0||r<0)throw new E("Requested dimensions are too small: "+n+"x"+r);var o=i&&void 0!==i.get(so.MARGIN)?Number.parseInt(i.get(so.MARGIN).toString(),10):t.QUIET_ZONE_SIZE,a=this.encode(i,e);return this.renderResult(a,n,r,o)}},{key:"createSVGElement",value:function(e,n){var r=document.createElementNS(t.SVG_NS,"svg");return r.setAttributeNS(Jo,"width",n.toString()),r.setAttributeNS(Jo,"height",e.toString()),r}},{key:"createSvgPathPlaceholderElement",value:function(e,n){var r=document.createElementNS(t.SVG_NS,"path");return r.setAttributeNS(Jo,"d","M0 0h".concat(e,"v").concat(n,"H0z")),r.setAttributeNS(Jo,"fill","none"),r}},{key:"createSvgRectElement",value:function(e,n,r,i){var o=document.createElementNS(t.SVG_NS,"rect");return o.setAttributeNS(Jo,"x",e.toString()),o.setAttributeNS(Jo,"y",n.toString()),o.setAttributeNS(Jo,"height",r.toString()),o.setAttributeNS(Jo,"width",i.toString()),o.setAttributeNS(Jo,"fill","#000000"),o}},{key:"encode",value:function(t,e){var n=Ar.L;if(t&&void 0!==t.get(so.ERROR_CORRECTION)){var r=t.get(so.ERROR_CORRECTION).toString();n=Ar.fromString(r)}return yo.encode(e,n,t)}},{key:"renderResult",value:function(t,e,n,r){var i=t.getMatrix();if(null===i)throw new Bt;var o=i.getWidth(),a=i.getHeight(),s=o+2*r,u=a+2*r,c=Math.max(e,s),l=Math.max(n,u),h=Math.min(Math.floor(c/s),Math.floor(l/u)),f=Math.floor((c-o*h)/2),d=Math.floor((l-a*h)/2),p=this.createSVGElement(c,l),g=this.createSvgPathPlaceholderElement(e,n);p.appendChild(g),this.containerElement.appendChild(p);for(var v=0,m=d;v<a;v++,m+=h)for(var y=0,b=f;y<o;y++,b+=h)if(1===i.get(y,v)){var w=this.createSvgRectElement(b,m,h,h);p.appendChild(w)}return p}}]),t}();$o.QUIET_ZONE_SIZE=4,$o.SVG_NS="http://www.w3.org/2000/svg";var ta="http://www.w3.org/2000/svg",ea=function(){function t(){o(this,t)}return a(t,[{key:"write",value:function(e,n,r,i){if(0===e.length)throw new E("Found empty contents");if(n<0||r<0)throw new E("Requested dimensions are too small: "+n+"x"+r);var o=Ar.L,a=t.QUIET_ZONE_SIZE;if(i){if(void 0!==i.get(so.ERROR_CORRECTION)){var s=i.get(so.ERROR_CORRECTION).toString();o=Ar.fromString(s)}void 0!==i.get(so.MARGIN)&&(a=Number.parseInt(i.get(so.MARGIN).toString(),10))}var u=yo.encode(e,o,i);return this.renderResult(u,n,r,a)}},{key:"writeToDom",value:function(t,e,n,r,i){if("string"==typeof t){var o=document.querySelector(t);if(!o)throw new Error("Could no find the target HTML element.");t=o}var a=this.write(e,n,r,i);t instanceof HTMLElement&&t.appendChild(a)}},{key:"renderResult",value:function(t,e,n,r){var i=t.getMatrix();if(null===i)throw new Bt;for(var o=i.getWidth(),a=i.getHeight(),s=o+2*r,u=a+2*r,c=Math.max(e,s),l=Math.max(n,u),h=Math.min(Math.floor(c/s),Math.floor(l/u)),f=Math.floor((c-o*h)/2),d=Math.floor((l-a*h)/2),p=this.createSVGElement(c,l),g=0,v=d;g<a;g++,v+=h)for(var m=0,y=f;m<o;m++,y+=h)if(1===i.get(m,g)){var b=this.createSvgRectElement(y,v,h,h);p.appendChild(b)}return p}},{key:"createSVGElement",value:function(t,e){var n=document.createElementNS(ta,"svg");return n.setAttribute("height",t.toString()),n.setAttribute("width",e.toString()),n}},{key:"createSvgRectElement",value:function(t,e,n,r){var i=document.createElementNS(ta,"rect");return i.setAttribute("x",t.toString()),i.setAttribute("y",e.toString()),i.setAttribute("height",n.toString()),i.setAttribute("width",r.toString()),i.setAttribute("fill","#000000"),i}}]),t}();ea.QUIET_ZONE_SIZE=4,t.BarcodeFormat=wt,t.BrowserAztecCodeReader=Xo,t.BrowserCodeReader=Go,t.BrowserCodeSvgWriter=$o,t.BrowserDatamatrixCodeReader=qo,t.BrowserMultiFormatOneDReader=Zo,t.BrowserMultiFormatReader=Yo,t.BrowserPDF417Reader=Ko,t.BrowserQRCodeReader=Qo,t.BrowserQRCodeSvgWriter=ea,t.HTMLCanvasElementLuminanceSource=Vo,Object.defineProperty(t,"__esModule",{value:!0})}(e)},ReuC:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("foSv");function i(t,e,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Object(r.a)(t)););return t}(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("30Go"),i=n("zVF4"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:a,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(a)}catch(h){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=r.__read(o.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,function(){var t;return r.__generator(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===a?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=o,e.ComponentContainer=u,e.Provider=s},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=void 0;try{r=n.next()}catch(i){return t.error(i),t}if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'"),f="You provided ".concat(h," where a stream was expected.")+" You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(f)}},SksO:function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=Number.POSITIVE_INFINITY,e=null,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];var c=s[s.length-1];return Object(i.a)(c)?(e=s.pop(),s.length>1&&"number"==typeof s[s.length-1]&&(t=s.pop())):"number"==typeof c&&(t=s.pop()),null===e&&1===s.length&&s[0]instanceof r.a?s[0]:Object(o.a)(t)(Object(a.a)(s,e))}},W8MJ:function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;i.registerVersion("firebase","7.11.0","app"),t.exports=i},WkPL:function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return g}),n.d(e,"a",function(){return v});var r=n("vuIU"),i=n("ReuC"),o=n("foSv"),a=n("1OyB"),s=n("Ji7U"),u=n("LK+K"),c=n("HDdC"),l=n("7o/Q"),h=n("quSY"),f=n("9ppp"),d=n("Ylt2"),p=n("2QA8"),g=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).destination=t,r}return n}(l.a),v=function(){var t=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){var t;return Object(a.a)(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Object(r.a)(n,[{key:p.a,value:function(){return new g(this)}},{key:"lift",value:function(t){var e=new m(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new f.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new f.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new f.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new f.a;return Object(i.a)(Object(o.a)(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new f.a;return this.hasError?(t.error(this.thrownError),h.a.EMPTY):this.isStopped?(t.complete(),h.a.EMPTY):(this.observers.push(t),new d.a(this,t))}},{key:"asObservable",value:function(){var t=new c.a;return t.source=this,t}}]),n}(c.a);return t.create=function(t,e){return new m(t,e)},t}(),m=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this)).destination=t,i.source=r,i}return Object(r.a)(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):h.a.EMPTY}}]),n}(v)},XU1U:function(t,e,n){"use strict";n.d(e,"c",function(){return k}),n.d(e,"a",function(){return R}),n.d(e,"h",function(){return M}),n.d(e,"g",function(){return N}),n.d(e,"f",function(){return P}),n.d(e,"i",function(){return D}),n.d(e,"e",function(){return x}),n.d(e,"d",function(){return L}),n.d(e,"b",function(){return B}),n.d(e,"j",function(){return j});var r=n("KQm4"),i=n("1OyB"),o=n("vuIU"),a=n("fXoL"),s=n("ofXK"),u=n("qgXg"),c=n("D0XW"),l=n("HDdC"),h=n("vkgz"),f=n("Ji7U"),d=n("LK+K"),p=n("ReuC"),g=n("foSv"),v=1,m=function(){return Promise.resolve()}(),y={};function b(t){return t in y&&(delete y[t],!0)}var w=function(t){var e=v++;return y[e]=!0,m.then(function(){return b(e)&&t()}),e},_=function(t){b(t)},C=function(t){Object(f.a)(n,t);var e=Object(d.a)(n);function n(t,r){var o;return Object(i.a)(this,n),(o=e.call(this,t,r)).scheduler=t,o.work=r,o}return Object(o.a)(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?Object(p.a)(Object(g.a)(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=w(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return Object(p.a)(Object(g.a)(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(_(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),S=new(function(t){Object(f.a)(n,t);var e=Object(d.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(C),E=n("Y7HM"),O=function(t){Object(f.a)(n,t);var e=Object(d.a)(n);function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return Object(i.a)(this,n),(r=e.call(this)).source=t,r.delayTime=o,r.scheduler=a,(!Object(E.a)(o)||o<0)&&(r.delayTime=0),a&&"function"==typeof a.schedule||(r.scheduler=S),r}return Object(o.a)(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return new n(t,e,r)}},{key:"dispatch",value:function(t){return this.add(t.source.subscribe(t.subscriber))}}]),n}(l.a),A=function(){function t(e,n){Object(i.a)(this,t),this.scheduler=e,this.delay=n}return Object(o.a)(t,[{key:"call",value:function(t,e){return new O(e,this.delay,this.scheduler).subscribe(t)}}]),t}(),I=n("pxpQ"),k=new a.r("angularfire2.realtimeDatabaseURL"),R=k;function T(){}var M=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.b;Object(i.a)(this,t),this.zone=e,this.delegate=n}return Object(o.a)(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),N=function(){function t(e){Object(i.a)(this,t),this.zone=e,this.task=null}return Object(o.a)(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",T,{},T,T)}),e.pipe(Object(h.a)(n,n,n)).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)}}]),t}(),P=function t(e){Object(i.a)(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new M(Zone.current)}),this.insideAngular=e.run(function(){return new M(Zone.current,c.b)})};function D(t,e){return function(n){return Object(s.q)(e)&&(n=n.lift(new N(t.ngZone))),n.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new A(t,e))}}(t.outsideAngular),Object(I.b)(t.insideAngular))}}var x=function(t){return function(e){return new l.a(function(n){return t.runOutsideAngular(function(){L(t)(e).subscribe(n)})})}},L=function(t){return function(e){return new l.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},B=function(){function t(e,n){Object(i.a)(this,t),this.zone=e,this.platformId=n}return Object(o.a)(t,[{key:"schedule",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.zone.runGuarded(function(){return u.b.schedule.apply(u.b,e)})}},{key:"keepUnstableUntilFirst",value:function(t){return Object(s.q)(this.platformId)?new l.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t}},{key:"runOutsideAngular",value:function(t){var e=this;return new l.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})}}]),t}(),F=["ngOnDestroy"],j=function(t,e,n){return new Proxy(t,{get:function(i,o){return n.runOutsideAngular(function(){if(t[o])return t[o];if(F.includes(o))return function(){};var i=e.toPromise().then(function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return i[e]},apply:function(t,e,n){return i.then(function(t){return t&&t.apply(void 0,Object(r.a)(n))})}})})}})}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y3SK:function(t,e,n){var r=n("ZhPi");t.exports=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,i){var o;return Object(r.a)(this,n),(o=e.call(this)).subject=t,o.subscriber=i,o.closed=!1,o}return Object(i.a)(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,i,o){var a;return Object(r.a)(this,n),(a=e.call(this)).parent=t,a.outerValue=i,a.outerIndex=o,a.index=0,a}return Object(i.a)(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a),u=n("SeVD"),c=n("HDdC");function l(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new s(t,n,r);if(!i.closed)return e instanceof c.a?e.subscribe(i):Object(u.a)(e)(i)}},ZhPi:function(t,e,n){var r=n("WkPL");t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},a1gu:function(t,e,n){var r=n("cDf5"),i=n("PJYZ");t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?i(t):e}},a3WO:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",function(){return r})},b48C:function(t,e){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.b)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},cDf5:function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},eIep:function(t,e,n){"use strict";n.d(e,"a",function(){return f});var r=n("ReuC"),i=n("foSv"),o=n("Ji7U"),a=n("LK+K"),s=n("1OyB"),u=n("vuIU"),c=n("lJxs"),l=n("Cfvw"),h=n("zx2A");function f(t,e){return"function"==typeof e?function(n){return n.pipe(f(function(n,r){return Object(l.a)(t(n,r)).pipe(Object(c.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new d(t))}}var d=function(){function t(e){Object(s.a)(this,t),this.project=e}return Object(u.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.project))}}]),t}(),p=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t,r){var i;return Object(s.a)(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return Object(u.a)(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new h.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(h.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&Object(r.a)(Object(i.a)(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(h.b)},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return _n}),n.d(e,"b",function(){return fc}),n.d(e,"c",function(){return sc}),n.d(e,"d",function(){return oc}),n.d(e,"e",function(){return ac}),n.d(e,"f",function(){return sl}),n.d(e,"g",function(){return Qc}),n.d(e,"h",function(){return eu}),n.d(e,"i",function(){return Sc}),n.d(e,"j",function(){return Os}),n.d(e,"k",function(){return gc}),n.d(e,"l",function(){return Rs}),n.d(e,"m",function(){return Fr}),n.d(e,"n",function(){return Fu}),n.d(e,"o",function(){return To}),n.d(e,"p",function(){return Wn}),n.d(e,"q",function(){return z}),n.d(e,"r",function(){return wn}),n.d(e,"s",function(){return Zo}),n.d(e,"t",function(){return qs}),n.d(e,"u",function(){return Ks}),n.d(e,"v",function(){return pc}),n.d(e,"w",function(){return fu}),n.d(e,"x",function(){return $c}),n.d(e,"y",function(){return hu}),n.d(e,"z",function(){return zc}),n.d(e,"A",function(){return Ac}),n.d(e,"B",function(){return zn}),n.d(e,"C",function(){return hc}),n.d(e,"D",function(){return lc}),n.d(e,"E",function(){return Uu}),n.d(e,"F",function(){return Ns}),n.d(e,"G",function(){return Ms}),n.d(e,"H",function(){return zr}),n.d(e,"I",function(){return Ds}),n.d(e,"J",function(){return Nr}),n.d(e,"K",function(){return Gn}),n.d(e,"L",function(){return Xn}),n.d(e,"M",function(){return nl}),n.d(e,"N",function(){return uu}),n.d(e,"O",function(){return Pc}),n.d(e,"P",function(){return Cn}),n.d(e,"Q",function(){return Ls}),n.d(e,"R",function(){return xs}),n.d(e,"S",function(){return pu}),n.d(e,"T",function(){return K}),n.d(e,"U",function(){return Xc}),n.d(e,"V",function(){return Vc}),n.d(e,"W",function(){return I}),n.d(e,"X",function(){return Uc}),n.d(e,"Y",function(){return ol}),n.d(e,"Z",function(){return xc}),n.d(e,"ab",function(){return dc}),n.d(e,"bb",function(){return No}),n.d(e,"cb",function(){return ls}),n.d(e,"db",function(){return Tr}),n.d(e,"eb",function(){return dr}),n.d(e,"fb",function(){return nr}),n.d(e,"gb",function(){return ir}),n.d(e,"hb",function(){return ur}),n.d(e,"ib",function(){return ar}),n.d(e,"jb",function(){return or}),n.d(e,"kb",function(){return sr}),n.d(e,"lb",function(){return as}),n.d(e,"mb",function(){return il}),n.d(e,"nb",function(){return ss}),n.d(e,"ob",function(){return us}),n.d(e,"pb",function(){return rr}),n.d(e,"qb",function(){return et}),n.d(e,"rb",function(){return ra}),n.d(e,"sb",function(){return Ca}),n.d(e,"tb",function(){return wa}),n.d(e,"ub",function(){return _a}),n.d(e,"vb",function(){return os}),n.d(e,"wb",function(){return Ut}),n.d(e,"xb",function(){return E}),n.d(e,"yb",function(){return er}),n.d(e,"zb",function(){return Yo}),n.d(e,"Ab",function(){return Dt}),n.d(e,"Bb",function(){return _s}),n.d(e,"Cb",function(){return Pi}),n.d(e,"Db",function(){return ua}),n.d(e,"Eb",function(){return Ua}),n.d(e,"Fb",function(){return ja}),n.d(e,"Gb",function(){return Ju}),n.d(e,"Hb",function(){return dt}),n.d(e,"Ib",function(){return wt}),n.d(e,"Jb",function(){return D}),n.d(e,"Kb",function(){return x}),n.d(e,"Lb",function(){return mt}),n.d(e,"Mb",function(){return _t}),n.d(e,"Nb",function(){return ha}),n.d(e,"Ob",function(){return va}),n.d(e,"Pb",function(){return ya}),n.d(e,"Qb",function(){return ma}),n.d(e,"Rb",function(){return ga}),n.d(e,"Sb",function(){return pa}),n.d(e,"Tb",function(){return ba}),n.d(e,"Ub",function(){return gn}),n.d(e,"Vb",function(){return es}),n.d(e,"Wb",function(){return Fn}),n.d(e,"Xb",function(){return mn}),n.d(e,"Yb",function(){return ic}),n.d(e,"Zb",function(){return Sa}),n.d(e,"ac",function(){return $u}),n.d(e,"bc",function(){return ka}),n.d(e,"cc",function(){return Pu}),n.d(e,"dc",function(){return Du}),n.d(e,"ec",function(){return xu}),n.d(e,"fc",function(){return Ma}),n.d(e,"gc",function(){return Ta}),n.d(e,"hc",function(){return fa}),n.d(e,"ic",function(){return ku}),n.d(e,"jc",function(){return Ru}),n.d(e,"kc",function(){return Tu}),n.d(e,"lc",function(){return Ku}),n.d(e,"mc",function(){return la}),n.d(e,"nc",function(){return Hr}),n.d(e,"oc",function(){return Vr}),n.d(e,"pc",function(){return oe}),n.d(e,"qc",function(){return Pr}),n.d(e,"rc",function(){return yt}),n.d(e,"sc",function(){return Fa}),n.d(e,"tc",function(){return ca}),n.d(e,"uc",function(){return rc}),n.d(e,"vc",function(){return Qa}),n.d(e,"wc",function(){return Ja}),n.d(e,"xc",function(){return $a}),n.d(e,"yc",function(){return ts}),n.d(e,"zc",function(){return Dr}),n.d(e,"Ac",function(){return Qu});var r=n("ReuC"),i=n("foSv"),o=n("JX7q"),a=n("ODXe");n("rePB"),n("DSFK"),n("25BE"),n("BsWD"),n("PYwp");var s=n("uFwe"),u=n("KQm4"),c=n("s4An"),l=n("2WcH");function h(t,e,n){return(h=Object(l.a)()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&Object(c.a)(i,n.prototype),i}).apply(null,arguments)}var f=n("vuIU"),d=n("1OyB"),p=n("Ji7U"),g=n("LK+K");function v(t){var e="function"==typeof Map?new Map:void 0;return(v=function(t){if(null===t||-1===Function.toString.call(t).indexOf("[native code]"))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return h(t,arguments,Object(i.a)(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Object(c.a)(n,t)})(t)}var m=n("quSY"),y=n("XNiG"),b=n("HDdC"),w=n("VRyK"),_=n("w1tV");function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(E).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function O(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var A=C({__forward_ref__:C});function I(t){return t.__forward_ref__=I,t.toString=function(){return E(this())},t}function k(t){return R(t)?t():t}function R(t){return"function"==typeof t&&t.hasOwnProperty(A)&&t.__forward_ref__===I}var T=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t,r){var i;return Object(d.a)(this,n),(i=e.call(this,function(t,e){var n=t?"NG0".concat(t,": "):"";return"".concat(n).concat(e)}(t,r))).code=t,i}return n}(v(Error));function M(t){return"string"==typeof t?t:null==t?"":String(t)}function N(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():M(t)}function P(t,e){var n=e?" in ".concat(e):"";throw new T("201","No provider for ".concat(N(t)," found").concat(n))}function D(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function x(t){return{providers:t.providers||[],imports:t.imports||[]}}function L(t){return B(t,U)||B(t,H)}function B(t,e){return t.hasOwnProperty(e)?t[e]:null}function F(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(W))?t[V]:null}var j,U=C({"\u0275prov":C}),V=C({"\u0275inj":C}),H=C({ngInjectableDef:C}),W=C({ngInjectorDef:C}),z=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function G(){return j}function X(t){var e=j;return j=t,e}function Z(t,e,n){var r=L(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&z.Optional?null:void 0!==e?e:void P(E(t),"Injector")}function q(t){return{toString:t}.toString()}var Y=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),K=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Q="undefined"!=typeof globalThis&&globalThis,J="undefined"!=typeof window&&window,$="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,tt="undefined"!=typeof global&&global,et=Q||tt||J||$,nt={},rt=[],it=[],ot=C({"\u0275cmp":C}),at=C({"\u0275dir":C}),st=C({"\u0275pipe":C}),ut=C({"\u0275mod":C}),ct=C({"\u0275loc":C}),lt=C({"\u0275fac":C}),ht=C({__NG_ELEMENT_ID__:C}),ft=0;function dt(t){return q(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Y.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||it,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||K.Emulated,id:"c",styles:t.styles||it,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ft++,n.inputs=bt(t.inputs,e),n.outputs=bt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(pt)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(gt)}:null,n})}function pt(t){return Ct(t)||function(t){return t[at]||null}(t)}function gt(t){return function(t){return t[st]||null}(t)}var vt={};function mt(t){var e={type:t.type,bootstrap:t.bootstrap||it,declarations:t.declarations||it,imports:t.imports||it,exports:t.exports||it,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&q(function(){vt[t.id]=t.type}),e}function yt(t,e){return q(function(){var n=St(t,!0);n.declarations=e.declarations||it,n.imports=e.imports||it,n.exports=e.exports||it})}function bt(t,e){if(null==t)return nt;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var wt=dt;function _t(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ct(t){return t[ot]||null}function St(t,e){var n=t[ut]||null;if(!n&&!0===e)throw new Error("Type ".concat(E(t)," does not have '\u0275mod' property."));return n}var Et=20,Ot=10;function At(t){return Array.isArray(t)&&"object"==typeof t[1]}function It(t){return Array.isArray(t)&&!0===t[1]}function kt(t){return 0!=(8&t.flags)}function Rt(t){return 2==(2&t.flags)}function Tt(t){return 1==(1&t.flags)}function Mt(t){return null!==t.template}function Nt(t,e){return t.hasOwnProperty(lt)?t[lt]:null}var Pt=function(){function t(e,n,r){Object(d.a)(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return Object(f.a)(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Dt(){return xt}function xt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Bt),Lt}function Lt(){var t=Ft(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===nt)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Bt(t,e,n,r){var i=Ft(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:nt,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Pt(u&&u.currentValue,e,a===nt),t[r]=e}function Ft(t){return t.__ngSimpleChanges__||null}Dt.ngInherit=!0;var jt=void 0;function Ut(t){jt=t}function Vt(t){return!!t.listen}var Ht={createRenderer:function(t,e){return void 0!==jt?jt:"undefined"!=typeof document?document:void 0}};function Wt(t){for(;Array.isArray(t);)t=t[0];return t}function zt(t,e){return Wt(e[t])}function Gt(t,e){return Wt(e[t.index])}function Xt(t,e){return t.data[e]}function Zt(t,e){return t[e]}function qt(t,e){var n=e[t];return At(n)?n:n[0]}function Yt(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Kt(t){return 4==(4&t[2])}function Qt(t){return 128==(128&t[2])}function Jt(t,e){return null==e?null:t[e]}function $t(t){t[18]=0}function te(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var ee={lFrame:Ee(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ne(){return ee.bindingsEnabled}function re(){return ee.lFrame.lView}function ie(){return ee.lFrame.tView}function oe(t){ee.lFrame.contextLView=t}function ae(){for(var t=se();null!==t&&64===t.type;)t=t.parent;return t}function se(){return ee.lFrame.currentTNode}function ue(t,e){var n=ee.lFrame;n.currentTNode=t,n.isParent=e}function ce(){return ee.lFrame.isParent}function le(){ee.lFrame.isParent=!1}function he(){return ee.isInCheckNoChangesMode}function fe(t){ee.isInCheckNoChangesMode=t}function de(){var t=ee.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function pe(){return ee.lFrame.bindingIndex}function ge(){return ee.lFrame.bindingIndex++}function ve(t){var e=ee.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function me(t){ee.lFrame.currentDirectiveIndex=t}function ye(){return ee.lFrame.currentQueryIndex}function be(t){ee.lFrame.currentQueryIndex=t}function we(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function _e(t,e,n){if(n&z.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&z.Host||null===(r=we(i))||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=ee.lFrame=Se();return o.currentTNode=e,o.lView=t,!0}function Ce(t){var e=Se(),n=t[1];ee.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Se(){var t=ee.lFrame,e=null===t?null:t.child;return null===e?Ee(t):e}function Ee(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function Oe(){var t=ee.lFrame;return ee.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Ae=Oe;function Ie(){var t=Oe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ke(t){return(ee.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ee.lFrame.contextLView))[8]}function Re(){return ee.lFrame.selectedIndex}function Te(t){ee.lFrame.selectedIndex=t}function Me(){var t=ee.lFrame;return Xt(t.tView,t.selectedIndex)}function Ne(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Pe(t,e,n){Le(t,e,3,n)}function De(t,e,n,r){(3&t[2])===n&&Le(t,e,n,r)}function xe(t,e){var n=t[2];(3&n)===e&&(n&=2047,t[2]=n+=1)}function Le(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Be(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Be(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Fe=-1,je=function t(e,n,r){Object(d.a)(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Ue(t,e,n){for(var r=Vt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];He(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function Ve(t){return 3===t||4===t||6===t}function He(t){return 64===t.charCodeAt(0)}function We(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||ze(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function ze(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ge(t){return t!==Fe}function Xe(t){return 32767&t}function Ze(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var qe=!0;function Ye(t){var e=qe;return qe=t,e}var Ke=0;function Qe(t,e){var n=$e(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Je(r.data,t),Je(e,null),Je(r.blueprint,null));var i=tn(t,e),o=t.injectorIndex;if(Ge(i))for(var a=Xe(i),s=Ze(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Je(t,e){t.push(0,0,0,0,0,0,0,0,e)}function $e(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function tn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return Fe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Fe}function en(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ht)&&(r=n[ht]),null==r&&(r=n[ht]=Ke++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function nn(t,e,n){if(n&z.Optional)return t;P(e,"NodeInjector")}function rn(t,e,n,r){if(n&z.Optional&&void 0===r&&(r=null),0==(n&(z.Self|z.Host))){var i=t[9],o=X(void 0);try{return i?i.get(e,r,n&z.Optional):Z(e,r,n&z.Optional)}finally{X(o)}}return nn(r,e,n)}function on(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=hn(n);if("function"==typeof o){if(!_e(e,t,r))return r&z.Host?nn(i,n,r):rn(e,n,r,i);try{var a=o();if(null!=a||r&z.Optional)return a;P(n)}finally{Ae()}}else if("number"==typeof o){var s=null,u=$e(t,e),c=Fe,l=r&z.Host?e[16][6]:null;for((-1===u||r&z.SkipSelf)&&((c=-1===u?tn(t,e):e[u+8])!==Fe&&dn(r,!1)?(s=e[1],u=Xe(c),e=Ze(c,e)):u=-1);-1!==u;){var h=e[1];if(fn(o,u,h.data)){var f=un(u,e,n,s,r,l);if(f!==an)return f}(c=e[u+8])!==Fe&&dn(r,e[1].data[u+8]===l)&&fn(o,u,e)?(s=h,u=Xe(c),e=Ze(c,e)):u=-1}}}return rn(e,n,r,i)}var an={};function sn(){return new pn(ae(),re())}function un(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=cn(s,a,n,null==r?Rt(s)&&qe:r!=a&&0!=(3&s.type),i&z.Host&&o===s);return null!==u?ln(e,a,u,s):an}function cn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Mt(d)&&d.type===n)return u}return null}function ln(t,e,n,r){var i=t[n],o=e.data;if(i instanceof je){var a=i;a.resolving&&function(t,e){throw new T("200","Circular dependency in DI detected for ".concat(t).concat(""))}(N(o[n]));var s=Ye(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?X(a.injectImpl):null;_e(t,r,z.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnInit,o=r.ngDoCheck;if(r.ngOnChanges){var a=xt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&X(u),Ye(s),a.resolving=!1,Ae()}}return i}function hn(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(ht)?t[ht]:void 0;return"number"==typeof e?e>=0?255&e:sn:e}function fn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function dn(t,e){return!(t&z.Self||t&z.Host&&e)}var pn=function(){function t(e,n){Object(d.a)(this,t),this._tNode=e,this._lView=n}return Object(f.a)(t,[{key:"get",value:function(t,e){return on(this._tNode,this._lView,t,void 0,e)}}]),t}();function gn(t){return q(function(){for(var e=t.prototype.constructor,n=e[lt]||vn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[lt]||vn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function vn(t){return R(t)?function(){var e=vn(k(t));return e&&e()}:Nt(t)}function mn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Ve(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ae(),t)}var yn="__parameters__";function bn(t,e,n){return q(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=h(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty(yn)?t[yn]:Object.defineProperty(t,yn,{value:[]})[yn];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var wn=function(){function t(e,n){Object(d.a)(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return Object(f.a)(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),_n=new wn("AnalyzeForEntryComponents"),Cn=Function;function Sn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),Sn(r,e)):e!==t&&e.push(r)}return e}function En(t,e){t.forEach(function(t){return Array.isArray(t)?En(t,e):e(t)})}function On(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function An(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function In(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function kn(t,e,n){var r=Tn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function Rn(t,e){var n=Tn(t,e);if(n>=0)return t[1|n]}function Tn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Mn={},Nn=/\n/gm,Pn="__source",Dn=C({provide:String,useValue:C}),xn=void 0;function Ln(t){var e=xn;return xn=t,e}function Bn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.Default;if(void 0===xn)throw new Error("inject() must be called from an injection context");return null===xn?Z(t,void 0,e):xn.get(t,e&z.Optional?null:void 0,e)}function Fn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.Default;return(G()||Bn)(k(t),e)}function jn(t){for(var e=[],n=0;n<t.length;n++){var r=k(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=z.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(Fn(i,o))}else e.push(Fn(r))}return e}function Un(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}function Vn(t,e,n,r){var i=t.ngTempTokenPath;throw e[Pn]&&i.unshift(e[Pn]),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=E(e);if(Array.isArray(e))i=e.map(E).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):E(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(Nn,"\n  "))}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}var Hn,Wn=Un(bn("Inject",function(t){return{token:t}}),-1),zn=Un(bn("Optional"),8),Gn=Un(bn("Self"),2),Xn=Un(bn("SkipSelf"),4);function Zn(){if(void 0===Hn&&(Hn=null,et.trustedTypes))try{Hn=et.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(t){}return Hn}function qn(t){var e;return(null===(e=Zn())||void 0===e?void 0:e.createHTML(t))||t}var Yn=function(){function t(e){Object(d.a)(this,t),this.changingThisBreaksApplicationSecurity=e}return Object(f.a)(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity)+" (see https://g.co/ng/security#xss)"}}]),t}(),Kn=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Yn),Qn=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Yn),Jn=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Yn),$n=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Yn),tr=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(f.a)(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Yn);function er(t){return t instanceof Yn?t.changingThisBreaksApplicationSecurity:t}function nr(t,e){var n=rr(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function rr(t){return t instanceof Yn&&t.getTypeName()||null}function ir(t){return new Kn(t)}function or(t){return new Qn(t)}function ar(t){return new Jn(t)}function sr(t){return new $n(t)}function ur(t){return new tr(t)}var cr=function(){function t(e){Object(d.a)(this,t),this.inertDocumentHelper=e}return Object(f.a)(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(qn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),lr=function(){function t(e){if(Object(d.a)(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return Object(f.a)(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=qn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=qn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),hr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,fr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function dr(t){return(t=String(t)).match(hr)||t.match(fr)?t:"unsafe:"+t}function pr(t){var e,n={},r=Object(s.a)(t.split(","));try{for(r.s();!(e=r.n()).done;)n[e.value]=!0}catch(i){r.e(i)}finally{r.f()}return n}function gr(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var vr,mr=pr("area,br,col,hr,img,wbr"),yr=pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),br=pr("rp,rt"),wr=gr(br,yr),_r=gr(mr,gr(yr,pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gr(br,pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),wr),Cr=pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sr=pr("srcset"),Er=gr(Cr,Sr,pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Or=pr("script,style,template"),Ar=function(){function t(){Object(d.a)(this,t),this.sanitizedSomething=!1,this.buf=[]}return Object(f.a)(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e,n=t.nodeName.toLowerCase();if(!_r.hasOwnProperty(n))return this.sanitizedSomething=!0,!Or.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(Er.hasOwnProperty(s)){var u=o.value;Cr[s]&&(u=dr(u)),Sr[s]&&(e=u,u=(e=String(e)).split(",").map(function(t){return dr(t.trim())}).join(", ")),this.buf.push(" ",a,'="',Rr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();_r.hasOwnProperty(e)&&!mr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(Rr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),Ir=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kr=/([^\#-~ |!])/g;function Rr(t){return t.replace(/&/g,"&amp;").replace(Ir,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(kr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Tr(t,e){var n=null;try{vr=vr||function(t){var e=new lr(t);return function(){try{return!!(new window.DOMParser).parseFromString(qn(""),"text/html")}catch(t){return!1}}()?new cr(e):e}(t);var r=e?String(e):"";n=vr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=vr.getInertBodyElement(r)}while(r!==o);return qn((new Ar).sanitizeChildren(Mr(n)||n))}finally{if(n)for(var a=Mr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function Mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Nr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Pr(t){var e,n=(e=re())&&e[12];return n?n.sanitize(Nr.URL,t)||"":nr(t,"URL")?er(t):dr(M(t))}function Dr(t){return function(t){var e;return(null===(e=Zn())||void 0===e?void 0:e.createScriptURL(t))||t}(t[0])}function xr(t){return t.ngDebugContext}function Lr(t){return t.ngOriginalError}function Br(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Fr=function(){function t(){Object(d.a)(this,t),this._console=console}return Object(f.a)(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Br}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?xr(t)?xr(t):this._findContext(Lr(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Lr(t);e&&Lr(e);)e=Lr(e);return e}}]),t}();function jr(t,e){t.__ngContext__=e}var Ur=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(et)}();function Vr(t){return{name:"window",target:t.ownerDocument.defaultView}}function Hr(t){return{name:"document",target:t.ownerDocument}}function Wr(t){return t instanceof Function?t():t}var zr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Gr(t,e){return(void 0)(t,e)}function Xr(t){var e=t[3];return It(e)?e[3]:e}function Zr(t){return Yr(t[13])}function qr(t){return Yr(t[4])}function Yr(t){for(;null!==t&&!It(t);)t=t[4];return t}function Kr(t,e,n,r,i){if(null!=r){var o,a=!1;It(r)?o=r:At(r)&&(a=!0,r=r[0]);var s=Wt(r);0===t&&null!==n?null==i?oi(e,n,s):ii(e,n,s,i||null,!0):1===t&&null!==n?ii(e,n,s,i||null,!0):2===t?function(t,e,n){var r=si(t,e);r&&function(t,e,n,r){Vt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Wt(n)&&Kr(e,t,r,o,i);for(var a=Ot;a<n.length;a++){var s=n[a];gi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Qr(t,e){return Vt(t)?t.createText(e):t.createTextNode(e)}function Jr(t,e,n){return Vt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function $r(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,te(i,-1)),n.splice(r,1)}function ti(t,e){if(!(t.length<=Ot)){var n,r=Ot+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&$r(o,i),e>0&&(t[r-1][4]=i[4]);var a=An(t,Ot+e);gi(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function ei(t,e){if(!(256&e[2])){var n=e[11];Vt(n)&&n.destroyNode&&gi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return ni(t[1],t);for(;e;){var n=null;if(At(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)At(e)&&ni(e[1],e),e=e[3];null===e&&(e=t),At(e)&&ni(e[1],e),n=e&&e[4]}e=n}}(e)}}function ni(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof je)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Wt(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Vt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&It(e[3])){n!==e[3]&&$r(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function ri(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===K.None||i===K.Emulated)return null}return Gt(r,n)}(t,e.parent,n)}function ii(t,e,n,r,i){Vt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function oi(t,e,n){Vt(t)?t.appendChild(e,n):e.appendChild(n)}function ai(t,e,n,r,i){null!==r?ii(t,e,n,r,i):oi(t,e,n)}function si(t,e){return Vt(t)?t.parentNode(e):e.parentNode}function ui(t,e,n){return ci(t,e,n)}var ci=function(t,e,n){return 40&t.type?Gt(t,n):null};function li(t,e,n,r){var i=ri(t,r,e),o=e[11],a=ui(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)ai(o,i,n[s],a,!1);else ai(o,i,n,a,!1)}function hi(t,e){if(null!==e){var n=e.type;if(3&n)return Gt(e,t);if(4&n)return di(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return hi(t,r);var i=t[e.index];return It(i)?di(-1,i):Wt(i)}if(32&n)return Gr(e,t)()||Wt(t[e.index]);var o=fi(t,e);return null!==o?Array.isArray(o)?o[0]:hi(Xr(t[16]),o):hi(t,e.next)}return null}function fi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function di(t,e){var n=Ot+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return hi(r,i)}return e[7]}function pi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&jr(Wt(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)pi(t,e,n.child,r,i,o,!1),Kr(e,t,i,s,o);else if(32&u){for(var c=Gr(n,r),l=void 0;l=c();)Kr(e,t,i,l,o);Kr(e,t,i,s,o)}else 16&u?mi(t,e,r,n,i,o):Kr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function gi(t,e,n,r,i,o){pi(n,r,t.firstChild,e,i,o,!1)}function vi(t,e,n){mi(e[11],0,e,n,ri(t,n,e),ui(n.parent||e[6],n,e))}function mi(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Kr(e,t,i,s[u],o);else pi(t,e,s,a[3],i,o,!0)}function yi(t,e,n){Vt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function bi(t,e,n){Vt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function wi(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var _i="ng-template";function Ci(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==wi((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Si(t){return 4===t.type&&t.value!==_i}function Ei(t,e,n){return e===(4!==t.type||n?t.value:_i)}function Oi(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Ve(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Ei(t,u,n)||""===u&&1===e.length){if(Ai(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!Ci(t.attrs,c,n)){if(Ai(r))return!1;a=!0}continue}var l=Ii(8&r?"class":u,i,Si(t),n);if(-1===l){if(Ai(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==wi(f,c,0)||2&r&&c!==h){if(Ai(r))return!1;a=!0}}}}else{if(!a&&!Ai(r)&&!Ai(u))return!1;if(a&&Ai(u))continue;a=!1,r=u|1&r}}return Ai(r)||a}function Ai(t){return 0==(1&t)}function Ii(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ki(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(Oi(t,e[r],n))return!0;return!1}function Ri(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ti(t,e){return t?":not("+e.trim()+")":e}function Mi(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Ai(a)||(e+=Ti(o,i),i=""),r=a,o=o||!Ai(r);n++}return""!==i&&(e+=Ti(o,i)),e}var Ni={};function Pi(t){Di(ie(),re(),Re()+t,he())}function Di(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Pe(e,i,n)}else{var o=t.preOrderHooks;null!==o&&De(e,o,0,n)}Te(n)}function xi(t,e){return t<<17|e<<2}function Li(t){return t>>17&32767}function Bi(t){return 2|t}function Fi(t){return(131068&t)>>2}function ji(t,e){return-131069&t|e<<2}function Ui(t){return 1|t}function Vi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var o=t.data[i];be(n[r]),o.contentQueries(2,e[i],i)}}}function Hi(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,$t(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Wi(t,e,n,r,i){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=se(),a=ce(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),ee.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(a=(o=ee.lFrame).currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return ue(s,!0),s}function zi(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Gi(t,e,n){Ce(e);try{var r=t.viewQuery;null!==r&&Co(1,r,n);var i=t.template;null!==i&&qi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Vi(t,e),t.staticViewQueries&&Co(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)mo(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Ie()}}function Xi(t,e,n,r){var i=e[2];if(256!=(256&i)){Ce(e);var o=he();try{$t(e),ee.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&qi(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Pe(e,s,null)}else{var u=t.preOrderHooks;null!==u&&De(e,u,0,null),xe(e,0)}if(function(t){for(var e=Zr(t);null!==e;e=qr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&te(i[3],1),i[2]|=1024}}(e),function(t){for(var e=Zr(t);null!==e;e=qr(e))for(var n=Ot;n<e.length;n++){var r=e[n],i=r[1];Qt(r)&&Xi(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Vi(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Pe(e,c)}else{var l=t.contentHooks;null!==l&&De(e,l,1),xe(e,1)}!function(t,e){var n,r,i=t.hostBindingOpCodes;if(null!==i)try{for(var o=0;o<i.length;o++){var a=i[o];if(a<0)Te(~a);else{var s=a,u=i[++o],c=i[++o];n=s,r=void 0,(r=ee.lFrame).bindingIndex=r.bindingRootIndex=u,me(n),c(2,e[s])}}}finally{Te(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)go(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&Co(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Pe(e,d)}else{var p=t.viewHooks;null!==p&&De(e,p,2),xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,te(e[3],-1))}finally{Ie()}}}function Zi(t,e,n,r){var i=e[10],o=!he(),a=Kt(e);try{o&&!a&&i.begin&&i.begin(),a&&Gi(t,e,r),Xi(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function qi(t,e,n,r,i){var o=Re();try{Te(-1),2&r&&e.length>Et&&Di(t,e,Et,he()),n(r,i)}finally{Te(o)}}function Yi(t,e,n){if(kt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Ki(t,e,n){ne()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Qe(n,e),jr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Mt(u);c&&lo(e,n,u);var l=ln(e,t,s,n);jr(l,e),null!==a&&ho(0,s-i,l,u,0,a),c&&(qt(n.index,e)[8]=l)}}(t,e,n,Gt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=ee.lFrame.currentDirectiveIndex;try{Te(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];me(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||oo(u,c)}}finally{Te(-1),me(a)}}(t,e,n))}function Qi(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Ji(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$i(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $i(t,e,n,r,i,o,a,s,u,c){var l=Et+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ni);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function to(t,e,n,r){var i=Eo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Oo(t).push(r,i.length-1))}function eo(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function no(t,e,n,r,i,o,a,s){var u,c,l=Gt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(Io(t,n,u,r,i),Rt(e)&&function(t,e){var n=qt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Vt(o)?o.setProperty(l,r,i):He(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ro(t,e,n,r){var i=!1;if(ne()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];ki(n,a.selectors,!1)&&(i||(i=[]),en(Qe(n,e),t,a.type),Mt(a)?(ao(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,uo(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=zi(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=We(n.mergedAttrs,d.hostAttrs),co(t,n,e,h,d),so(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||Si(e)?null:fo(l,i);o.push(h),a=eo(l,u,a),s=eo(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new T("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=We(n.mergedAttrs,n.attrs),i}function io(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function oo(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ao(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function so(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mt(e)&&(n[""]=t)}}function uo(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function co(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=Nt(i.type)),a=new je(o,Mt(i),null);t.blueprint[r]=a,n[r]=a,io(t,e,0,r,zi(t,n,i.hostVars,Ni),i)}function lo(t,e,n){var r=Gt(e,t),i=Ji(n),o=t[10],a=yo(t,Hi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function ho(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function fo(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function po(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function go(t,e){var n=qt(e,t);if(Qt(n)){var r=n[1];80&n[2]?Xi(r,n,r.template,n[8]):n[5]>0&&vo(n)}}function vo(t){for(var e=Zr(t);null!==e;e=qr(e))for(var n=Ot;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Xi(i,r,i.template,r[8])}else r[5]>0&&vo(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=qt(o[a],t);Qt(s)&&s[5]>0&&vo(s)}}function mo(t,e){var n=qt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Gi(r,n,n[8])}function yo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bo(t){for(;t;){t[2]|=64;var e=Xr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function wo(t,e,n){var r=e[10];r.begin&&r.begin();try{Xi(t,e,t.template,n)}catch(i){throw Ao(e,i),i}finally{r.end&&r.end()}}function _o(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Yt(n),i=r[1];Zi(i,r,i.template,n)}}(t[8])}function Co(t,e,n){be(0),e(t,n)}var So=function(){return Promise.resolve(null)}();function Eo(t){return t[7]||(t[7]=[])}function Oo(t){return t.cleanup||(t.cleanup=[])}function Ao(t,e){var n=t[9],r=n?n.get(Fr,null):null;r&&r.handleError(e)}function Io(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function ko(t,e,n){var r=zt(e,t);!function(t,e,n){Vt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function Ro(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=O(i,s):2==o&&(r=O(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var To=new wn("INJECTOR",-1),Mo=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn;if(e===Mn){var n=new Error("NullInjectorError: No provider for ".concat(E(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),No=new wn("Set Injector scope."),Po={},Do={},xo=[],Lo=void 0;function Bo(){return void 0===Lo&&(Lo=new Mo),Lo}function Fo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new jo(t,n,e||Bo(),r)}var jo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(d.a)(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&En(n,function(t){return i.processProvider(t,e,n)}),En([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(To,Ho(void 0,this));var s=this.records.get(No);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:E(e))}return Object(f.a)(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Mn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Default;this.assertNotDestroyed();var r=Ln(this);try{if(!(n&z.SkipSelf)){var i=this.records.get(t);if(void 0===i){var o=Go(t)&&L(t);i=o&&this.injectableDefInScope(o)?Ho(Uo(t),Po):null,this.records.set(t,i)}if(null!=i)return this.hydrate(t,i)}var a=n&z.Self?Bo():this.parent;return a.get(t,e=n&z.Optional&&e===Mn?null:e)}catch(u){if("NullInjectorError"===u.name){var s=u.ngTempTokenPath=u.ngTempTokenPath||[];if(s.unshift(E(t)),r)throw u;return Vn(u,t,"R3InjectorError",this.source)}throw u}finally{Ln(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(E(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=k(t)))return!1;var i=F(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=F(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{En(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;En(i,function(t){return r.processProvider(t,n,i||xo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a);var h=Nt(a)||function(){return new a};this.records.set(a,Ho(h,Po));var f=i.providers;if(null!=f&&!s){var d=t;En(f,function(t){return r.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=zo(t=k(t))?t:k(t&&t.provide),i=function(t,e,n){return Wo(t)?Ho(void 0,t.useValue):Ho(Vo(t),Po)}(t);if(zo(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Ho(void 0,Po,!0)).factory=function(){return jn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Po&&(e.value=Do,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function Uo(t){var e=L(t),n=null!==e?e.factory:Nt(t);if(null!==n)return n;if(t instanceof wn)throw new Error("Token ".concat(E(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=In(e,"?");throw new Error("Can't resolve all parameters for ".concat(E(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[U]||t[H]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\n')+'This will become an error in a future version of Angular. Please add @Injectable() to the "'.concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Vo(t,e,n){var r,i=void 0;if(zo(t)){var o=k(t);return Nt(o)||Uo(o)}if(Wo(t))i=function(){return k(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,Object(u.a)(jn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return Fn(k(t.useExisting))};else{var a=k(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Nt(a)||Uo(a);i=function(){return h(a,Object(u.a)(jn(t.deps)))}}return i}function Ho(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Wo(t){return null!==t&&"object"==typeof t&&Dn in t}function zo(t){return"function"==typeof t}function Go(t){return"function"==typeof t||"object"==typeof t&&t instanceof wn}var Xo=function(t,e,n){return function(t){var e=Fo(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3?arguments[3]:void 0);return e._resolveInjectorDefTypes(),e}({name:n},e,t,n)},Zo=function(){var t=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?Xo(t,e,""):Xo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=Mn,t.NULL=new Mo,t.\u0275prov=D({token:t,providedIn:"any",factory:function(){return Fn(To)}}),t.__NG_ELEMENT_ID__=-1,t}();function qo(t,e){Ne(Yt(t)[1],ae())}function Yo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Ko(t.inputs),o.declaredInputs=Ko(t.declaredInputs),o.outputs=Ko(t.outputs);var a=i.hostBindings;a&&$o(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Qo(t,s),u&&Jo(t,u),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),Mt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Yo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=We(i.hostAttrs,n=We(n,i.hostAttrs))}}(r)}function Ko(t){return t===nt?{}:t===it?[]:t}function Qo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Jo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function $o(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var ta=null;function ea(){if(!ta){var t=et.Symbol;if(t&&t.iterator)ta=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(ta=r)}}return ta}var na=function(){function t(e){Object(d.a)(this,t),this.wrapped=e}return Object(f.a)(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function ra(t){return!!ia(t)&&(Array.isArray(t)||!(t instanceof Map)&&ea()in t)}function ia(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function oa(t,e,n){return t[e]=n}function aa(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function sa(t,e,n,r){var i=aa(t,e,n);return aa(t,e+1,r)||i}function ua(t,e,n,r){var i=re();return aa(i,ge(),e)&&(ie(),function(t,e,n,r,i,o){var a=Gt(t,e);!function(t,e,n,r,i,o,a){if(null==o)Vt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?M(o):a(o,r||"",i);Vt(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(Me(),i,t,e,n,r)),ua}function ca(t,e,n,r,i,o,a,s){var u=re(),c=ie(),l=t+Et,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Wi(e,t,4,a||null,Jt(c,s));ro(e,n,l,Jt(c,u)),Ne(e,l);var h=l.tViews=$i(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];ue(h,!1);var f=u[11].createComment("");li(c,u,f,h),jr(f,u),yo(u,u[l]=po(f,u,f,h)),Tt(h)&&Ki(c,u,h),null!=a&&Qi(u,h,s)}function la(t){return Zt(ee.lFrame.contextLView,Et+t)}function ha(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z.Default,n=re();if(null===n)return Fn(t,e);var r=ae();return on(r,n,k(t),e)}function fa(t,e,n){var r=re();return aa(r,ge(),e)&&no(ie(),Me(),r,t,e,r[11],n,!1),fa}function da(t,e,n,r,i){var o=i?"class":"style";Io(t,n,e.inputs[o],o,r)}function pa(t,e,n,r){var i=re(),o=ie(),a=Et+t,s=i[11],u=i[a]=Jr(s,e,ee.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Wi(e,t,2,i,Jt(s,o));return ro(e,n,u,Jt(s,a)),null!==u.attrs&&Ro(u,u.attrs,!1),null!==u.mergedAttrs&&Ro(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];ue(c,!0);var l=c.mergedAttrs;null!==l&&Ue(s,u,l);var h=c.classes;null!==h&&bi(s,u,h);var f=c.styles;null!==f&&yi(s,u,f),64!=(64&c.flags)&&li(o,i,u,c),0===ee.lFrame.elementDepthCount&&jr(u,i),ee.lFrame.elementDepthCount++,Tt(c)&&(Ki(o,i,c),Yi(o,c,i)),null!==r&&Qi(i,c)}function ga(){var t=ae();ce()?le():ue(t=t.parent,!1);var e=t;ee.lFrame.elementDepthCount--;var n=ie();n.firstCreatePass&&(Ne(n,t),kt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&da(n,e,re(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&da(n,e,re(),e.stylesWithoutHost,!1)}function va(t,e,n,r){pa(t,e,n,r),ga()}function ma(t,e,n){var r=re(),i=ie(),o=t+Et,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Jt(o,r),s=Wi(e,t,8,"ng-container",a);return null!==a&&Ro(s,a,!0),ro(e,n,s,Jt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];ue(a,!0);var s=r[o]=r[11].createComment("");li(i,r,s,a),jr(s,r),Tt(a)&&(Ki(i,r,a),Yi(i,a,r)),null!=n&&Qi(r,a)}function ya(){var t=ae(),e=ie();ce()?le():ue(t=t.parent,!1),e.firstCreatePass&&(Ne(e,t),kt(t)&&e.queries.elementEnd(t))}function ba(){return re()}function wa(t){return!!t&&"function"==typeof t.then}function _a(t){return!!t&&"function"==typeof t.subscribe}var Ca=_a;function Sa(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=re(),o=ie(),a=ae();return Oa(o,i,i[11],a,t,e,n,r),Sa}function Ea(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}function Oa(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Tt(r),c=t.firstCreatePass,l=c&&Oo(t),h=Eo(e),f=!0;if(3&r.type){var d=Gt(r,e),p=s?s(d):nt,g=p.target||d,v=h.length,m=s?function(t){return s(Wt(t[r.index])).target}:r.index;if(Vt(n)){var y=null;if(!s&&u&&(y=Ea(t,e,i,r.index)),null!==y){var b=y.__ngLastListenerFn__||y;b.__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,f=!1}else{o=Ia(r,e,o,!1);var w=n.listen(p.name||g,i,o);h.push(o,w),l&&l.push(i,m,v,v+1)}}else o=Ia(r,e,o,!0),g.addEventListener(i,o,a),h.push(o),l&&l.push(i,m,v,a)}else o=Ia(r,e,o,!1);var _,C=r.outputs;if(f&&null!==C&&(_=C[i])){var S=_.length;if(S)for(var E=0;E<S;E+=2){var O=_[E],A=_[E+1],I=e[O],k=I[A],R=k.subscribe(o),T=h.length;h.push(o,R),l&&l.push(i,r.index,T,-(T+1))}}}function Aa(t,e,n){try{return!1!==e(n)}catch(r){return Ao(t,r),!1}}function Ia(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?qt(t.index,e):e;0==(32&e[2])&&bo(a);for(var s=Aa(e,n,o),u=i.__ngNextListenerFn__;u;)s=Aa(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ka(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return ke(t)}function Ra(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?ki(t,o,!0):Ri(r,o))return i}else n=i}return n}function Ta(t){var e=re()[16][6];if(!e.projection)for(var n=e.projection=In(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?Ra(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function Ma(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=re(),i=ie(),o=Wi(i,Et+t,16,null,n||null);null===o.projection&&(o.projection=e),le(),64!=(64&o.flags)&&vi(i,r,o)}function Na(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Li(o):Fi(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Pa(t[s],e)&&(u=!0,t[s+1]=r?Ui(c):Bi(c)),s=r?Li(c):Fi(c)}u&&(t[n+1]=r?Bi(o):Ui(o))}function Pa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Tn(t,e)>=0}var Da={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xa(t){return t.substring(Da.key,Da.keyEnd)}function La(t,e){var n=Da.textEnd;return n===e?-1:(e=Da.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Da.key=e,n),Ba(t,e,n))}function Ba(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Fa(t,e,n){return Ha(t,e,n,!1),Fa}function ja(t,e){return Ha(t,e,null,!0),ja}function Ua(t){!function(t,e,n,r){var i=ie(),o=ve(2);i.firstUpdatePass&&za(i,null,o,r);var a=re();if(n!==Ni&&aa(a,o,n)){var s=i.data[Re()];if(Ka(s,r)&&!Wa(i,o)){var u=s.classesWithoutHost;null!==u&&(n=O(u,n||"")),da(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===Ni&&(i=rt);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&Za(t,e,n,r,p,g,true,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return rt;var r=[],i=er(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(kn,Va,t,!0)}function Va(t,e){for(var n=function(t){return function(t){Da.key=0,Da.keyEnd=0,Da.value=0,Da.valueEnd=0,Da.textEnd=t.length}(t),La(t,Ba(t,0,Da.textEnd))}(e);n>=0;n=La(e,n))kn(t,xa(e),!0)}function Ha(t,e,n,r){var i=re(),o=ie(),a=ve(2);o.firstUpdatePass&&za(o,t,a,r),e!==Ni&&aa(i,a,e)&&Za(o,o.data[Re()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=E(er(t)))),t}(e,n),r,a)}function Wa(t,e){return e>=t.expandoStartIndex}function za(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Re()],a=Wa(t,n);Ka(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=ee.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Xa(n=Ga(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Ga(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Fi(r))return t[Li(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Li(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Xa(s=Ga(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Xa(r,t[o].hostAttrs,n);return Xa(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Li(a),u=Fi(a);t[r]=n;var c,l=!1;if(Array.isArray(n)?(null===(c=n[1])||Tn(n,c)>0)&&(l=!0):c=n,i)if(0!==u){var h=Li(t[s+1]);t[r+1]=xi(h,s),0!==h&&(t[h+1]=ji(t[h+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=xi(s,0),0!==s&&(t[s+1]=ji(t[s+1],r)),s=r;else t[r+1]=xi(u,0),0===s?s=r:t[u+1]=ji(t[u+1],r),u=r;l&&(t[r+1]=Bi(t[r+1])),Na(t,c,r,!0),Na(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&Tn(o,e)>=0&&(n[r+1]=Ui(n[r+1]))}(e,c,t,r,o),a=xi(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Ga(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Xa(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Xa(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),kn(t,a,!!n||e[++o]))}return void 0===t?null:t}function Za(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];Ya(1==(1&c)?qa(u,e,n,i,Fi(c),a):void 0)||(Ya(o)||2==(2&c)&&(o=qa(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Vt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:zr.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=zr.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,zt(Re(),n),i,o))}}function qa(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Ni&&(f=h?rt:void 0);var d=h?Rn(f,r):l===r?f:void 0;if(c&&!Ya(d)&&(d=Rn(u,r)),Ya(d)&&(s=d,a))return s;var p=t[i+1];i=a?Li(p):Fi(p)}if(null!==e){var g=o?e.residualClasses:e.residualStyles;null!=g&&(s=Rn(g,r))}return s}function Ya(t){return void 0!==t}function Ka(t,e){return 0!=(t.flags&(e?16:32))}function Qa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=re(),r=ie(),i=t+Et,o=r.firstCreatePass?Wi(r,i,1,e,null):r.data[i],a=n[i]=Qr(n[11],e);li(r,n,a,o),ue(o,!1)}function Ja(t){return $a("",t,""),Ja}function $a(t,e,n){var r=re(),i=function(t,e,n,r){return aa(t,ge(),n)?e+M(n)+r:Ni}(r,t,e,n);return i!==Ni&&ko(r,Re(),i),$a}function ts(t,e,n,r,i){var o=re(),a=function(t,e,n,r,i,o){var a=sa(t,pe(),n,i);return ve(2),a?e+M(n)+r+M(i)+o:Ni}(o,t,e,n,r,i);return a!==Ni&&ko(o,Re(),a),ts}function es(t,e,n){var r=re();return aa(r,ge(),e)&&no(ie(),Me(),r,t,e,r[11],n,!0),es}var ns=void 0,rs=["en",[["a","p"],["AM","PM"],ns],[["AM","PM"],ns,ns],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ns,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ns,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ns,"{1} 'at' {0}",ns],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],is={};function os(t,e,n){"string"!=typeof e&&(n=e,e=t[ls.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),is[e]=t,n&&(is[e][ls.ExtraData]=n)}function as(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=cs(e);if(n)return n;var r=e.split("-")[0];if(n=cs(r))return n;if("en"===r)return rs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function ss(t){return as(t)[ls.CurrencyCode]||null}function us(t){return as(t)[ls.PluralCase]}function cs(t){return t in is||(is[t]=et.ng&&et.ng.common&&et.ng.common.locales&&et.ng.common.locales[t]),is[t]}var ls=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({}),hs="en-US";function fs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat(t)+" [Expected=> ".concat(null," ").concat("!="," ").concat(e," <=Actual]"))}(n,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function ds(t,e,n){var r=ie();if(r.firstCreatePass){var i=Mt(t);ps(n,r.data,r.blueprint,i,!0),ps(e,r.data,r.blueprint,i,!1)}}function ps(t,e,n,r,i){if(t=k(t),Array.isArray(t))for(var o=0;o<t.length;o++)ps(t[o],e,n,r,i);else{var a=ie(),s=re(),u=zo(t)?t:k(t.provide),c=Vo(t),l=ae(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(zo(t)||!t.multi){var p=new je(c,i,ha),g=ms(u,e,i?h:h+d,f);-1===g?(en(Qe(l,s),a,u),gs(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[g]=p,s[g]=p)}else{var v=ms(u,e,h+d,f),m=ms(u,e,h,h+d),y=m>=0&&n[m];if(i&&!y||!i&&!(v>=0&&n[v])){en(Qe(l,s),a,u);var b=function(t,e,n,r,i){var o=new je(t,n,ha);return o.multi=[],o.index=e,o.componentProviders=0,vs(o,i,r&&!n),o}(i?bs:ys,n.length,i,r,c);!i&&y&&(n[m].providerFactory=b),gs(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(b),s.push(b)}else gs(a,t,v>-1?v:m,vs(n[i?m:v],c,!i&&r));!i&&r&&y&&n[m].componentProviders++}}}function gs(t,e,n,r){var i=zo(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ms(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ys(t,e,n,r){return ws(this.multi,[])}function bs(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=ln(n,n[1],this.providerFactory.index,r);ws(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else ws(o,i=[]);return i}function ws(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function _s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return ds(n,r?r(t):t,e)}}}var Cs=function t(){Object(d.a)(this,t)},Ss=function t(){Object(d.a)(this,t)},Es=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(E(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Os=function(){var t=function t(){Object(d.a)(this,t)};return t.NULL=new Es,t}();function As(){}function Is(t,e){return new Rs(Gt(t,e))}var ks=function(){return Is(ae(),re())},Rs=function(){var t=function t(e){Object(d.a)(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=ks,t}();function Ts(t){return t instanceof Rs?t.nativeElement:t}var Ms=function t(){Object(d.a)(this,t)},Ns=function(){var t=function t(){Object(d.a)(this,t)};return t.__NG_ELEMENT_ID__=function(){return Ps()},t}(),Ps=function(){var t=re(),e=qt(ae().index,t);return function(t){return t[11]}(At(e)?e:t)},Ds=function(){var t=function t(){Object(d.a)(this,t)};return t.\u0275prov=D({token:t,providedIn:"root",factory:function(){return null}}),t}(),xs=function t(e){Object(d.a)(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ls=new xs("11.2.8"),Bs=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"supports",value:function(t){return ra(t)}},{key:"create",value:function(t){return new js(t)}}]),t}(),Fs=function(t,e){return e},js=function(){function t(e){Object(d.a)(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Fs}return Object(f.a)(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Ws(n,r,i)?e:n,a=Ws(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!ra(t))throw new Error("Error trying to diff '".concat(E(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[ea()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Us(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Hs),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Us=function t(e,n){Object(d.a)(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Vs=function(){function t(){Object(d.a)(this,t),this._head=null,this._tail=null}return Object(f.a)(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Hs=function(){function t(){Object(d.a)(this,t),this.map=new Map}return Object(f.a)(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Vs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Ws(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var zs=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"supports",value:function(t){return t instanceof Map||ia(t)}},{key:"create",value:function(){return new Gs}}]),t}(),Gs=function(){function t(){Object(d.a)(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object(f.a)(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||ia(t)))throw new Error("Error trying to diff '".concat(E(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Xs(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Xs=function t(e){Object(d.a)(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Zs(){return new qs([new Bs])}var qs=function(){var t=function(){function t(e){Object(d.a)(this,t),this.factories=e}return Object(f.a)(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Zs())},deps:[[t,new Xn,new zn]]}}}]),t}();return t.\u0275prov=D({token:t,providedIn:"root",factory:Zs}),t}();function Ys(){return new Ks([new zs])}var Ks=function(){var t=function(){function t(e){Object(d.a)(this,t),this.factories=e}return Object(f.a)(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Ys())},deps:[[t,new Xn,new zn]]}}}]),t}();return t.\u0275prov=D({token:t,providedIn:"root",factory:Ys}),t}();function Qs(t,e,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var o=e[n.index];if(null!==o&&r.push(Wt(o)),It(o))for(var a=Ot;a<o.length;a++){var s=o[a],c=s[1].firstChild;null!==c&&Qs(s[1],s,c,r)}var l=n.type;if(8&l)Qs(t,e,n.child,r);else if(32&l)for(var h=Gr(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=fi(e,n);if(Array.isArray(d))r.push.apply(r,Object(u.a)(d));else{var p=Xr(e[16]);Qs(p[1],p,d,r,!0)}}n=i?n.projectionNext:n.next}return r}var Js=function(){function t(e,n){Object(d.a)(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return Object(f.a)(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Qs(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(It(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(ti(t,n),An(e,n))}this._attachedToViewContainer=!1}ei(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){to(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){bo(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){wo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){fe(!0);try{wo(t,e,n)}finally{fe(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,gi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),$s=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t){var r;return Object(d.a)(this,n),(r=e.call(this,t))._view=t,r}return Object(f.a)(n,[{key:"detectChanges",value:function(){_o(this._view)}},{key:"checkNoChanges",value:function(){!function(t){fe(!0);try{_o(t)}finally{fe(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Js),tu=nu,eu=function(){var t=function t(){Object(d.a)(this,t)};return t.__NG_ELEMENT_ID__=tu,t.__ChangeDetectorRef__=!0,t}();function nu(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return ru(ae(),re(),t)}function ru(t,e,n){if(!n&&Rt(t)){var r=qt(t.index,e);return new Js(r,r)}return 47&t.type?new Js(e[16],e):null}var iu=[new zs],ou=new qs([new Bs]),au=new Ks(iu),su=function(){return lu(ae(),re())},uu=function(){var t=function t(){Object(d.a)(this,t)};return t.__NG_ELEMENT_ID__=su,t}(),cu=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t,r,i){var o;return Object(d.a)(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return Object(f.a)(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Hi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Gi(e,n,t),new Js(n)}}]),n}(uu);function lu(t,e){return 4&t.type?new cu(e,t,Is(t,e)):null}var hu=function t(){Object(d.a)(this,t)},fu=function t(){Object(d.a)(this,t)},du=function(){return yu(ae(),re())},pu=function(){var t=function t(){Object(d.a)(this,t)};return t.__NG_ELEMENT_ID__=du,t}(),gu=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t,r,i){var o;return Object(d.a)(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return Object(f.a)(n,[{key:"element",get:function(){return Is(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new pn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=tn(this._hostTNode,this._hostLView);if(Ge(t)){var e=Ze(t,this._hostLView),n=Xe(t);return new pn(e[1].data[n+8],e)}return new pn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=vu(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-Ot}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(hu,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(It(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new gu(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,r){var i=Ot+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Ot?(e[4]=n[i],On(n,Ot+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,u,s);var c=di(s,u),l=n[11],h=si(l,u[7]);return null!==h&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,gi(t,r,n,1,i,o)}(r,u[6],l,n,h,c),t.attachToViewContainerRef(),On(mu(u),s,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=vu(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=ti(this._lContainer,e);n&&(An(mu(this._lContainer),e),ei(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=ti(this._lContainer,e);return n&&null!=An(mu(this._lContainer),e)?new Js(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(pu);function vu(t){return t[8]}function mu(t){return t[8]||(t[8]=[])}function yu(t,e){var n,r=e[t.index];if(It(r))n=r;else{var i;if(8&t.type)i=Wt(r);else{var o=e[11];i=o.createComment("");var a=Gt(t,e);ii(o,si(o,a),i,function(t,e){return Vt(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=po(r,e,i,t),yo(e,n)}return new gu(n,t,e)}var bu={},wu=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t){var r;return Object(d.a)(this,n),(r=e.call(this)).ngModule=t,r}return Object(f.a)(n,[{key:"resolveComponentFactory",value:function(t){var e=Ct(t);return new Su(e,this.ngModule)}}]),n}(Os);function _u(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Cu=new wn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ur}}),Su=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t,r){var i;return Object(d.a)(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Mi).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return Object(f.a)(n,[{key:"inputs",get:function(){return _u(this.componentDef.inputs)}},{key:"outputs",get:function(){return _u(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,bu,i);return o!==bu||r===bu?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(Ms,Ht),u=a.get(Ds,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Vt(t))return t.selectRootElement(e,n===K.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Jr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Ur,clean:So,playerHandler:null,flags:0},p=$i(0,null,null,1,0,null,null,null,null,null),g=Hi(null,p,d,f,null,null,s,c,u,a);Ce(g);try{var v=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Wi(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Ro(s,u,!0),null!==t&&(Ue(i,t,u),null!==s.classes&&bi(i,t,s.classes),null!==s.styles&&yi(i,t,s.styles)));var c=r.createRenderer(t,e),l=Hi(n,Ji(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(en(Qe(s,n),a,e.type),ao(a,s),uo(s,n.length,1)),yo(n,l),n[20]=l}(h,this.componentDef,g,s,c);if(h)if(n)Ue(c,h,["ng-version",Ls.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Ai(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),y=m.attrs,b=m.classes;y&&Ue(c,h,y),b&&b.length>0&&bi(c,h,b.join(" "))}if(o=Xt(p,Et),void 0!==e)for(var w=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var C=e[_];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ae();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),co(t,r,e,zi(t,e,1,null),n));var i=ln(e,t,r.directiveStart,r);jr(i,e);var o=Gt(r,e);return o&&jr(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=ae();e.contentQueries(1,a,s.directiveStart)}var u=ae();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Te(u.index),io(n[1],u,0,u.directiveStart,u.directiveEnd,e),oo(e,a)),a}(v,this.componentDef,g,d,[qo]),Gi(p,g,null)}finally{Ie()}return new Eu(this.componentType,i,Is(o,g),g,o)}}]),n}(Ss),Eu=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t,r,i,o,a){var s;return Object(d.a)(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new $s(o),s.componentType=t,s}return Object(f.a)(n,[{key:"injector",get:function(){return new pn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(Cs),Ou=new Map,Au=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t,r){var i;Object(d.a)(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=Object(o.a)(i),i.destroyCbs=[],i.componentFactoryResolver=new wu(Object(o.a)(i));var a=St(t),s=t[ct]||null;return s&&fs(s),i._bootstrapComponents=Wr(a.bootstrap),i._r3Injector=Fo(t,r,[{provide:hu,useValue:Object(o.a)(i)},{provide:Os,useValue:i.componentFactoryResolver}],E(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return Object(f.a)(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zo.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Default;return t===Zo||t===hu||t===To?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(hu),Iu=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(t){var r,i,o;return Object(d.a)(this,n),(r=e.call(this)).moduleType=t,null!==St(t)&&(i=t,o=new Set,function t(e){var n=St(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(E(e)," vs ").concat(E(e.name)))}(r,Ou.get(r),e),Ou.set(r,e));var i,a=Wr(n.imports),u=Object(s.a)(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;o.has(c)||(o.add(c),t(c))}}catch(l){u.e(l)}finally{u.f()}}(i)),r}return Object(f.a)(n,[{key:"create",value:function(t){return new Au(this.moduleType,t)}}]),n}(fu);function ku(t,e,n){var r=de()+t,i=re();return i[r]===Ni?oa(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ru(t,e,n,r){return Nu(re(),de(),t,e,n,r)}function Tu(t,e,n,r,i,o,a){return function(t,e,n,r,i,o,a,s,u){var c=e+n;return function(t,e,n,r,i,o){var a=sa(t,e,n,r);return sa(t,e+2,i,o)||a}(t,c,i,o,a,s)?oa(t,c+4,u?r.call(u,i,o,a,s):r(i,o,a,s)):Mu(t,c+4)}(re(),de(),t,e,n,r,i,o,a)}function Mu(t,e){var n=t[e];return n===Ni?void 0:n}function Nu(t,e,n,r,i,o){var a=e+n;return aa(t,a,i)?oa(t,a+1,o?r.call(o,i):r(i)):Mu(t,a+1)}function Pu(t,e){var n,r=ie(),i=t+Et;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new T("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Nt(n.type)),a=X(ha);try{var s=Ye(!1),u=o();return Ye(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,re(),i,u),u}finally{X(a)}}function Du(t,e,n){var r=t+Et,i=re(),o=Zt(i,r);return Bu(i,Lu(i,r)?Nu(i,de(),e,o.transform,n,o):o.transform(n))}function xu(t,e,n,r){var i=t+Et,o=re(),a=Zt(o,i);return Bu(o,Lu(o,i)?function(t,e,n,r,i,o,a){var s=e+n;return sa(t,s,i,o)?oa(t,s+2,a?r.call(a,i,o):r(i,o)):Mu(t,s+2)}(o,de(),e,a.transform,n,r,a):a.transform(n,r))}function Lu(t,e){return t[1].data[e].pure}function Bu(t,e){return na.isWrapped(e)&&(e=na.unwrap(e),t[pe()]=Ni),e}var Fu=function(t){Object(p.a)(n,t);var e=Object(g.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(d.a)(this,n),(t=e.call(this)).__isAsync=r,t}return Object(f.a)(n,[{key:"emit",value:function(t){Object(r.a)(Object(i.a)(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,o){var a,s=function(t){return null},u=function(){return null};t&&"object"==typeof t?(a=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(s=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(u=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(a=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(s=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),o&&(u=this.__isAsync?function(){setTimeout(function(){return o()})}:function(){o()}));var c=Object(r.a)(Object(i.a)(n.prototype),"subscribe",this).call(this,a,s,u);return t instanceof m.a&&t.add(c),c}}]),n}(y.a);function ju(){return this._results[ea()]()}var Uu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(d.a)(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=ea(),r=t.prototype;r[n]||(r[n]=ju)}return Object(f.a)(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Fu)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){var n=this;n.dirty=!1;var r=Sn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Vu=function(){function t(e){Object(d.a)(this,t),this.queryList=e,this.matches=null}return Object(f.a)(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Hu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(d.a)(this,t),this.queries=e}return Object(f.a)(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==nc(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Wu=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(d.a)(this,t),this.predicate=e,this.flags=n,this.read=r},zu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(d.a)(this,t),this.queries=e}return Object(f.a)(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Gu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;Object(d.a)(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return Object(f.a)(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,Xu(e,i)),this.matchTNodeWithReadOption(t,e,cn(e,t,i,!1,!1))}else n===uu?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,cn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Rs||r===pu||r===uu&&4&e.type)this.addMatch(e.index,-2);else{var i=cn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Xu(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Zu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Is(t,e):4&t.type?lu(t,e):null}(e,t):-2===n?function(t,e,n){return n===Rs?Is(e,t):n===uu?lu(e,t):n===pu?yu(e,t):void 0}(t,e,r):ln(t,t[1],n,e)}function qu(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Zu(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Yu(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=qu(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=Ot;h<l.length;h++){var f=l[h];f[17]===f[3]&&Yu(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var g=d[p];Yu(g[1],g,c,r)}}}return r}function Ku(t){var e=re(),n=ie(),r=ye();be(r+1);var i=nc(n,r);if(t.dirty&&Kt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Yu(n,e,r,[]):qu(n,e,i,r);t.reset(o,Ts),t.notifyOnChanges()}return!0}return!1}function Qu(t,e,n){var r=ie();r.firstCreatePass&&(ec(r,new Wu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),tc(r,re(),e)}function Ju(t,e,n,r){var i=ie();if(i.firstCreatePass){var o=ae();ec(i,new Wu(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}tc(i,re(),n)}function $u(){return t=re(),e=ye(),t[19].queries[e].queryList;var t,e}function tc(t,e,n){var r=new Uu(4==(4&n));to(t,e,r,r.destroy),null===e[19]&&(e[19]=new Hu),e[19].queries.push(new Vu(r))}function ec(t,e,n){null===t.queries&&(t.queries=new zu),t.queries.track(new Gu(e,n))}function nc(t,e){return t.queries.getByIndex(e)}function rc(t,e){return lu(t,e)}function ic(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.Default,e=nu(!0);if(null!=e||t&z.Optional)return e;P("ChangeDetectorRef")}var oc=new wn("Application Initializer"),ac=function(){var t=function(){function t(e){var n=this;Object(d.a)(this,t),this.appInits=e,this.resolve=As,this.reject=As,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return Object(f.a)(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();wa(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Fn(oc,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),sc=new wn("AppId"),uc={provide:sc,useFactory:function(){return"".concat(cc()).concat(cc()).concat(cc())},deps:[]};function cc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var lc=new wn("Platform Initializer"),hc=new wn("Platform ID"),fc=new wn("appBootstrapListener"),dc=function(){var t=function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),pc=new wn("LocaleId"),gc=new wn("DefaultCurrencyCode"),vc=function t(e,n){Object(d.a)(this,t),this.ngModuleFactory=e,this.componentFactories=n},mc=function(t){return new Iu(t)},yc=mc,bc=function(t){return Promise.resolve(mc(t))},wc=function(t){var e=mc(t),n=Wr(St(t).declarations).reduce(function(t,e){var n=Ct(e);return n&&t.push(new Su(n)),t},[]);return new vc(e,n)},_c=wc,Cc=function(t){return Promise.resolve(wc(t))},Sc=function(){var t=function(){function t(){Object(d.a)(this,t),this.compileModuleSync=yc,this.compileModuleAsync=bc,this.compileModuleAndAllComponentsSync=_c,this.compileModuleAndAllComponentsAsync=Cc}return Object(f.a)(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),Ec=function(){return Promise.resolve(0)}();function Oc(t){"undefined"==typeof Zone?Ec.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Ac=function(){function t(e){var n=e.enableLongStackTrace,r=void 0!==n&&n,i=e.shouldCoalesceEventChangeDetection,o=void 0!==i&&i,a=e.shouldCoalesceRunChangeDetection,s=void 0!==a&&a;if(Object(d.a)(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fu(!1),this.onMicrotaskEmpty=new Fu(!1),this.onStable=new Fu(!1),this.onError=new Fu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var u,c,l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&o,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){var t=et.requestAnimationFrame,e=et.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,c=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(et,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Rc(t),kc(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Rc(t))}(u)},(u=l)._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,n,r,i,o){try{return Tc(u),t.invokeTask(n,r,i,o)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||u.shouldCoalesceRunChangeDetection)&&c(),Mc(u)}},onInvoke:function(t,e,n,r,i,o,a){try{return Tc(u),t.invoke(n,r,i,o,a)}finally{u.shouldCoalesceRunChangeDetection&&c(),Mc(u)}},onHasTask:function(t,e,n,r){t.hasTask(n,r),e===n&&("microTask"==r.change?(u._hasPendingMicrotasks=r.microTask,Rc(u),kc(u)):"macroTask"==r.change&&(u.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,n,r){return t.handleError(n,r),u.runOutsideAngular(function(){return u.onError.emit(r)}),!1}})}return Object(f.a)(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Ic,As,As);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Ic={};function kc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Rc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Tc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mc(t){t._nesting--,kc(t)}var Nc=function(){function t(){Object(d.a)(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fu,this.onMicrotaskEmpty=new Fu,this.onStable=new Fu,this.onError=new Fu}return Object(f.a)(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Pc=function(){var t=function(){function t(e){var n=this;Object(d.a)(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return Object(f.a)(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Ac.assertNotInAngularZone(),Oc(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Oc(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Fn(Ac))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}(),Dc=function(){var t=function(){function t(){Object(d.a)(this,t),this._applications=new Map,Bc.addToWindow(this)}return Object(f.a)(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Bc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function xc(t){Bc=t}var Lc,Bc=new(function(){function t(){Object(d.a)(this,t)}return Object(f.a)(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Fc=!0,jc=!1;function Uc(){return jc=!0,Fc}function Vc(){if(jc)throw new Error("Cannot enable prod mode after platform setup.");Fc=!1}var Hc=function(t,e,n){var r=new Iu(n);return Promise.resolve(r)},Wc=new wn("AllowMultipleToken"),zc=function t(e,n){Object(d.a)(this,t),this.name=e,this.token=n};function Gc(t){if(Lc&&!Lc.destroyed&&!Lc.injector.get(Wc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Lc=t.get(Yc);var e=t.get(lc,null);return e&&e.forEach(function(t){return t()}),Lc}function Xc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new wn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=qc();if(!o||o.injector.get(Wc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:No,useValue:"platform"});Gc(Zo.create({providers:a,name:r}))}return Zc(i)}}function Zc(t){var e=qc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}function qc(){return Lc&&!Lc.destroyed?Lc:null}var Yc=function(){var t=function(){function t(e){Object(d.a)(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return Object(f.a)(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===(n=e?e.ngZone:void 0)?new Nc:("zone.js"===n?void 0:n)||new Ac({enableLongStackTrace:Uc(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:Ac,useValue:o}];return o.run(function(){var e=Zo.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Fr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Jc(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(ac)).runInitializers(),a.donePromise.then(function(){return fs(n.injector.get(pc,hs)||hs),i._moduleDoBootstrap(n),n}));return wa(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Kc({},n);return Hc(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Qc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(E(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. ')+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Fn(Zo))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Kc(t,e){return Array.isArray(e)?e.reduce(Kc,t):Object.assign(Object.assign({},t),e)}var Qc=function(){var t=function(){function t(e,n,r,i,o){var a=this;Object(d.a)(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new b.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),u=new b.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Ac.assertNotInAngularZone(),Oc(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Ac.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(w.a)(s,u.pipe(Object(_.a)()))}return Object(f.a)(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ss?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(hu),o=n.create(Zo.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Pc,null),u=s&&o.injector.get(Dc);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Jc(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=Object(s.a)(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Jc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(fc,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Fn(Ac),Fn(Zo),Fn(Fr),Fn(Os),Fn(ac))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function Jc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var $c=function t(){Object(d.a)(this,t)},tl=function t(){Object(d.a)(this,t)},el={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},nl=function(){var t=function(){function t(e,n){Object(d.a)(this,t),this._compiler=e,this._config=n||el}return Object(f.a)(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=t.split("#"),i=Object(a.a)(r,2),o=i[0],s=i[1];return void 0===s&&(s="default"),n("zn8P")(o).then(function(t){return t[s]}).then(function(t){return rl(t,o,s)}).then(function(t){return e._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var e=t.split("#"),r=Object(a.a)(e,2),i=r[0],o=r[1],s="NgFactory";return void 0===o&&(o="default",s=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+s]}).then(function(t){return rl(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Fn(Sc),Fn(tl,8))},t.\u0275prov=D({token:t,factory:t.\u0275fac}),t}();function rl(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var il=function(t){return null},ol=Xc(null,"core",[{provide:hc,useValue:"unknown"},{provide:Yc,deps:[Zo]},{provide:Dc,deps:[]},{provide:dc,deps:[]}]),al=[{provide:Qc,useClass:Qc,deps:[Ac,Zo,Fr,Os,ac]},{provide:Cu,deps:[Ac],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:ac,useClass:ac,deps:[[new zn,oc]]},{provide:Sc,useClass:Sc,deps:[]},uc,{provide:qs,useFactory:function(){return ou},deps:[]},{provide:Ks,useFactory:function(){return au},deps:[]},{provide:pc,useFactory:function(t){return fs(t=t||"undefined"!=typeof $localize&&$localize.locale||hs),t},deps:[[new Wn(pc),new zn,new Xn]]},{provide:gc,useValue:"USD"}],sl=function(){var t=function t(e){Object(d.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)(Fn(Qc))},t.\u0275mod=mt({type:t}),t.\u0275inj=x({providers:al}),t}()},foSv:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",function(){return r})},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},iWIM:function(t,e,n){var r=n("n3AX");function i(e,n,o){return t.exports=i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},i(e,n,o||e)}t.exports=i},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},kiQV:function(t){t.exports=JSON.parse('{"name":"ui","version":"0.3.1","scripts":{"ng":"ng","start":"ng serve","build":"ng build --prod --output-hashing none","test":"ng test","lint":"ng lint","e2e":"ng e2e"},"private":true,"dependencies":{"@agm/core":"^1.1.0","@angular/animations":"~11.2.7","@angular/cdk":"^11.2.7","@angular/common":"^11.2.7","@angular/compiler":"^11.2.7","@angular/core":"^11.2.7","@angular/forms":"^11.2.7","@angular/http":"^7.2.16","@angular/localize":"^11.2.7","@angular/material":"^11.2.7","@angular/platform-browser":"^11.2.7","@angular/platform-browser-dynamic":"^11.2.7","@angular/router":"^11.2.7","@reactivex/rxjs":"^6.6.7","@zxing/browser":"0.0.8","@zxing/library":"^0.18.4","@zxing/ngx-scanner":"^3.0.0","angularfire2":"^5.4.2","bootstrap":"^4.4.1","core-js":"^3.6.4","firebase":"7.11.0","font-awesome":"^4.7.0","glyphicons":"^0.2.0","jquery":"^3.4.1","ngx-bootstrap":"^5.5.0","ngx-image-cropper":"^3.3.5","node-pre-gyp":"^0.14.0","popper.js":"^1.16.1","rxjs":"^6.6.7","tslib":"^2.0.0","zone.js":"~0.10.2"},"devDependencies":{"@angular-devkit/build-angular":"~0.1102.6","@angular/cli":"~11.2.6","@angular/compiler-cli":"^11.2.7","@angular/language-service":"^11.2.7","@types/googlemaps":"^3.39.3","@types/jasmine":"~3.6.0","@types/jasminewd2":"^2.0.8","@types/node":"^12.11.1","codelyzer":"^6.0.0","googlemaps":"^1.12.0","jasmine-core":"~3.6.0","jasmine-spec-reporter":"~5.0.0","karma":"~6.3.2","karma-chrome-launcher":"~3.1.0","karma-coverage-istanbul-reporter":"~3.0.2","karma-jasmine":"~4.0.0","karma-jasmine-html-reporter":"^1.5.0","persian-date":"^1.1.0","protractor":"~7.0.0","ts-node":"^8.6.2","tslint":"~6.1.0","typescript":"4.0.7"}}')},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("JX7q"),i=n("Ji7U"),o=n("LK+K"),a=n("1OyB"),s=n("vuIU"),u=n("7o/Q");function c(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new l(t,e))}}var l=function(){function t(e,n){Object(a.a)(this,t),this.project=e,this.thisArg=n}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.project,this.thisArg))}}]),t}(),h=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t,i,o){var s;return Object(a.a)(this,n),(s=e.call(this,t)).project=i,s.count=0,s.thisArg=o||Object(r.a)(s),s}return Object(s.a)(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(u.a)},ls82:function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(M){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=Object.create((e&&e.prototype instanceof v?e:v).prototype),o=new k(r||[]);return i._invoke=function(t,e,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=O(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(t,e,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===g)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(M){return{type:"throw",arg:M}}}t.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",g={};function v(){}function m(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,_=w&&w(w(R([])));_&&_!==n&&r.call(_,o)&&(b=_);var C=y.prototype=v.prototype=Object.create(b);function S(t){["next","throw","return"].forEach(function(e){u(t,e,function(t){return this._invoke(e,t)})})}function E(t,e){function n(i,o,a,s){var u=l(t[i],t,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,a,s)},function(t){n("throw",t,a,s)}):e.resolve(h).then(function(t){c.value=t,a(c)},function(t){return n("throw",t,a,s)})}s(u.arg)}var i;this._invoke=function(t,r){function o(){return new e(function(e,i){n(t,r,e,i)})}return i=i?i.then(o,o):o()}}function O(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,O(t,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return m.prototype=C.constructor=y,y.constructor=m,m.displayName=u(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,s,"GeneratorFunction")),t.prototype=Object.create(C),t},t.awrap=function(t){return{__await:t}},S(E.prototype),E.prototype[a]=function(){return this},t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new E(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(t){return t.done?t.value:a.next()})},S(C),u(C,s,"Generator"),C[o]=function(){return this},C.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=R,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}(t.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},lwsE:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},m0LI:function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},n3AX:function(t,e,n){var r=n("Nsbk");t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},o0o1:function(t,e,n){t.exports=n("ls82")},oB13:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("1OyB"),i=n("vuIU"),o=n("EQ5u");function a(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new s(r,e));var i=Object.create(n,o.b);return i.source=n,i.subjectFactory=r,i}}var s=function(){function t(e,n){Object(r.a)(this,t),this.subjectFactory=e,this.selector=n}return Object(i.a)(t,[{key:"call",value:function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}]),t}()},ofXK:function(t,e,n){"use strict";n.d(e,"a",function(){return A}),n.d(e,"b",function(){return q}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return k}),n.d(e,"e",function(){return X}),n.d(e,"f",function(){return m}),n.d(e,"g",function(){return R}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return B}),n.d(e,"j",function(){return j}),n.d(e,"k",function(){return V}),n.d(e,"l",function(){return z}),n.d(e,"m",function(){return I}),n.d(e,"n",function(){return g}),n.d(e,"o",function(){return J}),n.d(e,"p",function(){return K}),n.d(e,"q",function(){return Q}),n.d(e,"r",function(){return d}),n.d(e,"s",function(){return Y}),n.d(e,"t",function(){return h}),n.d(e,"u",function(){return L}),n.d(e,"v",function(){return f});var r=n("uFwe"),i=n("ODXe"),o=n("vuIU"),a=n("Ji7U"),s=n("LK+K"),u=n("1OyB"),c=n("fXoL"),l=null;function h(){return l}function f(t){l||(l=t)}var d=function t(){Object(u.a)(this,t)},p=new c.r("DocumentToken"),g=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(c.Jb)({factory:v,token:t,providedIn:"platform"}),t}();function v(){return Object(c.Wb)(y)}var m=new c.r("Location Initialized"),y=function(){var t=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this))._doc=t,r._init(),r}return Object(o.a)(n,[{key:"_init",value:function(){this.location=h().getLocation(),this._history=h().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return h().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){h().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){h().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){b()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){b()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(g);return t.\u0275fac=function(e){return new(e||t)(c.Wb(p))},t.\u0275prov=Object(c.Jb)({factory:w,token:t,providedIn:"platform"}),t}();function b(){return!!window.history.pushState}function w(){return new y(Object(c.Wb)(p))}function _(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function C(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function S(t){return t&&"?"!==t[0]?"?"+t:t}var E=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(c.Jb)({factory:O,token:t,providedIn:"root"}),t}();function O(t){var e=Object(c.Wb)(p).location;return new I(Object(c.Wb)(g),e&&e.origin||"")}var A=new c.r("appBaseHref"),I=function(){var t=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,r){var i;if(Object(u.a)(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,i}return Object(o.a)(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return _(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+S(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+S(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+S(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(E);return t.\u0275fac=function(e){return new(e||t)(c.Wb(g),c.Wb(A,8))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac}),t}(),k=function(){var t=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t,r){var i;return Object(u.a)(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return Object(o.a)(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=_(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+S(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+S(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(E);return t.\u0275fac=function(e){return new(e||t)(c.Wb(g),c.Wb(A,8))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac}),t}(),R=function(){var t=function(){function t(e,n){var r=this;Object(u.a)(this,t),this._subject=new c.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=C(M(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return Object(o.a)(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+S(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,M(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+S(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+S(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Wb(E),c.Wb(g))},t.normalizeQueryParams=S,t.joinWithSlash=_,t.stripTrailingSlash=C,t.\u0275prov=Object(c.Jb)({factory:T,token:t,providedIn:"root"}),t}();function T(){return new R(Object(c.Wb)(E),Object(c.Wb)(g))}function M(t){return t.replace(/\/index.html$/,"")}var N=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),P=c.ob,D=function t(){Object(u.a)(this,t)},x=function(){var t=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(u.a)(this,n),(r=e.call(this)).locale=t,r}return Object(o.a)(n,[{key:"getPluralCategory",value:function(t,e){switch(P(e||this.locale)(t)){case N.Zero:return"zero";case N.One:return"one";case N.Two:return"two";case N.Few:return"few";case N.Many:return"many";default:return"other"}}}]),n}(D);return t.\u0275fac=function(e){return new(e||t)(c.Wb(c.v))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac}),t}();function L(t,e){e=encodeURIComponent(e);var n,o=Object(r.a)(t.split(";"));try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.indexOf("="),u=-1==s?[a,""]:[a.slice(0,s),a.slice(s+1)],c=Object(i.a)(u,2),l=c[1];if(c[0].trim()===e)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}var B=function(){var t=function(){function t(e,n,r,i){Object(u.a)(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return Object(o.a)(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(c.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(c.xb)(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Nb(c.t),c.Nb(c.u),c.Nb(c.l),c.Nb(c.F))},t.\u0275dir=c.Ib({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),F=function(){function t(e,n,r,i){Object(u.a)(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return Object(o.a)(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),j=function(){var t=function(){function t(e,n,r){Object(u.a)(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object(o.a)(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new F(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new U(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new U(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Nb(c.S),c.Nb(c.N),c.Nb(c.t))},t.\u0275dir=c.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),U=function t(e,n){Object(u.a)(this,t),this.record=e,this.view=n},V=function(){var t=function(){function t(e,n){Object(u.a)(this,t),this._viewContainer=e,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return Object(o.a)(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){W("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){W("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Nb(c.S),c.Nb(c.N))},t.\u0275dir=c.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),H=function t(){Object(u.a)(this,t),this.$implicit=null,this.ngIf=null};function W(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(c.xb)(e),"'."))}var z=function(){var t=function(){function t(e,n,r){Object(u.a)(this,t),this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return Object(o.a)(t,[{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,e){var n=t.split("."),r=Object(i.a)(n,2),o=r[0],a=r[1];null!=(e=null!=e&&a?"".concat(e).concat(a):e)?this._renderer.setStyle(this._ngEl.nativeElement,o,e):this._renderer.removeStyle(this._ngEl.nativeElement,o)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Nb(c.l),c.Nb(c.u),c.Nb(c.F))},t.\u0275dir=c.Ib({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t}();function G(t,e){return{key:t,value:e}}var X=function(){var t=function(){function t(e){Object(u.a)(this,t),this.differs=e,this.keyValues=[]}return Object(o.a)(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z;if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var r=this.differ.diff(t);return r&&(this.keyValues=[],r.forEachItem(function(t){e.keyValues.push(G(t.key,t.currentValue))}),this.keyValues.sort(n)),this.keyValues}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.Nb(c.u))},t.\u0275pipe=c.Mb({name:"keyvalue",type:t,pure:!1}),t}();function Z(t,e){var n=t.key,r=e.key;if(n===r)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(null===n)return 1;if(null===r)return-1;if("string"==typeof n&&"string"==typeof r)return n<r?-1:1;if("number"==typeof n&&"number"==typeof r)return n-r;if("boolean"==typeof n&&"boolean"==typeof r)return n<r?-1:1;var i=String(n),o=String(r);return i==o?0:i<o?-1:1}var q=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({providers:[{provide:D,useClass:x}]}),t}(),Y="browser";function K(t){return t===Y}function Q(t){return"server"===t}var J=function(){var t=function t(){Object(u.a)(this,t)};return t.\u0275prov=Object(c.Jb)({token:t,providedIn:"root",factory:function(){return new $(Object(c.Wb)(p),window)}}),t}(),$=function(){function t(e,n){Object(u.a)(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return Object(o.a)(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=tt(this.window.history)||tt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function tt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return f}),n.d(e,"a",function(){return p});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q"),u=n("EY2u"),c=n("LRne"),l=n("z6cu"),h=function(){var t=function(){function t(e,n,r){Object(o.a)(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return Object(a.a)(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(c.a)(this.value);case"E":return Object(l.a)(this.error);case"C":return Object(u.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new d(t,e))}}var d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(o.a)(this,t),this.scheduler=e,this.delay=n}return Object(a.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new p(t,this.scheduler,this.delay))}}]),t}(),p=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(o.a)(this,n),(i=e.call(this,t)).scheduler=r,i.delay=a,i}return Object(a.a)(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new g(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(h.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(h.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(h.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){t.notification.observe(t.destination),this.unsubscribe()}}]),n}(s.a),g=function t(e,n){Object(o.a)(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}n.r(e),n.d(e,"LogLevel",function(){return o}),n.d(e,"Logger",function(){return u}),n.d(e,"setLogLevel",function(){return c});var i=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a=o.INFO,s=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var a=(new Date).toISOString();switch(e){case o.DEBUG:case o.VERBOSE:console.log.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.INFO:console.info.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.WARN:console.warn.apply(console,r(["["+a+"]  "+t.name+":"],n));break;case o.ERROR:console.error.apply(console,r(["["+a+"]  "+t.name+":"],n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,i.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function c(t){i.forEach(function(e){e.logLevel=t})}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var r=n("1OyB"),i=n("vuIU"),o=n("ReuC"),a=n("foSv"),s=n("Ji7U"),u=n("LK+K"),c=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t,i){var o;return Object(r.a)(this,n),(o=e.call(this,t,i)).scheduler=t,o.work=i,o}return Object(i.a)(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?Object(o.a)(Object(a.a)(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?Object(o.a)(Object(a.a)(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?Object(o.a)(Object(a.a)(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),l=new(function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(c),h=l},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("1OyB"),i=n("vuIU"),o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=function(){var t,e=function(){function t(e){Object(r.a)(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return Object(i.a)(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._ctorUnsubscribe,i=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if(Object(s.a)(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(g){e=g instanceof u?l(g.errors):[g]}}if(Object(o.a)(c))for(var f=-1,d=c.length;++f<d;){var p=c[f];if(Object(a.a)(p))try{p.unsubscribe()}catch(g){e=e||[],g instanceof u?e=e.concat(l(g.errors)):e.push(g)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}();return e.EMPTY=((t=new e).closed=!0,t),e}();function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},rePB:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",function(){return r})},s4An:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",function(){return r})},uFwe:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("BsWD");function i(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("JX7q"),i=n("Ji7U"),o=n("LK+K"),a=n("1OyB"),s=n("vuIU"),u=n("7o/Q");function c(){}var l=n("n6bG");function h(t,e,n){return function(r){return r.lift(new f(t,e,n))}}var f=function(){function t(e,n,r){Object(a.a)(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new d(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),d=function(t){Object(i.a)(n,t);var e=Object(o.a)(n);function n(t,i,o,s){var u;return Object(a.a)(this,n),(u=e.call(this,t))._tapNext=c,u._tapError=c,u._tapComplete=c,u._tapError=o||c,u._tapComplete=s||c,Object(l.a)(i)?(u._context=Object(r.a)(u),u._tapNext=i):i&&(u._context=i,u._tapNext=i.next||c,u._tapError=i.error||c,u._tapComplete=i.complete||c),u}return Object(s.a)(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(u.a)},vuIU:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",function(){return i})},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("oB13"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(t){return Object(i.a)()(Object(r.a)(a)(t))}}},wTVA:function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,o=n("30Go"),a=n("zVF4"),s=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new a.ErrorFactory("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),g=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=a.deepCopy(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",function(){return u},"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(a.contains(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&c.push("and"),a&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}u(new s.Component(i+"-version",function(){return{library:i,version:e}},"VERSION"))},apps:null,SDK_VERSION:"7.11.0",INTERNAL:{registerComponent:u,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!a.contains(e,t=t||f))throw l.create("no-app",{appName:t});return e[t]}function u(s){var u,c,h=s.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===s.type?r[h]:null;if(n.set(h,s),"PUBLIC"===s.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==s.serviceProps&&a.deepExtend(f,s.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,s.multipleInstances?t:[])}}try{for(var d=o.__values(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(s)}catch(v){u={error:v}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=o.__assign(o.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){a.deepExtend(e,t)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),e}(),m=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(a.isBrowser()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a.isNode()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",function(t){return new m(t)},"PRIVATE")),t.registerVersion(h,"0.5.6",void 0),t.registerVersion("fire-js","")}(w),e.default=w,e.firebase=w},wkBT:function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("Ji7U"),i=n("LK+K"),o=n("1OyB"),a=n("vuIU"),s=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(e){Object(o.a)(this,t),this.connectable=e}return Object(a.a)(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),l=function(t){Object(r.a)(n,t);var e=Object(i.a)(n);function n(t,r){var i;return Object(o.a)(this,n),(i=e.call(this,t)).connectable=r,i}return Object(a.a)(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){t.subscriber.error(t.error)}},zUnb:function(t,e,n){"use strict";n.r(e);var r,i=n("ReuC"),o=n("foSv"),a=n("1OyB"),s=n("vuIU"),u=n("Ji7U"),c=n("LK+K"),l=n("ofXK"),h=n("fXoL"),f=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=d||(d=document.querySelector("base"))?d.getAttribute("href"):null;return null==n?null:(e=n,r||(r=document.createElement("a")),r.setAttribute("href",e),"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname)}},{key:"resetBaseElement",value:function(){d=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return Object(l.u)(document.cookie,t)}}],[{key:"makeCurrent",value:function(){Object(l.v)(new n)}}]),n}(function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(a.a)(this,n),e.call(this)}return Object(s.a)(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(l.r)),d=null,p=new h.r("TRANSITION_ID"),g=[{provide:h.d,useFactory:function(t,e,n){return function(){n.get(h.e).donePromise.then(function(){var n=Object(l.t)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[p,l.c,h.s],multi:!0}],v=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"addToWindow",value:function(t){h.qb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},h.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},h.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},h.qb.frameworkStabilizers||(h.qb.frameworkStabilizers=[]),h.qb.frameworkStabilizers.push(function(t){var e=h.qb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?Object(l.t)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(h.Z)(new t)}}]),t}(),m=new h.r("EventManagerPlugins"),y=function(){var t=function(){function t(e,n){var r=this;Object(a.a)(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return Object(s.a)(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(m),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),b=function(){function t(e){Object(a.a)(this,t),this._doc=e}return Object(s.a)(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=Object(l.t)().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),w=function(){var t=function(){function t(){Object(a.a)(this,t),this._stylesSet=new Set}return Object(s.a)(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),_=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return Object(s.a)(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return Object(l.t)().remove(t)})}}]),n}(w);return t.\u0275fac=function(e){return new(e||t)(h.Wb(l.c))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),C={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},S=/%COMP%/g,E="%COMP%",O="_nghost-".concat(E),A="_ngcontent-".concat(E);function I(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?I(t,i,n):(i=i.replace(S,t),n.push(i))}return n}function k(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var R=function(){var t=function(){function t(e,n,r){Object(a.a)(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new T(e)}return Object(s.a)(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case h.T.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new M(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case h.T.ShadowDom:return new N(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=I(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(y),h.Wb(_),h.Wb(h.c))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),T=function(){function t(e){Object(a.a)(this,t),this.eventManager=e,this.data=Object.create(null)}return Object(s.a)(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(C[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=C[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=C[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(h.H.DashCase|h.H.Important)?t.style.setProperty(e,n,r&h.H.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&h.H.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,k(n)):this.eventManager.addEventListener(t,e,k(n))}}]),t}(),M=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o){var s;Object(a.a)(this,n),(s=e.call(this,t)).component=i;var u=I(o+"-"+i.id,i.styles,[]);return r.addStyles(u),s.contentAttr=A.replace(S,o+"-"+i.id),s.hostAttr=O.replace(S,o+"-"+i.id),s}return Object(s.a)(n,[{key:"applyToHost",value:function(t){Object(i.a)(Object(o.a)(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=Object(i.a)(Object(o.a)(n.prototype),"createElement",this).call(this,t,e);return Object(i.a)(Object(o.a)(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(T),N=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o){var s;Object(a.a)(this,n),(s=e.call(this,t)).sharedStylesHost=r,s.hostEl=i,s.shadowRoot=i.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=I(o.id,o.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return Object(s.a)(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return Object(i.a)(Object(o.a)(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return Object(i.a)(Object(o.a)(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return Object(i.a)(Object(o.a)(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(Object(i.a)(Object(o.a)(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(T),P=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){return Object(a.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(b);return t.\u0275fac=function(e){return new(e||t)(h.Wb(l.c))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),D=["alt","control","meta","shift"],x={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},L={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},B={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},F=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){return Object(a.a)(this,n),e.call(this,t)}return Object(s.a)(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Object(l.t)().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(D.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&L.hasOwnProperty(e)&&(e=L[e]))}return x[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),D.forEach(function(r){r!=n&&(0,B[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(b);return t.\u0275fac=function(e){return new(e||t)(h.Wb(l.c))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),j=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(h.Jb)({factory:function(){return Object(h.Wb)(U)},token:t,providedIn:"root"}),t}(),U=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this))._doc=t,r}return Object(s.a)(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case h.J.NONE:return e;case h.J.HTML:return Object(h.fb)(e,"HTML")?Object(h.yb)(e):Object(h.db)(this._doc,String(e)).toString();case h.J.STYLE:return Object(h.fb)(e,"Style")?Object(h.yb)(e):e;case h.J.SCRIPT:if(Object(h.fb)(e,"Script"))return Object(h.yb)(e);throw new Error("unsafe value used in a script context");case h.J.URL:return Object(h.pb)(e),Object(h.fb)(e,"URL")?Object(h.yb)(e):Object(h.eb)(String(e));case h.J.RESOURCE_URL:if(Object(h.fb)(e,"ResourceURL"))return Object(h.yb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return Object(h.gb)(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return Object(h.jb)(t)}},{key:"bypassSecurityTrustScript",value:function(t){return Object(h.ib)(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return Object(h.kb)(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return Object(h.hb)(t)}}]),n}(j);return t.\u0275fac=function(e){return new(e||t)(h.Wb(l.c))},t.\u0275prov=Object(h.Jb)({factory:function(){return t=Object(h.Wb)(h.o),new U(t.get(l.c));var t},token:t,providedIn:"root"}),t}(),V=[{provide:h.C,useValue:l.s},{provide:h.D,useValue:function(){f.makeCurrent(),v.init()},multi:!0},{provide:l.c,useFactory:function(){return Object(h.wb)(document),document},deps:[]}],H=Object(h.U)(h.Y,"browser",V),W=[[],{provide:h.bb,useValue:"root"},{provide:h.m,useFactory:function(){return new h.m},deps:[]},{provide:m,useClass:P,multi:!0,deps:[l.c,h.A,h.C]},{provide:m,useClass:F,multi:!0,deps:[l.c]},[],{provide:R,useClass:R,deps:[y,_,h.c]},{provide:h.G,useExisting:R},{provide:w,useExisting:_},{provide:_,useClass:_,deps:[l.c]},{provide:h.O,useClass:h.O,deps:[h.A]},{provide:y,useClass:y,deps:[m,h.A]},[]],z=function(){var t=function(){function t(e){if(Object(a.a)(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return Object(s.a)(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:h.c,useValue:e.appId},{provide:p,useExisting:h.c},g]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(t,12))},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({providers:W,imports:[l.b,h.f]}),t}();"undefined"!=typeof window&&window;var G=n("XNiG"),X={production:!0,VERSION:n("kiQV").version,firebase:{apiKey:"AIzaSyDPxrXEXL44MTWY5ZOhm55Z9EucFkS0Rg0",authDomain:"sholop-1526521509022.firebaseapp.com",databaseURL:"https://sholop-1526521509022.firebaseio.com",projectId:"sholop-1526521509022",storageBucket:"sholop-1526521509022.appspot.com",messagingSenderId:"635253433511"},baseUrl:"",serverUrl:""},Z=X.serverUrl,q=function(){function t(){this.themeChanged=new G.a,this.createMeeting=new G.a}return t.prototype.detectIEEdge=function(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0?parseInt(t.substring(r+5,t.indexOf(".",r)),10):0},t.prototype.sortByKey=function(t,e,n){void 0===e&&(e=void 0),void 0===n&&(n="asc");var r=Object.assign([],t);e&&(r=r.map(function(t){return t[e]}));var i=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});r=r.sort(i.compare);var o=[];if(e){var a=Object.assign([],t);r.forEach(function(t){var n=a.find(function(n){return n[e]===t});n&&(o.push(n),a.splice(a.indexOf(n),1))})}else o=r;return o},t.prototype.getTimeDuration=function(t,e){if(t&&e){var n=60*parseInt(t.substring(0,2))+parseInt(t.substring(2)),r=60*parseInt(e.substring(0,2))+parseInt(e.substring(2))-n,i=Math.floor(r/60),o=r%60;return 0===i?o+" \u062f\u0642\u06cc\u0642\u0647":i+" \u0633\u0627\u0639\u062a"+(o>0?" \u0648 "+o+" \u062f\u0642\u06cc\u0642\u0647":"")}return""},t.prototype.getStatusString=function(t){switch(t){case"draft":return"\u067e\u06cc\u0634 \u0646\u0648\u06cc\u0633";case"publish":return"\u0641\u0639\u0627\u0644";case"cancel":return"\u0644\u063a\u0648 \u0634\u062f\u0647"}},t.prototype.getContactStatus=function(t){switch(t){case"NOT_REPLIED":return{text:"\u062c\u0648\u0627\u0628 \u0646\u062f\u0627\u062f\u0647",color:"gray",class:"fa-question"};case"ATTENDING":return{text:"\u0645\u06cc\u0627\u0645",color:"green",class:"fa-check"};case"NOT_ATTENDING":return{text:"\u0646\u0645\u06cc\u0627\u0645",color:"red",class:"fa-close"};case"TENTATIVE":return{text:"\u0634\u0627\u06cc\u062f",color:"orange",class:"fa-exclamation"};default:return{text:"\u0646\u0627\u0645\u0634\u062e\u0635",color:"gray",class:""}}},t.prototype.getRandomColor=function(){var t=["red","green","blue","orange","yellow"];return t[Math.floor(Math.random()*t.length)]},t.prototype.getEventStatus=function(t){switch(t){case"DONE":return{text:"\u0627\u0646\u062c\u0627\u0645 \u0634\u062f\u0647",color:"#0b170b",class:"fa-question"};case"GOING_ON":return{text:"\u062f\u0631 \u062d\u0627\u0644 \u0627\u0646\u062c\u0627\u0645",color:"#0b170b",class:"fa-check"};case"GETTING_LATE":return{text:"",color:"#3d3911",class:"fa-close"};case"LATE":return{text:"",color:"#281414",class:"fa-exclamation"};case"CANCELLED":return{text:"\u0644\u063a\u0648 \u0634\u062f\u0647",color:"",class:"fa-exclamation"};case"TO_BE":case"VALID":return{text:"",color:"",class:"fa-exclamation"};case"EXPIRED":return{text:"\u0645\u0646\u0642\u0636\u06cc \u0634\u062f\u0647",color:"#281414",class:"fa-exclamation"};default:return{text:"\u0646\u0627\u0645\u0634\u062e\u0635",color:"gray",class:""}}},t.prototype.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},t.prototype.getBase=function(){return Z},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),Y=n("rePB"),K=n("JX7q"),Q=n("uFwe"),J=n("KQm4"),$=n("Cfvw"),tt=n("LRne"),et=n("9ppp"),nt=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this))._value=t,r}return Object(s.a)(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=Object(i.a)(Object(o.a)(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new et.a;return this._value}},{key:"next",value:function(t){Object(i.a)(Object(o.a)(n.prototype),"next",this).call(this,this._value=t)}}]),n}(G.a),rt=n("z+Ro"),it=n("DH7j"),ot=n("l7GE"),at=n("ZUHj"),st=n("yCtX"),ut={},ct=function(){function t(e){Object(a.a)(this,t),this.resultSelector=e}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new lt(t,this.resultSelector))}}]),t}(),lt=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return Object(s.a)(n,[{key:"_next",value:function(t){this.values.push(ut),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(at.a)(this,r,void 0,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var r=this.values,i=this.toRespond?r[n]===ut?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(ot.a),ht=n("HDdC"),ft=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),dt=n("bHdf");function pt(){return Object(dt.a)(1)}function gt(){return pt()(tt.a.apply(void 0,arguments))}var vt=n("EY2u");function mt(t){return new ht.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object($.a)(n):Object(vt.b)()).subscribe(e)})}var yt=n("EQ5u"),bt=n("lJxs"),wt=n("eIep"),_t=n("7o/Q"),Ct=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function St(t){return function(e){return 0===t?Object(vt.b)():e.lift(new Et(t))}}var Et=function(){function t(e){if(Object(a.a)(this,t),this.total=e,this.total<0)throw new Ct}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Ot(t,this.total))}}]),t}(),Ot=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return Object(s.a)(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(_t.a);function At(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(rt.a)(r)?(e.pop(),function(t){return gt(e,t,r)}):function(t){return gt(e,t)}}var It=n("Kqap");function kt(t,e){return function(n){return n.lift(new Rt(t,e))}}var Rt=function(){function t(e,n){Object(a.a)(this,t),this.predicate=e,this.thisArg=n}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Tt(t,this.predicate,this.thisArg))}}]),t}(),Tt=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i){var o;return Object(a.a)(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return Object(s.a)(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(_t.a),Mt=n("zx2A");function Nt(t){return function(e){var n=new Pt(t),r=e.lift(n);return n.caught=r}}var Pt=function(){function t(e){Object(a.a)(this,t),this.selector=e}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Dt(t,this.selector,this.caught))}}]),t}(),Dt=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i){var o;return Object(a.a)(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return Object(s.a)(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(s){return void Object(i.a)(Object(o.a)(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var r=new Mt.a(this);this.add(r);var a=Object(Mt.c)(e,r);a!==r&&this.add(a)}}}]),n}(Mt.b),xt=n("5+tZ");function Lt(t,e){return Object(xt.b)(t,e,1)}function Bt(t){return function(e){return 0===t?Object(vt.b)():e.lift(new Ft(t))}}var Ft=function(){function t(e){if(Object(a.a)(this,t),this.total=e,this.total<0)throw new Ct}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new jt(t,this.total))}}]),t}(),jt=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return Object(s.a)(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(_t.a);function Ut(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt;return function(e){return e.lift(new Vt(t))}}var Vt=function(){function t(e){Object(a.a)(this,t),this.errorFactory=e}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Ht(t,this.errorFactory))}}]),t}(),Ht=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return Object(s.a)(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(_t.a);function Wt(){return new ft}function zt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Gt(t))}}var Gt=function(){function t(e){Object(a.a)(this,t),this.defaultValue=e}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new Xt(t,this.defaultValue))}}]),t}(),Xt=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return Object(s.a)(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(_t.a),Zt=n("SpAZ");function qt(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?kt(function(e,n){return t(e,n,r)}):Zt.a,St(1),n?zt(e):Ut(function(){return new ft}))}}var Yt=n("vkgz"),Kt=n("x+ZX"),Qt=n("quSY"),Jt=function(){function t(e){Object(a.a)(this,t),this.callback=e}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new $t(t,this.callback))}}]),t}(),$t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).add(new Qt.a(r)),i}return n}(_t.a),te=function t(e,n){Object(a.a)(this,t),this.id=e,this.url=n},ee=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(a.a)(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=s,i}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(te),ne=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i){var o;return Object(a.a)(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(te),re=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i){var o;return Object(a.a)(this,n),(o=e.call(this,t,r)).reason=i,o}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(te),ie=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i){var o;return Object(a.a)(this,n),(o=e.call(this,t,r)).error=i,o}return Object(s.a)(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(te),oe=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o){var s;return Object(a.a)(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return Object(s.a)(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(te),ae=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o){var s;return Object(a.a)(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return Object(s.a)(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(te),se=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o,s){var u;return Object(a.a)(this,n),(u=e.call(this,t,r)).urlAfterRedirects=i,u.state=o,u.shouldActivate=s,u}return Object(s.a)(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(te),ue=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o){var s;return Object(a.a)(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return Object(s.a)(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(te),ce=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o){var s;return Object(a.a)(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s}return Object(s.a)(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(te),le=function(){function t(e){Object(a.a)(this,t),this.route=e}return Object(s.a)(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),he=function(){function t(e){Object(a.a)(this,t),this.route=e}return Object(s.a)(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),fe=function(){function t(e){Object(a.a)(this,t),this.snapshot=e}return Object(s.a)(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),de=function(){function t(e){Object(a.a)(this,t),this.snapshot=e}return Object(s.a)(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),pe=function(){function t(e){Object(a.a)(this,t),this.snapshot=e}return Object(s.a)(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ge=function(){function t(e){Object(a.a)(this,t),this.snapshot=e}return Object(s.a)(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ve=function(){function t(e,n,r){Object(a.a)(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return Object(s.a)(t,[{key:"toString",value:function(){var t=this.position?"".concat(this.position[0],", ").concat(this.position[1]):null;return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(t,"')")}}]),t}(),me="primary",ye=function(){function t(e){Object(a.a)(this,t),this.params=e||{}}return Object(s.a)(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function be(t){return new ye(t)}function we(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _e(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ce(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Se(t[n=r[o]],e[n]))return!1;return!0}function Se(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=Object(J.a)(t).sort(),r=Object(J.a)(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function Ee(t){return Array.prototype.concat.apply([],t)}function Oe(t){return t.length>0?t[t.length-1]:null}function Ae(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ie(t){return Object(h.sb)(t)?t:Object(h.tb)(t)?Object($.a)(Promise.resolve(t)):Object(tt.a)(t)}function ke(t,e,n){return n?function(t,e){return Ce(t,e)}(t.queryParams,e.queryParams)&&Re(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return Se(t[n],e[n])})}(t.queryParams,e.queryParams)&&Te(t.root,e.root)}function Re(t,e){if(!xe(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!Re(t.children[n],e.children[n]))return!1}return!0}function Te(t,e){return Me(t,e,e.segments)}function Me(t,e,n){if(t.segments.length>n.length)return!!xe(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!xe(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!Te(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!xe(t.segments,i)&&!!t.children.primary&&Me(t.children.primary,e,o)}var Ne=function(){function t(e,n,r){Object(a.a)(this,t),this.root=e,this.queryParams=n,this.fragment=r}return Object(s.a)(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=be(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Fe.serialize(this)}}]),t}(),Pe=function(){function t(e,n){var r=this;Object(a.a)(this,t),this.segments=e,this.children=n,this.parent=null,Ae(n,function(t,e){return t.parent=r})}return Object(s.a)(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return je(this)}}]),t}(),De=function(){function t(e,n){Object(a.a)(this,t),this.path=e,this.parameters=n}return Object(s.a)(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=be(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Xe(this)}}]),t}();function xe(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Le=function t(){Object(a.a)(this,t)},Be=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"parse",value:function(t){var e=new Qe(t);return new Ne(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r="/".concat(Ue(t.root,!0)),i=(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return"".concat(He(t),"=").concat(He(e))}).join("&"):"".concat(He(t),"=").concat(He(n))})).length?"?".concat(n.join("&")):""),o="string"==typeof t.fragment?"#".concat(encodeURI(t.fragment)):"";return"".concat(r).concat(i).concat(o)}}]),t}(),Fe=new Be;function je(t){return t.segments.map(function(t){return Xe(t)}).join("/")}function Ue(t,e){if(!t.hasChildren())return je(t);if(e){var n=t.children.primary?Ue(t.children.primary,!1):"",r=[];return Ae(t.children,function(t,e){e!==me&&r.push("".concat(e,":").concat(Ue(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return Ae(t.children,function(t,r){r===me&&(n=n.concat(e(t,r)))}),Ae(t.children,function(t,r){r!==me&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return n===me?[Ue(t.children.primary,!1)]:["".concat(n,":").concat(Ue(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(je(t),"/").concat(i[0]):"".concat(je(t),"/(").concat(i.join("//"),")")}function Ve(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function He(t){return Ve(t).replace(/%3B/gi,";")}function We(t){return Ve(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ze(t){return decodeURIComponent(t)}function Ge(t){return ze(t.replace(/\+/g,"%20"))}function Xe(t){return"".concat(We(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(We(t),"=").concat(We(e[t]))}).join("")));var e}var Ze=/^[^\/()?;=#]+/;function qe(t){var e=t.match(Ze);return e?e[0]:""}var Ye=/^[^=?&#]+/,Ke=/^[^?&#]+/,Qe=function(){function t(e){Object(a.a)(this,t),this.url=e,this.remaining=e}return Object(s.a)(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Pe(t,e)),n}},{key:"parseSegment",value:function(){var t=qe(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new De(ze(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=qe(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=qe(this.remaining);r&&this.capture(n=r)}t[ze(e)]=ze(n)}}},{key:"parseQueryParam",value:function(t){var e,n=(e=this.remaining.match(Ye))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Ke);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=Ge(n),a=Ge(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=qe(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=me);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Pe([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Je=function(){function t(e){Object(a.a)(this,t),this._root=e}return Object(s.a)(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=$e(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=$e(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=tn(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return tn(t,this._root).map(function(t){return t.value})}}]),t}();function $e(t,e){if(t===e.value)return e;var n,r=Object(Q.a)(e.children);try{for(r.s();!(n=r.n()).done;){var i=$e(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function tn(t,e){if(t===e.value)return[e];var n,r=Object(Q.a)(e.children);try{for(r.s();!(n=r.n()).done;){var i=tn(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var en=function(){function t(e,n){Object(a.a)(this,t),this.value=e,this.children=n}return Object(s.a)(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function nn(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var rn=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).snapshot=r,hn(Object(K.a)(i),t),i}return Object(s.a)(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Je);function on(t,e){var n=function(t,e){var n=new cn([],{},{},"",{},me,e,null,t.root,-1,{});return new ln("",new en(n,[]))}(t,e),r=new nt([new De("",{})]),i=new nt({}),o=new nt({}),a=new nt({}),s=new nt(""),u=new an(r,i,a,s,o,me,e,n.root);return u.snapshot=n.root,new rn(new en(u,[]),n)}var an=function(){function t(e,n,r,i,o,s,u,c){Object(a.a)(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=u,this._futureSnapshot=c}return Object(s.a)(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(bt.a)(function(t){return be(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(bt.a)(function(t){return be(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function sn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return un(n.slice(r))}function un(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}var cn=function(){function t(e,n,r,i,o,s,u,c,l,h,f){Object(a.a)(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=u,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=h,this._resolve=f}return Object(s.a)(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=be(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=be(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){var t=this.url.map(function(t){return t.toString()}).join("/"),e=this.routeConfig?this.routeConfig.path:"";return"Route(url:'".concat(t,"', path:'").concat(e,"')")}}]),t}(),ln=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,r)).url=t,hn(Object(K.a)(i),r),i}return Object(s.a)(n,[{key:"toString",value:function(){return fn(this._root)}}]),n}(Je);function hn(t,e){e.value._routerState=t,e.children.forEach(function(e){return hn(t,e)})}function fn(t){var e=t.children.length>0?" { ".concat(t.children.map(fn).join(", ")," } "):"";return"".concat(t.value).concat(e)}function dn(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ce(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ce(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Ce(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ce(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function pn(t,e){var n,r;return Ce(t.params,e.params)&&xe(n=t.url,r=e.url)&&n.every(function(t,e){return Ce(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||pn(t.parent,e.parent))}function gn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=Object(Q.a)(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return gn(t,e,o)}}catch(a){i.e(a)}finally{i.f()}return gn(t,e)})}(t,e,n);return new en(r,i)}var o=t.retrieve(e.value);if(o){var a=o.route;return vn(e,a),a}var s,u=new an(new nt((s=e.value).url),new nt(s.params),new nt(s.queryParams),new nt(s.fragment),new nt(s.data),s.outlet,s.component,s),c=e.children.map(function(e){return gn(t,e)});return new en(u,c)}function vn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)vn(t.children[n],e.children[n])}function mn(t,e,n,r,i){if(0===n.length)return wn(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Cn(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Ae(r.outlets,function(t,e){o[e]="string"==typeof t?t.split("/"):t}),[].concat(Object(J.a)(t),[{outlets:o}])}if(r.segmentPath)return[].concat(Object(J.a)(t),[r.segmentPath])}return"string"!=typeof r?[].concat(Object(J.a)(t),[r]):0===i?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(Object(J.a)(t),[r])},[]);return new Cn(n,e,r)}(n);if(o.toRoot())return wn(e.root,new Pe([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new Sn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new Sn(r,r===e.root,0)}var i=yn(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Sn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?On(a.segmentGroup,a.index,o.commands):En(a.segmentGroup,a.index,o.commands);return wn(a.segmentGroup,s,e,r,i)}function yn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function bn(t){return"object"==typeof t&&null!=t&&t.outlets}function wn(t,e,n,r,i){var o={};return r&&Ae(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new Ne(n.root===t?e:_n(n.root,t,e),o,i)}function _n(t,e,n){var r={};return Ae(t.children,function(t,i){r[i]=t===e?n:_n(t,e,n)}),new Pe(t.segments,r)}var Cn=function(){function t(e,n,r){if(Object(a.a)(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&yn(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(bn);if(i&&i!==Oe(r))throw new Error("{outlets:{}} has to be the last command")}return Object(s.a)(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Sn=function t(e,n,r){Object(a.a)(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function En(t,e,n){if(t||(t=new Pe([],{})),0===t.segments.length&&t.hasChildren())return On(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(bn(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Rn(u,c,a))return o;r+=2}else{if(!Rn(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Pe(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Pe(t.segments.slice(r.pathIndex),t.children),On(o,0,i)}return r.match&&0===i.length?new Pe(t.segments,{}):r.match&&!t.hasChildren()?An(t,e,n):r.match?On(t,0,i):An(t,e,n)}function On(t,e,n){if(0===n.length)return new Pe(t.segments,{});var r=function(t){return bn(t[0])?t[0].outlets:Object(Y.a)({},me,t)}(n),i={};return Ae(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=En(t.children[r],e,n))}),Ae(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Pe(t.segments,i)}function An(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(bn(o)){var a=In(o.outlets);return new Pe(r,a)}if(0===i&&yn(n[0]))r.push(new De(t.segments[e].path,kn(n[0]))),i++;else{var s=bn(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&yn(u)?(r.push(new De(s,kn(u))),i+=2):(r.push(new De(s,{})),i++)}}return new Pe(r,{})}function In(t){var e={};return Ae(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=An(new Pe([],{}),0,t))}),e}function kn(t){var e={};return Ae(t,function(t,n){return e[n]="".concat(t)}),e}function Rn(t,e,n){return t==n.path&&Ce(e,n.parameters)}var Tn=function(){function t(e,n,r,i){Object(a.a)(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return Object(s.a)(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),dn(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=nn(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Ae(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=nn(t),o=0,a=Object.keys(i);o<a.length;o++)this.deactivateRouteAndItsChildren(i[a[o]],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=nn(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new ge(t.value.snapshot))}),t.children.length&&this.forwardEvent(new de(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(dn(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Mn(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Mn(t){dn(t.value),t.children.forEach(Mn)}var Nn=function t(e,n){Object(a.a)(this,t),this.routes=e,this.module=n};function Pn(t){return"function"==typeof t}function Dn(t){return t instanceof Ne}var xn=Symbol("INITIAL_VALUE");function Ln(){return Object(wt.a)(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=void 0,i=void 0;return Object(rt.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(it.a)(e[0])&&(e=e[0]),Object(st.a)(e,i).lift(new ct(r))}(t.map(function(t){return t.pipe(St(1),At(xn))})).pipe(Object(It.a)(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==xn)return t;if(r===xn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Dn(r))return r}return t},t)},xn),kt(function(t){return t!==xn}),Object(bt.a)(function(t){return Dn(t)?t:!0===t}),St(1))})}var Bn=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&h.Ob(0,"router-outlet")},directives:function(){return[Lr]},encapsulation:2}),t}();function Fn(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n],i=Un(e,r);jn(r,i)}}function jn(t,e){t.children&&Fn(t.children,e)}function Un(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Vn(t){var e=t.children&&t.children.map(Vn),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==me&&(n.component=Bn),n}function Hn(t){return t.outlet||me}function Wn(t,e){var n=t.filter(function(t){return Hn(t)===e});return n.push.apply(n,Object(J.a)(t.filter(function(t){return Hn(t)!==e}))),n}var zn={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Gn(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},zn):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||_e)(n,t,e);if(!i)return Object.assign({},zn);var o={};Ae(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Xn(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&Yn(t,n,r)){var o=new Pe(e,qn(t,e,r,new Pe(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&Kn(t,n,r)){var a=new Pe(t.segments,Zn(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Pe(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Zn(t,e,n,r,i,o){var a,s={},u=Object(Q.a)(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(Qn(t,n,c)&&!i[Hn(c)]){var l=new Pe([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Hn(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}function qn(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=Object(Q.a)(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&Hn(s)!==me){var u=new Pe([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[Hn(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}function Yn(t,e,n){return n.some(function(n){return Qn(t,e,n)&&Hn(n)!==me})}function Kn(t,e,n){return n.some(function(n){return Qn(t,e,n)})}function Qn(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Jn(t,e,n,r){return!!(Hn(t)===r||r!==me&&Qn(e,n,t))&&("**"===t.path||Gn(e,t,n).matched)}function $n(t,e,n){return 0===e.length&&!t.children[n]}var tr=function t(e){Object(a.a)(this,t),this.segmentGroup=e||null},er=function t(e){Object(a.a)(this,t),this.urlTree=e};function nr(t){return new ht.a(function(e){return e.error(new tr(t))})}function rr(t){return new ht.a(function(e){return e.error(new er(t))})}function ir(t){return new ht.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var or=function(){function t(e,n,r,i,o){Object(a.a)(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(h.y)}return Object(s.a)(t,[{key:"apply",value:function(){var t=this,e=Xn(this.urlTree.root,[],[],this.config).segmentGroup,n=new Pe(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,me).pipe(Object(bt.a)(function(e){return t.createUrlTree(ar(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Nt(function(e){if(e instanceof er)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof tr)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,me).pipe(Object(bt.a)(function(n){return e.createUrlTree(ar(n),t.queryParams,t.fragment)})).pipe(Nt(function(t){if(t instanceof tr)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Pe([],Object(Y.a)({},me,t)):t;return new Ne(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(bt.a)(function(t){return new Pe([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Object($.a)(i).pipe(Lt(function(i){var o=n.children[i],a=Wn(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(bt.a)(function(t){return{segment:t,outlet:i}}))}),Object(It.a)(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?kt(function(e,n){return t(e,n,r)}):Zt.a,Bt(1),n?zt(e):Ut(function(){return new ft}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object($.a)(n).pipe(Lt(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Nt(function(t){if(t instanceof tr)return Object(tt.a)(null);throw t}))}),qt(function(t){return!!t}),Nt(function(t,n){if(t instanceof ft||"EmptyError"===t.name){if($n(e,r,i))return Object(tt.a)(new Pe([],{}));throw new tr(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Jn(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):nr(e):nr(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?rr(o):this.lineralizeSegments(n,o).pipe(Object(xt.b)(function(n){var o=new Pe(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Gn(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return nr(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?rr(h):this.lineralizeSegments(r,h).pipe(Object(xt.b)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(tt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(bt.a)(function(t){return n._loadedConfig=t,new Pe(r,{})})):Object(tt.a)(new Pe(r,{}));var a=Gn(e,n,r),s=a.consumedSegments,u=a.lastChild;if(!a.matched)return nr(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(xt.b)(function(t){var r=t.module,a=t.routes,u=Xn(e,s,c,a),l=u.segmentGroup,h=u.slicedSegments,f=new Pe(l.segments,l.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe(Object(bt.a)(function(t){return new Pe(s,t)}));if(0===a.length&&0===h.length)return Object(tt.a)(new Pe(s,{}));var d=Hn(n)===i;return o.expandSegment(r,f,a,h,d?me:i,!0).pipe(Object(bt.a)(function(t){return new Pe(s.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(tt.a)(new Nn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(tt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(xt.b)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(bt.a)(function(t){return e._loadedConfig=t,t})):function(t){return new ht.a(function(e){return e.error(we("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(tt.a)(new Nn([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(tt.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&Pn(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Pn(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Ie(i)});return Object(tt.a)(o).pipe(Ln(),Object(Yt.a)(function(t){if(Dn(t)){var e=we('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(bt.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(tt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ir(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Ne(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Ae(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Ae(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Pe(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=Object(Q.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function ar(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=ar(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Pe(t.segments.concat(e.segments),e.children)}return t}(new Pe(t.segments,e))}var sr=function t(e){Object(a.a)(this,t),this.path=e,this.route=this.path[this.path.length-1]},ur=function t(e,n){Object(a.a)(this,t),this.component=e,this.route=n};function cr(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function lr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=nn(e);return t.children.forEach(function(t){hr(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ae(o,function(t,e){return dr(t,n.getContext(e),i)}),i}function hr(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=fr(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sr(r)):(o.data=a.data,o._resolvedData=a._resolvedData),lr(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new ur(s.outlet.component,a))}else a&&dr(e,s,i),i.canActivateChecks.push(new sr(r)),lr(t,null,o.component?s?s.children:null:n,r,i);return i}function fr(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!xe(t.url,e.url);case"pathParamsOrQueryParamsChange":return!xe(t.url,e.url)||!Ce(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pn(t,e)||!Ce(t.queryParams,e.queryParams);case"paramsChange":default:return!pn(t,e)}}function dr(t,e,n){var r=nn(t),i=t.value;Ae(r,function(t,r){dr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ur(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var pr=function t(){Object(a.a)(this,t)};function gr(t){return new ht.a(function(e){return e.error(t)})}var vr=function(){function t(e,n,r,i,o,s){Object(a.a)(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}return Object(s.a)(t,[{key:"recognize",value:function(){var t=Xn(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,me);if(null===e)return null;var n=new cn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},me,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new en(n,e),i=new ln(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=sn(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,i=Object.keys(e.children);r<i.length;r++){var o=i[r],a=e.children[o],s=Wn(t,o),u=this.processSegmentGroup(s,a,o);if(null===u)return null;n.push.apply(n,Object(J.a)(u))}var c=function(t){var e,n=[],r=Object(Q.a)(t);try{var i=function(){var t=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(t))return n.push(t),"continue";var r,i=n.find(function(e){return t.value.routeConfig===e.value.routeConfig});void 0!==i?(r=i.children).push.apply(r,Object(J.a)(t.children)):n.push(t)};for(r.s();!(e=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}(n);return c.sort(function(t,e){return t.value.outlet===me?-1:e.value.outlet===me?1:t.value.outlet.localeCompare(e.value.outlet)}),c}},{key:"processSegment",value:function(t,e,n,r){var i,o=Object(Q.a)(t);try{for(o.s();!(i=o.n()).done;){var a=this.processSegmentAgainstRoute(i.value,e,n,r);if(null!==a)return a}}catch(s){o.e(s)}finally{o.f()}return $n(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Jn(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?Oe(n).parameters:{};i=new cn(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,br(t),Hn(t),t.component,t,mr(e),yr(e)+n.length,wr(t))}else{var u=Gn(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new cn(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,br(t),Hn(t),t.component,t,mr(e),yr(e)+o.length,wr(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=Xn(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new en(i,d)]}if(0===c.length&&0===f.length)return[new en(i,[])];var p=Hn(t)===r,g=this.processSegment(c,h,f,p?me:r);return null===g?null:[new en(i,g)]}}]),t}();function mr(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function yr(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function br(t){return t.data||{}}function wr(t){return t.resolve||{}}function _r(t){return Object(wt.a)(function(e){var n=t(e);return n?Object($.a)(n).pipe(Object(bt.a)(function(){return e})):Object(tt.a)(e)})}var Cr=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return n}(function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),Sr=new h.r("ROUTES"),Er=function(){function t(e,n,r,i){Object(a.a)(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return Object(s.a)(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(Object(bt.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Nn(Ee(i.injector.get(Sr,void 0,h.q.Self|h.q.Optional)).map(Vn),i)}),Nt(function(t){throw e._loader$=void 0,t}));return e._loader$=new yt.a(r,function(){return new G.a}).pipe(Object(Kt.a)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object($.a)(this.loader.load(t)):Ie(t()).pipe(Object(xt.b)(function(t){return t instanceof h.w?Object(tt.a)(t):Object($.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),Or=function t(){Object(a.a)(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new Ar,this.attachRef=null},Ar=function(){function t(){Object(a.a)(this,t),this.contexts=new Map}return Object(s.a)(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new Or,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),Ir=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function kr(t){throw t}function Rr(t,e,n){return e.parse("/")}function Tr(t,e){return Object(tt.a)(null)}var Mr=function(){var t=function(){function t(e,n,r,i,o,s,u,c){var l=this;Object(a.a)(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new G.a,this.errorHandler=kr,this.malformedUriErrorHandler=Rr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Tr,afterPreactivation:Tr},this.urlHandlingStrategy=new Ir,this.routeReuseStrategy=new Cr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(h.y),this.console=o.get(h.ab);var f=o.get(h.A);this.isNgZoneEnabled=f instanceof h.A&&h.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Ne(new Pe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Er(s,u,function(t){return l.triggerEvent(new le(t))},function(t){return l.triggerEvent(new he(t))}),this.routerState=on(this.currentUrlTree,this.rootComponentType),this.transitions=new nt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return Object(s.a)(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(kt(function(t){return 0!==t.id}),Object(bt.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Object(wt.a)(function(t){var r,i,o,a,s=!1,u=!1;return Object(tt.a)(t).pipe(Object(Yt.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(wt.a)(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(tt.a)(t).pipe(Object(wt.a)(function(t){var r=e.transitions.getValue();return n.next(new ee(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?vt.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,Object(wt.a)(function(t){return function(t,e,n,r,i){return new or(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(bt.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(Yt.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(xt.b)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new vr(t,e,n,r,i,o).recognize();return null===a?gr(new pr):Object(tt.a)(a)}catch(s){return gr(s)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(bt.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Yt.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new oe(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.extractedUrl,c=t.source,l=t.restoredState,h=t.extras,f=new ee(t.id,e.serializeUrl(u),c,l);n.next(f);var d=on(u,e.rootComponentType).snapshot;return Object(tt.a)(Object.assign(Object.assign({},t),{targetSnapshot:d,urlAfterRedirects:u,extras:Object.assign(Object.assign({},h),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),vt.a}),_r(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(Yt.a)(function(t){var n=new ae(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(bt.a)(function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,lr(o,r?r._root:null,i,[o.value]))});var n,r,i,o}),function(t,e){return Object(xt.b)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(tt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object($.a)(t).pipe(Object(xt.b)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(tt.a)(!0);var a=o.map(function(o){var a,s=cr(o,e,i);if(function(t){return t&&Pn(t.canDeactivate)}(s))a=Ie(s.canDeactivate(t,e,n,r));else{if(!Pn(s))throw new Error("Invalid CanDeactivate guard");a=Ie(s(t,e,n,r))}return a.pipe(qt())});return Object(tt.a)(a).pipe(Ln())}(t.component,t.route,n,e,r)}),qt(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(xt.b)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object($.a)(e).pipe(Lt(function(e){return gt(function(t,e){return null!==t&&e&&e(new fe(t)),Object(tt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new pe(t)),Object(tt.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return mt(function(){var i=e.guards.map(function(i){var o,a=cr(i,e.node,n);if(function(t){return t&&Pn(t.canActivateChild)}(a))o=Ie(a.canActivateChild(r,t));else{if(!Pn(a))throw new Error("Invalid CanActivateChild guard");o=Ie(a(r,t))}return o.pipe(qt())});return Object(tt.a)(i).pipe(Ln())})});return Object(tt.a)(i).pipe(Ln())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(tt.a)(!0);var i=r.map(function(r){return mt(function(){var i,o=cr(r,e,n);if(function(t){return t&&Pn(t.canActivate)}(o))i=Ie(o.canActivate(e,t));else{if(!Pn(o))throw new Error("Invalid CanActivate guard");i=Ie(o(e,t))}return i.pipe(qt())})});return Object(tt.a)(i).pipe(Ln())}(t,e.route,n))}),qt(function(t){return!0!==t},!0))}(r,a,t,e):Object(tt.a)(n)}),Object(bt.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Yt.a)(function(t){if(Dn(t.guardsResult)){var n=we('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new se(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),kt(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new re(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),_r(function(t){if(t.guards.canActivateChecks.length)return Object(tt.a)(t).pipe(Object(Yt.a)(function(t){var n=new ue(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(wt.a)(function(t){var r,i,o=!1;return Object(tt.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(xt.b)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(tt.a)(t);var o=0;return Object($.a)(n).pipe(Lt(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(tt.a)({});var o={};return Object($.a)(i).pipe(Object(xt.b)(function(i){return function(t,e,n,r){var i=cr(t,e,r);return Ie(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Yt.a)(function(t){o[i]=t}))}),Bt(1),Object(xt.b)(function(){return Object.keys(o).length===i.length?Object(tt.a)(o):vt.a}))}(t._resolve,t,e,r).pipe(Object(bt.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),sn(t,n).resolve),null}))}(t.route,e,r,i)}),Object(Yt.a)(function(){return o++}),Bt(1),Object(xt.b)(function(e){return o===n.length?Object(tt.a)(t):vt.a}))})),Object(Yt.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new re(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(Yt.a)(function(t){var n=new ce(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),_r(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(bt.a)(function(t){var n,r,i,o=(i=gn(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new rn(i,n));return Object.assign(Object.assign({},t),{targetRouterState:o})}),Object(Yt.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(bt.a)(function(t){return new Tn(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Object(Yt.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new re(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Jt(r))}),Nt(function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Dn(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new re(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new ie(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(c){t.reject(c)}}var s;return vt.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Fn(t),this.config=t.map(Vn),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,i=e.fragment,o=e.queryParamsHandling,a=e.preserveFragment,s=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i,c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),mn(s,this.currentUrlTree,t,c,u)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Dn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return Nr(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Dn(t))return ke(this.currentUrlTree,t,e);var n=this.parseUrl(t);return ke(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new ne(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(h.P),h.Wb(Le),h.Wb(Ar),h.Wb(l.g),h.Wb(h.s),h.Wb(h.x),h.Wb(h.i),h.Wb(void 0))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}();function Nr(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}var Pr=function(){var t=function(){function t(e,n,r,i,o){Object(a.a)(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new G.a,null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return Object(s.a)(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"onClick",value:function(){var t={skipLocationChange:xr(this.skipLocationChange),replaceUrl:xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xr(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(Mr),h.Nb(an),h.Xb("tabindex"),h.Nb(h.F),h.Nb(h.l))},t.\u0275dir=h.Ib({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&h.Zb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.Ab]}),t}(),Dr=function(){var t=function(){function t(e,n,r){var i=this;Object(a.a)(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.onChanges=new G.a,this.subscription=e.events.subscribe(function(t){t instanceof ne&&i.updateTargetUrlAndHref()})}return Object(s.a)(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var o={skipLocationChange:xr(this.skipLocationChange),replaceUrl:xr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xr(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(Mr),h.Nb(an),h.Nb(l.h))},t.\u0275dir=h.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&h.Zb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(h.Vb("href",e.href,h.qc),h.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[h.Ab]}),t}();function xr(t){return""===t||!!t}var Lr=function(){var t=function(){function t(e,n,r,i,o){Object(a.a)(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.n,this.deactivateEvents=new h.n,this.name=i||me,e.onChildOutletCreated(this.name,this)}return Object(s.a)(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Br(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(Ar),h.Nb(h.S),h.Nb(h.j),h.Xb("name"),h.Nb(h.h))},t.\u0275dir=h.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),Br=function(){function t(e,n,r){Object(a.a)(this,t),this.route=e,this.childContexts=n,this.parent=r}return Object(s.a)(t,[{key:"get",value:function(t,e){return t===an?this.route:t===Ar?this.childContexts:this.parent.get(t,e)}}]),t}(),Fr=function t(){Object(a.a)(this,t)},jr=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"preload",value:function(t,e){return e().pipe(Nt(function(){return Object(tt.a)(null)}))}}]),t}(),Ur=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"preload",value:function(t,e){return Object(tt.a)(null)}}]),t}(),Vr=function(){var t=function(){function t(e,n,r,i,o){Object(a.a)(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new Er(n,r,function(t){return e.triggerEvent(new le(t))},function(t){return e.triggerEvent(new he(t))})}return Object(s.a)(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(kt(function(t){return t instanceof ne}),Lt(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(h.y);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=Object(Q.a)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object($.a)(r).pipe(Object(dt.a)(),Object(bt.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Object(tt.a)(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Object(xt.b)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(Mr),h.Wb(h.x),h.Wb(h.i),h.Wb(h.s),h.Wb(Fr))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Hr=function(){var t=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(a.a)(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return Object(s.a)(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof ee?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ne&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof ve&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new ve(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(Mr),h.Wb(l.o),h.Wb(void 0))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Wr=new h.r("ROUTER_CONFIGURATION"),zr=new h.r("ROUTER_FORROOT_GUARD"),Gr=[l.g,{provide:Le,useClass:Be},{provide:Mr,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,h=new Mr(null,t,e,n,r,i,o,Ee(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),Jr(s,h),s.enableTracing){var f=Object(l.t)();h.events.subscribe(function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h},deps:[Le,Ar,l.g,h.s,h.x,h.i,Sr,Wr,[function t(){Object(a.a)(this,t)},new h.B],[function t(){Object(a.a)(this,t)},new h.B]]},Ar,{provide:an,useFactory:function(t){return t.routerState.root},deps:[Mr]},{provide:h.x,useClass:h.M},Vr,Ur,jr,{provide:Wr,useValue:{enableTracing:!1}}];function Xr(){return new h.z("Router",Mr)}var Zr=function(){var t=function(){function t(e,n){Object(a.a)(this,t)}return Object(s.a)(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Gr,Qr(e),{provide:zr,useFactory:Kr,deps:[[Mr,new h.B,new h.L]]},{provide:Wr,useValue:n||{}},{provide:l.h,useFactory:Yr,deps:[l.n,[new h.p(l.a),new h.B],Wr]},{provide:Hr,useFactory:qr,deps:[Mr,l.o,Wr]},{provide:Fr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ur},{provide:h.z,multi:!0,useFactory:Xr},[$r,{provide:h.d,multi:!0,useFactory:ti,deps:[$r]},{provide:ni,useFactory:ei,deps:[$r]},{provide:h.b,multi:!0,useExisting:ni}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Qr(e)]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(zr,8),h.Wb(Mr,8))},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({}),t}();function qr(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Hr(t,e,n)}function Yr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new l.d(t,e):new l.m(t,e)}function Kr(t){return"guarded"}function Qr(t){return[{provide:h.a,multi:!0,useValue:t},{provide:Sr,multi:!0,useValue:t}]}function Jr(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}var $r=function(){var t=function(){function t(e){Object(a.a)(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new G.a}return Object(s.a)(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(l.f,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Mr),i=t.injector.get(Wr);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(tt.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Wr),n=this.injector.get(Vr),r=this.injector.get(Hr),i=this.injector.get(Mr),o=this.injector.get(h.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(h.s))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}();function ti(t){return t.appInitializer.bind(t)}function ei(t){return t.bootstrapListener.bind(t)}var ni=new h.r("Router Initializer"),ri=function(){function t(t){var e=this;this.router=t,this.subject=new G.a,this.keepAfterNavigationChange=!1,t.events.subscribe(function(t){t instanceof ee&&(e.keepAfterNavigationChange?e.keepAfterNavigationChange=!1:e.subject.next())})}return t.prototype.success=function(t,e){void 0===e&&(e=!1),this.keepAfterNavigationChange=e,this.subject.next({type:"success",text:t})},t.prototype.warn=function(t,e){void 0===e&&(e=!1),this.keepAfterNavigationChange=e,this.subject.next({type:"warn",text:t})},t.prototype.error=function(t,e){void 0===e&&(e=!1),this.keepAfterNavigationChange=e,this.subject.next({type:"error",text:t})},t.prototype.getMessage=function(){return this.subject.asObservable()},t.\u0275fac=function(e){return new(e||t)(h.Wb(Mr))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),ii=function(t,e,n,r){return{" text-center m-5 sholop-alert alert":t,"alert-success":e,"alert-warning":n,"alert-danger":r}};function oi(t,e){if(1&t&&(h.Sb(0,"div",2),h.vc(1),h.Rb()),2&t){var n=h.bc().$implicit;h.hc("ngClass",h.kc(2,ii,n.message,"success"===n.message.type,"warn"===n.message.type,"error"===n.message.type)),h.Cb(1),h.xc(" ",n.message.text," ")}}function ai(t,e){if(1&t&&(h.Sb(0,"div"),h.tc(1,oi,2,7,"div",1),h.Rb()),2&t){var n=e.$implicit;h.Cb(1),h.hc("ngIf",n.message)}}var si=function(){function t(t){this.alertService=t,this.alerts=[]}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.alertService.getMessage().subscribe(function(e){t.alerts.push({message:e})})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(h.Nb(ri))},t.\u0275cmp=h.Hb({type:t,selectors:[["alert"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(t,e){1&t&&h.tc(0,ai,2,1,"div",0),2&t&&h.hc("ngForOf",e.alerts)},directives:[l.j,l.k,l.i],styles:[".alert[_ngcontent-%COMP%]{position:fixed;z-index:2000;min-width:200px}.sholop-alert[_ngcontent-%COMP%]{-webkit-animation:hideshow 5s ease;animation:hideshow 5s ease;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes hideshow{0%{opacity:0;transform:translateY(-100%)}5%{opacity:1;transform:translate(0)}95%{opacity:1;transform:translate(0)}to{opacity:0;transform:translateY(-100%)}}@keyframes hideshow{0%{opacity:0;transform:translateY(-100%)}5%{opacity:1;transform:translate(0)}95%{opacity:1;transform:translate(0)}to{opacity:0;transform:translateY(-100%)}}"]}),t}(),ui=function(){function t(){this.cleanUpKeys=new Set,this.realTimeKeys=new Set,this.data={}}return t.prototype.cleanUp=function(){var t=this;this.cleanUpKeys.forEach(function(e){t.deleteData(e)}),this.cleanUpKeys.clear()},t.prototype.getData=function(t){return void 0===t&&(t=void 0),t?this.data[t]:this.data},t.prototype.hasData=function(t){return t in this.data},t.prototype.deleteData=function(t){t in this.data&&delete this.data[t]},t.prototype.putData=function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!1),t)if(n&&this.cleanUpKeys.add(t),r&&this.realTimeKeys.add(t),this.data[t])for(var i in e)e.hasOwnProperty(i)&&(this.data[t][i]=e[i]);else this.data[t]=e},t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){},t.prototype.reset=function(t){void 0===t&&(t="ro"),this.data={},this.cleanUpKeys=new Set,this.realTimeKeys=new Set,this.saveToLocalStorage(t)},t.prototype.saveToLocalStorage=function(t){var e=this;void 0===t&&(t="ro"),this.realTimeKeys.forEach(function(t){e.deleteData(t)}),this.data&&localStorage.setItem("global-data-"+t,JSON.stringify(this.data))},t.prototype.loadFromLocalStorage=function(t){void 0===t&&(t="ro");var e=localStorage.getItem("global-data-"+t);e&&(this.data=JSON.parse(e))},t.prototype.saveToSessionStorage=function(){var t=this;if(this.storageAvailable("sessionStorage")){var e=window.sessionStorage;this.realTimeKeys.forEach(function(e){t.deleteData(e)}),this.data?e["global-data"]=JSON.stringify(this.data):e.removeItem("global-data")}},t.prototype.loadFromSessionStorage=function(){if(this.storageAvailable("sessionStorage")){var t=window.sessionStorage;"global-data"in t&&(this.data=JSON.parse(t["global-data"]))}},t.prototype.storageAvailable=function(t){try{var e=window[t],n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(r){return r instanceof DOMException&&(22===r.code||1014===r.code||"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name)&&0!==Storage.length}},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),ci=function(){function t(t,e){this.alertService=t,this.globalDataService=e,this.checkedIn=!1,this.checkInChanged=new G.a,this.session={id:"",lastCheckIn:void 0}}return t.prototype.getValidOpenSessions=function(t){var e=[];Array.isArray(t)||(t=[]);var n=new Date;return t.forEach(function(t){var r=new Date(t.lastCheckIn);n.getTime()-r.getTime()<=4e4&&e.push(t)}),e},t.prototype.checkIn=function(t){var e,n=this;void 0===t&&(t="");try{e=JSON.parse(localStorage.getItem("open-sessions-"+t))}catch(r){e=[]}if(void 0!==e){if((e=this.getValidOpenSessions(e)).length>2)return this.alertService.error("Too many sessions"),!1}else e=[];return this.session={id:this.makeId(10),lastCheckIn:new Date},e.push(this.session),localStorage.setItem("open-sessions-"+t,JSON.stringify(e)),this.globalDataService.loadFromLocalStorage(t),this.checkedIn=!0,setTimeout(function(){n.checkInChanged.next(n.checkedIn)},10),this.interval=setInterval(function(){n.session.lastCheckIn=new Date,e.find(function(t){return t.id===n.session.id}).lastCheckIn=n.session.lastCheckIn,localStorage.setItem("open-sessions-"+t,JSON.stringify(e))},3e4),!0},t.prototype.checkOut=function(t){var e=this;if(this.checkedIn){var n;try{n=JSON.parse(localStorage.getItem("open-sessions-"+t)),n=this.getValidOpenSessions(n)}catch(i){n=[]}var r=n.find(function(t){return t.id===e.session.id});r&&n.splice(n.indexOf(r),1),localStorage.setItem("open-sessions-"+t,JSON.stringify(n)),clearInterval(this.interval),this.checkedIn=!1,this.checkInChanged.next(this.checkedIn)}},t.prototype.isCheckedIn=function(){return this.checkedIn},t.prototype.makeId=function(t){for(var e="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e},t.\u0275fac=function(e){return new(e||t)(h.Wb(ri),h.Wb(ui))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),li=n("ODXe"),hi=function t(){Object(a.a)(this,t)},fi=function t(){Object(a.a)(this,t)},di=function(){function t(e){var n=this;Object(a.a)(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return Object(s.a)(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,Object(J.a)(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),pi=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"encodeKey",value:function(t){return vi(t)}},{key:"encodeValue",value:function(t){return vi(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function gi(t,e){var n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var r=t.indexOf("="),i=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=Object(li.a)(i,2),a=o[0],s=o[1],u=n.get(a)||[];u.push(s),n.set(a,u)}),n}function vi(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var mi=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(a.a)(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new pi,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=gi(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}return Object(s.a)(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function yi(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function bi(t){return"undefined"!=typeof Blob&&t instanceof Blob}function wi(t){return"undefined"!=typeof FormData&&t instanceof FormData}var _i=function(){function t(e,n,r,i){var o;if(Object(a.a)(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new di),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var u=n.indexOf("?");this.urlWithParams=n+(-1===u?"?":u<n.length-1?"&":"")+s}}else this.params=new mi,this.urlWithParams=n}return Object(s.a)(t,[{key:"serializeBody",value:function(){return null===this.body?null:yi(this.body)||bi(this.body)||wi(this.body)||"string"==typeof this.body?this.body:this.body instanceof mi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||wi(this.body)?null:bi(this.body)?this.body.type||null:yi(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),Ci=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Si=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";Object(a.a)(this,t),this.headers=e.headers||new di,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},Ei=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(this,n),(t=e.call(this,r)).type=Ci.ResponseHeader,t}return Object(s.a)(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Si),Oi=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(this,n),(t=e.call(this,r)).type=Ci.Response,t.body=void 0!==r.body?r.body:null,t}return Object(s.a)(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(Si),Ai=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(Si);function Ii(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var ki=function(){var t=function(){function t(e){Object(a.a)(this,t),this.handler=e}return Object(s.a)(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof _i)n=t;else{var o=void 0;o=i.headers instanceof di?i.headers:new di(i.headers);var a=void 0;i.params&&(a=i.params instanceof mi?i.params:new mi({fromObject:i.params})),n=new _i(t,e,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(tt.a)(n).pipe(Lt(function(t){return r.handler.handle(t)}));if(t instanceof _i||"events"===i.observe)return s;var u=s.pipe(kt(function(t){return t instanceof Oi}));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(bt.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(bt.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(bt.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(bt.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new mi).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Ii(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Ii(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Ii(n,e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(hi))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Ri=function(){function t(e,n){Object(a.a)(this,t),this.next=e,this.interceptor=n}return Object(s.a)(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Ti=new h.r("HTTP_INTERCEPTORS"),Mi=function(){var t=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Ni=/^\)\]\}',?\n/,Pi=function t(){Object(a.a)(this,t)},Di=function(){var t=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),xi=function(){var t=function(){function t(e){Object(a.a)(this,t),this.xhrFactory=e}return Object(s.a)(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ht.a(function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach(function(t,e){return r.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new di(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new Ei({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Ni,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Oi({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new Ai({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u(),i=new Ai({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e.url||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:Ci.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:Ci.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),r.addEventListener("timeout",l),r.addEventListener("abort",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:Ci.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("abort",l),r.removeEventListener("load",c),r.removeEventListener("timeout",l),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.readyState!==r.DONE&&r.abort()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(Pi))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Li=new h.r("XSRF_COOKIE_NAME"),Bi=new h.r("XSRF_HEADER_NAME"),Fi=function t(){Object(a.a)(this,t)},ji=function(){var t=function(){function t(e,n,r){Object(a.a)(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return Object(s.a)(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(l.u)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(l.c),h.Wb(h.C),h.Wb(Li))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Ui=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this.tokenService=e,this.headerName=n}return Object(s.a)(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(Fi),h.Wb(Bi))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Vi=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this.backend=e,this.injector=n,this.chain=null}return Object(s.a)(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Ti,[]);this.chain=e.reduceRight(function(t,e){return new Ri(t,e)},this.backend)}return this.chain.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(fi),h.Wb(h.s))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Hi=function(){var t=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Ui,useClass:Mi}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Li,useValue:e.cookieName}:[],e.headerName?{provide:Bi,useValue:e.headerName}:[]]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({providers:[Ui,{provide:Ti,useExisting:Ui,multi:!0},{provide:Fi,useClass:ji},{provide:Li,useValue:"XSRF-TOKEN"},{provide:Bi,useValue:"X-XSRF-TOKEN"}]}),t}(),Wi=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({providers:[ki,{provide:hi,useClass:Vi},xi,{provide:fi,useExisting:xi},Di,{provide:Pi,useExisting:Di}],imports:[[Hi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}(),zi=X.serverUrl,Gi=function(){function t(t,e,n,r){this.localStorageService=t,this.http=e,this.alertService=n,this.commonService=r,this.redirectUrl="/",this.loggedIn=new G.a,this.loggedOut=new G.a,this.user=null,this.loadFromSessionStorage()}return t.prototype.login=function(t){t.imageUrl&&(t.imageUrl=this.commonService.getBase()+t.imageUrl),this.user=t,this.saveToSessionStorage(t)},t.prototype.logout=function(){this.isLoggedIn()&&this.localStorageService.checkOut(this.userId),this.user=null,this.loggedOut.next(),this.saveToSessionStorage(this.user)},Object.defineProperty(t.prototype,"jsonWebToken",{get:function(){return null!==this.user?this.user.token:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userId",{get:function(){return null!==this.user?this.user.id:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"username",{get:function(){return null!==this.user?this.user.username:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return null!==this.user?this.user.name:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageUrl",{get:function(){if(null!==this.user)return this.user.imageUrl?this.user.imageUrl:"assets/images/user-placeholder.png"},enumerable:!1,configurable:!0}),t.prototype.saveToSessionStorage=function(t){if(this.storageAvailable("sessionStorage")){var e=window.sessionStorage;this.jsonWebToken?e.setItem("user",JSON.stringify(t)):e.removeItem("user")}},t.prototype.loadFromSessionStorage=function(){if(this.storageAvailable("sessionStorage")){var t=window.sessionStorage;"user"in t&&(this.user=JSON.parse(t.user))}},t.prototype.isLoggedIn=function(){return null!==this.user},t.prototype.storageAvailable=function(t){var e=window[t],n="__storage_test__";try{return e.setItem(n,n),e.removeItem(n),!0}catch(r){return r instanceof DOMException&&(22===r.code||1014===r.code||"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name)&&0!==e.length}},t.prototype.loginWithServer=function(t,e){var n=this,r=zi+"/authenticate",i=new di({"Content-Type":"application/json"});return this.http.post(r,JSON.stringify({username:t,password:e}),{headers:i}).pipe(Object(bt.a)(function(t){return JSON.parse(t.entity)})).pipe(Object(bt.a)(function(t){return t&&"OK"===t.msg&&t.object.token?t.object:(t&&"INVALID_CREDENTIALS"===t.msg&&n.alertService.error("\u0627\u06cc\u0645\u06cc\u0644 \u06cc\u0627 \u06a9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631 \u0627\u0634\u062a\u0628\u0627\u0647 \u0627\u0633\u062a."),null)},function(t){console.log(t)}))},t.prototype.register=function(t){var e=this,n=zi+"/register",r=new di({"Content-Type":"application/json"});return this.http.post(n,JSON.stringify(t),{headers:r}).pipe(Object(bt.a)(function(t){return JSON.parse(t.entity)})).pipe(Object(bt.a)(function(t){return t&&"OK"===t.msg&&t.object.token?(e.alertService.success("\u062b\u0628\u062a \u0646\u0627\u0645 \u0634\u0645\u0627 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u0646\u062c\u0627\u0645 \u0634\u062f.",!0),t.object):(e.alertService.error(t&&"DUPLICATE"===t.msg?"\u0627\u06cc\u0646 \u0627\u06cc\u0645\u06cc\u0644 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0631\u062f\u0647 \u0627\u0633\u062a.":"\u0645\u0634\u06a9\u0644\u06cc \u0628\u0647 \u0648\u062c\u0648\u062f \u0622\u0645\u062f. \u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f.",!0),null)},function(t){console.log(t)}))},t.prototype.loginWithGoogle=function(t){var e=this;return this.http.post(zi+"/authenticate-with-google",t).pipe(Object(bt.a)(function(t){return t&&"OK"===t.msg&&t.object.token&&e.login(t.object),t.object}))},t.prototype.getCurrentUser=function(){return this.user},t.prototype.getRoleString=function(){if(this.getCurrentUser())switch(this.getCurrentUser().role){case"owner":return"\u0645\u062f\u06cc\u0631";case"reception":return"\u067e\u0630\u06cc\u0631\u0634";case"user":return"\u06a9\u0627\u0631\u0628\u0631";default:return""}},t.\u0275fac=function(e){return new(e||t)(h.Wb(ci),h.Wb(ki),h.Wb(ri),h.Wb(q))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Xi=["/","/meetings","/home","/login","/register"],Zi=function(){function t(t){var e=this;this.router=t,this.currentPath="",this.router.events.forEach(function(t){t instanceof ne&&(e.currentPath=e.router.url)})}return t.prototype.navigate=function(t,e){void 0===e&&(e=void 0),this.router.navigate(e?[t,e]:[t])},t.prototype.goToHome=function(){this.router.navigate(["/"])},t.prototype.isHome=function(){return-1!==Xi.indexOf(this.currentPath)},Object.defineProperty(t.prototype,"currentLocation",{get:function(){return this.currentPath},enumerable:!1,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(h.Wb(Mr))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function qi(t,e){if(1&t&&(h.Sb(0,"div",1),h.Sb(1,"div",2),h.Sb(2,"div",3),h.Sb(3,"div",4),h.Ob(4,"img",5),h.Rb(),h.Rb(),h.Sb(5,"div",2),h.Sb(6,"div",6),h.Sb(7,"strong"),h.vc(8),h.Rb(),h.Rb(),h.Sb(9,"div",2),h.Sb(10,"span"),h.vc(11),h.Rb(),h.Rb(),h.Sb(12,"div",2),h.Sb(13,"span"),h.vc(14),h.Rb(),h.Rb(),h.Sb(15,"div",2),h.Sb(16,"span"),h.vc(17),h.Rb(),h.Sb(18,"span"),h.vc(19),h.Rb(),h.Rb(),h.Sb(20,"div",2),h.Sb(21,"span"),h.vc(22),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(4),h.hc("src",n.authService.getCurrentUser().imageUrl?n.authService.getCurrentUser().imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(4),h.wc(n.authService.getCurrentUser().name),h.Cb(3),h.wc(n.authService.getCurrentUser().username),h.Cb(3),h.wc(n.authService.getCurrentUser().phone),h.Cb(3),h.wc(n.authService.getCurrentUser().farsiAddress1),h.Cb(2),h.wc(n.authService.getCurrentUser().farsiAddress2),h.Cb(3),h.wc(n.authService.getCurrentUser().description)}}var Yi=function(){function t(t){this.authService=t}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(h.Nb(Gi))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-profile-navbar"]],decls:1,vars:1,consts:[["class"," p-2",4,"ngIf"],[1,"p-2"],[1,""],[1,"text-center","justify-content-center"],[1,"w-50","m-auto","text-center"],[1,"rounded-circle","w-100",3,"src"],[1,"bold"]],template:function(t,e){1&t&&h.tc(0,qi,23,7,"div",0),2&t&&h.hc("ngIf",e.authService.getCurrentUser())},directives:[l.k],styles:[""]}),t}();function Ki(t,e){if(1&t&&(h.Sb(0,"li",8),h.Sb(1,"a",20),h.Sb(2,"div",21),h.Ob(3,"img",22),h.Rb(),h.Rb(),h.Sb(4,"div",23),h.Sb(5,"a",24),h.Sb(6,"div",25),h.Ob(7,"app-profile-navbar"),h.Rb(),h.Rb(),h.Sb(8,"a",26),h.Ob(9,"i",27),h.vc(10,"\u062e\u0631\u0648\u062c"),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(3),h.hc("src",n.authService.imageUrl,h.qc)}}var Qi,Ji=function(){function t(t,e,n){this.authService=t,this.commonService=e,this.navigationService=n,this.toggle=new h.n}return t.prototype.ngOnInit=function(){},t.prototype.themeChanged=function(t){this.commonService.themeChanged.next(0===t?"light":"dark")},t.\u0275fac=function(e){return new(e||t)(h.Nb(Gi),h.Nb(q),h.Nb(Zi))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-navbar"]],inputs:{theme:"theme"},outputs:{toggle:"toggle"},decls:28,vars:1,consts:[[1,"navbar","navbar-expand-lg"],["id","navbasrText",1,"ml-1"],[1,"navbar-nav","me-auto"],["class","nav-item dropdown",4,"ngIf"],["id","",1,"search-container"],["type","search","placeholder","\u0628\u06af\u0631\u062f\u06cc\u062f...","aria-label","Search",1,"form-control","mr-sm-2","w-100"],["id","navbarText",1,"mr-auto","ml-1"],[1,"navbar-nav","mr-auto"],[1,"nav-item","dropdown"],["href","#","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle","mr-3"],["src","assets/images/Sholop-Logo-White.png","alt","","width","50"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","left"],["routerLink","/about-us",1,"dropdown-item"],[1,"fa","fa-info"],["routerLink","/conditions",1,"dropdown-item"],[1,"fa","fa-gavel"],["routerLink","/faq",1,"dropdown-item"],[1,"fa","fa-question"],["routerLink","/contact-us",1,"dropdown-item"],[1,"fa","fa-envelope"],["href","#","role","button","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"user-item"],["alt","User picture",1,"user-img",3,"src"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLink","/profile",1,"dropdown-item"],[1,"user-info","flexbox-item-grow"],["routerLink","/login",1,"dropdown-item"],[1,"pr-2","fa","fa-sign-out"]],template:function(t,e){1&t&&(h.Sb(0,"nav",0),h.Sb(1,"div",1),h.Sb(2,"ul",2),h.tc(3,Ki,11,1,"li",3),h.Rb(),h.Rb(),h.Sb(4,"div",4),h.Ob(5,"input",5),h.Rb(),h.Sb(6,"div",6),h.Sb(7,"ul",7),h.Sb(8,"li",8),h.Sb(9,"a",9),h.Ob(10,"img",10),h.Rb(),h.Sb(11,"div",11),h.Sb(12,"a",12),h.Ob(13,"i",13),h.Sb(14,"span"),h.vc(15,"\u062f\u0631\u0628\u0627\u0631\u0647 \u0645\u0627"),h.Rb(),h.Rb(),h.Sb(16,"a",14),h.Ob(17,"i",15),h.Sb(18,"span"),h.vc(19,"\u0642\u0648\u0627\u0646\u06cc\u0646 \u0633\u0627\u06cc\u062a"),h.Rb(),h.Rb(),h.Sb(20,"a",16),h.Ob(21,"i",17),h.Sb(22,"span"),h.vc(23,"\u0633\u0624\u0627\u0644\u0627\u062a \u0645\u062a\u062f\u0627\u0648\u0644"),h.Rb(),h.Rb(),h.Sb(24,"a",18),h.Ob(25,"i",19),h.Sb(26,"span"),h.vc(27,"\u062a\u0645\u0627\u0633 \u0628\u0627 \u0645\u0627"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(3),h.hc("ngIf",e.authService.isLoggedIn()))},directives:[l.k,Dr,Yi],styles:['.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fc0}.navbar[_ngcontent-%COMP%]{background-color:#674200;padding:0;border-bottom:#444}.dropdown-menu[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{width:25px;text-align:center;font-size:20px;margin-left:15px}.navbar[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#3a3f48}.navbar[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active, .navbar[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3a3f48}.navbar-collapse.collapse.show[_ngcontent-%COMP%], .navbar-collapse.collapsing[_ngcontent-%COMP%]{top:100%;padding:10px;background-color:#674200}.dropdown-menu[_ngcontent-%COMP%], .navbar-collapse.collapse.show[_ngcontent-%COMP%], .navbar-collapse.collapsing[_ngcontent-%COMP%]{position:absolute;right:0;z-index:1050;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:.4em;box-shadow:0 3px 8px rgba(0,0,0,.25)}.dropdown-menu[_ngcontent-%COMP%]{font-size:15px;text-align:right;color:#0070ba;background:#f5f7fa;transition:opacity .1s linear}.dropdown-menu.left[_ngcontent-%COMP%]{text-align:right;right:auto}.dropdown-item[_ngcontent-%COMP%]{padding:10px 20px}.dropdown-toggle[_ngcontent-%COMP%]:after{margin-right:7px;vertical-align:0;margin-left:0;content:"";font-size:15px}.navbar-nav[_ngcontent-%COMP%]{padding:0;display:flex;margin-bottom:0;list-style:none;line-height:2.4}.nav-text[_ngcontent-%COMP%]{display:block;font-size:12px}.nav-icon[_ngcontent-%COMP%]{font-size:25px;line-height:1}.nav-item[_ngcontent-%COMP%]{margin-left:15px}.toggle-item[_ngcontent-%COMP%]   .nav-text[_ngcontent-%COMP%]{font-size:20px}@media screen and (min-width:768px){.toggle-item[_ngcontent-%COMP%]{display:none}}.user-item[_ngcontent-%COMP%]{display:inline-block}.user-img[_ngcontent-%COMP%]{width:35px;border-radius:50%;height:35px;margin-left:5px}.user-nav-item[_ngcontent-%COMP%]{background:#6c5353}button[_ngcontent-%COMP%]{margin-left:5px}#navbarSupportedContent[_ngcontent-%COMP%]{flex-grow:0}.navbar-toggler[_ngcontent-%COMP%]{color:#fff}']}),t}(),$i=function(){function t(){this.qrCodeScanned=new G.a}return t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),to=function(){function t(e,n){Object(a.a)(this,t),this.open=e,this.close=n||e}return Object(s.a)(t,[{key:"isManual",value:function(){return"manual"===this.open||"manual"===this.close}}]),t}(),eo={hover:["mouseover","mouseout"],focus:["focusin","focusout"]},no="undefined"!=typeof window&&window||{},ro=no.document;function io(){return void 0===no||(void 0===no.__theme?Qi?"bs3"===Qi:"bs3"===(Qi=function(){if("undefined"==typeof document)return null;var t=document.createElement("span");t.innerText="test bs version",document.body.appendChild(t),t.classList.add("d-none");var e=t.getBoundingClientRect();return document.body.removeChild(t),e&&0===e.top?"bs4":"bs3"}()):"bs4"!==no.__theme)}var oo=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,null,[{key:"reflow",value:function(t){}},{key:"getStyles",value:function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=no),e.getComputedStyle(t)}}]),t}();"undefined"==typeof console||console;var ao=n("VRyK"),so=n("n6bG");function uo(t,e,n,r){return Object(so.a)(n)&&(r=n,n=void 0),r?uo(t,e,n).pipe(Object(bt.a)(function(t){return Object(it.a)(t)?r.apply(void 0,Object(J.a)(t)):r(t)})):new ht.a(function(r){co(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function co(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)co(t[c],e,n,r,i)}r.add(o)}var lo=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return Object(s.a)(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?Object(i.a)(Object(o.a)(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return Object(i.a)(Object(o.a)(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),ho=new(function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(lo);function fo(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function po(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function go(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=fo(t),n=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(String(e.overflow)+String(r)+String(n))?t:go(po(t))}var vo="undefined"!=typeof window&&"undefined"!=typeof document,mo=vo&&!(!window.MSInputMethodContext||!document.documentMode),yo=vo&&!(!window.MSInputMethodContext||!/MSIE 10/.test(navigator.userAgent));function bo(t){return 11===t?mo:10===t?yo:mo||yo}function wo(t){if(!t)return document.documentElement;for(var e,n=bo(10)?document.body:null,r=t.offsetParent||null;r===n&&t.nextElementSibling&&e!==t.nextElementSibling;)r=(e=t.nextElementSibling).offsetParent;var i=r&&r.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(r.nodeName)&&"static"===fo(r,"position")?wo(r):r:e?e.ownerDocument.documentElement:document.documentElement}function _o(t){return null!==t.parentNode?_o(t.parentNode):t}function Co(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,i=n?e:t,o=document.createRange();o.setStart(r,0),o.setEnd(i,0);var a,s,u=o.commonAncestorContainer;if(t!==u&&e!==u||r.contains(i))return"BODY"===(s=(a=u).nodeName)||"HTML"!==s&&wo(a.firstElementChild)!==a?wo(u):u;var c=_o(t);return c.host?Co(c.host,e):Co(t,_o(e).host)}function So(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(t["border".concat(n,"Width")])+parseFloat(t["border".concat(r,"Width")])}function Eo(t,e,n,r){return Math.max(e["offset".concat(t)],e["scroll".concat(t)],n["client".concat(t)],n["offset".concat(t)],n["scroll".concat(t)],bo(10)?parseInt(n["offset".concat(t)],10)+parseInt(r["margin".concat("Height"===t?"Top":"Left")],10)+parseInt(r["margin".concat("Height"===t?"Bottom":"Right")],10):0)}function Oo(t){var e=t.body,n=t.documentElement,r=bo(10)&&getComputedStyle(n);return{height:Eo("Height",e,n,r),width:Eo("Width",e,n,r)}}function Ao(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var i=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||i;return o[n]}return t[n]}function Io(t){return Object.assign({},t,{right:t.left+t.width,bottom:t.top+t.height})}function ko(t){var e={};try{if(bo(10)){e=t.getBoundingClientRect();var n=Ao(t,"top"),r=Ao(t,"left");e.top+=n,e.left+=r,e.bottom+=n,e.right+=r}else e=t.getBoundingClientRect()}catch(c){return}var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?Oo(t.ownerDocument):{},a=t.offsetWidth-(o.width||t.clientWidth||i.right-i.left),s=t.offsetHeight-(o.height||t.clientHeight||i.bottom-i.top);if(a||s){var u=fo(t);a-=So(u,"x"),s-=So(u,"y"),i.width-=a,i.height-=s}return Io(i)}function Ro(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Ao(e,"top"),i=Ao(e,"left"),o=n?-1:1;return t.top+=r*o,t.bottom+=r*o,t.left+=i*o,t.right+=i*o,t}function To(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=bo(10),i="HTML"===e.nodeName,o=ko(t),a=ko(e),s=go(t),u=fo(e),c=parseFloat(u.borderTopWidth),l=parseFloat(u.borderLeftWidth);n&&i&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var h=Io({top:o.top-a.top-c,left:o.left-a.left-l,width:o.width,height:o.height});if(h.marginTop=0,h.marginLeft=0,!r&&i){var f=parseFloat(u.marginTop),d=parseFloat(u.marginLeft);h.top-=c-f,h.bottom-=c-f,h.left-=l-d,h.right-=l-d,h.marginTop=f,h.marginLeft=d}return(r&&!n?e.contains(s):e===s&&"BODY"!==s.nodeName)&&(h=Ro(h,e)),h}function Mo(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,r=To(t,n),i=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),a=e?0:Ao(n),s=e?0:Ao(n,"left"),u={top:a-Number(r.top)+Number(r.marginTop),left:s-Number(r.left)+Number(r.marginLeft),width:i,height:o};return Io(u)}function No(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===fo(t,"position")||No(po(t)))}function Po(t){if(!t||!t.parentElement||bo())return document.documentElement;for(var e=t.parentElement;e&&"none"===fo(e,"transform");)e=e.parentElement;return e||document.documentElement}function Do(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},a=i?Po(t):Co(t,e);if("viewport"===r)o=Mo(a,i);else{var s;"scrollParent"===r?"BODY"===(s=go(po(e))).nodeName&&(s=t.ownerDocument.documentElement):s="window"===r?t.ownerDocument.documentElement:r;var u=To(s,a,i);if("HTML"!==s.nodeName||No(a))o=u;else{var c=Oo(t.ownerDocument),l=c.height,h=c.width;o.top+=u.top-u.marginTop,o.bottom=Number(l)+Number(u.top),o.left+=u.left-u.marginLeft,o.right=Number(h)+Number(u.left)}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function xo(t){return t.width*t.height}function Lo(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:["top","bottom","right","left"],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"viewport",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(-1===t.indexOf("auto"))return t;var s=Do(n,r,a,o),u={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},c=Object.keys(u).map(function(t){return Object.assign({key:t},u[t],{area:xo(u[t])})}).sort(function(t,e){return e.area-t.area}),l=c.filter(function(t){return t.width>=n.clientWidth&&t.height>=n.clientHeight}),h=(l=l.filter(function(t){return i.some(function(e){return e===t.key})})).length>0?l[0].key:c[0].key,f=t.split(" ")[1];return n.className=n.className.replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(h)),h+(f?"-".concat(f):"")}function Bo(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),r=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+n}}function Fo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=n?Po(t):Co(t,e);return To(e,r,n)}function jo(t,e,n){var r=n.split(" ")[0],i=Bo(t),o={width:i.width,height:i.height},a=-1!==["right","left"].indexOf(r),s=a?"top":"left",u=a?"left":"top",c=a?"height":"width",l=a?"width":"height";return o[s]=e[s]+e[c]/2-i[c]/2,o[u]=r===u?e[u]-i[l]:e[function(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}(u)],o}function Uo(t,e){return t&&t.modifiers&&t.modifiers[e]&&t.modifiers[e].enabled}function Vo(t,e,n){Object.keys(e).forEach(function(r){var i,o="";-1!==["width","height","top","right","bottom","left"].indexOf(r)&&""!==(i=e[r])&&!isNaN(parseFloat(i))&&isFinite(i)&&(o="px"),n?n.setStyle(t,r,"".concat(String(e[r])).concat(o)):t.style[r]=String(e[r])+o})}function Ho(t){var e,n=t.offsets.target,r=t.instance.target.querySelector(".arrow");if(!r)return t;var i=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),o=i?"height":"width",a=i?"Top":"Left",s=a.toLowerCase(),u=i?"left":"top",c=i?"bottom":"right",l=Bo(r)[o],h=t.placement.split(" ")[1];t.offsets.host[c]-l<n[s]&&(n[s]-=n[s]-(t.offsets.host[c]-l)),Number(t.offsets.host[s])+Number(l)>n[c]&&(n[s]+=Number(t.offsets.host[s])+Number(l)-Number(n[c])),n=Io(n);var f,d=fo(t.instance.target),p=parseFloat(d["margin".concat(a)]),g=parseFloat(d["border".concat(a,"Width")]);if(h){var v=parseFloat(d.borderRadius),m=Number(p+g+v);f=s===h?Number(t.offsets.host[s])+m:Number(t.offsets.host[s])+Number(t.offsets.host[o]-m)}else f=Number(t.offsets.host[s])+Number(t.offsets.host[o]/2-l/2);var y=f-n[s]-p-g;return y=Math.max(Math.min(n[o]-l,y),0),t.offsets.arrow=(e={},Object(Y.a)(e,s,Math.round(y)),Object(Y.a)(e,u,""),e),t.instance.arrow=r,t}function Wo(t){if(t.offsets.target=Io(t.offsets.target),!Uo(t.options,"flip"))return t.offsets.target=Object.assign({},t.offsets.target,jo(t.instance.target,t.offsets.host,t.placement)),t;var e=Do(t.instance.target,t.instance.host,0,"viewport",!1),n=t.placement.split(" ")[0],r=t.placement.split(" ")[1]||"",i=Lo("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),o=[n,i];return o.forEach(function(i,a){if(n!==i||o.length===a+1)return t;var s="left"===(n=t.placement.split(" ")[0])&&Math.floor(t.offsets.target.right)>Math.floor(t.offsets.host.left)||"right"===n&&Math.floor(t.offsets.target.left)<Math.floor(t.offsets.host.right)||"top"===n&&Math.floor(t.offsets.target.bottom)>Math.floor(t.offsets.host.top)||"bottom"===n&&Math.floor(t.offsets.target.top)<Math.floor(t.offsets.host.bottom),u=Math.floor(t.offsets.target.left)<Math.floor(e.left),c=Math.floor(t.offsets.target.right)>Math.floor(e.right),l=Math.floor(t.offsets.target.top)<Math.floor(e.top),h=Math.floor(t.offsets.target.bottom)>Math.floor(e.bottom),f="left"===n&&u||"right"===n&&c||"top"===n&&l||"bottom"===n&&h,d=-1!==["top","bottom"].indexOf(n),p=d&&"left"===r&&u||d&&"right"===r&&c||!d&&"left"===r&&l||!d&&"right"===r&&h;(s||f||p)&&((s||f)&&(n=o[a+1]),p&&(r=function(t){return"right"===t?"left":"left"===t?"right":t}(r)),t.placement=n+(r?" ".concat(r):""),t.offsets.target=Object.assign({},t.offsets.target,jo(t.instance.target,t.offsets.host,t.placement)))}),t}function zo(t){if(!Uo(t.options,"preventOverflow"))return t;var e=t.instance.target.style,n=e.top,r=e.left,i=e.transform;e.top="",e.left="",e.transform="";var o=Do(t.instance.target,t.instance.host,0,"scrollParent",!1);e.top=n,e.left=r,e.transform=i;var a,s={primary:function(e){var n=t.offsets.target[e];return t.offsets.target[e]<o[e]&&(n=Math.max(t.offsets.target[e],o[e])),Object(Y.a)({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=t.offsets.target[n];return t.offsets.target[e]>o[e]&&(r=Math.min(t.offsets.target[n],o[e]-("right"===e?t.offsets.target.width:t.offsets.target.height))),Object(Y.a)({},n,r)}};return["left","right","top","bottom"].forEach(function(e){a=-1!==["left","top"].indexOf(e)?"primary":"secondary",t.offsets.target=Object.assign({},t.offsets.target,s[a](e))}),t}function Go(t){var e=t.placement,n=e.split(" ")[0],r=e.split(" ")[1];if(r){var i=t.offsets,o=i.host,a=i.target,s=-1!==["bottom","top"].indexOf(n),u=s?"left":"top",c=s?"width":"height",l={start:Object(Y.a)({},u,o[u]),end:Object(Y.a)({},u,o[u]+o[c]-a[c])};t.offsets.target=Object.assign({},a,Object(Y.a)({},u,u===r?l.start[u]:l.end[u]))}return t}var Xo=new(function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"position",value:function(t,e){return this.offset(t,e,!1)}},{key:"offset",value:function(t,e){return Fo(e,t)}},{key:"positionElements",value:function(t,e,n,r,i){return[Wo,Go,zo,Ho].reduce(function(t,e){return e(t)},function(t,e,n,r){var i=Fo(t,e);n.match(/^(auto)*\s*(left|right|top|bottom)*$/)||n.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\s*(start|end)*$/)||(n="auto");var o=!!n.match(/auto/g),a=n.match(/auto\s(left|right|top|bottom)/)?n.split(" ")[1]||"auto":n,s=a.match(/^(left|right|top|bottom)* ?(?!\1)(left|right|top|bottom)?/);return s&&(a=s[1]+(s[2]?" ".concat(s[2]):"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(a)&&(a="auto"),{options:r,instance:{target:t,host:e,arrow:null},offsets:{target:jo(t,i,a),host:i,arrow:null},positionFixed:!1,placement:a=Lo(a,i,t,e,r?r.allowedPositions:void 0),placementAuto:o}}(e,t,n,i))}}]),t}()),Zo=function(){var t=function(){function t(e,n,r){var i=this;Object(a.a)(this,t),this.update$$=new G.a,this.positionElements=new Map,this.isDisabled=!1,Object(l.p)(r)&&e.runOutsideAngular(function(){i.triggerEvent$=Object(ao.a)(uo(window,"scroll",{passive:!0}),uo(window,"resize",{passive:!0}),Object(tt.a)(0,ho),i.update$$),i.triggerEvent$.subscribe(function(){i.isDisabled||i.positionElements.forEach(function(t){var e,r,o,a,s,u,c,l;e=qo(t.target),r=qo(t.element),o=t.attachment,a=t.appendToBody,s=i.options,u=n.createRenderer(null,null),l=function(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left),top:Math.round(t.offsets.target.top),bottom:Math.round(t.offsets.target.bottom),right:Math.floor(t.offsets.target.right)}}(c=Xo.positionElements(e,r,o,a,s)),Vo(r,{"will-change":"transform",top:"0px",left:"0px",transform:"translate3d(".concat(l.left,"px, ").concat(l.top,"px, 0px)")},u),c.instance.arrow&&Vo(c.instance.arrow,c.offsets.arrow,u),function(t,e){var n=t.instance.target,r=n.className;t.placementAuto&&(-1!==(r=(r=(r=r.replace(/bs-popover-auto/g,"bs-popover-".concat(t.placement))).replace(/bs-tooltip-auto/g,"bs-tooltip-".concat(t.placement))).replace(/\sauto/g," ".concat(t.placement))).indexOf("popover")&&-1===r.indexOf("popover-auto")&&(r+=" popover-auto"),-1!==r.indexOf("tooltip")&&-1===r.indexOf("tooltip-auto")&&(r+=" tooltip-auto")),r=r.replace(/left|right|top|bottom/g,"".concat(t.placement.split(" ")[0])),e?e.setAttribute(n,"class",r):n.className=r}(c,u)})})})}return Object(s.a)(t,[{key:"position",value:function(t){this.addPositionElement(t)}},{key:"event$",get:function(){return this.triggerEvent$}},{key:"disable",value:function(){this.isDisabled=!0}},{key:"enable",value:function(){this.isDisabled=!1}},{key:"addPositionElement",value:function(t){this.positionElements.set(qo(t.element),t)}},{key:"calcPosition",value:function(){this.update$$.next()}},{key:"deletePositionElement",value:function(t){this.positionElements.delete(qo(t))}},{key:"setOptions",value:function(t){this.options=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(h.A),h.Wb(h.G),h.Wb(h.C))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}();function qo(t){return"string"==typeof t?document.querySelector(t):t instanceof h.l?t.nativeElement:t}var Yo=function t(e,n,r){Object(a.a)(this,t),this.nodes=e,this.viewRef=n,this.componentRef=r},Ko=function(){function t(e,n,r,i,o,s,u,c){Object(a.a)(this,t),this._viewContainerRef=e,this._renderer=n,this._elementRef=r,this._injector=i,this._componentFactoryResolver=o,this._ngZone=s,this._applicationRef=u,this._posService=c,this.onBeforeShow=new h.n,this.onShown=new h.n,this.onBeforeHide=new h.n,this.onHidden=new h.n,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}return Object(s.a)(t,[{key:"isShown",get:function(){return!this._isHiding&&!!this._componentRef}},{key:"attach",value:function(t){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(t),this}},{key:"to",value:function(t){return this.container=t||this.container,this}},{key:"position",value:function(t){return this.attachment=t.attachment||this.attachment,this._elementRef=t.target||this._elementRef,this}},{key:"provide",value:function(t){return this._providers.push(t),this}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._subscribePositioning(),this._innerComponent=null,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(t.content,t.context,t.initialState);var e=h.s.create({providers:this._providers,parent:this._injector});if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,t),this.container instanceof h.l&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&"undefined"!=typeof document){var n=document.querySelector(this.container)||document.querySelector(this.containerDefaultSelector);n.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}},{key:"hide",value:function(){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);var t=this._componentRef.location.nativeElement;return t.parentNode.removeChild(t),this._contentRef.componentRef&&this._contentRef.componentRef.destroy(),this._componentRef.destroy(),this._viewContainerRef&&this._contentRef.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._contentRef=null,this._componentRef=null,this._removeGlobalListener(),this.onHidden.emit(),this}},{key:"toggle",value:function(){this.isShown?this.hide():this.show()}},{key:"dispose",value:function(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}},{key:"listen",value:function(t){var e=this;this.triggers=t.triggers||this.triggers,this._listenOpts.outsideClick=t.outsideClick,this._listenOpts.outsideEsc=t.outsideEsc,t.target=t.target||this._elementRef.nativeElement;var n=this._listenOpts.hide=function(){return t.hide?t.hide():void e.hide()},r=this._listenOpts.show=function(n){t.show?t.show(n):e.show(n),n()};return this._unregisterListenersFn=function(t,e){var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eo,n=(t||"").trim();if(0===n.length)return[];var r=n.split(/\s+/).map(function(t){return t.split(":")}).map(function(t){var n=e[t[0]]||t;return new to(n[0],n[1])}),i=r.filter(function(t){return t.isManual()});if(i.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===i.length&&r.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return r}(e.triggers),r=e.target;if(1===n.length&&n[0].isManual())return Function.prototype;var i=[],o=[],a=function(){o.forEach(function(t){return i.push(t())}),o.length=0};return n.forEach(function(n){var s=n.open===n.close,u=s?e.toggle:e.show;s||o.push(function(){return t.listen(r,n.close,e.hide)}),i.push(t.listen(r,n.open,function(){return u(a)}))}),function(){i.forEach(function(t){return t()})}}(this._renderer,{target:t.target,triggers:t.triggers,show:r,hide:n,toggle:function(t){e.isShown?n():r(t)}}),this}},{key:"_removeGlobalListener",value:function(){this._globalListener&&(this._globalListener(),this._globalListener=null)}},{key:"attachInline",value:function(t,e){return this._inlineViewRef=t.createEmbeddedView(e),this}},{key:"_registerOutsideClick",value:function(){var t=this;if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){var e=this._componentRef.location.nativeElement;setTimeout(function(){var n;t._globalListener=(n={targets:[e,t._elementRef.nativeElement],outsideClick:t._listenOpts.outsideClick,hide:function(){return t._listenOpts.hide()}}).outsideClick?t._renderer.listen("document","click",function(t){n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(function(e){return e.contains(t.target)})||n.hide()}):Function.prototype})}var n;this._listenOpts.outsideEsc&&(this._globalListener=(n={targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:function(){return t._listenOpts.hide()}}).outsideEsc?this._renderer.listen("document","keyup.esc",function(t){n.target&&n.target.contains(t.target)||n.targets&&n.targets.some(function(e){return e.contains(t.target)})||n.hide()}):Function.prototype)}}},{key:"getInnerComponent",value:function(){return this._innerComponent}},{key:"_subscribePositioning",value:function(){var t=this;!this._zoneSubscription&&this.attachment&&(this.onShown.subscribe(function(){t._posService.position({element:t._componentRef.location,target:t._elementRef,attachment:t.attachment,appendToBody:"body"===t.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(function(){t._componentRef&&t._posService.calcPosition()}))}},{key:"_unsubscribePositioning",value:function(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=null)}},{key:"_getContentRef",value:function(t,e,n){if(!t)return new Yo([]);if(t instanceof h.N){if(this._viewContainerRef){var r=this._viewContainerRef.createEmbeddedView(t,e);return r.markForCheck(),new Yo([r.rootNodes],r)}var i=t.createEmbeddedView({});return this._applicationRef.attachView(i),new Yo([i.rootNodes],i)}if("function"==typeof t){var o=this._componentFactoryResolver.resolveComponentFactory(t),a=h.s.create({providers:this._providers,parent:this._injector}),s=o.create(a);return Object.assign(s.instance,n),this._applicationRef.attachView(s.hostView),new Yo([[s.location.nativeElement]],s.hostView,s)}return new Yo([[this._renderer.createText("".concat(t))]])}}]),t}(),Qo=function(){var t=function(){function t(e,n,r,i,o){Object(a.a)(this,t),this._componentFactoryResolver=e,this._ngZone=n,this._injector=r,this._posService=i,this._applicationRef=o}return Object(s.a)(t,[{key:"createLoader",value:function(t,e,n){return new Ko(e,n,t,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(h.j),h.Wb(h.A),h.Wb(h.s),h.Wb(Zo),h.Wb(h.g))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Jo=["*"],$o=function(){var t=function t(){Object(a.a)(this,t),this.hide=Function,this.setClass=Function};return t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),ta=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)}}),t}(),ea={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{}},na="modal-scrollbar-measure",ra="modal-open",ia="fade",oa="in",aa="show",sa="backdrop-click",ua=function(){var t=function(){function t(e,n,r){Object(a.a)(this,t),this._element=n,this._renderer=r,this.isShown=!1,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}return Object(s.a)(t,[{key:"ngOnInit",value:function(){var t=this;this.isAnimated&&this._renderer.addClass(this._element.nativeElement,ia),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(function(){t.isShown=!0,t._renderer.addClass(t._element.nativeElement,io()?oa:aa)},this.isAnimated?150:0),document&&document.body&&(1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(document.body,ra)),this._element.nativeElement&&this._element.nativeElement.focus()}},{key:"onClickStarted",value:function(t){this.clickStartedInContent=t.target!==this._element.nativeElement}},{key:"onClickStop",value:function(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService.setDismissReason(sa),this.hide())}},{key:"onEsc",value:function(t){this.isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&this.level===this.bsModalService.getModalsCount()&&(this.bsModalService.setDismissReason("esc"),this.hide()))}},{key:"ngOnDestroy",value:function(){this.isShown&&this.hide()}},{key:"hide",value:function(){var t=this;!this.isModalHiding&&this.isShown&&(this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,io()?oa:aa),setTimeout(function(){t.isShown=!1,document&&document.body&&1===t.bsModalService.getModalsCount()&&t._renderer.removeClass(document.body,ra),t.bsModalService.hide(t.level),t.isModalHiding=!1},this.isAnimated?300:0))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(ta),h.Nb(h.l),h.Nb(h.F))},t.\u0275cmp=h.Hb({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(t,e){1&t&&h.Zb("mousedown",function(t){return e.onClickStarted(t)})("mouseup",function(t){return e.onClickStop(t)})("keydown.esc",function(t){return e.onEsc(t)},!1,h.oc),2&t&&h.Db("aria-modal",!0)("aria-labelledby",e.config.ariaLabelledBy)("aria-describedby",e.config.ariaDescribedby)},ngContentSelectors:Jo,decls:3,vars:2,consts:[["role","document"],[1,"modal-content"]],template:function(t,e){1&t&&(h.gc(),h.Sb(0,"div",0),h.Sb(1,"div",1),h.fc(2),h.Rb(),h.Rb()),2&t&&h.Eb("modal-dialog"+(e.config.class?" "+e.config.class:""))},encapsulation:2}),t}(),ca=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this._isShown=!1,this.element=e,this.renderer=n}return Object(s.a)(t,[{key:"isAnimated",get:function(){return this._isAnimated},set:function(t){this._isAnimated=t}},{key:"isShown",get:function(){return this._isShown},set:function(t){this._isShown=t,t?this.renderer.addClass(this.element.nativeElement,"".concat(oa)):this.renderer.removeClass(this.element.nativeElement,"".concat(oa)),io()||(t?this.renderer.addClass(this.element.nativeElement,"".concat(aa)):this.renderer.removeClass(this.element.nativeElement,"".concat(aa)))}},{key:"ngOnInit",value:function(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"".concat(ia)),oo.reflow(this.element.nativeElement)),this.isShown=!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.l),h.Nb(h.F))},t.\u0275cmp=h.Hb({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(t,e){},encapsulation:2}),t}(),la=function(){var t=function(){function t(e,n,r,i){Object(a.a)(this,t),this._element=e,this._renderer=r,this.onShow=new h.n,this.onShown=new h.n,this.onHide=new h.n,this.onHidden=new h.n,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._backdrop=i.createLoader(e,n,r)}return Object(s.a)(t,[{key:"config",get:function(){return this._config},set:function(t){this._config=this.getConfig(t)}},{key:"isShown",get:function(){return this._isShown}},{key:"onClickStarted",value:function(t){this.clickStartedInContent=t.target!==this._element.nativeElement}},{key:"onClickStop",value:function(t){this.config.ignoreBackdropClick||"static"===this.config.backdrop||t.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason=sa,this.hide(t))}},{key:"onEsc",value:function(t){this._isShown&&(27!==t.keyCode&&"Escape"!==t.key||t.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}},{key:"ngOnDestroy",value:function(){this.config=void 0,this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}},{key:"ngOnInit",value:function(){var t=this;this._config=this._config||this.getConfig(),setTimeout(function(){t._config.show&&t.show()},0)}},{key:"toggle",value:function(){return this._isShown?this.hide():this.show()}},{key:"show",value:function(){var t=this;this.dismissReason=null,this.onShow.emit(this),this._isShown||(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),ro&&ro.body&&(ro.body.classList.contains(ra)?this.isNested=!0:this._renderer.addClass(ro.body,ra)),this.showBackdrop(function(){t.showElement()}))}},{key:"hide",value:function(t){var e=this;t&&t.preventDefault(),this.onHide.emit(this),this._isShown&&(no.clearTimeout(this.timerHideModal),no.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,oa),io()||this._renderer.removeClass(this._element.nativeElement,aa),this._config.animated?this.timerHideModal=no.setTimeout(function(){return e.hideModal()},300):this.hideModal())}},{key:"getConfig",value:function(t){return Object.assign({},ea,t)}},{key:"showElement",value:function(){var t=this;this._element.nativeElement.parentNode&&this._element.nativeElement.parentNode.nodeType===Node.ELEMENT_NODE||ro&&ro.body&&ro.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&oo.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,oa),io()||this._renderer.addClass(this._element.nativeElement,aa);var e=function(){t._config.focus&&t._element.nativeElement.focus(),t.onShown.emit(t)};this._config.animated?setTimeout(e,300):e()}},{key:"hideModal",value:function(){var t=this;this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(function(){t.isNested||(ro&&ro.body&&t._renderer.removeClass(ro.body,ra),t.resetScrollbar()),t.resetAdjustments(),t.focusOtherModal(),t.onHidden.emit(t)})}},{key:"showBackdrop",value:function(t){var e=this;if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;var n=function(){e.removeBackdrop(),t&&t()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=no.setTimeout(n,150):n()}else t&&t();else{if(this.removeBackdrop(),this._backdrop.attach(ca).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!t)return;if(!this._config.animated)return void t();setTimeout(t,150)}}},{key:"removeBackdrop",value:function(){this._backdrop.hide()}},{key:"focusOtherModal",value:function(){if(null!=this._element.nativeElement.parentElement){var t=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");t.length&&t[t.length-1].focus()}}},{key:"resetAdjustments",value:function(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}},{key:"checkScrollbar",value:function(){this.isBodyOverflowing=ro.body.clientWidth<no.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}},{key:"setScrollbar",value:function(){ro&&(this.originalBodyPadding=parseInt(no.getComputedStyle(ro.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(ro.body.style.paddingRight="".concat(this.originalBodyPadding+this.scrollbarWidth,"px")))}},{key:"resetScrollbar",value:function(){ro.body.style.paddingRight="".concat(this.originalBodyPadding,"px")}},{key:"getScrollbarWidth",value:function(){var t=this._renderer.createElement("div");this._renderer.addClass(t,na),this._renderer.appendChild(ro.body,t);var e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(ro.body,t),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.l),h.Nb(h.S),h.Nb(h.F),h.Nb(Qo))},t.\u0275dir=h.Ib({type:t,selectors:[["","bsModal",""]],hostBindings:function(t,e){1&t&&h.Zb("mousedown",function(t){return e.onClickStarted(t)})("mouseup",function(t){return e.onClickStop(t)})("keydown.esc",function(t){return e.onEsc(t)})},inputs:{config:"config"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]}),t}(),ha=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this.clf=n,this.config=ea,this.onShow=new h.n,this.onShown=new h.n,this.onHide=new h.n,this.onHidden=new h.n,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.lastDismissReason="",this.loaders=[],this._backdropLoader=this.clf.createLoader(null,null,null),this._renderer=e.createRenderer(null,null)}return Object(s.a)(t,[{key:"show",value:function(t,e){return this.modalsCount++,this._createLoaders(),this.config=Object.assign({},ea,e),this._showBackdrop(),this.lastDismissReason=null,this._showModal(t)}},{key:"hide",value:function(t){var e=this;1===this.modalsCount&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1?this.modalsCount-1:0,setTimeout(function(){e._hideModal(t),e.removeLoaders(t)},this.config.animated?150:0)}},{key:"_showBackdrop",value:function(){var t=this.config.backdrop||"static"===this.config.backdrop,e=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),t&&e&&(this._backdropLoader.attach(ca).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}},{key:"_hideBackdrop",value:function(){var t=this;this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(function(){return t.removeBackdrop()},this.config.animated?150:0))}},{key:"_showModal",value:function(t){var e=this,n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers){var r,i=Object(Q.a)(this.config.providers);try{for(i.s();!(r=i.n()).done;)n.provide(r.value)}catch(s){i.e(s)}finally{i.f()}}var o=new $o,a=n.provide({provide:ta,useValue:this.config}).provide({provide:$o,useValue:o}).attach(ua).to("body").show({content:t,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this});return a.instance.level=this.getModalsCount(),o.hide=function(){setTimeout(function(){return a.instance.hide()},e.config.animated?300:0)},o.content=n.getInnerComponent()||null,o.setClass=function(t){a.instance.config.class=t},o}},{key:"_hideModal",value:function(t){var e=this.loaders[t-1];e&&e.hide()}},{key:"getModalsCount",value:function(){return this.modalsCount}},{key:"setDismissReason",value:function(t){this.lastDismissReason=t}},{key:"removeBackdrop",value:function(){this._backdropLoader.hide(),this.backdropRef=null}},{key:"checkScrollbar",value:function(){this.isBodyOverflowing=document.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}},{key:"setScrollbar",value:function(){document&&(this.originalBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(document.body.style.paddingRight="".concat(this.originalBodyPadding+this.scrollbarWidth,"px")))}},{key:"resetScrollbar",value:function(){document.body.style.paddingRight="".concat(this.originalBodyPadding,"px")}},{key:"getScrollbarWidth",value:function(){var t=this._renderer.createElement("div");this._renderer.addClass(t,na),this._renderer.appendChild(document.body,t);var e=t.offsetWidth-t.clientWidth;return this._renderer.removeChild(document.body,t),e}},{key:"_createLoaders",value:function(){var t=this.clf.createLoader(null,null,null);this.copyEvent(t.onBeforeShow,this.onShow),this.copyEvent(t.onShown,this.onShown),this.copyEvent(t.onBeforeHide,this.onHide),this.copyEvent(t.onHidden,this.onHidden),this.loaders.push(t)}},{key:"removeLoaders",value:function(t){this.loaders.splice(t-1,1),this.loaders.forEach(function(t,e){t.instance.level=e+1})}},{key:"copyEvent",value:function(t,e){var n=this;t.subscribe(function(){e.emit(n.lastDismissReason)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(h.G),h.Wb(Qo))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),fa=function(){var t=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,null,[{key:"forRoot",value:function(){return{ngModule:t,providers:[ha,Qo,Zo]}}},{key:"forChild",value:function(){return{ngModule:t,providers:[ha,Qo,Zo]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({}),t}(),da=["searchModal"],pa=["closeButton"],ga=["scrollPane"],va=["inputField"],ma=[[["",8,"app-modal-body"]],[["",8,"app-modal-footer"]]],ya=function(){return{backdrop:"static",keyboard:!1}},ba=[".app-modal-body",".app-modal-footer"],wa=function(){function t(){this.modalTitle="",this.size=" lg ",this.expand=!1,this.maximizable=!1,this.zIndex=10,this.width=10,this.onShown=new h.n,this.onHidden=new h.n,this.removeElements=function(t){return t.forEach(function(t){return t.remove()})}}return t.prototype.ngOnInit=function(){},t.prototype.show=function(){return this.rootModal.show()},t.prototype.hide=function(){return this.rootModal.hide()},t.prototype.keyboardInput=function(t){this.rootModal.isShown&&("Escape"!==t.key&&"Esc"!==t.key||(this.rootModal.hide(),t.preventDefault(),t.stopPropagation()))},t.prototype.onHide=function(t){this.onHidden.emit(t)},t.prototype.onShow=function(t){this.onShown.emit(t)},t.prototype.ngOnDestroy=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["modal"]],viewQuery:function(t,e){if(1&t&&(h.Ac(da,1),h.Ac(pa,1),h.Ac(ga,1),h.Ac(va,1)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.rootModal=n.first),h.lc(n=h.ac())&&(e.closeButton=n.first),h.lc(n=h.ac())&&(e.scrollPane=n.first),h.lc(n=h.ac())&&(e.inputField=n.first)}},hostBindings:function(t,e){1&t&&h.Zb("keydown",function(t){return e.keyboardInput(t)},!1,h.nc)},inputs:{modalTitle:"modalTitle",size:"size",expand:"expand",maximizable:"maximizable",zIndex:"zIndex",width:"width"},outputs:{onShown:"onShown",onHidden:"onHidden"},ngContentSelectors:ba,decls:13,vars:7,consts:[["bsModal","","role","dialog","aria-hidden","true",3,"config","onShown","onHidden"],["searchModal","bs-modal"],[1,"modal-content","flexbox-parent"],[1,"modal-header"],[1,"fa","fa-remove","action-icon",3,"click"],[1,"modal-title","pull-left"],[1,"modal-body","scroll-auto"],["scrollPane",""],[1,"modal-footer"]],template:function(t,e){if(1&t){var n=h.Tb();h.gc(ma),h.Sb(0,"div",0,1),h.Zb("onShown",function(t){return e.onShow(t)})("onHidden",function(t){return e.onHide(t)}),h.Sb(2,"div"),h.Sb(3,"div",2),h.Sb(4,"div",3),h.Sb(5,"i",4),h.Zb("click",function(){return h.pc(n),h.mc(1).hide()}),h.Rb(),h.Sb(6,"h4",5),h.vc(7),h.Rb(),h.Rb(),h.Sb(8,"div",6,7),h.fc(10),h.Rb(),h.Sb(11,"div",8),h.fc(12,1),h.Rb(),h.Rb(),h.Rb(),h.Rb()}2&t&&(h.Eb("modal fade "),h.hc("config",h.ic(6,ya)),h.Cb(2),h.Eb("modal-dialog modal-"+e.size+" "+(e.expand?"h-80":"")),h.Cb(5),h.wc(e.modalTitle))},directives:[la],styles:['.modal-dialog[_ngcontent-%COMP%]{min-width:300px}@media screen and (min-width:768px){.modal[_ngcontent-%COMP%]:before{display:inline-block;vertical-align:middle;content:" ";height:100%}}.modal-dialog[_ngcontent-%COMP%]{width:100%;text-align:right;display:inline-block;vertical-align:middle}.modal-header[_ngcontent-%COMP%]{padding:5px 10px}.modal-title[_ngcontent-%COMP%]{line-height:2}']}),t}(),_a=n("o0o1"),Ca=n.n(_a),Sa=n("XoHu");function Ea(t,e){return new ht.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object($.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var Oa=function t(){Object(a.a)(this,t)},Aa=new h.r("NgValueAccessor"),Ia={provide:Aa,useExisting:Object(h.W)(function(){return ka}),multi:!0},ka=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this))._renderer=t,i._elementRef=r,i.onChange=function(t){},i.onTouched=function(){},i}return Object(s.a)(n,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),n}(Oa);return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.F),h.Nb(h.l))},t.\u0275dir=h.Ib({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&h.Zb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[h.Bb([Ia]),h.zb]}),t}(),Ra={provide:Aa,useExisting:Object(h.W)(function(){return Ma}),multi:!0},Ta=new h.r("CompositionEventMode"),Ma=function(){var t=function(){function t(e,n,r){var i;Object(a.a)(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=Object(l.t)()?Object(l.t)().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return Object(s.a)(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.F),h.Nb(h.l),h.Nb(Ta,8))},t.\u0275dir=h.Ib({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&h.Zb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[h.Bb([Ra])]}),t}();function Na(t){return null==t||0===t.length}function Pa(t){return null!=t&&"number"==typeof t.length}var Da=new h.r("NgValidators"),xa=new h.r("NgAsyncValidators"),La=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ba=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,null,[{key:"min",value:function(t){return e=t,function(t){if(Na(t.value)||Na(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null};var e}},{key:"max",value:function(t){return e=t,function(t){if(Na(t.value)||Na(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null};var e}},{key:"required",value:function(t){return Fa(t)}},{key:"requiredTrue",value:function(t){return function(t){return!0===t.value?null:{required:!0}}(t)}},{key:"email",value:function(t){return ja(t)}},{key:"minLength",value:function(t){return e=t,function(t){return Na(t.value)||!Pa(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null};var e}},{key:"maxLength",value:function(t){return e=t,function(t){return Pa(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null};var e}},{key:"pattern",value:function(t){return Ua(t)}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){return Za(t)}},{key:"composeAsync",value:function(t){return Ya(t)}}]),t}();function Fa(t){return Na(t.value)?{required:!0}:null}function ja(t){return Na(t.value)||La.test(t.value)?null:{email:!0}}function Ua(t){return t?("string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),function(t){if(Na(t.value))return null;var r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}):Va;var e,n}function Va(t){return null}function Ha(t){return null!=t}function Wa(t){var e=Object(h.tb)(t)?Object($.a)(t):t;return Object(h.sb)(e),e}function za(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ga(t,e){return e.map(function(e){return e(t)})}function Xa(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Za(t){if(!t)return null;var e=t.filter(Ha);return 0==e.length?null:function(t){return za(Ga(t,e))}}function qa(t){return null!=t?Za(Xa(t)):null}function Ya(t){if(!t)return null;var e=t.filter(Ha);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(it.a)(r))return Ea(r,null);if(Object(Sa.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Ea(i.map(function(t){return r[t]}),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Ea(e=1===e.length&&Object(it.a)(e[0])?e[0]:e,null).pipe(Object(bt.a)(function(t){return o.apply(void 0,Object(J.a)(t))}))}return Ea(e,null)}(Ga(t,e).map(Wa)).pipe(Object(bt.a)(za))}}function Ka(t){return null!=t?Ya(Xa(t)):null}function Qa(t,e){return null===t?[e]:Array.isArray(t)?[].concat(Object(J.a)(t),[e]):[t,e]}function Ja(t){return t._rawValidators}function $a(t){return t._rawAsyncValidators}var ts=function(){var t=function(){function t(){Object(a.a)(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return Object(s.a)(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=qa(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ka(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=h.Ib({type:t}),t}(),es=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(ts);return t.\u0275fac=function(e){return ns(e||t)},t.\u0275dir=h.Ib({type:t,features:[h.zb]}),t}(),ns=h.Ub(es),rs=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t;return Object(a.a)(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(ts),is=function(){function t(e){Object(a.a)(this,t),this._cd=e}return Object(s.a)(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),os=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){return Object(a.a)(this,n),e.call(this,t)}return n}(is);return t.\u0275fac=function(e){return new(e||t)(h.Nb(rs,2))},t.\u0275dir=h.Ib({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&h.Fb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[h.zb]}),t}(),as=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t){return Object(a.a)(this,n),e.call(this,t)}return n}(is);return t.\u0275fac=function(e){return new(e||t)(h.Nb(es,10))},t.\u0275dir=h.Ib({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&h.Fb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[h.zb]}),t}();function ss(t,e){return[].concat(Object(J.a)(e.path),[t])}function us(t,e){hs(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ds(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ds(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function cs(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),fs(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function ls(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hs(t,e,n){var r=Ja(t);null!==e.validator?t.setValidators(Qa(r,e.validator)):"function"==typeof r&&t.setValidators([r]);var i=$a(t);if(null!==e.asyncValidator?t.setAsyncValidators(Qa(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){var o=function(){return t.updateValueAndValidity()};ls(e._rawValidators,o),ls(e._rawAsyncValidators,o)}}function fs(t,e,n){var r=!1;if(null!==t){if(null!==e.validator){var i=Ja(t);if(Array.isArray(i)&&i.length>0){var o=i.filter(function(t){return t!==e.validator});o.length!==i.length&&(r=!0,t.setValidators(o))}}if(null!==e.asyncValidator){var a=$a(t);if(Array.isArray(a)&&a.length>0){var s=a.filter(function(t){return t!==e.asyncValidator});s.length!==a.length&&(r=!0,t.setAsyncValidators(s))}}}if(n){var u=function(){};ls(e._rawValidators,u),ls(e._rawAsyncValidators,u)}return r}function ds(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ps(t,e){hs(t,e,!1)}function gs(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function vs(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function ms(t,e){if(!e)return null;Array.isArray(e);var n=void 0,r=void 0,i=void 0;return e.forEach(function(t){t.constructor===Ma?n=t:Object.getPrototypeOf(t.constructor)===Oa?r=t:i=t}),i||r||n||null}function ys(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var bs="VALID",ws="INVALID",_s="PENDING",Cs="DISABLED";function Ss(t){return(Is(t)?t.validators:t)||null}function Es(t){return Array.isArray(t)?qa(t):t||null}function Os(t,e){return(Is(e)?e.asyncValidators:t)||null}function As(t){return Array.isArray(t)?Ka(t):t||null}function Is(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var ks=function(){function t(e,n){Object(a.a)(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Es(this._rawValidators),this._composedAsyncValidatorFn=As(this._rawAsyncValidators)}return Object(s.a)(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===bs}},{key:"invalid",get:function(){return this.status===ws}},{key:"pending",get:function(){return this.status==_s}},{key:"disabled",get:function(){return this.status===Cs}},{key:"enabled",get:function(){return this.status!==Cs}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Es(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=As(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=_s,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status=Cs,this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status=bs,this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==bs&&this.status!==_s||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Cs:bs}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status=_s,this._hasOwnPendingAsyncValidator=!0;var n=Wa(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof Ts?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ms&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new h.n,this.statusChanges=new h.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Cs:this.errors?ws:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_s)?_s:this._anyControlsHaveStatus(ws)?ws:bs}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Is(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Rs=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return Object(a.a)(this,n),(t=e.call(this,Ss(i),Os(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return Object(s.a)(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){ys(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){ys(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(ks),Ts=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i){var o;return Object(a.a)(this,n),(o=e.call(this,Ss(r),Os(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return Object(s.a)(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Rs?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++)if(this.controls[e[t]].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(ks),Ms=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i){var o;return Object(a.a)(this,n),(o=e.call(this,Ss(r),Os(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return Object(s.a)(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof Rs?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=Object(Q.a)(this.controls);try{for(e.s();!(t=e.n()).done;)if(t.value.enabled)return!1}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(ks),Ns={provide:es,useExisting:Object(h.W)(function(){return Ds})},Ps=function(){return Promise.resolve(null)}(),Ds=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new h.n,i.form=new Ts({},qa(t),Ka(r)),i}return Object(s.a)(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;Ps.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),us(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Ps.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),ys(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;Ps.then(function(){var n=e._findContainer(t.path),r=new Ts({});ps(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;Ps.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Ps.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,vs(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(es);return t.\u0275fac=function(e){return new(e||t)(h.Nb(Da,10),h.Nb(xa,10))},t.\u0275dir=h.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&h.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Bb([Ns]),h.zb]}),t}(),xs={provide:rs,useExisting:Object(h.W)(function(){return Bs})},Ls=function(){return Promise.resolve(null)}(),Bs=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o){var s;return Object(a.a)(this,n),(s=e.call(this)).control=new Rs,s._registered=!1,s.update=new h.n,s._parent=t,s._setValidators(r),s._setAsyncValidators(i),s.valueAccessor=ms(Object(K.a)(s),o),s}return Object(s.a)(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),gs(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?ss(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){us(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;Ls.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Ls.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})}}]),n}(rs);return t.\u0275fac=function(e){return new(e||t)(h.Nb(es,9),h.Nb(Da,10),h.Nb(xa,10),h.Nb(Aa,10))},t.\u0275dir=h.Ib({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h.Bb([xs]),h.zb,h.Ab]}),t}(),Fs=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=h.Ib({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t}(),js={provide:Aa,useExisting:Object(h.W)(function(){return Us}),multi:!0},Us=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this))._renderer=t,i._elementRef=r,i.onChange=function(t){},i.onTouched=function(){},i}return Object(s.a)(n,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),n}(Oa);return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.F),h.Nb(h.l))},t.\u0275dir=h.Ib({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&h.Zb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[h.Bb([js]),h.zb]}),t}(),Vs={provide:Aa,useExisting:Object(h.W)(function(){return zs}),multi:!0},Hs=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({}),t}(),Ws=function(){var t=function(){function t(){Object(a.a)(this,t),this._accessors=[]}return Object(s.a)(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(h.Jb)({factory:function(){return new t},token:t,providedIn:Hs}),t}(),zs=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o){var s;return Object(a.a)(this,n),(s=e.call(this))._renderer=t,s._elementRef=r,s._registry=i,s._injector=o,s.onChange=function(){},s.onTouched=function(){},s}return Object(s.a)(n,[{key:"ngOnInit",value:function(){this._control=this._injector.get(rs),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),n}(Oa);return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.F),h.Nb(h.l),h.Nb(Ws),h.Nb(h.s))},t.\u0275dir=h.Ib({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&h.Zb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[h.Bb([Vs]),h.zb]}),t}(),Gs=new h.r("NgModelWithFormControlWarning"),Xs={provide:es,useExisting:Object(h.W)(function(){return Zs})},Zs=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this)).validators=t,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new h.n,i._setValidators(t),i._setAsyncValidators(r),i}return Object(s.a)(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(fs(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return us(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){cs(t.control||null,t),ys(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,vs(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,r=t.form.get(e.path);n!==r&&(cs(n||null,e),r instanceof Rs&&(us(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);ps(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return fs(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){hs(this.form,this,!1),this._oldForm&&fs(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(es);return t.\u0275fac=function(e){return new(e||t)(h.Nb(Da,10),h.Nb(xa,10))},t.\u0275dir=h.Ib({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&h.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h.Bb([Xs]),h.zb,h.Ab]}),t}(),qs={provide:rs,useExisting:Object(h.W)(function(){return Ys})},Ys=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r,i,o,s){var u;return Object(a.a)(this,n),(u=e.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new h.n,u._ngModelWarningSent=!1,u._parent=t,u._setValidators(r),u._setAsyncValidators(i),u.valueAccessor=ms(Object(K.a)(u),o),u}return Object(s.a)(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),gs(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return ss(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(rs);return t.\u0275fac=function(e){return new(e||t)(h.Nb(es,13),h.Nb(Da,10),h.Nb(xa,10),h.Nb(Aa,10),h.Nb(Gs,8))},t.\u0275dir=h.Ib({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h.Bb([qs]),h.zb,h.Ab]}),t._ngModelWarningSentOnce=!1,t}(),Ks={provide:Aa,useExisting:Object(h.W)(function(){return Js}),multi:!0};function Qs(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var Js=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this))._renderer=t,i._elementRef=r,i._optionMap=new Map,i._idCounter=0,i.onChange=function(t){},i.onTouched=function(){},i._compareWith=Object.is,i}return Object(s.a)(n,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Qs(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),n}(Oa);return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.F),h.Nb(h.l))},t.\u0275dir=h.Ib({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&h.Zb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[h.Bb([Ks]),h.zb]}),t}(),$s=function(){var t=function(){function t(e,n,r){Object(a.a)(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return Object(s.a)(t,[{key:"ngValue",set:function(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Qs(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}},{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.l),h.Nb(h.F),h.Nb(Js,9))},t.\u0275dir=h.Ib({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t}(),tu={provide:Aa,useExisting:Object(h.W)(function(){return nu}),multi:!0};function eu(t,e){return null==t?"".concat(e):("string"==typeof e&&(e="'".concat(e,"'")),e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}var nu=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this))._renderer=t,i._elementRef=r,i._optionMap=new Map,i._idCounter=0,i.onChange=function(t){},i.onTouched=function(){},i._compareWith=Object.is,i}return Object(s.a)(n,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),n}(Oa);return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.F),h.Nb(h.l))},t.\u0275dir=h.Ib({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&h.Zb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[h.Bb([tu]),h.zb]}),t}(),ru=function(){var t=function(){function t(e,n,r){Object(a.a)(this,t),this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return Object(s.a)(t,[{key:"ngValue",set:function(t){null!=this._select&&(this._value=t,this._setElementValue(eu(this.id,t)),this._select.writeValue(this._select.value))}},{key:"value",set:function(t){this._select?(this._value=t,this._setElementValue(eu(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}},{key:"_setElementValue",value:function(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}},{key:"_setSelected",value:function(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.l),h.Nb(h.F),h.Nb(nu,9))},t.\u0275dir=h.Ib({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t}(),iu={provide:Da,useExisting:Object(h.W)(function(){return ou}),multi:!0},ou=function(){var t=function(){function t(){Object(a.a)(this,t),this._required=!1}return Object(s.a)(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!=="".concat(t),this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this.required?Fa(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=h.Ib({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&h.Db("required",e.required?"":null)},inputs:{required:"required"},features:[h.Bb([iu])]}),t}(),au={provide:Da,useExisting:Object(h.W)(function(){return su}),multi:!0},su=function(){var t=function(){function t(){Object(a.a)(this,t),this._enabled=!1}return Object(s.a)(t,[{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this._enabled?ja(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=h.Ib({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[h.Bb([au])]}),t}(),uu={provide:Da,useExisting:Object(h.W)(function(){return cu}),multi:!0},cu=function(){var t=function(){function t(){Object(a.a)(this,t),this._validator=Va}return Object(s.a)(t,[{key:"ngOnChanges",value:function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=Ua(this.pattern)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=h.Ib({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&h.Db("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[h.Bb([uu]),h.Ab]}),t}(),lu=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({imports:[[Hs]]}),t}(),hu=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({imports:[lu]}),t}(),fu=function(){var t=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Gs,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({imports:[lu]}),t}();function du(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}var pu=function(){var t=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(du(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new Ts(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new Rs(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new Ms(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n}},{key:"_createControl",value:function(t){return t instanceof Rs||t instanceof Ts||t instanceof Ms?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(h.Jb)({factory:function(){return new t},token:t,providedIn:fu}),t}();function gu(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}var vu=n("R7y3"),mu=n("KBVK"),yu=["preview"],bu=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"getScannerControls",value:function(){if(!this.scannerControls)throw new Error("No scanning is running at the time.");return this.scannerControls}},{key:"scanFromDeviceObservable",value:function(t,e){var n;return gu(this,void 0,void 0,Ca.a.mark(function r(){var i,o,a=this;return Ca.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i=new nt({}),r.prev=1,r.next=4,this.decodeFromVideoDevice(t,e,function(t,e){if(e){var n=e.name;n===mu.NotFoundException.name||n===mu.ChecksumException.name||n===mu.FormatException.name||e.message.includes("No MultiFormat Readers were able to detect the code.")?i.next({error:e}):(i.error(e),a.scannerControls.stop(),a.scannerControls=void 0)}else i.next({result:t})});case 4:o=r.sent,this.scannerControls=Object.assign(Object.assign({},o),{stop:function(){o.stop(),i.complete()}}),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(1),i.error(r.t0),null===(n=this.scannerControls)||void 0===n||n.stop(),this.scannerControls=void 0;case 13:return r.abrupt("return",i.asObservable());case 14:case"end":return r.stop()}},r,this,[[1,8]])}))}}]),n}(vu.BrowserMultiFormatReader),wu=function(){var t=function(){function t(){Object(a.a)(this,t),this.timeBetweenScans=500,this.delayBetweenScanSuccess=500,this.previewFitMode="cover",this._ready=!1,this.autostarted=new h.n,this.autostarting=new h.n,this.torchCompatible=new h.n(!1),this.scanSuccess=new h.n,this.scanFailure=new h.n,this.scanError=new h.n,this.scanComplete=new h.n,this.camerasFound=new h.n,this.camerasNotFound=new h.n,this.permissionResponse=new h.n(!0),this.hasDevices=new h.n,this.deviceChange=new h.n,this._enabled=!0,this._hints=new Map,this.autofocusEnabled=!0,this.autostart=!0,this.formats=[mu.BarcodeFormat.QR_CODE],this.hasNavigator="undefined"!=typeof navigator,this.isMediaDevicesSupported=this.hasNavigator&&!!navigator.mediaDevices}return Object(s.a)(t,[{key:"codeReader",get:function(){return this._codeReader}},{key:"device",get:function(){return this._device},set:function(t){this._ready?this.isAutostarting?console.warn("Avoid setting a device during auto-start."):this.isCurrentDevice(t)?console.warn("Setting the same device is not allowed."):this.hasPermission?this.setDevice(t):console.warn("Permissions not set yet, waiting for them to be set to apply device change."):this._devicePreStart=t}},{key:"formats",get:function(){return this.hints.get(mu.DecodeHintType.POSSIBLE_FORMATS)},set:function(t){var e=this;if("string"==typeof t)throw new Error("Invalid formats, make sure the [formats] input is a binding.");var n=t.map(function(t){return e.getBarcodeFormatOrFail(t)}),r=this.hints;r.set(mu.DecodeHintType.POSSIBLE_FORMATS,n),this.hints=r}},{key:"hints",get:function(){return this._hints},set:function(t){var e;this._hints=t,null===(e=this.codeReader)||void 0===e||e.setHints(this._hints)}},{key:"videoConstraints",set:function(t){var e,n=null===(e=this.codeReader)||void 0===e?void 0:e.getScannerControls();n&&(null==n||n.streamVideoConstraintsApply(t))}},{key:"isAutostarting",get:function(){return this._isAutostarting},set:function(t){this._isAutostarting=t,this.autostarting.next(t)}},{key:"torch",set:function(t){try{this.getCodeReader().getScannerControls().switchTorch(t)}catch(e){}}},{key:"enable",set:function(t){this._enabled=Boolean(t),this._enabled?this.device?this.scanFromDevice(this.device.deviceId):this.init():this.reset()}},{key:"enabled",get:function(){return this._enabled}},{key:"tryHarder",get:function(){return this.hints.get(mu.DecodeHintType.TRY_HARDER)},set:function(t){var e=this.hints;t?e.set(mu.DecodeHintType.TRY_HARDER,!0):e.delete(mu.DecodeHintType.TRY_HARDER),this.hints=e}},{key:"askForPermission",value:function(){return gu(this,void 0,void 0,Ca.a.mark(function t(){var e,n;return Ca.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasNavigator){t.next=4;break}return console.error("@zxing/ngx-scanner","Can't ask permission, navigator is not present."),this.setPermission(null),t.abrupt("return",this.hasPermission);case 4:if(this.isMediaDevicesSupported){t.next=8;break}return console.error("@zxing/ngx-scanner","Can't get user media, this is not supported."),this.setPermission(null),t.abrupt("return",this.hasPermission);case 8:return t.prev=8,t.next=11,this.getAnyVideoDevice();case 11:n=!!(e=t.sent),t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(8),t.abrupt("return",this.handlePermissionException(t.t0));case 18:return t.prev=18,this.terminateStream(e),t.finish(18);case 21:return this.setPermission(n),t.abrupt("return",n);case 23:case"end":return t.stop()}},t,this,[[8,15,18,21]])}))}},{key:"getAnyVideoDevice",value:function(){return navigator.mediaDevices.getUserMedia({video:!0})}},{key:"terminateStream",value:function(t){t&&t.getTracks().forEach(function(t){return t.stop()}),t=void 0}},{key:"init",value:function(){return gu(this,void 0,void 0,Ca.a.mark(function t(){return Ca.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.autostart){t.next=5;break}return console.warn("Feature 'autostart' disabled. Permissions and devices recovery has to be run manually."),this.initAutostartOff(),this._ready=!0,t.abrupt("return");case 5:return t.next=7,this.initAutostartOn();case 7:this._ready=!0;case 8:case"end":return t.stop()}},t,this)}))}},{key:"initAutostartOff",value:function(){this.isAutostarting=!1,this.updateVideoInputDevices(),this._device&&this._devicePreStart&&this.setDevice(this._devicePreStart)}},{key:"initAutostartOn",value:function(){return gu(this,void 0,void 0,Ca.a.mark(function t(){var e,n;return Ca.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isAutostarting=!0,t.prev=1,t.next=4,this.askForPermission();case 4:e=t.sent,t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(1),console.error("Exception occurred while asking for permission:",t.t0),t.abrupt("return");case 11:if(!e){t.next=17;break}return t.next=14,this.updateVideoInputDevices();case 14:return n=t.sent,t.next=17,this.autostartScanner(Object(J.a)(n));case 17:this.isAutostarting=!1,this.autostarted.next();case 19:case"end":return t.stop()}},t,this,[[1,7]])}))}},{key:"isCurrentDevice",value:function(t){var e;return(null==t?void 0:t.deviceId)===(null===(e=this._device)||void 0===e?void 0:e.deviceId)}},{key:"ngOnDestroy",value:function(){this.reset()}},{key:"ngOnInit",value:function(){this.init()}},{key:"scanStop",value:function(){var t,e;this._scanSubscription&&(null===(t=this.codeReader)||void 0===t||t.getScannerControls().stop(),null===(e=this._scanSubscription)||void 0===e||e.unsubscribe(),this._scanSubscription=void 0),this.torchCompatible.next(!1)}},{key:"scanStart",value:function(){if(this._scanSubscription)throw new Error("There is already a scan proccess running.");if(!this._device)throw new Error("No device defined, cannot start scan, please define a device.");this.scanFromDevice(this._device.deviceId)}},{key:"restart",value:function(){this._codeReader=void 0;var t=this._reset();t&&(this.device=t)}},{key:"updateVideoInputDevices",value:function(){return gu(this,void 0,void 0,Ca.a.mark(function t(){var e,n;return Ca.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,vu.BrowserCodeReader.listVideoInputDevices();case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0=[];case 5:return this.hasDevices.next(n=(e=t.t0)&&e.length>0),this.camerasFound.next(Object(J.a)(e)),n||this.camerasNotFound.next(),t.abrupt("return",e);case 11:case"end":return t.stop()}},t,this)}))}},{key:"autostartScanner",value:function(t){return gu(this,void 0,void 0,Ca.a.mark(function e(){var n;return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.find(function(t){return/back|tr\xe1s|rear|traseira|environment|ambiente/gi.test(t.label)})||t.pop()){e.next=4;break}throw new Error("Impossible to autostart, no input devices available.");case 4:return e.next=6,this.setDevice(n);case 6:this.deviceChange.next(n);case 7:case"end":return e.stop()}},e,this)}))}},{key:"dispatchScanSuccess",value:function(t){this.scanSuccess.next(t.getText())}},{key:"dispatchScanFailure",value:function(t){this.scanFailure.next(t)}},{key:"dispatchScanError",value:function(t){this.scanError.observers.some(function(t){return Boolean(t)})||(console.error("zxing scanner component: ".concat(t.name),t),console.warn("Use the `(scanError)` property to handle errors like this!")),this.scanError.next(t)}},{key:"dispatchScanComplete",value:function(t){this.scanComplete.next(t)}},{key:"handlePermissionException",value:function(t){var e;switch(console.error("@zxing/ngx-scanner","Error when asking for permission.",t),t.name){case"NotSupportedError":console.warn("@zxing/ngx-scanner",t.message),e=null,this.hasDevices.next(null);break;case"NotAllowedError":console.warn("@zxing/ngx-scanner",t.message),e=!1,this.hasDevices.next(!0);break;case"NotFoundError":console.warn("@zxing/ngx-scanner",t.message),e=null,this.hasDevices.next(!1),this.camerasNotFound.next(t);break;case"NotReadableError":console.warn("@zxing/ngx-scanner","Couldn't read the device(s)'s stream, it's probably in use by another app."),e=null,this.hasDevices.next(!1),this.camerasNotFound.next(t);break;default:console.warn("@zxing/ngx-scanner","I was not able to define if I have permissions for camera or not.",t),e=null}return this.setPermission(e),this.permissionResponse.error(t),e}},{key:"getBarcodeFormatOrFail",value:function(t){return"string"==typeof t?mu.BarcodeFormat[t.trim().toUpperCase()]:t}},{key:"getCodeReader",value:function(){return this._codeReader||(this._codeReader=new bu(this.hints,{delayBetweenScanAttempts:this.timeBetweenScans,delayBetweenScanSuccess:this.delayBetweenScanSuccess})),this._codeReader}},{key:"scanFromDevice",value:function(t){return gu(this,void 0,void 0,Ca.a.mark(function e(){var n,r,i,o,a=this;return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.previewElemRef.nativeElement,r=this.getCodeReader(),e.next=4,r.scanFromDeviceObservable(t,n);case 4:if(i=e.sent){e.next=7;break}throw new Error("Undefined decoding stream, aborting.");case 7:if(this._scanSubscription=i.subscribe(function(t){return a._onDecodeResult(t.result,t.error)},function(t){return a._onDecodeError(t)},function(){}),!this._scanSubscription.closed){e.next=13;break}return e.abrupt("return");case 13:o=r.getScannerControls(),this.torchCompatible.next(void 0!==o.switchTorch);case 16:case"end":return e.stop()}},e,this)}))}},{key:"_onDecodeError",value:function(t){this.dispatchScanError(t)}},{key:"_onDecodeResult",value:function(t,e){t?this.dispatchScanSuccess(t):this.dispatchScanFailure(e),this.dispatchScanComplete(t)}},{key:"_reset",value:function(){if(this._codeReader){var t=this._device;return this.device=void 0,this._codeReader=void 0,t}}},{key:"reset",value:function(){this._reset(),this.deviceChange.emit(null)}},{key:"setDevice",value:function(t){return gu(this,void 0,void 0,Ca.a.mark(function e(){return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.scanStop(),this._device=t||void 0,this._device||vu.BrowserCodeReader.cleanVideoSource(this.previewElemRef.nativeElement),!this._enabled||!t){e.next=6;break}return e.next=6,this.scanFromDevice(t.deviceId);case 6:case"end":return e.stop()}},e,this)}))}},{key:"setPermission",value:function(t){this.hasPermission=t,this.permissionResponse.next(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["zxing-scanner"]],viewQuery:function(t,e){var n;1&t&&h.Ac(yu,3),2&t&&h.lc(n=h.ac())&&(e.previewElemRef=n.first)},inputs:{timeBetweenScans:"timeBetweenScans",delayBetweenScanSuccess:"delayBetweenScanSuccess",previewFitMode:"previewFitMode",autofocusEnabled:"autofocusEnabled",autostart:"autostart",formats:"formats",device:"device",videoConstraints:"videoConstraints",torch:"torch",enable:"enable",tryHarder:"tryHarder"},outputs:{autostarted:"autostarted",autostarting:"autostarting",torchCompatible:"torchCompatible",scanSuccess:"scanSuccess",scanFailure:"scanFailure",scanError:"scanError",scanComplete:"scanComplete",camerasFound:"camerasFound",camerasNotFound:"camerasNotFound",permissionResponse:"permissionResponse",hasDevices:"hasDevices",deviceChange:"deviceChange"},decls:6,vars:2,consts:[["preview",""]],template:function(t,e){1&t&&(h.Sb(0,"video",null,0),h.Sb(2,"p"),h.vc(3," Your browser does not support this feature, please try to upgrade it. "),h.Rb(),h.Sb(4,"p"),h.vc(5," Seu navegador n\xe3o suporta este recurso, por favor tente atualiz\xe1-lo. "),h.Rb(),h.Rb()),2&t&&h.sc("object-fit",e.previewFitMode)},styles:["[_nghost-%COMP%]{display:block}video[_ngcontent-%COMP%]{-o-object-fit:contain;height:auto;object-fit:contain;width:100%}"],changeDetection:0}),t}(),_u=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({imports:[[l.b,hu]]}),t}(),Cu=["scannerModal"];function Su(t,e){if(1&t){var n=h.Tb();h.Sb(0,"zxing-scanner",7,8),h.Zb("scanComplete",function(t){return h.pc(n),h.bc().scanComplete(t)}),h.Rb()}}var Eu=function(){function t(t){this.qrCodeService=t,this.isShown=!1}return t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.modal.show()},t.prototype.hide=function(){this.modal.hide()},t.prototype.scanComplete=function(t){t&&(this.qrCodeService.qrCodeScanned.next(t.text),this.hide())},t.prototype.changed=function(t){this.isShown=t},t.\u0275fac=function(e){return new(e||t)(h.Nb($i))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-qr-code-scanner"]],viewQuery:function(t,e){var n;1&t&&h.Ac(Cu,3),2&t&&h.lc(n=h.ac())&&(e.modal=n.first)},decls:8,vars:5,consts:[[3,"modalTitle","width","zIndex","maximizable","onShown","onHidden"],["scannerModal",""],[1,"app-modal-body"],[3,"scanComplete",4,"ngIf"],[1,"app-modal-footer"],[1,"text-right"],["type","button",1,"btn","secondary",3,"click"],[3,"scanComplete"],["scanner",""]],template:function(t,e){1&t&&(h.Sb(0,"modal",0,1),h.Zb("onShown",function(){return e.changed(!0)})("onHidden",function(){return e.changed(!1)}),h.Qb(2,2),h.tc(3,Su,2,0,"zxing-scanner",3),h.Pb(),h.Qb(4,4),h.Sb(5,"div",5),h.Sb(6,"button",6),h.Zb("click",function(){return e.hide()}),h.vc(7,"\u0628\u0633\u062a\u0646"),h.Rb(),h.Rb(),h.Pb(),h.Rb()),2&t&&(h.hc("modalTitle","\u0627\u0633\u06a9\u0646 \u0628\u0627\u0631\u06a9\u062f")("width",500)("zIndex",10)("maximizable",!1),h.Cb(3),h.hc("ngIf",e.isShown))},directives:[wa,l.k,wu],styles:[""]}),t}(),Ou=n("z6cu"),Au=X.serverUrl,Iu=function(){function t(t,e){this.http=t,this.authService=e}return Object.defineProperty(t.prototype,"jwtHeaders",{get:function(){return new di({Authorization:"Bearer "+this.authService.jsonWebToken})},enumerable:!1,configurable:!0}),t.prototype.extractData=function(t){var e=t.data||t.entity||t.object;return e?JSON.parse(e):null},t.prototype.handleError=function(t){var e=t.error||t||"";return Object(Ou.a)(e)},t.prototype.getTinyEvents=function(){return this.http.get(Au+"/get-events").pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getMeetings=function(t){return this.http.get(Au+"/get-meetings",{params:t}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getContactEventMeeting=function(t){return this.http.get(Au+"/get-contact-event-meeting/"+t,{params:{}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getTokens=function(t){return this.http.get(Au+"/get-tokens",{params:{date:t.toUTCString()}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getMeeting=function(t){return this.http.get(Au+"/get-meeting",{params:{meetingId:t}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getMeetingByUUID=function(t,e){return this.http.get(Au+"/get-meeting-by-uuid",{params:{uuid:t,action:e}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getContacts=function(t){return void 0===t&&(t=""),this.http.get(Au+"/get-contacts",{params:{hint:t}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getReception=function(t){return this.http.get(Au+"/get-reception",{params:{uuid:t}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getUsers=function(t){return void 0===t&&(t=""),this.http.get(Au+"/get-users",{params:{hint:t}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getEmployees=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=""),this.http.get(Au+"/get-employees",{params:{hint:t,role:e}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.updateEmployee=function(t){var e=Au+"/update-employee",n=Object.assign({},t),r=new FormData;n.image?(r.append("file",this.dataURItoBlob(n.image),n.fileName),r.append("filename",n.fileName),n.image=null):(r.append("file",null),r.append("filename","")),r.append("employee",JSON.stringify(n));var i=new di;return i.append("Content-Type","multipart/form-data"),i.append("Accept","application/json"),this.http.post(""+e,r,{headers:i}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.deleteEmployee=function(t){var e=Au+"/delete-employee",n=new di({Accept:"application/json"});return this.http.post(""+e,t,{headers:n})},t.prototype.getVenues=function(t){return void 0===t&&(t=""),this.http.get(Au+"/get-venues",{params:{hint:t}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.deleteVenue=function(t){var e=Au+"/delete-venue",n=new di({"Content-Type":"text/json",Accept:"application/json"});return this.http.post(""+e,t,{headers:n}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.updateVenue=function(t){var e=Au+"/update-venue",n=new di({"Content-Type":"application/json",Accept:"application/json"});return this.http.post(""+e,JSON.stringify(t),{headers:n}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.postTinyEvent=function(t){var e=Au+"/create-tiny-event";if(t.image){var n=t.image,r=new FormData;r.append("file",n,n.name),r.append("contact",JSON.stringify(t)),r.append("filename",JSON.stringify(t));var i=new di({"Content-Type":"multipart/form-data",Accept:"application/json"});return this.http.post(""+e,r,{headers:i}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))}},t.prototype.updateContact=function(t){var e=Au+"/update-contact",n=Object.assign({},t),r=new FormData;n.image?(r.append("file",this.dataURItoBlob(n.image),n.fileName),r.append("filename",n.fileName),n.image=null):(r.append("file",null),r.append("filename","")),r.append("contact",JSON.stringify(n));var i=new di;return i.append("Content-Type","multipart/form-data"),i.append("Accept","application/json"),this.http.post(""+e,r,{headers:i}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.updateUser=function(t){var e=Au+"/update-user",n=new FormData;t.image&&(n.append("file",this.dataURItoBlob(t.image),t.fileName),t.image=null,n.append("filename",t.fileName)),n.append("user",JSON.stringify(t));var r=new di;return r.append("Content-Type","multipart/form-data"),r.append("Accept","application/json"),this.http.post(""+e,n,{headers:r}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.deleteContact=function(t){var e=Au+"/delete-contact",n=new di({Accept:"application/json"});return this.http.post(""+e,t,{headers:n})},t.prototype.postMeeting=function(t){var e=Au+"/create-meeting",n=new di({"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+this.jwtHeaders});return this.http.post(""+e,JSON.stringify(t),{headers:n}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getComments=function(t,e){return this.http.get(Au+"/get-comments/"+t+"/"+e,{}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.getCommentsGuest=function(t,e,n){return this.http.get(Au+"/get-comments-guest",{params:{event_id:t,page:e,uuid:n}})},t.prototype.getDatesByPeriod=function(t,e){return this.http.get(Au+"/get-meeting-dates",{params:{startDate:t.toUTCString(),endDate:e.toUTCString()}}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.deleteComment=function(t){var e=Au+"/delete-comment",n=new di({"Content-Type":"text/json",Accept:"application/json"});return this.http.post(""+e,t.id,{headers:n}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.postComment=function(t){var e=new di({});return t.uuid?this.http.post(Au+"/create-comment-guest",JSON.stringify(t),{headers:e}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError)):this.http.post(Au+"/create-comment",JSON.stringify(t),{headers:e}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.updateContactStatus=function(t,e){var n=new di({"Content-Type":"text/json",Accept:"application/json"});return this.http.post(Au+"/update-contact-status",JSON.stringify({contactEventId:t,status:e}),{headers:n}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.contactUs=function(t){var e=Au+"/contact-us",n=new di({"Content-Type":"text/json",Accept:"application/json"});return this.http.post(""+e,JSON.stringify(t),{headers:n}).pipe(Object(bt.a)(this.extractData)).pipe(Nt(this.handleError))},t.prototype.dataURItoBlob=function(t){var e;e=t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var n=t.split(",")[0].split(":")[1].split(";")[0],r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return new Blob([r],{type:n})},t.\u0275fac=function(e){return new(e||t)(h.Wb(ki),h.Wb(Gi))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ku=["childModal"];function Ru(t,e){if(1&t){var n=h.Tb();h.Sb(0,"button",7),h.Zb("click",function(){return h.pc(n),h.bc().confirm()}),h.vc(1," \u0628\u0644\u0647 "),h.Rb()}}var Tu=["*"],Mu=function(){function t(){this.message="",this.title="",this.type="CONFIRM",this.confirmed=new h.n}return t.prototype.show=function(){this.childModal.show()},t.prototype.setObject=function(t){this.object=t},t.prototype.hide=function(){this.childModal.hide()},t.prototype.ngOnInit=function(){},t.prototype.confirm=function(){this.confirmed.emit(this.object),this.hide()},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["confirm"]],viewQuery:function(t,e){var n;1&t&&h.Ac(ku,3),2&t&&h.lc(n=h.ac())&&(e.childModal=n.first)},inputs:{object:"object",message:"message",title:"title",type:"type"},outputs:{confirmed:"confirmed"},ngContentSelectors:Tu,decls:11,vars:6,consts:[[3,"size","zIndex","modalTitle"],["childModal",""],[1,"app-modal-body"],[1,"text-right"],[1,"app-modal-footer"],["class","btn primary ml-2",3,"click",4,"ngIf"],[1,"btn","secondary",3,"click"],[1,"btn","primary","ml-2",3,"click"]],template:function(t,e){1&t&&(h.gc(),h.Sb(0,"modal",0,1),h.Qb(2,2),h.Sb(3,"div",3),h.vc(4),h.fc(5),h.Rb(),h.Pb(),h.vc(6,"> "),h.Qb(7,4),h.tc(8,Ru,2,0,"button",5),h.Sb(9,"button",6),h.Zb("click",function(){return e.hide()}),h.vc(10),h.Rb(),h.Pb(),h.Rb()),2&t&&(h.hc("size","sm")("zIndex",10)("modalTitle",e.title),h.Cb(4),h.xc(" ",e.message," "),h.Cb(4),h.hc("ngIf","CONFIRM"===e.type),h.Cb(2),h.xc(" ","CONFIRM"===e.type?"\u0646\u0647":"\u0628\u0633\u062a\u0646"," "))},directives:[wa,l.k],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:400px}"]}),t}(),Nu=function(){function t(t){this.router=t,this.subject=new G.a,this.receptionItemClick=new G.a}return t.prototype.prompt=function(t){this.subject.next(t)},t.prototype.getReception=function(){return this.subject.asObservable()},t.\u0275fac=function(e){return new(e||t)(h.Wb(Mr))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Pu=function(t){return t[t.INITIAL=0]="INITIAL",t[t.MORE_FORWARD=1]="MORE_FORWARD",t[t.MORE_BACKWARD=2]="MORE_BACKWARD",t}({}),Du=function(){function t(t){this.navigationService=t,this.readMeetings=new G.a,this.period=5,this.limit=1}return t.prototype.loadMeetings=function(t){this.date=t,"/meetings"!==this.navigationService.currentPath?this.navigationService.navigate("/meetings"):this.readMeetings.next(Pu.INITIAL)},t.prototype.getDate=function(){if(!this.date){var t=new Date;return t.setHours(0,0,0,0),this.date=t,t}return this.date},t.\u0275fac=function(e){return new(e||t)(h.Wb(Zi))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),xu=["\u0634\u0646\u0628\u0647","\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647","\u067e\u0646\u062c \u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647"],Lu=["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],Bu=["Jan","Feb","Mar","Aprl","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Fu=function(){function t(){}return t.prototype.greToPersian=function(t,e){if(void 0===e&&(e=!1),!t)return"";"string"==typeof t&&(t=new Date(Date.parse(t)));var n=this.toPersian(t);return e?xu[(n[3]+1)%7]+"\u060c "+n[0]+" "+Lu[n[1]-1]+" "+n[2]:n[2]+"/"+n[1]+"/"+n[0]},t.prototype.stringToDate=function(t){return new Date(Date.parse(t))},t.prototype.getTimeFromDateString=function(t){var e=new Date(t);return e.getHours()+":"+e.getMinutes()},t.prototype.getMonthName=function(t){return Lu[t]},t.prototype.getGreMonthName=function(t){return t<0&&(t+=12),Bu[t]},t.prototype.getSholopDate=function(t){void 0===t&&(t=new Date);var e=this.toPersian(t);return{gDate:t,jDate:{date:e[0],month:e[1],year:e[2]},dateString:xu[(e[3]+1)%7]+"\u060c "+e[0]+" "+Lu[e[1]-1]+" "+e[2]}},t.prototype.toPersian=function(t){return t.getFullYear()%4!=0?this.func1(t):this.func2(t)},t.prototype.func1=function(t){var e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getDay(),a=0,s=0,u=[0,31,59,90,120,151,181,212,243,273,304,334][r-1]+i;return u>79?(u-=79)<=186?(a=(e=u)/31+1,u=e%31,e%31==0&&(a--,u=31),s=n-621):(a=(e=u-186)/30+7,u=e%30,e%30==0&&(a=e/30+6,u=30),s=n-621):(a=(e=u+(n>1996&&n%4==1?11:10))/30+10,u=e%30,e%30==0&&(a--,u=30),s=n-622),[u,Math.floor(a),s,o]},t.prototype.func2=function(t){var e,n=t.getFullYear(),r=t.getMonth()+1,i=t.getDate(),o=t.getDay(),a=0,s=0,u=[0,31,60,91,121,152,182,213,244,274,305,335][r-1]+i,c=n>=1996?79:80;return u>c?(u-=c)<=186?(a=(e=u)/31+1,u=e%31,e%31==0&&(a--,u=31),s=n-621):(a=(e=u-186)/30+7,u=e%30,e%30==0&&(a--,u=30),s=n-621):(a=(e=u+10)/30+10,u=e%30,e%30==0&&(a--,u=30),s=n-622),[u,Math.floor(a),s,o]},t.prototype.isEqual=function(t,e){return!(!t||!e)&&t.date===e.date&&t.startTime===e.startTime&&t.endTime===e.endTime},t.prototype.getTimeString=function(t){return t?t.getHours()+":"+(t.getMinutes()<10?"0":"")+t.getMinutes():""},t.prototype.getPersianDateString=function(t,e,n){var r="";return r+=this.greToPersian(t,!0),e&&(r+=" \u0627\u0632 "+this.getTimeFromDateString(e)),n&&(r+=" \u062a\u0627 "+this.getTimeFromDateString(n)),r},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),ju=["childModal"],Uu=["canvas"];function Vu(t,e){1&t&&(h.Sb(0,"div",8),h.Ob(1,"canvas",9,10),h.Rb())}var Hu=function(){function t(t,e,n,r){var i=this;this.dateService=t,this.receptionService=e,this.commonService=n,this.navigationService=r,this.item={event:void 0,contact:void 0},this.receptionService.receptionItemClick.subscribe(function(t){i.item=t,i.show()})}return t.prototype.show=function(){var t=this;this.childModal.show(),setTimeout(function(){var e=document.getElementById("canvas"),n=e.getContext("2d");n.clearRect(0,0,e.width,e.height);var r=new Image;r.src=t.item.contact.imageUrl?t.item.contact.imageUrl:"../assets/images/user-placeholder.png",r.onload=function(){n.drawImage(r,380,20,100,100)},n.textAlign="right",n.fillStyle="#000",n.font="30px sholop-font",n.fillText(t.item.contact.name,370,60),n.font="20px sholop-font",n.fillText(t.item.contact.email,370,100),n.strokeStyle="#bdbbbb",n.beginPath(),n.moveTo(20,140),n.lineTo(480,140),n.stroke();var i="";if(t.item.event.pointedDate){var o=t.item.event.pointedDate;i+=o.date?t.dateService.greToPersian(o.date,!0):"",i+=o.startTime?" \u0627\u0632 "+t.dateService.getTimeFromDateString(o.startTime):"",i+=o.endTime?" \u062a\u0627 "+t.dateService.getTimeFromDateString(o.endTime):""}n.textAlign="center",n.fillStyle="bold",n.font="25px sholop-font",n.fillText(t.item.event.title,250,170),n.font="20px sholop-font",n.fillText(i,250,200),n.textAlign="right";var a=new Image;a.src=t.item.event.chair&&t.item.event.chair.imageUrl?t.item.event.chair.imageUrl:"../assets/images/user-placeholder.png",a.onload=function(){n.drawImage(a,410,220,70,70)},n.font="20px bold bold sholop-font",n.fillText(t.item.event.chair?t.item.event.chair.name:"\u0645\u0634\u062e\u0635 \u0646\u0634\u062f\u0647",400,240),n.fillStyle="#555",n.font="15px sholop-font",n.fillText(t.item.contact.email,400,260),n.font="15px sholop-font",n.fillText("\u0645\u06cc\u0632\u0628\u0627\u0646",400,280),n.textAlign="left",n.font="10px sholop-font",console.log(t.item.event),n.fillText(t.item.event.venue?t.item.event.venue.farsiAddress1+"\u060c "+t.item.event.venue.farsiAddress2:"",20,320),n.strokeStyle="#333",n.strokeRect(0,0,500,335)})},t.prototype.hide=function(){this.childModal.hide()},t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnChanges=function(t){var e=this;this.item&&t.event.previousValue!==t.event.currentValue&&this.item.event.attendees.forEach(function(t){t.status=e.getContactStatus(t.id)})},t.prototype.getContactStatus=function(t){var e=this.item.event.contactEvents.find(function(e){return e.contactId===t}),n="";return e&&(n=e.status),this.commonService.getContactStatus(n)},t.prototype.goTo=function(t){this.navigationService.navigate(t,this.item.event.id)},t.prototype.print=function(){var t="<!DOCTYPE html>";t+="<html>",t+="<head></head>",t+="<body>",t+='<img src="'+document.getElementById("canvas").toDataURL()+'">',t+="</body>",t+="</html>";var e=window.open("","","width="+screen.availWidth+",height="+screen.availHeight);e.document.open(),e.document.write(t),e.document.addEventListener("load",function(){e.focus(),e.print(),e.document.close(),e.close()},!0)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(Nu),h.Nb(q),h.Nb(Zi))},t.\u0275cmp=h.Hb({type:t,selectors:[["reception-item-modal"]],viewQuery:function(t,e){if(1&t&&(h.Ac(ju,3),h.Ac(Uu,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.childModal=n.first),h.lc(n=h.ac())&&(e.canvas=n.first)}},inputs:{item:"item"},features:[h.Ab],decls:10,vars:5,consts:[[3,"modalTitle","zIndex","size","maximizable"],["childModal",""],[1,"app-modal-body"],["class","text-center",4,"ngIf"],[1,"app-modal-footer"],[1,"btn","ml-2","primary",3,"click"],[1,"fa","fa-external-link"],[1,"btn","secondary",3,"click"],[1,"text-center"],["id","canvas","width","500","height","335"],["canvas",""]],template:function(t,e){1&t&&(h.Sb(0,"modal",0,1),h.Qb(2,2),h.tc(3,Vu,3,0,"div",3),h.Pb(),h.Qb(4,4),h.Sb(5,"button",5),h.Zb("click",function(){return e.print()}),h.Ob(6,"i",6),h.vc(7," \u067e\u0631\u06cc\u0646\u062a \u06a9\u0627\u0631\u062a "),h.Rb(),h.Sb(8,"button",7),h.Zb("click",function(){return e.hide()}),h.vc(9," \u0628\u0633\u062a\u0646 "),h.Rb(),h.Pb(),h.Rb()),2&t&&(h.hc("modalTitle","\u067e\u0630\u06cc\u0631\u0634")("zIndex",10)("size","lg")("maximizable",!0),h.Cb(3),h.hc("ngIf",e.item&&e.item.event))},directives:[wa,l.k],styles:[".modal-dialog[_ngcontent-%COMP%]{min-width:400px}.contact-image[_ngcontent-%COMP%]:first-child{margin-left:0}.contact-image-td[_ngcontent-%COMP%]{width:50px}.main-contact-image[_ngcontent-%COMP%]{width:80px;height:80px}.contact-image[_ngcontent-%COMP%]{width:35px;height:35px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle;border:none}#canvas[_ngcontent-%COMP%]{border:1px solid #9da3a6;border-radius:10px}"]}),t}();function Wu(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div"),h.Sb(1,"i",4),h.Zb("click",function(){h.pc(n);var t=h.bc(),e=t.$implicit,r=t.index;return h.bc().removeReception(e,r)}),h.Rb(),h.Sb(2,"div",5),h.Sb(3,"div",6),h.Ob(4,"img",7),h.Rb(),h.Sb(5,"div",8),h.Sb(6,"div",9),h.vc(7),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=h.bc().$implicit;h.Cb(4),h.hc("src",r.contact.imageUrl?r.contact.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.xc(" ",r.contact.name," ")}}function zu(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",2),h.Zb("click",function(){h.pc(n);var t=e.$implicit,r=e.index;return h.bc().receptionClicked(t,r)}),h.tc(1,Wu,8,2,"div",3),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(1),h.hc("ngIf",r&&r.contact)}}var Gu=function(){function t(t){this.receptionService=t,this.receptions=[]}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.receptionService.getReception().subscribe(function(e){t.receptions.push(e)})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.removeReception=function(t,e){this.receptions.splice(e,1)},t.prototype.receptionClicked=function(t,e){this.receptionService.receptionItemClick.next(t),this.receptions.splice(e,1)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Nu))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-reception"]],decls:2,vars:1,consts:[[1,"receptions"],["class","reception p-2",3,"click",4,"ngFor","ngForOf"],[1,"reception","p-2",3,"click"],[4,"ngIf"],[1,"fa","fa-remove","pull-right","remove-icon",3,"click"],[1,"row","contact"],[1,"col","text-right"],[1,"rounded-circle","contact-image",3,"src"],[1,"col-8","text-right"],[1,"contact-name"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.tc(1,zu,2,1,"div",1),h.Rb()),2&t&&(h.Cb(1),h.hc("ngForOf",e.receptions))},directives:[l.j,l.k],styles:[".receptions[_ngcontent-%COMP%]{position:fixed;bottom:20px;left:20px;z-index:2000}.reception[_ngcontent-%COMP%]:hover{background:#e3eaf5}.reception[_ngcontent-%COMP%]{cursor:pointer;width:377px;background:#f5f7fa;border:1px solid #ddd;border-radius:5px;box-shadow:0 3px 8px rgba(0,0,0,.25);margin-bottom:10px}.contact-image[_ngcontent-%COMP%]{width:70px;height:70px}.contact[_ngcontent-%COMP%]{line-height:3}.contact-name[_ngcontent-%COMP%]{font-size:24px}.remove-icon[_ngcontent-%COMP%]:hover{color:#0070ba}.remove-icon[_ngcontent-%COMP%]{padding:3px;cursor:pointer}"]}),t}();function Xu(t,e){1&t&&h.Ob(0,"div",16)}function Zu(t,e){if(1&t&&(h.Sb(0,"div",21),h.Sb(1,"div",22),h.vc(2),h.Rb(),h.Sb(3,"div",23),h.vc(4),h.Rb(),h.Rb()),2&t){var n=h.bc(),r=n.index,i=n.$implicit;h.Cb(1),h.Fb("holiday",r%7==6),h.Cb(1),h.wc(i.jDate.date),h.Cb(1),h.Fb("holiday",r%7==6),h.Cb(1),h.wc(i.gDate.getDate())}}function qu(t,e){if(1&t&&(h.Sb(0,"div",24),h.Ob(1,"div",25),h.Sb(2,"div",26),h.Ob(3,"i",27),h.Sb(4,"span"),h.vc(5),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc().$implicit,r=h.bc(2);h.Cb(5),h.xc(" ",r.meetingMap[n.gDate.getDate()]," ")}}function Yu(t,e){if(1&t){var n=h.Tb();h.Sb(0,"td",18),h.Zb("click",function(){h.pc(n);var t=e.$implicit;return h.bc(2).onDaySelected(t.gDate)}),h.tc(1,Zu,5,6,"div",19),h.tc(2,qu,6,1,"div",20),h.Rb()}if(2&t){var r=e.$implicit,i=h.bc(2);h.Fb("meeting-day",r&&i.meetingMap[r.gDate.getDate()]>0)("selected",r&&i.selectedDate===r.gDate)("today",0===i.monthOffset&&r&&i.today.gDate.getDate()===r.gDate.getDate()),h.Cb(1),h.hc("ngIf",r),h.Cb(1),h.hc("ngIf",r&&i.meetingMap[r.gDate.getDate()])}}function Ku(t,e){if(1&t&&(h.Sb(0,"tr"),h.tc(1,Yu,3,8,"td",17),h.Rb()),2&t){var n=e.$implicit;h.Cb(1),h.hc("ngForOf",n)}}var Qu=[31,31,31,31,31,31,30,30,30,30,30,29],Ju=function(){function t(t,e){this.dateService=t,this.dataService=e,this.meetingMap={},this.monthOffset=0,this.month={monthOffset:void 0,today:void 0,currentMonth:void 0,currentYear:void 0,startDay:void 0,startGDay:void 0,monthDays:void 0,weeks:[]},this.inputClasses="",this.mode="full",this.disabled=!1,this.onDateSelected=new h.n}return t.prototype.ngOnInit=function(){this.getMonthMapArray(0)},t.prototype.getMonthMapArray=function(t){this.monthOffset=t,this.month.monthOffset=t%12;var e=new Date;this.today=this.dateService.getSholopDate(e);var n=0,r=0;if(t<0)for(;n!=t;)r-=Qu[(this.today.jDate.month+n-1)%12],n--;else for(;n!=t;)r+=Qu[(this.today.jDate.month+n-1)%12],n++;e.setDate(e.getDate()+r),this.today=this.dateService.getSholopDate(e),this.selectedDate=this.today,this.month.currentMonth=parseInt(this.today.jDate.month),this.month.currentYear=this.today.jDate.year,this.month.monthDays=Qu[this.today.jDate.month];for(var i=[],o=[],a=this.dateService.getSholopDate(new Date(this.today.gDate.getFullYear(),this.today.gDate.getMonth(),this.today.gDate.getDate()-this.today.jDate.date)),s=0;s<(a.gDate.getDay()+2)%7;s++)o.push(void 0);for(var u=1;u<=Qu[this.month.currentMonth-1];u++)7==o.length&&(i.push(o),o=[]),o.push(this.dateService.getSholopDate(new Date(this.today.gDate.getFullYear(),this.today.gDate.getMonth(),this.today.gDate.getDate()-this.today.jDate.date+u)));o.length>0&&i.push(o),this.month.weeks=i;var c=this.month.weeks[this.month.weeks.length-1];this.onMonthChanged({startDate:a,endDate:c[c.length-1]})},t.prototype.onMonthChanged=function(t){},t.prototype.onDaySelected=function(t){this.selectedDate=t,this.onDateSelected.emit(t)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(Iu))},t.\u0275cmp=h.Hb({type:t,selectors:[["calendar"]],hostAttrs:[1,"calendar"],inputs:{inputClasses:"inputClasses",mode:"mode",disabled:"disabled"},outputs:{onDateSelected:"onDateSelected"},decls:40,vars:8,consts:[["class","blocker",4,"ngIf"],[1,"row"],[1,"span12","w-100"],[1,"calendar-container"],[1,"calendar-table","table-condensed","w-100","text-center"],["colspan","7"],[1,"flexbox-parent-row"],[1,"btn-container"],[1,"btn","change-month-btn",3,"click"],[1,"fa","fa-angle-right"],[1,"btn","flexbox-item-grow"],[1,"font-weight-bold"],[1,"text-muted"],[1,"fa","fa-angle-left"],[1,"calendar-content"],[4,"ngFor","ngForOf"],[1,"blocker"],["class","calendar-day position-relative",3,"meeting-day","selected","today","click",4,"ngFor","ngForOf"],[1,"calendar-day","position-relative",3,"click"],["class","calendar-cell",4,"ngIf"],["class","meeting-count position-absolute ",4,"ngIf"],[1,"calendar-cell"],[1,"calendar-jday","font-weight-bold"],[1,"calendar-gday","english_font"],[1,"meeting-count","position-absolute"],[1,"arrow"],[1,"content"],[1,"fa","fa-coffee"]],template:function(t,e){1&t&&(h.Sb(0,"div"),h.tc(1,Xu,1,0,"div",0),h.Sb(2,"div",1),h.Sb(3,"div",2),h.Sb(4,"div",3),h.Sb(5,"table",4),h.Sb(6,"thead"),h.Sb(7,"tr"),h.Sb(8,"th",5),h.Sb(9,"span",6),h.Sb(10,"div",7),h.Sb(11,"a",8),h.Zb("click",function(){return e.getMonthMapArray(e.monthOffset-1)}),h.Ob(12,"i",9),h.vc(13," \u0645\u0627\u0647 \u0642\u0628\u0644"),h.Rb(),h.Rb(),h.Sb(14,"a",10),h.Sb(15,"div",11),h.vc(16),h.Rb(),h.Sb(17,"div",12),h.vc(18),h.Rb(),h.Rb(),h.Sb(19,"div",7),h.Sb(20,"a",8),h.Zb("click",function(){return e.getMonthMapArray(e.monthOffset+1)}),h.vc(21,"\u0645\u0627\u0647 \u0628\u0639\u062f "),h.Ob(22,"i",13),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(23,"tr"),h.Sb(24,"th"),h.vc(25,"\u0634\u0646\u0628\u0647"),h.Rb(),h.Sb(26,"th"),h.vc(27,"\u06cc\u06a9\u0634\u0646\u0628\u0647"),h.Rb(),h.Sb(28,"th"),h.vc(29,"\u062f\u0648\u0634\u0646\u0628\u0647"),h.Rb(),h.Sb(30,"th"),h.vc(31,"\u0633\u0647\u200c\u0634\u0646\u0628\u0647"),h.Rb(),h.Sb(32,"th"),h.vc(33,"\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647"),h.Rb(),h.Sb(34,"th"),h.vc(35,"\u067e\u0646\u062c\u0634\u0646\u0628\u0647"),h.Rb(),h.Sb(36,"th"),h.vc(37,"\u062c\u0645\u0639\u0647"),h.Rb(),h.Rb(),h.Rb(),h.Sb(38,"tbody",14),h.tc(39,Ku,2,1,"tr",15),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Eb("container position-relative "+(e.disabled?"disabled ":"")+e.mode),h.Cb(1),h.hc("ngIf",!1),h.Cb(15),h.yc("",e.dateService.getMonthName(e.month.currentMonth-1)," ",e.month.currentYear,""),h.Cb(2),h.yc(" ",e.dateService.getGreMonthName((e.today.gDate.getMonth()-1)%12)," - ",e.dateService.getGreMonthName(e.today.gDate.getMonth())," "),h.Cb(21),h.hc("ngForOf",e.month.weeks))},directives:[l.k,l.j],styles:['.container.disabled[_ngcontent-%COMP%]{opacity:.6;position:relative}.blocker[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100}.calendar-title[_ngcontent-%COMP%]{color:#212529}.calendar-cell[_ngcontent-%COMP%]{cursor:pointer;border-radius:5px;padding:2px;box-sizing:border-box;border:1px solid transparent;color:#212529}.calendar-day.selected[_ngcontent-%COMP%]   .calendar-cell[_ngcontent-%COMP%]{background:#222;color:#fff}.calendar-cell[_ngcontent-%COMP%]:hover{background:#9d9d9d;color:#fff}.meeting-count[_ngcontent-%COMP%] > .arrow[_ngcontent-%COMP%]{content:"";border-left:10px solid #ff4e5f;border-bottom:5px solid transparent;border-top:5px solid transparent;display:inline-block}.meeting-count[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{background:#ff4e5f;color:#fff;padding:5px 10px;display:inline-block;font-size:12px;border-radius:3px}.meeting-count[_ngcontent-%COMP%]{display:none;width:-webkit-max-content;width:-moz-max-content;width:max-content;z-index:1000;position:absolute;bottom:0;right:100%}.calendar-day[_ngcontent-%COMP%]:hover   .meeting-count[_ngcontent-%COMP%]{display:block}.meeting-day[_ngcontent-%COMP%]{background:#e9967a}td[_ngcontent-%COMP%]{padding:0 5px}.holiday[_ngcontent-%COMP%]{color:red}.today[_ngcontent-%COMP%]   .calendar-cell[_ngcontent-%COMP%]{border-color:#ddd}.calendar-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:7px;padding-top:5px}.calendar-gday[_ngcontent-%COMP%]{font-size:10px}.inline[_ngcontent-%COMP%]   .calendar-container[_ngcontent-%COMP%]{z-index:20;position:absolute;right:0;top:100%;padding:10px;border-radius:.4em;box-shadow:0 3px 8px rgba(0,0,0,.25);background:#f5f7fa;transition:opacity .3s linear}.inline[_ngcontent-%COMP%]:hover   .calendar-container[_ngcontent-%COMP%]{display:block;-webkit-animation:fade-in .2s ease both;animation:fade-in .2s ease both}.change-month-btn[_ngcontent-%COMP%]:hover{background:#3a3f48;color:#fff}.change-month-btn[_ngcontent-%COMP%]{border:1px solid transparent}.btn-container[_ngcontent-%COMP%]{line-height:7}']}),t}(),$u=function(){function t(){this.text=""}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["overlay-spinner"]],inputs:{text:"text"},decls:10,vars:1,consts:[[1,"spinner-container"],[1,"overlay-frame"],[1,"ring-container"],[1,"lds-ring"],[1,"text"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Ob(4,"div"),h.Ob(5,"div"),h.Ob(6,"div"),h.Ob(7,"div"),h.Rb(),h.Sb(8,"div",4),h.vc(9),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(9),h.wc(e.text))},styles:[".spinner-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;left:0;top:0;text-align:center;z-index:20;display:table}.overlay-frame[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle;text-align:center}.ring-container[_ngcontent-%COMP%]{background:rgba(34,34,34,.4392156862745098);color:#fff;width:30%;padding:20px;margin:auto;border-radius:10px}.lds-ring[_ngcontent-%COMP%]{position:relative;height:31px;width:31px;margin:auto}.text[_ngcontent-%COMP%]{margin-top:5px;font-size:18px}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:31px;height:31px;margin:2px;border-radius:50%;-webkit-animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;animation:lds-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border:4px solid transparent;border-top-color:#3a8ed2}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.45s;animation-delay:-.45s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.3s;animation-delay:-.3s}.lds-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.15s;animation-delay:-.15s}@-webkit-keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes lds-ring{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]}),t}(),tc=["scanner"],ec=["prompt"],nc=["switch"];function rc(t,e){1&t&&h.Ob(0,"overlay-spinner",26),2&t&&h.hc("text","\u062f\u0631 \u062d\u0627\u0644 \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a...")}function ic(t,e){if(1&t&&(h.Sb(0,"li",12),h.Sb(1,"a",13),h.Ob(2,"i",27),h.Sb(3,"span"),h.vc(4,"\u067e\u06cc\u0627\u0645\u200c\u0647\u0627"),h.Rb(),h.Sb(5,"span",28),h.vc(6,"3"),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Eb("/messages"===n.navigationService.currentLocation?"selected":""),h.hc("routerLink","/messages")}}var oc=["*"],ac=function(){function t(t,e,n,r,i,o,a,s){this.navigationService=t,this.authService=e,this.dateService=n,this.qrCodeService=r,this.dataService=i,this.receptionService=o,this.router=a,this.meetingService=s,this.loadingReception=!1,this.sidebar=!1,this.promptText="",this.version=X.VERSION}return t.prototype.ngOnInit=function(){var t=this;this.router.events.forEach(function(e){e instanceof ee&&t.toggleSidebar(!1)}),this.qrCodeService.qrCodeScanned.subscribe(function(e){t.loadingReception=!0,t.dataService.getReception(e).subscribe(function(e){"OK"===e.msg?t.receptionService.prompt(e.object):"NOT_FOUND"===e.msg&&(t.promptText="\u0645\u0644\u0627\u0642\u0627\u062a\u06cc \u0628\u0631\u0627\u06cc \u06a9\u062f \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f!",t.prompt.show()),t.loadingReception=!1},function(e){console.log(e),t.loadingReception=!1,t.promptText="\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f. \u0644\u0637\u0641\u0627\u064b \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f.",t.prompt.show()})})},t.prototype.toggleSidebar=function(t){void 0===t&&(t=void 0),this.sidebar=void 0===t?!this.sidebar:t},t.prototype.onDateSelected=function(t){this.goToMeetings(t)},t.prototype.goToMeetings=function(t){this.meetingService.loadMeetings(t),this.toggleSidebar(!1)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Zi),h.Nb(Gi),h.Nb(Fu),h.Nb($i),h.Nb(Iu),h.Nb(Nu),h.Nb(Mr),h.Nb(Du))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-home"]],viewQuery:function(t,e){if(1&t&&(h.Ac(tc,1),h.Ac(ec,1),h.Ac(nc,1)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.scanner=n.first),h.lc(n=h.ac())&&(e.prompt=n.first),h.lc(n=h.ac())&&(e.switch=n.first)}},ngContentSelectors:oc,decls:58,vars:30,consts:[["scanner",""],[3,"text",4,"ngIf"],[3,"type","title"],["prompt",""],["id","home"],["pageWrapper",""],["id","sidebar",1,"sidebar-wrapper"],["sidebarWrapper",""],[1,"sidebar-content"],["id","sidebar-brand-close",1,"sidebar-brand","text-left"],["id","close-sidebar",3,"click"],[1,"sidebar-menu","mt-4"],[1,"sidebar-item",3,"routerLink"],[3,"routerLink"],[1,"fa","fa-handshake-o"],[1,"fa","fa-id-badge"],[1,"fa","fa-users"],[1,"fa","fa-id-card"],[1,"fa","fa-address-book"],[1,"fa","fa-map-marker"],["class","sidebar-item",3,"class","routerLink",4,"ngIf"],[1,"calendar-wrapper"],[1,"calendar",3,"onDateSelected"],["calendar",""],[1,"calendar-banner"],[1,"page-content","flexbox-item-grow"],[3,"text"],[1,"fa","fa-inbox"],[1,"badge","badge-pill","badge-danger"]],template:function(t,e){if(1&t&&(h.gc(),h.Ob(0,"reception-item-modal"),h.Ob(1,"app-reception"),h.Ob(2,"app-qr-code-scanner",null,0),h.tc(4,rc,1,1,"overlay-spinner",1),h.Sb(5,"confirm",2,3),h.vc(7),h.Rb(),h.Sb(8,"div",4),h.Sb(9,"div",null,5),h.Sb(11,"nav",6,7),h.Sb(13,"div",8),h.Sb(14,"div",9),h.Sb(15,"div",10),h.Zb("click",function(){return e.toggleSidebar()}),h.Ob(16,"i"),h.Rb(),h.Rb(),h.Sb(17,"div",11),h.Sb(18,"ul"),h.Sb(19,"li",12),h.Sb(20,"a",13),h.Ob(21,"i",14),h.Sb(22,"span"),h.vc(23,"\u0627\u06cc\u062c\u0627\u062f \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.Rb(),h.Rb(),h.Sb(24,"li",12),h.Sb(25,"a",13),h.Ob(26,"i",15),h.Sb(27,"span"),h.vc(28,"\u0635\u062f\u0648\u0631 \u0627\u062c\u0627\u0632\u0647 \u0648\u0631\u0648\u062f"),h.Rb(),h.Rb(),h.Rb(),h.Sb(29,"li",12),h.Sb(30,"a",13),h.Ob(31,"i",16),h.Sb(32,"span"),h.vc(33,"\u062c\u0644\u0633\u0627\u062a"),h.Rb(),h.Rb(),h.Rb(),h.Sb(34,"li",12),h.Sb(35,"a",13),h.Ob(36,"i",17),h.Sb(37,"span"),h.vc(38,"\u0645\u062c\u0648\u0632\u0647\u0627\u06cc \u0648\u0631\u0648\u062f"),h.Rb(),h.Rb(),h.Rb(),h.Sb(39,"li",12),h.Sb(40,"a",13),h.Ob(41,"i",18),h.Sb(42,"span"),h.vc(43,"\u062f\u0641\u062a\u0631\u0686\u0647 \u0627\u0641\u0631\u0627\u062f"),h.Rb(),h.Rb(),h.Rb(),h.Sb(44,"li",12),h.Sb(45,"a",13),h.Ob(46,"i",19),h.Sb(47,"span"),h.vc(48,"\u0645\u06a9\u0627\u0646\u200c\u0647\u0627\u06cc \u062c\u0644\u0633\u0627\u062a"),h.Rb(),h.Rb(),h.Rb(),h.tc(49,ic,7,3,"li",20),h.Rb(),h.Rb(),h.Ob(50,"hr"),h.Sb(51,"div",21),h.Sb(52,"calendar",22,23),h.Zb("onDateSelected",function(t){return e.onDateSelected(t)}),h.Rb(),h.Sb(54,"span",24),h.vc(55),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(56,"main",25),h.fc(57),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.mc(53);h.Cb(4),h.hc("ngIf",e.loadingReception),h.Cb(1),h.hc("type","PROMPT")("title",""),h.Cb(2),h.wc(e.promptText),h.Cb(1),h.Eb((e.authService.isLoggedIn()?"container":"")+" home h-100 "),h.Cb(1),h.Eb(" page-wrapper flexbox-parent chiller-theme "+(e.authService.isLoggedIn()?"toggled ":"")+(e.sidebar?"open":"closed")),h.Cb(7),h.Eb("fa nav-icon active "+(e.sidebar?"fa-arrow-right":"fa-arrow-left")),h.Cb(3),h.Eb(e.navigationService.currentLocation.startsWith("/create-meeting")?"selected":""),h.hc("routerLink","/create-meeting"),h.Cb(5),h.Eb(e.navigationService.currentLocation.startsWith("/create-token")?"selected":""),h.hc("routerLink","/create-token"),h.Cb(5),h.Eb(e.navigationService.currentLocation.startsWith("/meetings")?"selected":""),h.hc("routerLink","/meetings"),h.Cb(5),h.Eb("/tokens"===e.navigationService.currentLocation?"selected":""),h.hc("routerLink","/tokens"),h.Cb(5),h.Eb("/address-book"===e.navigationService.currentLocation?"selected":""),h.hc("routerLink","/address-book"),h.Cb(5),h.Eb("/venues"===e.navigationService.currentLocation?"selected":""),h.hc("routerLink","/venues"),h.Cb(5),h.hc("ngIf",!1),h.Cb(6),h.wc(n.selectedDate?e.dateService.greToPersian(n.selectedDate.gDate,!0):"")}},directives:[Hu,Gu,Eu,l.k,Mu,Pr,Dr,Ju,$u],styles:['*[_ngcontent-%COMP%]{transition:all .1s ease}.home[_ngcontent-%COMP%]{padding:0;overflow:hidden}.page-content[_ngcontent-%COMP%]{height:100%}.version-container[_ngcontent-%COMP%]{padding:5px;color:#d7d6d6;text-align:center}#icon[_ngcontent-%COMP%]{height:30px;margin-right:5px}.profile-link[_ngcontent-%COMP%]:hover{background-color:#d4e4f5}.profile-link[_ngcontent-%COMP%]{cursor:pointer}.calendar-banner[_ngcontent-%COMP%]{display:none;transform:rotate(-90deg);transform-origin:0 0;line-height:2.5;white-space:nowrap;height:120px;margin-top:50px}@-webkit-keyframes swing{0%{transform:rotate(0deg)}10%{transform:rotate(10deg)}30%{transform:rotate(0deg)}40%{transform:rotate(-10deg)}50%{transform:rotate(0deg)}60%{transform:rotate(5deg)}70%{transform:rotate(0deg)}80%{transform:rotate(-5deg)}to{transform:rotate(0deg)}}@keyframes swing{0%{transform:rotate(0deg)}10%{transform:rotate(10deg)}30%{transform:rotate(0deg)}40%{transform:rotate(-10deg)}50%{transform:rotate(0deg)}60%{transform:rotate(5deg)}70%{transform:rotate(0deg)}80%{transform:rotate(-5deg)}to{transform:rotate(0deg)}}@-webkit-keyframes sonar{0%{transform:scale(.9);opacity:1}to{transform:scale(2);opacity:0}}@keyframes sonar{0%{transform:scale(.9);opacity:1}to{transform:scale(2);opacity:0}}#close-sidebar[_ngcontent-%COMP%], #show-sidebar[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%], .page-wrapper[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%], .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:before, .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before, .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   input.search-menu[_ngcontent-%COMP%], .sidebar-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .3s ease}.page-wrapper[_ngcontent-%COMP%]{width:100%;position:relative}.page-wrapper[_ngcontent-%COMP%]   .theme[_ngcontent-%COMP%]{width:40px;height:40px;display:inline-block;border-radius:4px;margin:2px}@media screen and (min-width:768px){.page-wrapper.toggled[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding-right:260px}.page-wrapper.toggled[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]{right:0}#sidebar-brand-close[_ngcontent-%COMP%], .bottom-menu-wrapper[_ngcontent-%COMP%]{display:none}}@media screen and (max-width:767px){.page-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{padding-right:40px}.page-wrapper[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]{right:0;width:40px;box-shadow:0 .5rem 1rem rgba(0,0,0,.15)!important}.page-wrapper.open[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]{right:0;width:260px}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:8px 0}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .calendar[_ngcontent-%COMP%], .page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before, .page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:0;width:100%}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:0}.bottom-menu-wrapper[_ngcontent-%COMP%], .page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .calendar-banner[_ngcontent-%COMP%]{display:block}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   #close-sidebar[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]{padding:10px 0}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-pic[_ngcontent-%COMP%]{float:none;width:35px;height:35px;padding:0;border-radius:50%;margin:auto}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:none}.page-wrapper.closed[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0}}#show-sidebar[_ngcontent-%COMP%]{position:absolute;right:20px;background:transparent;top:15px;width:35px;transition-delay:.3s;z-index:3;color:#222;border:none;font-size:23px}.page-wrapper.toggled[_ngcontent-%COMP%]   #show-sidebar[_ngcontent-%COMP%]{right:-40px}.sidebar-wrapper[_ngcontent-%COMP%]{width:260px;height:100%;max-height:100%;position:absolute;top:0;right:-260px;z-index:9;background:#f5f7fa}.sidebar-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:0}.sidebar-wrapper[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.sidebar-content[_ngcontent-%COMP%]{max-height:calc(100% - 30px);height:calc(100% - 30px);overflow-y:auto;position:relative;padding:5px}.sidebar-content.desktop[_ngcontent-%COMP%]{overflow-y:hidden}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]{padding:5px 15px;align-items:center}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;flex-grow:1}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%]   #close-sidebar[_ngcontent-%COMP%]{cursor:pointer;font-size:20px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:0 30px;overflow:hidden}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-pic[_ngcontent-%COMP%]{float:right;width:70px;height:70px;padding:2px;border-radius:12px;overflow:hidden}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-pic[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{-o-object-fit:cover;object-fit:cover;height:100%;width:100%}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{float:right}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{font-size:12px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-status[_ngcontent-%COMP%]{font-size:11px;margin-top:4px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-status[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:8px;margin-left:4px;color:#5cb85c}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px 20px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]{padding-bottom:10px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .header-menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:14px;padding:15px 20px 5px;display:inline-block}.sidebar-menu[_ngcontent-%COMP%]   li.sub-selected[_ngcontent-%COMP%]{background:#e8edf6}.sidebar-menu[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background:#cedbf3}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;width:100%;text-decoration:none;position:relative;padding:8px 30px 8px 20px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-left:10px;font-size:18px;width:30px;height:30px;line-height:30px;text-align:center;border-radius:4px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover > i[_ngcontent-%COMP%]:before{display:inline-block;-webkit-animation:swing .5s ease-in-out 1 alternate;animation:swing .5s ease-in-out 1 alternate}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:before{font:normal normal normal 14px/1 FontAwesome;font-weight:900;content:"\\f104";font-style:normal;display:inline-block;font-variant:normal;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:center;background:0 0;position:absolute;left:15px;top:14px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:before{font:normal normal normal 14px/1 FontAwesome;font-weight:400;font-style:normal;display:inline-block;text-align:center;text-decoration:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;margin-left:10px;font-size:8px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]{display:none}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown.active[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]{display:block}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:5px 0}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-right:25px;font-size:13px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.badge[_ngcontent-%COMP%], .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{float:left;margin-top:8px;margin-left:5px}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%], .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{float:left;margin-top:0}.sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:before{transform:rotate(-90deg);left:17px}.sidebar-footer[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:0;display:flex}.sidebar-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{flex-grow:1;text-align:center;height:30px;line-height:30px;position:relative}.sidebar-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;top:0}.badge-sonar[_ngcontent-%COMP%]{display:inline-block;background:#980303;border-radius:50%;height:8px;width:8px;position:absolute;top:0}.badge-sonar[_ngcontent-%COMP%]:after{content:"";position:absolute;top:0;right:0;border:2px solid #980303;opacity:0;border-radius:50%;width:100%;height:100%;-webkit-animation:sonar 1.5s infinite;animation:sonar 1.5s infinite}.page-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{display:inline-block;width:100%;padding-right:40px}.page-wrapper[_ngcontent-%COMP%]   .page-content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto}.chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   input.search-menu[_ngcontent-%COMP%]{border-color:transparent;box-shadow:none}.chiller-theme[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-status[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   input.search-menu[_ngcontent-%COMP%]{color:#818896}.sidebar-menu[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#171717}.chiller-theme[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-brand[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown.active[_ngcontent-%COMP%] > a[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover > a[_ngcontent-%COMP%]{color:#000}.chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#066482;text-shadow:0 0 10px rgba(124,208,234,.5)}.chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-item[_ngcontent-%COMP%]   .sidebar-submenu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover:before, .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .sidebar-dropdown.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   .sidebar-search[_ngcontent-%COMP%]   input.search-menu[_ngcontent-%COMP%]:focus + span[_ngcontent-%COMP%], .chiller-theme[_ngcontent-%COMP%]   .sidebar-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#16c7ff;text-shadow:0 0 10px rgba(22,199,255,.5)}.chiller-theme[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{background:#3a3f48;box-shadow:0 -1px 5px #282c33;border-top:1px solid #464a52}.chiller-theme[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:first-child, .chiller-theme[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:last-child{border-right:none}.nav-icon.active[_ngcontent-%COMP%]:hover{color:#0070ba}.nav-icon[_ngcontent-%COMP%]{font-size:20px}.nav-icon.active[_ngcontent-%COMP%]{cursor:pointer;color:#66afe9}.bottom-menu[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:20px}.bottom-menu-item.selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{text-shadow:1px 1px #66afe9;color:#005ea6}.bottom-menu-item.selected[_ngcontent-%COMP%]:before{content:" ";width:100%;position:absolute;top:0;left:0;height:3px;background-color:#005ea6}.bottom-menu-item[_ngcontent-%COMP%]{position:relative;outline:none;padding:10px 0}.bottom-menu[_ngcontent-%COMP%]{font-size:10px;color:#3a3f48;box-shadow:0 3px 8px rgba(0,0,0,.25);background:#f5f7fa;transition:opacity .3s linear}']}),t}(),sc=function(){function t(t){this.commonService=t,this.title="ui",this.theme="light"}return t.prototype.ngOnInit=function(){var t=this;this.commonService.themeChanged.subscribe(function(e){return t.theme=e})},t.\u0275fac=function(e){return new(e||t)(h.Nb(q))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-root"]],decls:8,vars:2,consts:[[1,"flexbox-parent"],[3,"toggle"],[1,"flexbox-item-grow"],["home",""]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div"),h.Ob(1,"alert"),h.Sb(2,"div",0),h.Sb(3,"app-navbar",1),h.Zb("toggle",function(){return h.pc(n),h.mc(6).toggleSidebar()}),h.Rb(),h.Sb(4,"div",2),h.Sb(5,"app-home",null,3),h.Ob(7,"router-outlet"),h.Rb(),h.Rb(),h.Rb(),h.Rb()}2&t&&h.Eb(" rtl h-100 app-container "+e.theme)},directives:[si,Ji,ac,Lr],styles:[".app-container[_ngcontent-%COMP%]{background:#fcfcfc;color:#212529;font-size:15px}.dark.app-container[_ngcontent-%COMP%]{background:#222;background:linear-gradient(180deg,#222,#222 52%,#000);color:#eee}"]}),t}(),uc=function(){function t(){this.from="",this.to=""}return t.prototype.setDate=function(t){this.date=t},t}(),cc=35.6892,lc=51.389,hc=function(){return function(t,e,n,r,i,o,a){void 0===t&&(t=0),void 0===e&&(e=""),void 0===n&&(n=cc),void 0===r&&(r=lc),void 0===i&&(i=""),void 0===o&&(o=""),void 0===a&&(a=""),this.id=-1,this.title="",this.farsiAddress1="",this.farsiAddress2="",this.mapUrl="",this.id=t,this.title=e,this.latitude=n,this.longitude=r,this.farsiAddress1=i,this.farsiAddress2=o,this.mapUrl=a}}();function fc(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function dc(t,e){return function(n,r){e(n,r,t)}}function pc(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function gc(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}var vc=["wrapper"],mc=["sourceImage"];function yc(t,e){if(1&t){var n=h.Tb();h.Sb(0,"img",4,5),h.Zb("load",function(){return h.pc(n),h.bc().imageLoadedInView()}),h.Rb()}if(2&t){var r=h.bc();h.sc("visibility",r.imageVisible?"visible":"hidden")("transform",r.safeTransformStyle),h.hc("src",r.safeImgDataUrl,h.qc)}}function bc(t,e){if(1&t){var n=h.Tb();h.Qb(0),h.Sb(1,"span",9),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"topleft")})("touchstart",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"topleft")}),h.Ob(2,"span",10),h.Rb(),h.Sb(3,"span",11),h.Ob(4,"span",10),h.Rb(),h.Sb(5,"span",12),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"topright")})("touchstart",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"topright")}),h.Ob(6,"span",10),h.Rb(),h.Sb(7,"span",13),h.Ob(8,"span",10),h.Rb(),h.Sb(9,"span",14),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")})("touchstart",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"bottomright")}),h.Ob(10,"span",10),h.Rb(),h.Sb(11,"span",15),h.Ob(12,"span",10),h.Rb(),h.Sb(13,"span",16),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")})("touchstart",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"bottomleft")}),h.Ob(14,"span",10),h.Rb(),h.Sb(15,"span",17),h.Ob(16,"span",10),h.Rb(),h.Sb(17,"span",18),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"top")})("touchstart",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"top")}),h.Rb(),h.Sb(18,"span",19),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"right")})("touchstart",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"right")}),h.Rb(),h.Sb(19,"span",20),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"bottom")})("touchstart",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"bottom")}),h.Rb(),h.Sb(20,"span",21),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"left")})("touchstart",function(t){h.pc(n);var e=h.bc(2);return e.startMove(t,e.moveTypes.Resize,"left")}),h.Rb(),h.Pb()}}function wc(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",6),h.Zb("keydown",function(t){return h.pc(n),h.bc().keyboardAccess(t)}),h.Sb(1,"div",7),h.Zb("mousedown",function(t){h.pc(n);var e=h.bc();return e.startMove(t,e.moveTypes.Move)})("touchstart",function(t){h.pc(n);var e=h.bc();return e.startMove(t,e.moveTypes.Move)}),h.Rb(),h.tc(2,bc,21,0,"ng-container",8),h.Rb()}if(2&t){var r=h.bc();h.sc("top",r.cropper.y1,"px")("left",r.cropper.x1,"px")("width",r.cropper.x2-r.cropper.x1,"px")("height",r.cropper.y2-r.cropper.y1,"px")("margin-left","center"===r.alignImage?r.marginLeft:null)("visibility",r.imageVisible?"visible":"hidden"),h.Fb("rounded",r.roundCropper),h.Cb(2),h.hc("ngIf",!r.hideResizeSquares)}}var _c={Move:"move",Resize:"resize",Pinch:"pinch"},Cc=function(){var t=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"crop",value:function(t,e,n,r){var i=this.getImagePosition(t,e,n,r),o=i.x2-i.x1,a=i.y2-i.y1,s=document.createElement("canvas");s.width=o,s.height=a;var u=s.getContext("2d");if(u){null!=r.backgroundColor&&(u.fillStyle=r.backgroundColor,u.fillRect(0,0,o,a));var c=(r.transform.scale||1)*(r.transform.flipH?-1:1),l=(r.transform.scale||1)*(r.transform.flipV?-1:1),h=e.transformed;u.setTransform(c,0,0,l,h.size.width/2,h.size.height/2),u.translate(-i.x1/c,-i.y1/l),u.rotate((r.transform.rotate||0)*Math.PI/180),u.drawImage(h.image,-h.size.width/2,-h.size.height/2);var f={width:o,height:a,imagePosition:i,cropperPosition:Object.assign({},n)};r.containWithinAspectRatio&&(f.offsetImagePosition=this.getOffsetImagePosition(t,e,n,r));var d=this.getResizeRatio(o,a,r);return 1!==d&&(f.width=Math.round(o*d),f.height=r.maintainAspectRatio?Math.round(f.width/r.aspectRatio):Math.round(a*d),function(t,e,n){var r=t.width,i=t.height,o=r/(e=Math.round(e)),a=i/(n=Math.round(n)),s=Math.ceil(o/2),u=Math.ceil(a/2),c=t.getContext("2d");if(c){for(var l=c.getImageData(0,0,r,i),h=c.createImageData(e,n),f=l.data,d=h.data,p=0;p<n;p++)for(var g=0;g<e;g++){var v=4*(g+p*e),m=p*a,y=0,b=0,w=0,_=0,C=0,S=0,E=0,O=Math.floor(g*o),A=Math.floor(p*a),I=Math.ceil((g+1)*o),k=Math.ceil((p+1)*a);I=Math.min(I,r),k=Math.min(k,i);for(var R=A;R<k;R++)for(var T=Math.abs(m-R)/u,M=g*o,N=T*T,P=O;P<I;P++){var D=Math.abs(M-P)/s,x=Math.sqrt(N+D*D);if(!(x>=1)){var L=4*(P+R*r);E+=(y=2*x*x*x-3*x*x+1)*f[L+3],w+=y,f[L+3]<255&&(y=y*f[L+3]/250),_+=y*f[L],C+=y*f[L+1],S+=y*f[L+2],b+=y}}d[v]=_/b,d[v+1]=C/b,d[v+2]=S/b,d[v+3]=E/w}t.width=e,t.height=n,c.putImageData(h,0,0)}}(s,f.width,f.height)),f.base64=s.toDataURL("image/"+r.format,this.getQuality(r)),f}}},{key:"getImagePosition",value:function(t,e,n,r){var i=e.transformed.size.width/t.nativeElement.offsetWidth,o={x1:Math.round(n.x1*i),y1:Math.round(n.y1*i),x2:Math.round(n.x2*i),y2:Math.round(n.y2*i)};return r.containWithinAspectRatio||(o.x1=Math.max(o.x1,0),o.y1=Math.max(o.y1,0),o.x2=Math.min(o.x2,e.transformed.size.width),o.y2=Math.min(o.y2,e.transformed.size.height)),o}},{key:"getOffsetImagePosition",value:function(t,e,n,r){var i,o,a=e.transformed.size.width/t.nativeElement.offsetWidth;(r.canvasRotation+e.exifTransform.rotate)%2?(i=(e.transformed.size.width-e.original.size.height)/2,o=(e.transformed.size.height-e.original.size.width)/2):(i=(e.transformed.size.width-e.original.size.width)/2,o=(e.transformed.size.height-e.original.size.height)/2);var s={x1:Math.round(n.x1*a)-i,y1:Math.round(n.y1*a)-o,x2:Math.round(n.x2*a)-i,y2:Math.round(n.y2*a)-o};return r.containWithinAspectRatio||(s.x1=Math.max(s.x1,0),s.y1=Math.max(s.y1,0),s.x2=Math.min(s.x2,e.transformed.size.width),s.y2=Math.min(s.y2,e.transformed.size.height)),s}},{key:"getResizeRatio",value:function(t,e,n){var r=n.resizeToWidth/t,i=n.resizeToHeight/e,o=new Array;n.resizeToWidth>0&&o.push(r),n.resizeToHeight>0&&o.push(i);var a=0===o.length?1:Math.min.apply(Math,o);return a>1&&!n.onlyScaleDown?a:Math.min(a,1)}},{key:"getQuality",value:function(t){return Math.min(1,Math.max(0,t.imageQuality/100))}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(h.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Sc=function(){function t(){Object(a.a)(this,t),this.format="png",this.maintainAspectRatio=!0,this.transform={},this.aspectRatio=1,this.resizeToWidth=0,this.resizeToHeight=0,this.cropperMinWidth=0,this.cropperMinHeight=0,this.cropperMaxHeight=0,this.cropperMaxWidth=0,this.cropperStaticWidth=0,this.cropperStaticHeight=0,this.canvasRotation=0,this.initialStepSize=3,this.roundCropper=!1,this.onlyScaleDown=!1,this.imageQuality=92,this.autoCrop=!0,this.backgroundColor=void 0,this.containWithinAspectRatio=!1,this.hideResizeSquares=!1,this.alignImage="center",this.cropperScaledMinWidth=20,this.cropperScaledMinHeight=20,this.cropperScaledMaxWidth=20,this.cropperScaledMaxHeight=20,this.stepSize=this.initialStepSize}return Object(s.a)(t,[{key:"setOptions",value:function(t){var e=this;Object.keys(t).filter(function(t){return t in e}).forEach(function(n){return e[n]=t[n]})}},{key:"setOptionsFromChanges",value:function(t){var e=this;Object.keys(t).filter(function(t){return t in e}).forEach(function(n){return e[n]=t[n].currentValue})}}]),t}();function Ec(t){switch("string"==typeof t&&(t=function(t){var e=new DataView(function(t){t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var e=atob(t),n=e.length,r=new Uint8Array(n),i=0;i<n;i++)r[i]=e.charCodeAt(i);return r.buffer}(t));if(65496!=e.getUint16(0,!1))return-2;for(var n=e.byteLength,r=2;r<n;){if(e.getUint16(r+2,!1)<=8)return-1;var i=e.getUint16(r,!1);if(r+=2,65505==i){if(1165519206!=e.getUint32(r+=2,!1))return-1;var o=18761==e.getUint16(r+=6,!1);r+=e.getUint32(r+4,o);var a=e.getUint16(r,o);r+=2;for(var s=0;s<a;s++)if(274==e.getUint16(r+12*s,o))return e.getUint16(r+12*s+8,o)}else{if(65280!=(65280&i))break;r+=e.getUint16(r,!1)}}return-1}(t)),t){case 2:return{rotate:0,flip:!0};case 3:return{rotate:2,flip:!1};case 4:return{rotate:2,flip:!0};case 5:return{rotate:1,flip:!0};case 6:return{rotate:1,flip:!1};case 7:return{rotate:3,flip:!0};case 8:return{rotate:3,flip:!1};default:return{rotate:0,flip:!1}}}var Oc=function(){var t=function(){function t(){Object(a.a)(this,t),this.autoRotateSupported=new Promise(function(t){var e=new Image;e.onload=function(){t(1===e.width&&2===e.height)},e.src="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=="})}return Object(s.a)(t,[{key:"loadImageFile",value:function(t,e){var n=this;return new Promise(function(r,i){var o=new FileReader;o.onload=function(o){n.loadImage(o.target.result,t.type,e).then(r).catch(i)},o.readAsDataURL(t)})}},{key:"loadImage",value:function(t,e,n){return this.isValidImageType(e)?this.loadBase64Image(t,n):Promise.reject(new Error("Invalid image type"))}},{key:"isValidImageType",value:function(t){return/image\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(t)}},{key:"loadImageFromURL",value:function(t,e){var n=this;return new Promise(function(r,i){var o=new Image;o.onerror=function(){return i},o.onload=function(){var t=document.createElement("canvas"),i=t.getContext("2d");t.width=o.width,t.height=o.height,i.drawImage(o,0,0),n.loadBase64Image(t.toDataURL(),e).then(r)},o.crossOrigin="anonymous",o.src=t})}},{key:"loadBase64Image",value:function(t,e){var n=this;return new Promise(function(e,n){var r=new Image;r.onload=function(){return e({originalImage:r,originalBase64:t})},r.onerror=n,r.src=t}).then(function(t){return n.transformImageBase64(t,e)})}},{key:"transformImageBase64",value:function(t,e){return gc(this,void 0,void 0,Ca.a.mark(function n(){var r,i;return Ca.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.autoRotateSupported;case 2:return r=n.sent,n.next=5,Ec(r?-1:t.originalBase64);case 5:if(i=n.sent,t.originalImage&&t.originalImage.complete){n.next=8;break}return n.abrupt("return",Promise.reject(new Error("No image loaded")));case 8:return n.abrupt("return",this.transformLoadedImage({original:{base64:t.originalBase64,image:t.originalImage,size:{width:t.originalImage.naturalWidth,height:t.originalImage.naturalHeight}},exifTransform:i},e));case 10:case"end":return n.stop()}},n,this)}))}},{key:"transformLoadedImage",value:function(t,e){return gc(this,void 0,void 0,Ca.a.mark(function n(){var r,i,o,a,s,u,c;return Ca.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(i={width:t.original.image.naturalWidth,height:t.original.image.naturalHeight},0!==(r=e.canvasRotation+t.exifTransform.rotate)||t.exifTransform.flip||e.containWithinAspectRatio){n.next=4;break}return n.abrupt("return",{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},i)},transformed:{base64:t.original.base64,image:t.original.image,size:Object.assign({},i)},exifTransform:t.exifTransform});case 4:return o=this.getTransformedSize(i,t.exifTransform,e),(a=document.createElement("canvas")).width=o.width,a.height=o.height,(s=a.getContext("2d")).setTransform(t.exifTransform.flip?-1:1,0,0,1,a.width/2,a.height/2),s.rotate(Math.PI*(r/2)),s.drawImage(t.original.image,-i.width/2,-i.height/2),u=a.toDataURL(),n.next=15,this.loadImageFromBase64(u);case 15:return c=n.sent,n.abrupt("return",{original:{base64:t.original.base64,image:t.original.image,size:Object.assign({},i)},transformed:{base64:u,image:c,size:{width:c.width,height:c.height}},exifTransform:t.exifTransform});case 17:case"end":return n.stop()}},n,this)}))}},{key:"loadImageFromBase64",value:function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src=t})}},{key:"getTransformedSize",value:function(t,e,n){var r=n.canvasRotation+e.rotate;if(n.containWithinAspectRatio){if(r%2){var i=t.height/n.aspectRatio;return{width:Math.max(t.height,t.width*n.aspectRatio),height:Math.max(t.width,i)}}var o=t.width/n.aspectRatio;return{width:Math.max(t.width,t.height*n.aspectRatio),height:Math.max(t.height,o)}}return r%2?{height:t.width,width:t.height}:{width:t.width,height:t.height}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(h.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ac=function(){var t=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"resetCropperPosition",value:function(t,e,n){var r=t.nativeElement;if(n.cropperStaticHeight&&n.cropperStaticWidth)e.x1=0,e.x2=r.offsetWidth>n.cropperStaticWidth?n.cropperStaticWidth:r.offsetWidth,e.y1=0,e.y2=r.offsetHeight>n.cropperStaticHeight?n.cropperStaticHeight:r.offsetHeight;else{var i=Math.min(n.cropperScaledMaxWidth,r.offsetWidth),o=Math.min(n.cropperScaledMaxHeight,r.offsetHeight);if(n.maintainAspectRatio)if(i/n.aspectRatio<o){e.x1=0,e.x2=i;var a=i/n.aspectRatio;e.y1=(r.offsetHeight-a)/2,e.y2=e.y1+a}else{e.y1=0,e.y2=o;var s=o*n.aspectRatio;e.x1=(r.offsetWidth-s)/2,e.x2=e.x1+s}else e.x1=0,e.x2=i,e.y1=0,e.y2=o}}},{key:"move",value:function(t,e,n){var r=this.getClientX(t)-e.clientX,i=this.getClientY(t)-e.clientY;n.x1=e.x1+r,n.y1=e.y1+i,n.x2=e.x2+r,n.y2=e.y2+i}},{key:"resize",value:function(t,e,n,r,i){var o=this.getClientX(t)-e.clientX,a=this.getClientY(t)-e.clientY;switch(e.position){case"left":n.x1=Math.min(Math.max(e.x1+o,n.x2-i.cropperScaledMaxWidth),n.x2-i.cropperScaledMinWidth);break;case"topleft":n.x1=Math.min(Math.max(e.x1+o,n.x2-i.cropperScaledMaxWidth),n.x2-i.cropperScaledMinWidth),n.y1=Math.min(Math.max(e.y1+a,n.y2-i.cropperScaledMaxHeight),n.y2-i.cropperScaledMinHeight);break;case"top":n.y1=Math.min(Math.max(e.y1+a,n.y2-i.cropperScaledMaxHeight),n.y2-i.cropperScaledMinHeight);break;case"topright":n.x2=Math.max(Math.min(e.x2+o,n.x1+i.cropperScaledMaxWidth),n.x1+i.cropperScaledMinWidth),n.y1=Math.min(Math.max(e.y1+a,n.y2-i.cropperScaledMaxHeight),n.y2-i.cropperScaledMinHeight);break;case"right":n.x2=Math.max(Math.min(e.x2+o,n.x1+i.cropperScaledMaxWidth),n.x1+i.cropperScaledMinWidth);break;case"bottomright":n.x2=Math.max(Math.min(e.x2+o,n.x1+i.cropperScaledMaxWidth),n.x1+i.cropperScaledMinWidth),n.y2=Math.max(Math.min(e.y2+a,n.y1+i.cropperScaledMaxHeight),n.y1+i.cropperScaledMinHeight);break;case"bottom":n.y2=Math.max(Math.min(e.y2+a,n.y1+i.cropperScaledMaxHeight),n.y1+i.cropperScaledMinHeight);break;case"bottomleft":n.x1=Math.min(Math.max(e.x1+o,n.x2-i.cropperScaledMaxWidth),n.x2-i.cropperScaledMinWidth),n.y2=Math.max(Math.min(e.y2+a,n.y1+i.cropperScaledMaxHeight),n.y1+i.cropperScaledMinHeight);break;case"center":var s=t.scale,u=Math.min(Math.max(i.cropperScaledMinWidth,Math.abs(e.x2-e.x1)*s),i.cropperScaledMaxWidth),c=Math.min(Math.max(i.cropperScaledMinHeight,Math.abs(e.y2-e.y1)*s),i.cropperScaledMaxHeight);n.x1=e.clientX-u/2,n.x2=e.clientX+u/2,n.y1=e.clientY-c/2,n.y2=e.clientY+c/2,n.x1<0?(n.x2-=n.x1,n.x1=0):n.x2>r.width&&(n.x1-=n.x2-r.width,n.x2=r.width),n.y1<0?(n.y2-=n.y1,n.y1=0):n.y2>r.height&&(n.y1-=n.y2-r.height,n.y2=r.height)}i.maintainAspectRatio&&this.checkAspectRatio(e.position,n,r,i)}},{key:"checkAspectRatio",value:function(t,e,n,r){var i=0,o=0;switch(t){case"top":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,i=Math.max(e.x2-n.width,0),o=Math.max(0-e.y1,0),(i>0||o>0)&&(e.x2-=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y1+=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"bottom":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,i=Math.max(e.x2-n.width,0),o=Math.max(e.y2-n.height,0),(i>0||o>0)&&(e.x2-=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y2-=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"topleft":e.y1=e.y2-(e.x2-e.x1)/r.aspectRatio,i=Math.max(0-e.x1,0),o=Math.max(0-e.y1,0),(i>0||o>0)&&(e.x1+=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y1+=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"topright":e.y1=e.y2-(e.x2-e.x1)/r.aspectRatio,i=Math.max(e.x2-n.width,0),o=Math.max(0-e.y1,0),(i>0||o>0)&&(e.x2-=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y1+=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"right":case"bottomright":e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio,i=Math.max(e.x2-n.width,0),o=Math.max(e.y2-n.height,0),(i>0||o>0)&&(e.x2-=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y2-=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"left":case"bottomleft":e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio,i=Math.max(0-e.x1,0),o=Math.max(e.y2-n.height,0),(i>0||o>0)&&(e.x1+=o*r.aspectRatio>i?o*r.aspectRatio:i,e.y2-=o*r.aspectRatio>i?o:i/r.aspectRatio);break;case"center":e.x2=e.x1+(e.y2-e.y1)*r.aspectRatio,e.y2=e.y1+(e.x2-e.x1)/r.aspectRatio;var a=Math.max(0-e.x1,0),s=Math.max(e.x2-n.width,0),u=Math.max(e.y2-n.height,0),c=Math.max(0-e.y1,0);(a>0||s>0||u>0||c>0)&&(e.x1+=u*r.aspectRatio>a?u*r.aspectRatio:a,e.x2-=c*r.aspectRatio>s?c*r.aspectRatio:s,e.y1+=c*r.aspectRatio>s?c:s/r.aspectRatio,e.y2-=u*r.aspectRatio>a?u:a/r.aspectRatio)}}},{key:"getClientX",value:function(t){return(t.touches&&t.touches[0]?t.touches[0].clientX:t.clientX)||0}},{key:"getClientY",value:function(t){return(t.touches&&t.touches[0]?t.touches[0].clientY:t.clientY)||0}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(h.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Ic=function(){var t=function(){function t(e,n,r,i,o){Object(a.a)(this,t),this.cropService=e,this.cropperPositionService=n,this.loadImageService=r,this.sanitizer=i,this.cd=o,this.Hammer="undefined"!=typeof window?window.Hammer:null,this.settings=new Sc,this.setImageMaxSizeRetries=0,this.marginLeft="0px",this.moveTypes=_c,this.imageVisible=!1,this.format=this.settings.format,this.transform={},this.maintainAspectRatio=this.settings.maintainAspectRatio,this.aspectRatio=this.settings.aspectRatio,this.resizeToWidth=this.settings.resizeToWidth,this.resizeToHeight=this.settings.resizeToHeight,this.cropperMinWidth=this.settings.cropperMinWidth,this.cropperMinHeight=this.settings.cropperMinHeight,this.cropperMaxHeight=this.settings.cropperMaxHeight,this.cropperMaxWidth=this.settings.cropperMaxWidth,this.cropperStaticWidth=this.settings.cropperStaticWidth,this.cropperStaticHeight=this.settings.cropperStaticHeight,this.canvasRotation=this.settings.canvasRotation,this.initialStepSize=this.settings.initialStepSize,this.roundCropper=this.settings.roundCropper,this.onlyScaleDown=this.settings.onlyScaleDown,this.imageQuality=this.settings.imageQuality,this.autoCrop=this.settings.autoCrop,this.backgroundColor=this.settings.backgroundColor,this.containWithinAspectRatio=this.settings.containWithinAspectRatio,this.hideResizeSquares=this.settings.hideResizeSquares,this.cropper={x1:-100,y1:-100,x2:1e4,y2:1e4},this.alignImage=this.settings.alignImage,this.disabled=!1,this.imageCropped=new h.n,this.startCropImage=new h.n,this.imageLoaded=new h.n,this.cropperReady=new h.n,this.loadImageFailed=new h.n,this.reset()}return Object(s.a)(t,[{key:"ngOnChanges",value:function(t){var e=this;this.onChangesUpdateSettings(t),this.onChangesInputImage(t),this.loadedImage&&this.loadedImage.original.image.complete&&(t.containWithinAspectRatio||t.canvasRotation)&&this.loadImageService.transformLoadedImage(this.loadedImage,this.settings).then(function(t){return e.setLoadedImage(t)}).catch(function(t){return e.loadImageError(t)}),t.cropper&&(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.checkCropperPosition(!1),this.doAutoCrop(),this.cd.markForCheck()),t.aspectRatio&&this.imageVisible&&this.resetCropperPosition(),t.transform&&(this.transform=this.transform||{},this.setCssTransform(),this.doAutoCrop())}},{key:"onChangesUpdateSettings",value:function(t){this.settings.setOptionsFromChanges(t),this.settings.cropperStaticHeight&&this.settings.cropperStaticWidth&&this.settings.setOptions({hideResizeSquares:!0,cropperMinWidth:this.settings.cropperStaticWidth,cropperMinHeight:this.settings.cropperStaticHeight,cropperMaxHeight:this.settings.cropperStaticHeight,cropperMaxWidth:this.settings.cropperStaticWidth,maintainAspectRatio:!1})}},{key:"onChangesInputImage",value:function(t){(t.imageChangedEvent||t.imageURL||t.imageBase64||t.imageFile)&&this.reset(),t.imageChangedEvent&&this.isValidImageChangedEvent()&&this.loadImageFile(this.imageChangedEvent.target.files[0]),t.imageURL&&this.imageURL&&this.loadImageFromURL(this.imageURL),t.imageBase64&&this.imageBase64&&this.loadBase64Image(this.imageBase64),t.imageFile&&this.imageFile&&this.loadImageFile(this.imageFile)}},{key:"isValidImageChangedEvent",value:function(){return this.imageChangedEvent&&this.imageChangedEvent.target&&this.imageChangedEvent.target.files&&this.imageChangedEvent.target.files.length>0}},{key:"setCssTransform",value:function(){this.safeTransformStyle=this.sanitizer.bypassSecurityTrustStyle("scaleX("+(this.transform.scale||1)*(this.transform.flipH?-1:1)+")scaleY("+(this.transform.scale||1)*(this.transform.flipV?-1:1)+")rotate("+(this.transform.rotate||0)+"deg)")}},{key:"ngOnInit",value:function(){this.settings.stepSize=this.initialStepSize,this.activatePinchGesture()}},{key:"reset",value:function(){this.imageVisible=!1,this.loadedImage=null,this.safeImgDataUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=",this.moveStart={active:!1,type:null,position:null,x1:0,y1:0,x2:0,y2:0,clientX:0,clientY:0},this.maxSize={width:0,height:0},this.cropper.x1=-100,this.cropper.y1=-100,this.cropper.x2=1e4,this.cropper.y2=1e4}},{key:"loadImageFile",value:function(t){var e=this;this.loadImageService.loadImageFile(t,this.settings).then(function(t){return e.setLoadedImage(t)}).catch(function(t){return e.loadImageError(t)})}},{key:"loadBase64Image",value:function(t){var e=this;this.loadImageService.loadBase64Image(t,this.settings).then(function(t){return e.setLoadedImage(t)}).catch(function(t){return e.loadImageError(t)})}},{key:"loadImageFromURL",value:function(t){var e=this;this.loadImageService.loadImageFromURL(t,this.settings).then(function(t){return e.setLoadedImage(t)}).catch(function(t){return e.loadImageError(t)})}},{key:"setLoadedImage",value:function(t){this.loadedImage=t,this.safeImgDataUrl=this.sanitizer.bypassSecurityTrustResourceUrl(t.transformed.base64),this.cd.markForCheck()}},{key:"loadImageError",value:function(t){console.error(t),this.loadImageFailed.emit()}},{key:"imageLoadedInView",value:function(){var t=this;null!=this.loadedImage&&(this.imageLoaded.emit(this.loadedImage),this.setImageMaxSizeRetries=0,setTimeout(function(){return t.checkImageMaxSizeRecursively()}))}},{key:"checkImageMaxSizeRecursively",value:function(){var t=this;this.setImageMaxSizeRetries>40?this.loadImageFailed.emit():this.sourceImageLoaded()?(this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize(),this.resetCropperPosition(),this.cropperReady.emit(Object.assign({},this.maxSize)),this.cd.markForCheck()):(this.setImageMaxSizeRetries++,setTimeout(function(){return t.checkImageMaxSizeRecursively()},50))}},{key:"sourceImageLoaded",value:function(){return this.sourceImage&&this.sourceImage.nativeElement&&this.sourceImage.nativeElement.offsetWidth>0}},{key:"onResize",value:function(){this.loadedImage&&(this.resizeCropperPosition(),this.setMaxSize(),this.setCropperScaledMinSize(),this.setCropperScaledMaxSize())}},{key:"activatePinchGesture",value:function(){if(this.Hammer){var t=new this.Hammer(this.wrapper.nativeElement);t.get("pinch").set({enable:!0}),t.on("pinchmove",this.onPinch.bind(this)),t.on("pinchend",this.pinchStop.bind(this)),t.on("pinchstart",this.startPinch.bind(this))}else Object(h.X)()&&console.warn("[NgxImageCropper] Could not find HammerJS - Pinch Gesture won't work")}},{key:"resizeCropperPosition",value:function(){var t=this.sourceImage.nativeElement;this.maxSize.width===t.offsetWidth&&this.maxSize.height===t.offsetHeight||(this.cropper.x1=this.cropper.x1*t.offsetWidth/this.maxSize.width,this.cropper.x2=this.cropper.x2*t.offsetWidth/this.maxSize.width,this.cropper.y1=this.cropper.y1*t.offsetHeight/this.maxSize.height,this.cropper.y2=this.cropper.y2*t.offsetHeight/this.maxSize.height)}},{key:"resetCropperPosition",value:function(){this.cropperPositionService.resetCropperPosition(this.sourceImage,this.cropper,this.settings),this.doAutoCrop(),this.imageVisible=!0}},{key:"keyboardAccess",value:function(t){this.changeKeyboardStepSize(t),this.keyboardMoveCropper(t)}},{key:"changeKeyboardStepSize",value:function(t){t.key>="1"&&t.key<="9"&&(this.settings.stepSize=+t.key)}},{key:"keyboardMoveCropper",value:function(t){if(["ArrowUp","ArrowDown","ArrowRight","ArrowLeft"].includes(t.key)){var e=t.shiftKey?_c.Resize:_c.Move,n=t.altKey?function(t){switch(t){case"ArrowUp":return"bottom";case"ArrowRight":return"left";case"ArrowDown":return"top";case"ArrowLeft":default:return"right"}}(t.key):function(t){switch(t){case"ArrowUp":return"top";case"ArrowRight":return"right";case"ArrowDown":return"bottom";case"ArrowLeft":default:return"left"}}(t.key),r=function(t,e){switch(t){case"ArrowUp":return{clientX:0,clientY:-1*e};case"ArrowRight":return{clientX:e,clientY:0};case"ArrowDown":return{clientX:0,clientY:e};case"ArrowLeft":default:return{clientX:-1*e,clientY:0}}}(t.key,this.settings.stepSize);t.preventDefault(),t.stopPropagation(),this.startMove({clientX:0,clientY:0},e,n),this.moveImg(r),this.moveStop()}}},{key:"startMove",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.moveStart&&this.moveStart.active&&this.moveStart.type===_c.Pinch||(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:e,position:n,clientX:this.cropperPositionService.getClientX(t),clientY:this.cropperPositionService.getClientY(t)},this.cropper))}},{key:"startPinch",value:function(t){this.safeImgDataUrl&&(t.preventDefault&&t.preventDefault(),this.moveStart=Object.assign({active:!0,type:_c.Pinch,position:"center",clientX:this.cropper.x1+(this.cropper.x2-this.cropper.x1)/2,clientY:this.cropper.y1+(this.cropper.y2-this.cropper.y1)/2},this.cropper))}},{key:"moveImg",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===_c.Move?(this.cropperPositionService.move(t,this.moveStart,this.cropper),this.checkCropperPosition(!0)):this.moveStart.type===_c.Resize&&(this.cropperStaticWidth||this.cropperStaticHeight||this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"onPinch",value:function(t){this.moveStart.active&&(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),this.moveStart.type===_c.Pinch&&(this.cropperPositionService.resize(t,this.moveStart,this.cropper,this.maxSize,this.settings),this.checkCropperPosition(!1)),this.cd.detectChanges())}},{key:"setMaxSize",value:function(){if(this.sourceImage){var t=this.sourceImage.nativeElement;this.maxSize.width=t.offsetWidth,this.maxSize.height=t.offsetHeight,this.marginLeft=this.sanitizer.bypassSecurityTrustStyle("calc(50% - "+this.maxSize.width/2+"px)")}}},{key:"setCropperScaledMinSize",value:function(){this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image?(this.setCropperScaledMinWidth(),this.setCropperScaledMinHeight()):(this.settings.cropperScaledMinWidth=20,this.settings.cropperScaledMinHeight=20)}},{key:"setCropperScaledMinWidth",value:function(){this.settings.cropperScaledMinWidth=this.cropperMinWidth>0?Math.max(20,this.cropperMinWidth/this.loadedImage.transformed.image.width*this.maxSize.width):20}},{key:"setCropperScaledMinHeight",value:function(){this.settings.cropperScaledMinHeight=this.maintainAspectRatio?Math.max(20,this.settings.cropperScaledMinWidth/this.aspectRatio):this.cropperMinHeight>0?Math.max(20,this.cropperMinHeight/this.loadedImage.transformed.image.height*this.maxSize.height):20}},{key:"setCropperScaledMaxSize",value:function(){if(this.loadedImage&&this.loadedImage.transformed&&this.loadedImage.transformed.image){var t=this.loadedImage.transformed.size.width/this.maxSize.width;this.settings.cropperScaledMaxWidth=this.cropperMaxWidth>20?this.cropperMaxWidth/t:this.maxSize.width,this.settings.cropperScaledMaxHeight=this.cropperMaxHeight>20?this.cropperMaxHeight/t:this.maxSize.height,this.maintainAspectRatio&&(this.settings.cropperScaledMaxWidth>this.settings.cropperScaledMaxHeight*this.aspectRatio?this.settings.cropperScaledMaxWidth=this.settings.cropperScaledMaxHeight*this.aspectRatio:this.settings.cropperScaledMaxWidth<this.settings.cropperScaledMaxHeight*this.aspectRatio&&(this.settings.cropperScaledMaxHeight=this.settings.cropperScaledMaxWidth/this.aspectRatio))}else this.settings.cropperScaledMaxWidth=this.maxSize.width,this.settings.cropperScaledMaxHeight=this.maxSize.height}},{key:"checkCropperPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.cropper.x1<0&&(this.cropper.x2-=t?this.cropper.x1:0,this.cropper.x1=0),this.cropper.y1<0&&(this.cropper.y2-=t?this.cropper.y1:0,this.cropper.y1=0),this.cropper.x2>this.maxSize.width&&(this.cropper.x1-=t?this.cropper.x2-this.maxSize.width:0,this.cropper.x2=this.maxSize.width),this.cropper.y2>this.maxSize.height&&(this.cropper.y1-=t?this.cropper.y2-this.maxSize.height:0,this.cropper.y2=this.maxSize.height)}},{key:"moveStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"pinchStop",value:function(){this.moveStart.active&&(this.moveStart.active=!1,this.doAutoCrop())}},{key:"doAutoCrop",value:function(){this.autoCrop&&this.crop()}},{key:"crop",value:function(){if(this.sourceImage&&this.sourceImage.nativeElement&&null!=this.loadedImage.transformed.image){this.startCropImage.emit();var t=this.cropService.crop(this.sourceImage,this.loadedImage,this.cropper,this.settings);return null!=t&&this.imageCropped.emit(t),t}return null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(Cc),h.Nb(Ac),h.Nb(Oc),h.Nb(j),h.Nb(h.h))},t.\u0275cmp=h.Hb({type:t,selectors:[["image-cropper"]],viewQuery:function(t,e){var n;1&t&&(h.Ac(vc,3),h.Ac(mc,1)),2&t&&(h.lc(n=h.ac())&&(e.wrapper=n.first),h.lc(n=h.ac())&&(e.sourceImage=n.first))},hostVars:4,hostBindings:function(t,e){1&t&&h.Zb("resize",function(){return e.onResize()},!1,h.oc)("mousemove",function(t){return e.moveImg(t)},!1,h.nc)("touchmove",function(t){return e.moveImg(t)},!1,h.nc)("mouseup",function(){return e.moveStop()},!1,h.nc)("touchend",function(){return e.moveStop()},!1,h.nc),2&t&&(h.sc("text-align",e.alignImage),h.Fb("disabled",e.disabled))},inputs:{format:"format",transform:"transform",maintainAspectRatio:"maintainAspectRatio",aspectRatio:"aspectRatio",resizeToWidth:"resizeToWidth",resizeToHeight:"resizeToHeight",cropperMinWidth:"cropperMinWidth",cropperMinHeight:"cropperMinHeight",cropperMaxHeight:"cropperMaxHeight",cropperMaxWidth:"cropperMaxWidth",cropperStaticWidth:"cropperStaticWidth",cropperStaticHeight:"cropperStaticHeight",canvasRotation:"canvasRotation",initialStepSize:"initialStepSize",roundCropper:"roundCropper",onlyScaleDown:"onlyScaleDown",imageQuality:"imageQuality",autoCrop:"autoCrop",backgroundColor:"backgroundColor",containWithinAspectRatio:"containWithinAspectRatio",hideResizeSquares:"hideResizeSquares",cropper:"cropper",alignImage:"alignImage",disabled:"disabled",imageChangedEvent:"imageChangedEvent",imageURL:"imageURL",imageBase64:"imageBase64",imageFile:"imageFile"},outputs:{imageCropped:"imageCropped",startCropImage:"startCropImage",imageLoaded:"imageLoaded",cropperReady:"cropperReady",loadImageFailed:"loadImageFailed"},features:[h.Ab],decls:5,vars:10,consts:[["wrapper",""],["class","source-image",3,"src","visibility","transform","load",4,"ngIf"],[1,"overlay"],["class","cropper","tabindex","0",3,"rounded","top","left","width","height","margin-left","visibility","keydown",4,"ngIf"],[1,"source-image",3,"src","load"],["sourceImage",""],["tabindex","0",1,"cropper",3,"keydown"],[1,"move",3,"mousedown","touchstart"],[4,"ngIf"],[1,"resize","topleft",3,"mousedown","touchstart"],[1,"square"],[1,"resize","top"],[1,"resize","topright",3,"mousedown","touchstart"],[1,"resize","right"],[1,"resize","bottomright",3,"mousedown","touchstart"],[1,"resize","bottom"],[1,"resize","bottomleft",3,"mousedown","touchstart"],[1,"resize","left"],[1,"resize-bar","top",3,"mousedown","touchstart"],[1,"resize-bar","right",3,"mousedown","touchstart"],[1,"resize-bar","bottom",3,"mousedown","touchstart"],[1,"resize-bar","left",3,"mousedown","touchstart"]],template:function(t,e){1&t&&(h.Sb(0,"div",null,0),h.tc(2,yc,2,5,"img",1),h.Ob(3,"div",2),h.tc(4,wc,3,15,"div",3),h.Rb()),2&t&&(h.sc("background",e.imageVisible&&e.backgroundColor),h.Cb(2),h.hc("ngIf",e.safeImgDataUrl),h.Cb(1),h.sc("width",e.maxSize.width,"px")("height",e.maxSize.height,"px")("margin-left","center"===e.alignImage?e.marginLeft:null),h.Cb(1),h.hc("ngIf",e.imageVisible))},directives:[l.k],styles:['[_nghost-%COMP%]{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}[_nghost-%COMP%] > div[_ngcontent-%COMP%]{width:100%;position:relative}[_nghost-%COMP%] > div[_ngcontent-%COMP%]   img.source-image[_ngcontent-%COMP%]{max-width:100%;max-height:100%;transform-origin:center}[_nghost-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;pointer-events:none;touch-action:none;outline:var(--cropper-overlay-color,#fff) solid 100vw;top:0;left:0}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:after{position:absolute;content:"";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]:focus   .move[_ngcontent-%COMP%]{border-color:#1e90ff;border-width:2px}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topleft[_ngcontent-%COMP%]{top:-12px;left:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.top[_ngcontent-%COMP%]{top:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.topright[_ngcontent-%COMP%]{top:-12px;right:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.right[_ngcontent-%COMP%]{top:calc(50% - 12px);right:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomright[_ngcontent-%COMP%]{bottom:-12px;right:-12px;cursor:nwse-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottom[_ngcontent-%COMP%]{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.bottomleft[_ngcontent-%COMP%]{bottom:-12px;left:-12px;cursor:nesw-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize.left[_ngcontent-%COMP%]{top:calc(50% - 12px);left:-12px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{position:absolute;z-index:1}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.top[_ngcontent-%COMP%]{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.right[_ngcontent-%COMP%]{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.bottom[_ngcontent-%COMP%]{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar.left[_ngcontent-%COMP%]{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]{outline-color:transparent}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]{outline-width:100vh}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}[_nghost-%COMP%]   .cropper.rounded[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%]{border-radius:100%}.disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .move[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize[_ngcontent-%COMP%], .disabled[_nghost-%COMP%]   .cropper[_ngcontent-%COMP%]   .resize-bar[_ngcontent-%COMP%]{display:none}'],changeDetection:0}),t}(),kc=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({imports:[[l.b]]}),t}(),Rc=function(){function t(t){this._elementRef=t,this.clickOutside=new h.n}return t.prototype.onClick=function(t){var e=this._elementRef.nativeElement.contains(t)||t.classList.contains("inside");this.clickOutside.emit(e)},t.\u0275fac=function(e){return new(e||t)(h.Nb(h.l))},t.\u0275dir=h.Ib({type:t,selectors:[["","click-zone",""]],hostBindings:function(t,e){1&t&&h.Zb("click",function(t){return e.onClick(t.target)},!1,h.nc)},outputs:{clickOutside:"clickOutside"}}),t}(),Tc=["input"];function Mc(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",5),h.Sb(1,"calendar",6),h.Zb("onDateSelected",function(t){return h.pc(n),h.bc().onDaySelected(t)}),h.Rb(),h.Rb()}2&t&&(h.Cb(1),h.hc("mode","inline"))}var Nc=function(){function t(t){this.dateService=t,this.inputClasses="",this.onDateSelected=new h.n,this.isShowing=!1}return t.prototype.ngOnInit=function(){},t.prototype.onDaySelected=function(t){this.isShowing=!1,this.selectedDate=t,this.onDateSelected.emit(t)},t.prototype.onFocus=function(){this.isShowing=!0},t.prototype.hide=function(){this.isShowing=!1},t.prototype.getValue=function(){return this.input.nativeElement.value},t.prototype.clickOutside=function(t){void 0===t&&(t=!1),this.isShowing=t},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu))},t.\u0275cmp=h.Hb({type:t,selectors:[["date"]],viewQuery:function(t,e){var n;1&t&&h.Ac(Tc,3),2&t&&h.lc(n=h.ac())&&(e.input=n.first)},inputs:{selectedDate:"selectedDate",inputClasses:"inputClasses"},outputs:{onDateSelected:"onDateSelected"},decls:5,vars:3,consts:[["click-zone","",1,"iconed-input",3,"clickOutside"],[1,"frame","flexbox-parent-row"],[1,"ml-3","icon","fa","fa-calendar"],["type","text","name","date",1,"flexbox-item-grow",3,"value","placeholder","focus"],["id","calendar-container","class","form-group",4,"ngIf"],["id","calendar-container",1,"form-group"],["id","calendar",3,"mode","onDateSelected"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Zb("clickOutside",function(t){return e.clickOutside(t)}),h.Sb(1,"div",1),h.Ob(2,"i",2),h.Sb(3,"input",3),h.Zb("focus",function(){return e.onFocus()}),h.Rb(),h.Rb(),h.tc(4,Mc,2,1,"div",4),h.Rb()),2&t&&(h.Cb(3),h.hc("value",e.dateService.greToPersian(e.selectedDate))("placeholder",e.dateService.greToPersian(e.selectedDate)),h.Cb(1),h.hc("ngIf",e.isShowing))},directives:[Rc,l.k,Ju],styles:["#calendar[_ngcontent-%COMP%]{position:absolute;width:100%;background:#fff;z-index:10;right:0}#calendar-container[_ngcontent-%COMP%]{position:relative;margin:0}.frame[_ngcontent-%COMP%]{line-height:2.5}"]}),t}(),Pc=["gmap"],Dc=["searchBox"],xc=["address2"],Lc=["cropper"],Bc=["imageCropperModal"],Fc=["fileInput"];function jc(t,e){1&t&&(h.Sb(0,"span"),h.vc(1,"Times"),h.Rb())}function Uc(t,e){if(1&t&&(h.Sb(0,"option",59),h.vc(1),h.Rb()),2&t){var n=e.$implicit;h.hc("ngValue",n),h.Cb(1),h.wc(n)}}function Vc(t,e){if(1&t&&(h.Sb(0,"option",59),h.vc(1),h.Rb()),2&t){var n=e.$implicit;h.hc("ngValue",n),h.Cb(1),h.wc(n)}}function Hc(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",27),h.Sb(1,"label",6),h.tc(2,jc,2,0,"span",50),h.Rb(),h.Sb(3,"div",51),h.Sb(4,"date",52),h.Zb("onDateSelected",function(t){h.pc(n);var r=e.index;return h.bc().onDateSelected(r,t)}),h.Rb(),h.Rb(),h.Sb(5,"div",28),h.Sb(6,"select",53),h.Zb("ngModelChange",function(t){return e.$implicit.from=t}),h.Sb(7,"option",54),h.vc(8,"-- : --"),h.Rb(),h.tc(9,Uc,2,2,"option",55),h.Rb(),h.Rb(),h.Sb(10,"div",28),h.Sb(11,"select",56),h.Zb("ngModelChange",function(t){return e.$implicit.to=t}),h.Sb(12,"option",54),h.vc(13,"-- : --"),h.Rb(),h.tc(14,Vc,2,2,"option",55),h.Rb(),h.Rb(),h.Sb(15,"div",28),h.Sb(16,"button",57),h.Zb("click",function(t){h.pc(n);var r=e.index;return h.bc().removeDateTime(t,r)}),h.Ob(17,"i",58),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit,i=e.index,o=h.bc();h.Db("data-index",i),h.Cb(2),h.hc("ngIf",0===i),h.Cb(2),h.hc("inputClasses","form-control"),h.Cb(2),h.hc("ngModel",r.from),h.Cb(1),h.hc("value",null),h.Cb(2),h.hc("ngForOf",o.times),h.Cb(2),h.hc("ngModel",r.to),h.Cb(1),h.hc("value",null),h.Cb(2),h.hc("ngForOf",o.times),h.Cb(2),h.hc("disabled",1===o.event.times.length)}}function Wc(t,e){1&t&&h.Ob(0,"i",60)}function zc(t,e){if(1&t){var n=h.Tb();h.Sb(0,"i",61),h.Zb("click",function(){return h.pc(n),h.bc().removeImage()}),h.Rb()}}var Gc=function(){function t(t,e){this.dataService=t,this.navigationService=e,this.fileName="",this.imageChangedEvent="",this.croppedImage="",this.times=[],this.markers=[],this.event={times:[],title:"",venue:void 0,image:File,imageUrl:"",userId:-1},this.submitting=!1,this.name="Angular2"}return t.prototype.ngOnInit=function(){for(var t=0;t<24;t++)for(var e=0;e<12;e++)this.times.push((t<10?"0"+t:t)+":"+(e<2?"0"+5*e:5*e));this.event.times.push(new uc)},t.prototype.ngAfterViewInit=function(){var t={center:new google.maps.LatLng(18.5793,73.8143),zoom:15,mapTypeId:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this.gmapElement.nativeElement,t);var e=this.map,n=new google.maps.places.SearchBox(this.searchInput.nativeElement);e.addListener("bounds_changed",function(){n.setBounds(e.getBounds())});var r=this;n.addListener("places_changed",function(){var t=n.getPlaces();if(0!=t.length){r.markers.forEach(function(t){t.setMap(null)}),r.markers=[];var i=new google.maps.LatLngBounds;t.forEach(function(t){if(t.geometry){var n={url:t.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};r.markers.push(new google.maps.Marker({map:e,icon:n,title:t.name,position:t.geometry.location})),t.geometry.viewport?i.union(t.geometry.viewport):i.extend(t.geometry.location)}else console.log("Returned place contains no geometry")}),e.fitBounds(i)}})},t.prototype.fileChangeListener=function(t){var e=this,n=new Image,r=t.target.files[0],i=new FileReader;i.onloadend=function(t){n.src=t.target.result,e.imageChangedEvent=t},i.readAsDataURL(r)},t.prototype.imageCropped=function(t){this.event.imageUrl=t.base64},t.prototype.loadImageFailed=function(){console.log("failed")},t.prototype.addDateTime=function(t){this.event.times.push(new uc),console.log(this.markers),t.preventDefault()},t.prototype.onDateSelected=function(t,e){this.event.times[t].setDate(e)},t.prototype.removeDateTime=function(t,e){this.event.times.splice(e,1),event.preventDefault()},t.prototype.validateForm=function(){return!0},t.prototype.onSubmit=function(){var t=this;this.validateForm()&&(this.event.venue||(this.event.venue=new hc(-1,"",this.markers[0].getPosition().lat(),this.markers[0].getPosition().lng(),this.searchInput.nativeElement.value,this.address2.nativeElement.value,this.map.mapUrl)),this.submitting=!0,this.dataService.postTinyEvent(this.event).subscribe(function(e){t.submitting=!1,t.navigationService.navigate("/"),alert("slsl")},function(e){console.log(e),t.submitting=!1}))},t.prototype.fileChanged=function(t){var e=t.target.files[0];e&&(this.imageCropperModal.show(),this.imageChangedEvent=t,this.fileName=e.name,this.event.image=e)},t.prototype.removeImage=function(){this.fileName="",this.cropper.resetCropperPosition(),this.fileInput.nativeElement.value=""},t.prototype.onImageClick=function(){this.fileInput.nativeElement.click()},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(Zi))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-create-event"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Pc,3),h.Ac(Dc,3),h.Ac(xc,3),h.Ac(Lc,3),h.Ac(Bc,3),h.Ac(Fc,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.gmapElement=n.first),h.lc(n=h.ac())&&(e.searchInput=n.first),h.lc(n=h.ac())&&(e.address2=n.first),h.lc(n=h.ac())&&(e.cropper=n.first),h.lc(n=h.ac())&&(e.imageCropperModal=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first)}},decls:80,vars:15,consts:[[1,"container"],[1,"card","mt-5","mb-5"],[1,"card-body"],["ng-show","meetingStep==1",1,"form-horizontal"],[1,"row"],[1,"col-md-8","d-flex","flex-column"],[1,"col-sm-2","col-form-label"],[1,"col-sm-10"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"align-bottom","fa","fa-list"],["type","text","name","title","placeholder","Title",1,"form-control",3,"ngModel","ngModelChange"],[1,"align-bottom","fa","fa-image"],[1,"custom-file"],["type","file","id","inputGroupFile01","aria-describedby","inputGroupFileAddon01",1,"custom-file-input",3,"change"],["fileInput",""],["for","inputGroupFile01",1,"custom-file-label"],[3,"modalTitle","zIndex","maximizable"],["imageCropperModal",""],[1,"app-modal-body"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","loadImageFailed"],["cropper",""],[1,"app-modal-footer"],[1,"text-right"],["type","button",1,"btn","primary",3,"click"],["class","form-group row ",4,"ngFor","ngForOf"],[1,"form-group","row"],[1,"col-sm-2"],["href","#",3,"click"],[1,""],[1,"fa","fa-plus"],[1,"align-bottom","fa","fa-map-marker"],["type","text","size","80","ng-model","event.venue.farsiAddress1","name","title","placeholder","Addresss 1",1,"form-control"],["searchBox",""],["type","text","size","80","ng-model","event.venue.farsiAddress1","name","title","placeholder","Addresss 2",1,"form-control"],["address2",""],[1,"flex-grow-1"],["layout","row",1,""],["type","button",1,"btn","primary","pull-right",3,"disabled","click"],["class","fa fa-refresh fa-spin",4,"ngIf"],["type","button",1,"btn","secondary"],[1,"col-md-4","d-flex","flex-column"],[1,"col-md-12","image-container"],[1,"form-group","image-element",3,"src","width","height","click"],["class","fa fa-times image-remove",3,"click",4,"ngIf"],[1,"row","flex-grow-1"],[1,"col-sm-12"],["id","map",1,"h-100",2,"min-height","200px"],["gmap",""],[4,"ngIf"],[1,"col-sm-4"],[3,"inputClasses","onDateSelected"],["name","timeFrom",1,"form-control",3,"ngModel","ngModelChange"],["disabled","","selected","",3,"value"],[3,"ngValue",4,"ngFor","ngForOf"],["name","timeTo",1,"form-control",3,"ngModel","ngModelChange"],[1,"w-100","btn","secondary",3,"disabled","click"],[1,"fa","fa-times"],[3,"ngValue"],[1,"fa","fa-refresh","fa-spin"],[1,"fa","fa-times","image-remove",3,"click"]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"form",3),h.Sb(4,"div",4),h.Sb(5,"div",5),h.Sb(6,"div",4),h.Sb(7,"label",6),h.vc(8,"Title"),h.Rb(),h.Sb(9,"div",7),h.Sb(10,"div",8),h.Sb(11,"div",9),h.Sb(12,"span",10),h.Ob(13,"i",11),h.Rb(),h.Rb(),h.Sb(14,"input",12),h.Zb("ngModelChange",function(t){return e.event.title=t}),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(15,"div",4),h.Sb(16,"label",6),h.vc(17,"Image"),h.Rb(),h.Sb(18,"div",7),h.Sb(19,"div",8),h.Sb(20,"div",9),h.Sb(21,"span",10),h.Ob(22,"i",13),h.Rb(),h.Rb(),h.Sb(23,"div",14),h.Sb(24,"input",15,16),h.Zb("change",function(t){return e.fileChanged(t)}),h.Rb(),h.Sb(26,"label",17),h.vc(27),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(28,"modal",18,19),h.Qb(30,20),h.Sb(31,"image-cropper",21,22),h.Zb("imageCropped",function(t){return e.imageCropped(t)})("loadImageFailed",function(){return e.loadImageFailed()}),h.Rb(),h.Pb(),h.Qb(33,23),h.Sb(34,"div",24),h.Sb(35,"button",25),h.Zb("click",function(){return h.pc(n),h.mc(29).hide()}),h.vc(36,"OK"),h.Rb(),h.Rb(),h.Pb(),h.Rb(),h.tc(37,Hc,18,10,"div",26),h.Sb(38,"div",27),h.Ob(39,"div",28),h.Sb(40,"div",7),h.Sb(41,"a",29),h.Zb("click",function(t){return e.addDateTime(t)}),h.Sb(42,"span",30),h.Ob(43,"i",31),h.vc(44," Add Date"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(45,"div",4),h.Sb(46,"label",6),h.vc(47,"Location"),h.Rb(),h.Sb(48,"div",7),h.Sb(49,"div",8),h.Sb(50,"div",9),h.Sb(51,"span",10),h.Ob(52,"i",32),h.Rb(),h.Rb(),h.Ob(53,"input",33,34),h.Rb(),h.Rb(),h.Rb(),h.Sb(55,"div",4),h.Ob(56,"span",28),h.Sb(57,"div",7),h.Sb(58,"div",8),h.Sb(59,"div",9),h.Sb(60,"span",10),h.Ob(61,"i",32),h.Rb(),h.Rb(),h.Ob(62,"input",35,36),h.Rb(),h.Rb(),h.Rb(),h.Ob(64,"div",37),h.Sb(65,"div",38),h.Sb(66,"button",39),h.Zb("click",function(){return e.onSubmit()}),h.vc(67,"OK "),h.tc(68,Wc,1,0,"i",40),h.Rb(),h.Sb(69,"button",41),h.vc(70,"Cancel"),h.Rb(),h.Rb(),h.Rb(),h.Sb(71,"div",42),h.Sb(72,"div",4),h.Sb(73,"div",43),h.Sb(74,"img",44),h.Zb("click",function(){return e.onImageClick()}),h.Rb(),h.tc(75,zc,1,0,"i",45),h.Rb(),h.Rb(),h.Sb(76,"div",46),h.Sb(77,"div",47),h.Ob(78,"div",48,49),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}2&t&&(h.Cb(14),h.hc("ngModel",e.event.title),h.Cb(13),h.wc(e.fileName?e.fileName:"Select an image"),h.Cb(1),h.hc("modalTitle","Edit Image Size")("zIndex",5)("maximizable",!0),h.Cb(3),h.hc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1),h.Cb(6),h.hc("ngForOf",e.event.times),h.Cb(29),h.hc("disabled",e.submitting),h.Cb(2),h.hc("ngIf",e.submitting),h.Cb(6),h.hc("src","../assets/images/event-placeholder.png",h.qc)("width",e.croppedWidth)("height",e.croppedHeight),h.Cb(1),h.hc("ngIf",!1))},directives:[Fs,as,Ds,Ma,os,Bs,wa,Ic,l.j,l.k,Nc,Js,$s,ru],styles:[".image-container[_ngcontent-%COMP%]{position:relative}.image-element[_ngcontent-%COMP%]{width:100%;height:auto}.image-remove[_ngcontent-%COMP%]:hover{color:red}.image-remove[_ngcontent-%COMP%]{position:absolute;right:15px;top:0;background:hsla(0,0%,100%,.5686274509803921);border-radius:50%;margin:5px;cursor:pointer;padding:5px}"]}),t}();function Xc(t,e){if(1&t&&(h.Sb(0,"div"),h.Ob(1,"div"),h.Ob(2,"div"),h.Ob(3,"div"),h.Rb()),2&t){var n=h.bc();h.Eb("la-ball-scale-multiple  la-"+n.color+" "+n.sizeClass)}}var Zc=function(){function t(){this.showing=!1,this.color="dark",this.sizeClass="la-3x"}return t.prototype.ngOnInit=function(){switch(this.size){case"small":this.sizeClass="la-1x";break;case"medium":this.sizeClass="la-2x"}},t.prototype.show=function(){this.showing=!0},t.prototype.hide=function(){this.showing=!1},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["spinner"]],inputs:{showing:"showing",size:"size",color:"color"},decls:1,vars:1,consts:[[3,"class",4,"ngIf"]],template:function(t,e){1&t&&h.tc(0,Xc,4,2,"div",0),2&t&&h.hc("ngIf",e.showing)},directives:[l.k],styles:[".la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid}.la-ball-scale-multiple[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:ball-scale-multiple 1s linear 0s infinite;animation:ball-scale-multiple 1s linear 0s infinite}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.la-ball-scale-multiple[_ngcontent-%COMP%]{margin:0 auto}.small[_ngcontent-%COMP%]{width:20px;height:20px}"]}),t}();function qc(t,e){if(1&t){var n=h.Tb();h.Sb(0,"i",16),h.Zb("click",function(){h.pc(n);var t=h.bc().index;return h.bc().deleteComment(t)}),h.Rb()}}function Yc(t,e){if(1&t&&(h.Sb(0,"div",9),h.Ob(1,"img",10),h.Sb(2,"div",11),h.Sb(3,"div",12),h.vc(4),h.Rb(),h.Sb(5,"div",13),h.vc(6),h.Rb(),h.Sb(7,"span",14),h.vc(8,"14:23"),h.Rb(),h.Rb(),h.tc(9,qc,1,0,"i",15),h.Rb()),2&t){var n=e.$implicit,r=h.bc();h.Cb(1),h.hc("src",n.userImageUrl?n.userImageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.xc("",n.userName," "),h.Cb(2),h.xc(" ",n.text,""),h.Cb(3),h.hc("ngIf",!r.anonymous&&n.userId===r.authService.userId)}}function Kc(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",17),h.Sb(1,"a",18),h.Zb("click",function(t){return h.pc(n),h.bc().readComments(t)}),h.vc(2," \u0646\u0638\u0631\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 "),h.Ob(3,"i",19),h.Rb(),h.Rb()}}var Qc=function(){function t(t,e,n,r){this.authService=t,this.dataService=e,this.formBuilder=n,this.alertService=r,this.submitted=!1,this.rows=1,this.eventId=0,this.page=0,this.comments=[],this.loading=!1,this.anonymous=!1,this.uuid="",this.text="",this.noMoreComments=!1}return t.prototype.ngOnChanges=function(t){t.eventId.currentValue!==t.eventId.previousValue&&this.reset()},t.prototype.ngAfterViewInit=function(){},t.prototype.reset=function(){this.page=0,this.comments=[],this.readComments()},t.prototype.readComments=function(t){var e=this;void 0===t&&(t=void 0),t&&t.preventDefault(),(this.authService.isLoggedIn()?this.dataService.getComments(this.eventId,this.page++):this.dataService.getCommentsGuest(this.eventId,this.page++,this.uuid)).subscribe(function(t){var n;t&&"OK"===t.msg&&((n=e.comments).push.apply(n,t.object),t.object.length<5&&(e.noMoreComments=!0))},function(t){console.log(t)})},t.prototype.onSubmit=function(){this.submitted=!0,this.postComment()},t.prototype.postComment=function(){var t=this,e={text:this.text,eventId:this.eventId,uuid:this.uuid};this.loading=!0,this.dataService.postComment(e).subscribe(function(e){e&&"OK"===e.msg&&(t.comments.unshift(e.object),t.text="",t.submitted=!1),t.loading=!1},function(e){console.log(e),t.loading=!1})},t.prototype.deleteComment=function(t){var e=this;this.dataService.deleteComment(this.comments[t]).subscribe(function(n){"OK"===n.msg?e.comments.splice(t,1):e.alertService.error("\u0646\u0638\u0631 \u0634\u0645\u0627 \u067e\u0627\u06a9 \u0646\u0634\u062f. \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f.")},function(t){console.log(t)})},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(h.Nb(Gi),h.Nb(Iu),h.Nb(pu),h.Nb(ri))},t.\u0275cmp=h.Hb({type:t,selectors:[["comments"]],inputs:{eventId:"eventId",anonymous:"anonymous",uuid:"uuid",guest:"guest"},features:[h.Ab],decls:11,vars:4,consts:[[1,"comments","pt-2","mt-2","pb-2","mb-2"],[1,""],[1,"flexbox-parent-row"],[1,"ml-3","icon","fa","fa-comment"],["placeholder","\u0646\u0638\u0631\u062a\u0627\u0646 \u0631\u0627 \u0628\u0646\u0648\u06cc\u0633\u06cc\u062f...",1,"comment-textarea",3,"rows","ngModel","focus","blur","ngModelChange"],["textAreaElement",""],[1,"secondary","send-comment",3,"click"],["class","comment flexbox-parent-row",4,"ngFor","ngForOf"],["class","more-comments text-right",4,"ngIf"],[1,"comment","flexbox-parent-row"],[1,"rounded-circle","contact-image","ml-2",3,"src"],[1,"flexbox-item-grow","flexbox-parent-row","ml-2","mr-2","rtl","comment-content"],[1,"text-muted"],[1,"mr-2","flexbox-item-grow"],[1,"comment-time"],["class","fa fa-trash mt-2 action-icon-sm",3,"click",4,"ngIf"],[1,"fa","fa-trash","mt-2","action-icon-sm",3,"click"],[1,"more-comments","text-right"],["href","",1,"",3,"click"],[1,"fa","fa-angle-down","mr-2"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Ob(3,"i",3),h.Sb(4,"textarea",4,5),h.Zb("focus",function(){return e.rows=3})("blur",function(){return e.rows=1})("ngModelChange",function(t){return e.text=t}),h.Rb(),h.Sb(6,"button",6),h.Zb("click",function(){return e.onSubmit()}),h.vc(7,"\u0627\u0631\u0633\u0627\u0644"),h.Rb(),h.Rb(),h.Rb(),h.Sb(8,"div",1),h.tc(9,Yc,10,4,"div",7),h.tc(10,Kc,4,0,"div",8),h.Rb(),h.Rb()),2&t&&(h.Cb(4),h.hc("rows",e.rows)("ngModel",e.text),h.Cb(5),h.hc("ngForOf",e.comments),h.Cb(1),h.hc("ngIf",!e.noMoreComments))},directives:[Ma,os,Bs,l.j,l.k],styles:[".comment[_ngcontent-%COMP%]{padding:5px 0;font-size:12px}.comment[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid #ddd}.comment-time[_ngcontent-%COMP%]{font-size:10px;box-sizing:border-box;padding:0 3px;color:#000;font-weight:900;margin-right:6px}.comment-content[_ngcontent-%COMP%]{padding-top:10px}.delete-comment[_ngcontent-%COMP%]:hover{background:grey;color:#fff;cursor:pointer}.more-comments[_ngcontent-%COMP%]{cursor:pointer}.comment-textarea[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.send-comment[_ngcontent-%COMP%]{height:auto;border-top-right-radius:0;border-bottom-right-radius:0}"]}),t}(),Jc=n("D0XW"),$c=n("Y7HM");function tl(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function el(t,e,n){return n?el(t,e).pipe(Object(bt.a)(function(t){return Object(it.a)(t)?n.apply(void 0,Object(J.a)(t)):n(t)})):new ht.a(function(n){var r,i=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return n.next(1===e.length?e[0]:e)};try{r=t(i)}catch(o){return void n.error(o)}if(Object(so.a)(e))return function(){return e(i,r)}})}var nl=n("qgXg"),rl=n("pxpQ"),il=n("Ylt2"),ol=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return Object(a.a)(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return Object(s.a)(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}Object(i.a)(Object(o.a)(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new al(this._getNow(),t)),this._trimBufferThenGetEvents()),Object(i.a)(Object(o.a)(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new et.a;if(this.isStopped||this.hasError?e=Qt.a.EMPTY:(this.observers.push(t),e=new il.a(this,t)),i&&t.add(t=new rl.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||nl.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(G.a),al=function t(e,n){Object(a.a)(this,t),this.time=e,this.value=n};n("8Qeq");var sl=function(){function t(e){Object(a.a)(this,t),this.notifier=e}return Object(s.a)(t,[{key:"call",value:function(t,e){var n=new ul(t),r=e.subscribe(n);return r.add(Object(Mt.c)(this.notifier,new Mt.a(n))),r}}]),t}(),ul=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t;return Object(a.a)(this,n),(t=e.apply(this,arguments)).hasValue=!1,t}return Object(s.a)(n,[{key:"_next",value:function(t){this.value=t,this.hasValue=!0}},{key:"notifyNext",value:function(){this.emitValue()}},{key:"notifyComplete",value:function(){this.emitValue()}},{key:"emitValue",value:function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}]),n}(Mt.b);function cl(t){return function(e){return e.lift(new hl(t))}}n("/uUt");var ll,hl=function(){function t(e){Object(a.a)(this,t),this.total=e}return Object(s.a)(t,[{key:"call",value:function(t,e){return e.subscribe(new fl(t,this.total))}}]),t}(),fl=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(t,r){var i;return Object(a.a)(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return Object(s.a)(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(_t.a),dl=(n("oB13"),["*"]),pl=function(){var t=function t(){Object(a.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),gl=function(){var t=function(){function t(e,n){var r=this;Object(a.a)(this,t),this._loader=e,this._zone=n,this._map=new Promise(function(t){r._mapResolver=t})}return Object(s.a)(t,[{key:"createMap",value:function(t,e){var n=this;return this._zone.runOutsideAngular(function(){return n._loader.load().then(function(){var r=new google.maps.Map(t,e);n._mapResolver(r)})})}},{key:"setMapOptions",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){e._map.then(function(e){e.setOptions(t)})})}},{key:"createMarker",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._zone.runOutsideAngular(function(){return t._map.then(function(t){return n&&(e.map=t),new google.maps.Marker(e)})})}},{key:"createInfoWindow",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(){return new google.maps.InfoWindow(t)})})}},{key:"createCircle",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(e){return"string"==typeof t.strokePosition&&(t.strokePosition=google.maps.StrokePosition[t.strokePosition]),t.map=e,new google.maps.Circle(t)})})}},{key:"createRectangle",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(e){return t.map=e,new google.maps.Rectangle(t)})})}},{key:"createPolyline",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e.getNativeMap().then(function(e){var n=new google.maps.Polyline(t);return n.setMap(e),n})})}},{key:"createPolygon",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e.getNativeMap().then(function(e){var n=new google.maps.Polygon(t);return n.setMap(e),n})})}},{key:"createDataLayer",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(e){var n=new google.maps.Data(t);return n.setMap(e),n})})}},{key:"createTransitLayer",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(e){var n=new google.maps.TransitLayer;return n.setMap(t.visible?e:null),n})})}},{key:"createBicyclingLayer",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(e){var n=new google.maps.BicyclingLayer;return n.setMap(t.visible?e:null),n})})}},{key:"containsLocation",value:function(t,e){return google.maps.geometry.poly.containsLocation(t,e)}},{key:"subscribeToMapEvent",value:function(t){var e=this;return new ht.a(function(n){e._map.then(function(r){r.addListener(t,function(t){e._zone.run(function(){return n.next(t)})})})})}},{key:"clearInstanceListeners",value:function(){var t=this;return this._zone.runOutsideAngular(function(){t._map.then(function(t){google.maps.event.clearInstanceListeners(t)})})}},{key:"setCenter",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(e){return e.setCenter(t)})})}},{key:"getZoom",value:function(){var t=this;return this._zone.runOutsideAngular(function(){return t._map.then(function(t){return t.getZoom()})})}},{key:"getBounds",value:function(){var t=this;return this._zone.runOutsideAngular(function(){return t._map.then(function(t){return t.getBounds()})})}},{key:"getMapTypeId",value:function(){var t=this;return this._zone.runOutsideAngular(function(){return t._map.then(function(t){return t.getMapTypeId()})})}},{key:"setZoom",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(e){return e.setZoom(t)})})}},{key:"getCenter",value:function(){var t=this;return this._zone.runOutsideAngular(function(){return t._map.then(function(t){return t.getCenter()})})}},{key:"panTo",value:function(t){var e=this;return this._zone.runOutsideAngular(function(){return e._map.then(function(e){return e.panTo(t)})})}},{key:"panBy",value:function(t,e){var n=this;return this._zone.runOutsideAngular(function(){return n._map.then(function(n){return n.panBy(t,e)})})}},{key:"fitBounds",value:function(t,e){var n=this;return this._zone.runOutsideAngular(function(){return n._map.then(function(n){return n.fitBounds(t,e)})})}},{key:"panToBounds",value:function(t,e){var n=this;return this._zone.runOutsideAngular(function(){return n._map.then(function(n){return n.panToBounds(t,e)})})}},{key:"getNativeMap",value:function(){return this._map}},{key:"triggerMapEvent",value:function(t){return this._map.then(function(e){return google.maps.event.trigger(e,t)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(pl),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[pl,h.A])],t)}(),vl=function(){var t=function(){function t(e){Object(a.a)(this,t),this._wrapper=e,this._layers=new Map}return Object(s.a)(t,[{key:"addTransitLayer",value:function(t,e){var n=this._wrapper.createTransitLayer(e);this._layers.set(t,n)}},{key:"addBicyclingLayer",value:function(t,e){var n=this._wrapper.createBicyclingLayer(e);this._layers.set(t,n)}},{key:"deleteLayer",value:function(t){var e=this;return this._layers.get(t).then(function(n){n.setMap(null),e._layers.delete(t)})}},{key:"toggleLayerVisibility",value:function(t,e){var n=this;return this._layers.get(t).then(function(t){return e.visible?n._wrapper.getNativeMap().then(function(e){t.setMap(e)}):void t.setMap(null)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[gl])],t)}(),ml=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this._apiWrapper=e,this._zone=n,this._circles=new Map}return Object(s.a)(t,[{key:"addCircle",value:function(t){this._circles.set(t,this._apiWrapper.createCircle({center:{lat:t.latitude,lng:t.longitude},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,radius:t.radius,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))}},{key:"removeCircle",value:function(t){var e=this;return this._circles.get(t).then(function(n){n.setMap(null),e._circles.delete(t)})}},{key:"setOptions",value:function(t,e){return this._circles.get(t).then(function(t){"string"==typeof e.strokePosition&&(e.strokePosition=google.maps.StrokePosition[e.strokePosition]),t.setOptions(e)})}},{key:"getBounds",value:function(t){return this._circles.get(t).then(function(t){return t.getBounds()})}},{key:"getCenter",value:function(t){return this._circles.get(t).then(function(t){return t.getCenter()})}},{key:"getRadius",value:function(t){return this._circles.get(t).then(function(t){return t.getRadius()})}},{key:"setCenter",value:function(t){return this._circles.get(t).then(function(e){return e.setCenter({lat:t.latitude,lng:t.longitude})})}},{key:"setEditable",value:function(t){return this._circles.get(t).then(function(e){return e.setEditable(t.editable)})}},{key:"setDraggable",value:function(t){return this._circles.get(t).then(function(e){return e.setDraggable(t.draggable)})}},{key:"setVisible",value:function(t){return this._circles.get(t).then(function(e){return e.setVisible(t.visible)})}},{key:"setRadius",value:function(t){return this._circles.get(t).then(function(e){return e.setRadius(t.radius)})}},{key:"getNativeCircle",value:function(t){return this._circles.get(t)}},{key:"createEventObservable",value:function(t,e){var n=this;return new ht.a(function(r){var i=null;return n._circles.get(e).then(function(e){i=e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})}),function(){null!==i&&i.remove()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[gl,h.A])],t)}(),yl=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this._wrapper=e,this._zone=n,this._layers=new Map}return Object(s.a)(t,[{key:"addDataLayer",value:function(t){var e=this,n=this._wrapper.createDataLayer({style:t.style}).then(function(n){return t.geoJson&&e.getDataFeatures(n,t.geoJson).then(function(t){return n.features=t}),n});this._layers.set(t,n)}},{key:"deleteDataLayer",value:function(t){var e=this;this._layers.get(t).then(function(n){n.setMap(null),e._layers.delete(t)})}},{key:"updateGeoJson",value:function(t,e){var n=this;this._layers.get(t).then(function(t){t.forEach(function(e){t.remove(e);var n=t.features.indexOf(e,0);n>-1&&t.features.splice(n,1)}),n.getDataFeatures(t,e).then(function(e){return t.features=e})})}},{key:"setDataOptions",value:function(t,e){this._layers.get(t).then(function(t){t.setControlPosition(e.controlPosition),t.setControls(e.controls),t.setDrawingMode(e.drawingMode),t.setStyle(e.style)})}},{key:"createEventObservable",value:function(t,e){var n=this;return new ht.a(function(r){n._layers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})}},{key:"getDataFeatures",value:function(t,e){return new Promise(function(n,r){if("object"==typeof e)try{n(t.addGeoJson(e))}catch(i){r(i)}else"string"==typeof e?t.loadGeoJson(e,null,n):r("Impossible to extract features from geoJson: wrong argument type")})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[gl,h.A])],t)}(),bl=function t(){Object(a.a)(this,t)},wl=function(){var t=function(){function t(e){var n,r,i=this;Object(a.a)(this,t),this._boundsChangeSampleTime$=new nt(200),this._includeInBounds$=new nt(new Map),this.bounds$=Object($.a)(e.load()).pipe(Object(xt.a)(function(){return i._includeInBounds$}),(n=this._boundsChangeSampleTime$.pipe(Object(wt.a)(function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object($c.a)(e)?r=Number(e)<1?1:Number(e):Object(rt.a)(e)&&(n=e),Object(rt.a)(n)||(n=Jc.a),new ht.a(function(e){var i=Object($c.a)(t)?t:+t-n.now();return n.schedule(tl,i,{index:0,period:r,subscriber:e})})}(0,t)})),function(t){return t.lift(new sl(n))}),Object(bt.a)(function(t){return i._generateBounds(t)}),(1,r={bufferSize:1,windowTime:undefined,refCount:!1,scheduler:undefined},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){var r;c++,!e||l?(l=!1,e=new ol(i,a,u),r=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):r=e.subscribe(this),this.add(function(){c--,r.unsubscribe(),r=void 0,n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}))}return Object(s.a)(t,[{key:"_generateBounds",value:function(t){var e=new google.maps.LatLngBounds;return t.forEach(function(t){return e.extend(t)}),e}},{key:"addToBounds",value:function(t){var e=this._createIdentifier(t);if(!this._includeInBounds$.value.has(e)){var n=this._includeInBounds$.value;n.set(e,t),this._includeInBounds$.next(n)}}},{key:"removeFromBounds",value:function(t){var e=this._includeInBounds$.value;e.delete(this._createIdentifier(t)),this._includeInBounds$.next(e)}},{key:"changeFitBoundsChangeSampleTime",value:function(t){this._boundsChangeSampleTime$.next(t)}},{key:"getBounds$",value:function(){return this.bounds$}},{key:"_createIdentifier",value:function(t){return"".concat(t.lat,"+").concat(t.lng)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(pl))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[pl])],t)}(),_l=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this._mapsWrapper=e,this._zone=n,this._markers=new Map}return Object(s.a)(t,[{key:"convertAnimation",value:function(t){return gc(this,void 0,void 0,Ca.a.mark(function e(){return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=4;break}return e.abrupt("return",null);case 4:return e.abrupt("return",this._mapsWrapper.getNativeMap().then(function(){return google.maps.Animation[t]}));case 5:case"end":return e.stop()}},e,this)}))}},{key:"deleteMarker",value:function(t){var e=this,n=this._markers.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._markers.delete(t)})})}},{key:"updateMarkerPosition",value:function(t){return this._markers.get(t).then(function(e){return e.setPosition({lat:t.latitude,lng:t.longitude})})}},{key:"updateTitle",value:function(t){return this._markers.get(t).then(function(e){return e.setTitle(t.title)})}},{key:"updateLabel",value:function(t){return this._markers.get(t).then(function(e){e.setLabel(t.label)})}},{key:"updateDraggable",value:function(t){return this._markers.get(t).then(function(e){return e.setDraggable(t.draggable)})}},{key:"updateIcon",value:function(t){return this._markers.get(t).then(function(e){return e.setIcon(t.iconUrl)})}},{key:"updateOpacity",value:function(t){return this._markers.get(t).then(function(e){return e.setOpacity(t.opacity)})}},{key:"updateVisible",value:function(t){return this._markers.get(t).then(function(e){return e.setVisible(t.visible)})}},{key:"updateZIndex",value:function(t){return this._markers.get(t).then(function(e){return e.setZIndex(t.zIndex)})}},{key:"updateClickable",value:function(t){return this._markers.get(t).then(function(e){return e.setClickable(t.clickable)})}},{key:"updateAnimation",value:function(t){return gc(this,void 0,void 0,Ca.a.mark(function e(){return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._markers.get(t);case 2:return e.t0=e.sent,e.next=6,this.convertAnimation(t.animation);case 6:e.t1=e.sent,e.t0.setAnimation.call(e.t0,e.t1);case 8:case"end":return e.stop()}},e,this)}))}},{key:"addMarker",value:function(t){var e=this,n=new Promise(function(n){return gc(e,void 0,void 0,Ca.a.mark(function e(){return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this._mapsWrapper,e.t1={lat:t.latitude,lng:t.longitude},e.t2=t.label,e.t3=t.draggable,e.t4=t.iconUrl,e.t5=t.opacity,e.t6=t.visible,e.t7=t.zIndex,e.t8=t.title,e.t9=t.clickable,e.next=12,this.convertAnimation(t.animation);case 12:return e.t10=e.sent,e.t11={position:e.t1,label:e.t2,draggable:e.t3,icon:e.t4,opacity:e.t5,visible:e.t6,zIndex:e.t7,title:e.t8,clickable:e.t9,animation:e.t10},e.abrupt("return",e.t0.createMarker.call(e.t0,e.t11).then(n));case 15:case"end":return e.stop()}},e,this)}))});this._markers.set(t,n)}},{key:"getNativeMarker",value:function(t){return this._markers.get(t)}},{key:"createEventObservable",value:function(t,e){var n=this;return new ht.a(function(r){n._markers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[gl,h.A])],t)}(),Cl=function(){var t=function(){function t(e,n,r){Object(a.a)(this,t),this._mapsWrapper=e,this._zone=n,this._markerManager=r,this._infoWindows=new Map}return Object(s.a)(t,[{key:"deleteInfoWindow",value:function(t){var e=this,n=this._infoWindows.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.close(),e._infoWindows.delete(t)})})}},{key:"setPosition",value:function(t){return this._infoWindows.get(t).then(function(e){return e.setPosition({lat:t.latitude,lng:t.longitude})})}},{key:"setZIndex",value:function(t){return this._infoWindows.get(t).then(function(e){return e.setZIndex(t.zIndex)})}},{key:"open",value:function(t){var e=this;return this._infoWindows.get(t).then(function(n){return null!=t.hostMarker?e._markerManager.getNativeMarker(t.hostMarker).then(function(t){return e._mapsWrapper.getNativeMap().then(function(e){return n.open(e,t)})}):e._mapsWrapper.getNativeMap().then(function(t){return n.open(t)})})}},{key:"close",value:function(t){return this._infoWindows.get(t).then(function(t){return t.close()})}},{key:"setOptions",value:function(t,e){return this._infoWindows.get(t).then(function(t){return t.setOptions(e)})}},{key:"addInfoWindow",value:function(t){var e={content:t.content,maxWidth:t.maxWidth,zIndex:t.zIndex,disableAutoPan:t.disableAutoPan};"number"==typeof t.latitude&&"number"==typeof t.longitude&&(e.position={lat:t.latitude,lng:t.longitude});var n=this._mapsWrapper.createInfoWindow(e);this._infoWindows.set(t,n)}},{key:"createEventObservable",value:function(t,e){var n=this;return new ht.a(function(r){n._infoWindows.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl),h.Wb(h.A),h.Wb(_l))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[gl,h.A,_l])],t)}(),Sl=0,El=function(){var t=ll=function(){function t(e,n){Object(a.a)(this,t),this._infoWindowManager=e,this._el=n,this.isOpen=!1,this.infoWindowClose=new h.n,this._infoWindowAddedToManager=!1,this._id=(Sl++).toString()}return Object(s.a)(t,[{key:"ngOnInit",value:function(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}},{key:"ngOnChanges",value:function(t){this._infoWindowAddedToManager&&((t.latitude||t.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),t.zIndex&&this._infoWindowManager.setZIndex(this),t.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(t))}},{key:"_registerEventListeners",value:function(){var t=this;this._infoWindowManager.createEventObservable("closeclick",this).subscribe(function(){t.isOpen=!1,t.infoWindowClose.emit()})}},{key:"_updateOpenState",value:function(){this.isOpen?this.open():this.close()}},{key:"_setInfoWindowOptions",value:function(t){var e={};Object.keys(t).filter(function(t){return-1!==ll._infoWindowOptionsInputs.indexOf(t)}).forEach(function(n){e[n]=t[n].currentValue}),this._infoWindowManager.setOptions(this,e)}},{key:"open",value:function(){return this._infoWindowManager.open(this)}},{key:"close",value:function(){var t=this;return this._infoWindowManager.close(this).then(function(){t.infoWindowClose.emit()})}},{key:"id",value:function(){return this._id}},{key:"toString",value:function(){return"AgmInfoWindow-"+this._id.toString()}},{key:"ngOnDestroy",value:function(){this._infoWindowManager.deleteInfoWindow(this)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(Cl),h.Nb(h.l))},t.\u0275cmp=h.Hb({type:t,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[h.Ab],ngContentSelectors:dl,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(t,e){1&t&&(h.gc(),h.Sb(0,"div",0),h.fc(1),h.Rb())},encapsulation:2}),t._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],t=ll=fc([pc("design:paramtypes",[Cl,h.l])],t)}(),Ol=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this._wrapper=e,this._zone=n,this._layers=new Map}return Object(s.a)(t,[{key:"addKmlLayer",value:function(t){var e=this._wrapper.getNativeMap().then(function(e){return new google.maps.KmlLayer({clickable:t.clickable,map:e,preserveViewport:t.preserveViewport,screenOverlays:t.screenOverlays,suppressInfoWindows:t.suppressInfoWindows,url:t.url,zIndex:t.zIndex})});this._layers.set(t,e)}},{key:"setOptions",value:function(t,e){this._layers.get(t).then(function(t){return t.setOptions(e)})}},{key:"deleteKmlLayer",value:function(t){var e=this;this._layers.get(t).then(function(n){n.setMap(null),e._layers.delete(t)})}},{key:"createEventObservable",value:function(t,e){var n=this;return new ht.a(function(r){n._layers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[gl,h.A])],t)}();function Al(t){var e=["insert_at","remove_at","set_at"];return el(function(n){return e.map(function(e){return t.addListener(e,function(r,i){return n.apply(t,[{newArr:t.getArray(),evName:e,index:r,previous:i}])})})},function(t,e){return e.forEach(function(t){return t.remove()})})}var Il,kl,Rl,Tl,Ml=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this._mapsWrapper=e,this._zone=n,this._polygons=new Map}return Object(s.a)(t,[{key:"addPolygon",value:function(t){var e=this._mapsWrapper.createPolygon({clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,geodesic:t.geodesic,paths:t.paths,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex});this._polygons.set(t,e)}},{key:"updatePolygon",value:function(t){var e=this,n=this._polygons.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setPaths(t.paths)})})}},{key:"setPolygonOptions",value:function(t,e){return this._polygons.get(t).then(function(t){t.setOptions(e)})}},{key:"deletePolygon",value:function(t){var e=this,n=this._polygons.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._polygons.delete(t)})})}},{key:"getPath",value:function(t){return this._polygons.get(t).then(function(t){return t.getPath().getArray()})}},{key:"getPaths",value:function(t){return this._polygons.get(t).then(function(t){return t.getPaths().getArray().map(function(t){return t.getArray()})})}},{key:"createEventObservable",value:function(t,e){var n=this;return new ht.a(function(r){n._polygons.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})}},{key:"createPathEventObservable",value:function(t){return gc(this,void 0,void 0,Ca.a.mark(function e(){var n,r;return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._polygons.get(t);case 2:return n=e.sent.getPaths(),r=Al(n),e.abrupt("return",r.pipe(At({newArr:n.getArray()}),Object(wt.a)(function(t){return ao.a.apply(void 0,Object(J.a)(t.newArr.map(function(e,n){return Al(e).pipe(Object(bt.a)(function(e){return{parentMVEvent:t,chMVCEvent:e,pathIndex:n}}))}))).pipe(At({parentMVEvent:t,chMVCEvent:null,pathIndex:null}))}),cl(1),Object(bt.a)(function(t){var e,n=t.parentMVEvent,r=t.chMVCEvent,i=t.pathIndex;return r?(e={newArr:n.newArr.map(function(t){return t.getArray().map(function(t){return t.toJSON()})}),pathIndex:i,eventName:r.evName,index:r.index},r.previous&&(e.previous=r.previous)):(e={newArr:n.newArr.map(function(t){return t.getArray().map(function(t){return t.toJSON()})}),eventName:n.evName,index:n.index},n.previous&&(e.previous=n.previous.getArray())),e})));case 6:case"end":return e.stop()}},e,this)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[gl,h.A])],t)}(),Nl=function(){var t=Il=function(){function t(e,n){Object(a.a)(this,t),this._mapsWrapper=e,this._zone=n,this._polylines=new Map}return Object(s.a)(t,[{key:"addPolyline",value:function(t){var e=this,n=this._mapsWrapper.getNativeMap().then(function(){return[Il._convertPoints(t),Il._convertIcons(t)]}).then(function(n){var r=Object(li.a)(n,2);return e._mapsWrapper.createPolyline({clickable:t.clickable,draggable:t.draggable,editable:t.editable,geodesic:t.geodesic,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex,path:r[0],icons:r[1]})});this._polylines.set(t,n)}},{key:"updatePolylinePoints",value:function(t){var e=this,n=Il._convertPoints(t),r=this._polylines.get(t);return null==r?Promise.resolve():r.then(function(t){return e._zone.run(function(){t.setPath(n)})})}},{key:"updateIconSequences",value:function(t){return gc(this,void 0,void 0,Ca.a.mark(function e(){var n,r,i=this;return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._mapsWrapper.getNativeMap();case 2:if(n=Il._convertIcons(t),null!=(r=this._polylines.get(t))){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",r.then(function(t){return i._zone.run(function(){return t.setOptions({icons:n})})}));case 7:case"end":return e.stop()}},e,this)}))}},{key:"setPolylineOptions",value:function(t,e){return this._polylines.get(t).then(function(t){t.setOptions(e)})}},{key:"deletePolyline",value:function(t){var e=this,n=this._polylines.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._polylines.delete(t)})})}},{key:"getMVCPath",value:function(t){return gc(this,void 0,void 0,Ca.a.mark(function e(){return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._polylines.get(t);case 2:return e.abrupt("return",e.sent.getPath());case 4:case"end":return e.stop()}},e,this)}))}},{key:"getPath",value:function(t){return gc(this,void 0,void 0,Ca.a.mark(function e(){return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMVCPath(t);case 2:return e.abrupt("return",e.sent.getArray());case 3:case"end":return e.stop()}},e,this)}))}},{key:"createEventObservable",value:function(t,e){var n=this;return new ht.a(function(r){n._polylines.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})}},{key:"createPathEventObservable",value:function(t){return gc(this,void 0,void 0,Ca.a.mark(function e(){return Ca.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMVCPath(t);case 2:return e.abrupt("return",Al(e.sent));case 4:case"end":return e.stop()}},e,this)}))}}],[{key:"_convertPoints",value:function(t){return t._getPoints().map(function(t){return{lat:t.latitude,lng:t.longitude}})}},{key:"_convertPath",value:function(t){var e=google.maps.SymbolPath[t];return"number"==typeof e?e:t}},{key:"_convertIcons",value:function(t){var e=t._getIcons().map(function(t){return{fixedRotation:t.fixedRotation,offset:t.offset,repeat:t.repeat,icon:{anchor:new google.maps.Point(t.anchorX,t.anchorY),fillColor:t.fillColor,fillOpacity:t.fillOpacity,path:Il._convertPath(t.path),rotation:t.rotation,scale:t.scale,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight}}});return e.forEach(function(t){Object.entries(t).forEach(function(e){var n=Object(li.a)(e,2);void 0===n[1]&&delete t[n[0]]}),void 0!==t.icon.anchor.x&&void 0!==t.icon.anchor.y||delete t.icon.anchor}),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=Il=fc([pc("design:paramtypes",[gl,h.A])],t)}(),Pl=function(){var t=function(){function t(e,n){Object(a.a)(this,t),this._apiWrapper=e,this._zone=n,this._rectangles=new Map}return Object(s.a)(t,[{key:"addRectangle",value:function(t){this._rectangles.set(t,this._apiWrapper.createRectangle({bounds:{north:t.north,east:t.east,south:t.south,west:t.west},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))}},{key:"removeRectangle",value:function(t){var e=this;return this._rectangles.get(t).then(function(n){n.setMap(null),e._rectangles.delete(t)})}},{key:"setOptions",value:function(t,e){return this._rectangles.get(t).then(function(t){return t.setOptions(e)})}},{key:"getBounds",value:function(t){return this._rectangles.get(t).then(function(t){return t.getBounds()})}},{key:"setBounds",value:function(t){return this._rectangles.get(t).then(function(e){return e.setBounds({north:t.north,east:t.east,south:t.south,west:t.west})})}},{key:"setEditable",value:function(t){return this._rectangles.get(t).then(function(e){return e.setEditable(t.editable)})}},{key:"setDraggable",value:function(t){return this._rectangles.get(t).then(function(e){return e.setDraggable(t.draggable)})}},{key:"setVisible",value:function(t){return this._rectangles.get(t).then(function(e){return e.setVisible(t.visible)})}},{key:"createEventObservable",value:function(t,e){var n=this;return ht.a.create(function(r){var i=null;return n._rectangles.get(e).then(function(e){i=e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})}),function(){null!==i&&i.remove()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Wb(gl),h.Wb(h.A))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([pc("design:paramtypes",[gl,h.A])],t)}(),Dl=function(){var t=kl=function(){function t(e,n,r,i,o){Object(a.a)(this,t),this._elem=e,this._mapsWrapper=n,this._platformId=r,this._fitBoundsService=i,this._zone=o,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new h.n,this.mapRightClick=new h.n,this.mapDblClick=new h.n,this.centerChange=new h.n,this.boundsChange=new h.n,this.mapTypeIdChange=new h.n,this.idle=new h.n,this.zoomChange=new h.n,this.mapReady=new h.n,this.tilesLoaded=new h.n}return Object(s.a)(t,[{key:"ngOnInit",value:function(){if(!Object(l.q)(this._platformId)){var t=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(t)}}},{key:"_initMapInstance",value:function(t){var e=this;this._mapsWrapper.createMap(t,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(function(){return e._mapsWrapper.getNativeMap()}).then(function(t){return e.mapReady.emit(t)}),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}},{key:"ngOnDestroy",value:function(){this._observableSubscriptions.forEach(function(t){return t.unsubscribe()}),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(t){this._updateMapOptionsChanges(t),this._updatePosition(t)}},{key:"_updateMapOptionsChanges",value:function(t){var e={};Object.keys(t).filter(function(t){return-1!==kl._mapOptionsAttributes.indexOf(t)}).forEach(function(n){e[n]=t[n].currentValue}),this._mapsWrapper.setMapOptions(e)}},{key:"triggerResize",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(n){setTimeout(function(){return t._mapsWrapper.triggerMapEvent("resize").then(function(){e&&(null!=t.fitBounds?t._fitBounds():t._setCenter()),n()})})})}},{key:"_updatePosition",value:function(t){(null!=t.latitude||null!=t.longitude||t.fitBounds)&&("fitBounds"in t?this._fitBounds():"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._setCenter())}},{key:"_setCenter",value:function(){var t={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(t):this._mapsWrapper.setCenter(t)}},{key:"_fitBounds",value:function(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}},{key:"_subscribeToFitBoundsUpdates",value:function(){var t=this;this._zone.runOutsideAngular(function(){t._fitBoundsSubscription=t._fitBoundsService.getBounds$().subscribe(function(e){t._zone.run(function(){return t._updateBounds(e,t.fitBoundsPadding)})})})}},{key:"_updateBounds",value:function(t,e){if(t){if(this._isLatLngBoundsLiteral(t)&&"undefined"!=typeof google&&google&&google.maps&&google.maps.LatLngBounds){var n=new google.maps.LatLngBounds;n.union(t),t=n}this.usePanning?this._mapsWrapper.panToBounds(t,e):this._mapsWrapper.fitBounds(t,e)}}},{key:"_isLatLngBoundsLiteral",value:function(t){return null!=t&&void 0===t.extend}},{key:"_handleMapCenterChange",value:function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(function(){t._mapsWrapper.getCenter().then(function(e){t.latitude=e.lat(),t.longitude=e.lng(),t.centerChange.emit({lat:t.latitude,lng:t.longitude})})});this._observableSubscriptions.push(e)}},{key:"_handleBoundsChange",value:function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(function(){t._mapsWrapper.getBounds().then(function(e){t.boundsChange.emit(e)})});this._observableSubscriptions.push(e)}},{key:"_handleMapTypeIdChange",value:function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(function(){t._mapsWrapper.getMapTypeId().then(function(e){t.mapTypeIdChange.emit(e)})});this._observableSubscriptions.push(e)}},{key:"_handleMapZoomChange",value:function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(function(){t._mapsWrapper.getZoom().then(function(e){t.zoom=e,t.zoomChange.emit(e)})});this._observableSubscriptions.push(e)}},{key:"_handleIdleEvent",value:function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(function(){t.idle.emit(void 0)});this._observableSubscriptions.push(e)}},{key:"_handleTilesLoadedEvent",value:function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(function(){return t.tilesLoaded.emit(void 0)});this._observableSubscriptions.push(e)}},{key:"_handleMapMouseEvents",value:function(){var t=this;[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(function(e){var n=t._mapsWrapper.subscribeToMapEvent(e.name).subscribe(function(n){var r={coords:{lat:n.latLng.lat(),lng:n.latLng.lng()},placeId:n.placeId};r.placeId&&!t.showDefaultInfoWindow&&n.stop(),e.emitter.emit(r)});t._observableSubscriptions.push(n)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(h.l),h.Nb(gl),h.Nb(h.C),h.Nb(wl),h.Nb(h.A))},t.\u0275cmp=h.Hb({type:t,selectors:[["agm-map"]],hostVars:2,hostBindings:function(t,e){2&t&&h.Fb("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[h.Bb([ml,yl,yl,wl,gl,Cl,Ol,vl,_l,Ml,Nl,Pl]),h.Ab],ngContentSelectors:dl,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(t,e){1&t&&(h.gc(),h.Ob(0,"div",0),h.Sb(1,"div",1),h.fc(2),h.Rb())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),t._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],t=kl=fc([dc(2,Object(h.p)(h.C)),pc("design:paramtypes",[h.l,gl,Object,wl,h.A])],t)}(),xl=0,Ll=function(){var t=Rl=function(){function t(e){Object(a.a)(this,t),this._markerManager=e,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new h.n,this.markerClick=new h.n,this.markerDblClick=new h.n,this.markerRightClick=new h.n,this.dragStart=new h.n,this.drag=new h.n,this.dragEnd=new h.n,this.mouseOver=new h.n,this.mouseOut=new h.n,this.infoWindow=new h.E,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new ol(1),this._id=(xl++).toString()}return Object(s.a)(t,[{key:"ngAfterContentInit",value:function(){var t=this;this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(function(){return t.handleInfoWindowUpdate()})}},{key:"handleInfoWindowUpdate",value:function(){var t=this;if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(function(e){e.hostMarker=t})}},{key:"ngOnChanges",value:function(t){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(t.latitude||t.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),t.title&&this._markerManager.updateTitle(this),t.label&&this._markerManager.updateLabel(this),t.draggable&&this._markerManager.updateDraggable(this),t.iconUrl&&this._markerManager.updateIcon(this),t.opacity&&this._markerManager.updateOpacity(this),t.visible&&this._markerManager.updateVisible(this),t.zIndex&&this._markerManager.updateZIndex(this),t.clickable&&this._markerManager.updateClickable(this),t.animation&&this._markerManager.updateAnimation(this)}}},{key:"getFitBoundsDetails$",value:function(){return this._fitBoundsDetails$.asObservable()}},{key:"_updateFitBoundsDetails",value:function(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}},{key:"_addEventListeners",value:function(){var t=this,e=this._markerManager.createEventObservable("click",this).subscribe(function(){t.openInfoWindow&&t.infoWindow.forEach(function(t){return t.open()}),t.markerClick.emit(t)});this._observableSubscriptions.push(e);var n=this._markerManager.createEventObservable("dblclick",this).subscribe(function(){t.markerDblClick.emit(null)});this._observableSubscriptions.push(n);var r=this._markerManager.createEventObservable("rightclick",this).subscribe(function(){t.markerRightClick.emit(null)});this._observableSubscriptions.push(r);var i=this._markerManager.createEventObservable("dragstart",this).subscribe(function(e){t.dragStart.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(i);var o=this._markerManager.createEventObservable("drag",this).subscribe(function(e){t.drag.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(o);var a=this._markerManager.createEventObservable("dragend",this).subscribe(function(e){t.dragEnd.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(a);var s=this._markerManager.createEventObservable("mouseover",this).subscribe(function(e){t.mouseOver.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(s);var u=this._markerManager.createEventObservable("mouseout",this).subscribe(function(e){t.mouseOut.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(u);var c=this._markerManager.createEventObservable("animation_changed",this).subscribe(function(){t.animationChange.emit(t.animation)});this._observableSubscriptions.push(c)}},{key:"id",value:function(){return this._id}},{key:"toString",value:function(){return"AgmMarker-"+this._id.toString()}},{key:"ngOnDestroy",value:function(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(function(t){return t.unsubscribe()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(h.Nb(_l))},t.\u0275dir=h.Ib({type:t,selectors:[["agm-marker"]],contentQueries:function(t,e,n){var r;1&t&&h.Gb(n,El,0),2&t&&h.lc(r=h.ac())&&(e.infoWindow=r)},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick"},features:[h.Bb([{provide:bl,useExisting:Object(h.W)(function(){return Rl})}]),h.Ab]}),t=Rl=fc([pc("design:paramtypes",[_l])],t)}(),Bl=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"getNativeWindow",value:function(){return window}}]),t}(),Fl=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,[{key:"getNativeDocument",value:function(){return document}}]),t}(),jl=[Bl,Fl],Ul=function(t){return t[t.HTTP=1]="HTTP",t[t.HTTPS=2]="HTTPS",t[t.AUTO=3]="AUTO",t}({}),Vl=new h.r("angular-google-maps LAZY_MAPS_API_CONFIG"),Hl=function(){var t=function(t){Object(u.a)(n,t);var e=Object(c.a)(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return Object(a.a)(this,n),(t=e.call(this)).localeId=s,t._SCRIPT_ID="agmGoogleMapsApiScript",t.callbackName="agmLazyMapsAPILoader",t._config=r||{},t._windowRef=i,t._documentRef=o,t}return Object(s.a)(n,[{key:"load",value:function(){var t=this._windowRef.getNativeWindow();if(t.google&&t.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var e=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(e)return this._assignScriptLoadingPromise(e),this._scriptLoadingPromise;var n=this._documentRef.getNativeDocument().createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.id=this._SCRIPT_ID,n.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(n),this._documentRef.getNativeDocument().body.appendChild(n),this._scriptLoadingPromise}},{key:"_assignScriptLoadingPromise",value:function(t){var e=this;this._scriptLoadingPromise=new Promise(function(n,r){e._windowRef.getNativeWindow()[e.callbackName]=function(){n()},t.onerror=function(t){r(t)}})}},{key:"_getScriptSrc",value:function(t){var e;switch(this._config&&this._config.protocol||Ul.HTTPS){case Ul.AUTO:e="";break;case Ul.HTTP:e="http:";break;case Ul.HTTPS:e="https:"}var n=this._config.hostAndPath||"maps.googleapis.com/maps/api/js",r={v:this._config.apiVersion||"quarterly",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null},i=Object.keys(r).filter(function(t){return null!=r[t]}).filter(function(t){return!Array.isArray(r[t])||Array.isArray(r[t])&&r[t].length>0}).map(function(t){var e=r[t];return Array.isArray(e)?{key:t,value:e.join(",")}:{key:t,value:r[t]}}).map(function(t){return"".concat(t.key,"=").concat(t.value)}).join("&");return"".concat(e,"//").concat(n,"?").concat(i)}}]),n}(pl);return t.\u0275fac=function(e){return new(e||t)(h.Wb(Vl,8),h.Wb(Bl),h.Wb(Fl),h.Wb(h.v))},t.\u0275prov=h.Jb({token:t,factory:function(e){return t.\u0275fac(e)}}),t=fc([dc(0,Object(h.B)()),dc(0,Object(h.p)(Vl)),dc(3,Object(h.p)(h.v)),pc("design:paramtypes",[Object,Bl,Fl,String])],t)}(),Wl=function(){var t=Tl=function(){function t(){Object(a.a)(this,t)}return Object(s.a)(t,null,[{key:"forRoot",value:function(t){return{ngModule:Tl,providers:[].concat(jl,[{provide:pl,useClass:Hl},{provide:Vl,useValue:t}])}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({}),t}(),zl=["comments"];function Gl(t,e){if(1&t&&(h.Sb(0,"span"),h.vc(1),h.Rb()),2&t){var n=h.bc(2);h.Cb(1),h.xc(" \u0627\u0632 ",n.dateService.getTimeFromDateString(n.event.pointedDate.startTime),"")}}function Xl(t,e){if(1&t&&(h.Sb(0,"span"),h.vc(1),h.Rb()),2&t){var n=h.bc(2);h.Cb(1),h.xc(" \u062a\u0627 ",n.dateService.getTimeFromDateString(n.event.pointedDate.endTime),"")}}function Zl(t,e){if(1&t&&(h.Sb(0,"div",16),h.Ob(1,"i",17),h.Sb(2,"span"),h.vc(3),h.Rb(),h.tc(4,Gl,2,1,"span",11),h.tc(5,Xl,2,1,"span",11),h.Rb()),2&t){var n=h.bc();h.Cb(3),h.xc(" ",n.dateService.greToPersian(n.event.pointedDate.date,!0)," "),h.Cb(1),h.hc("ngIf",n.event.pointedDate.startTime),h.Cb(1),h.hc("ngIf",n.event.pointedDate.endTime)}}function ql(t,e){if(1&t&&(h.Sb(0,"tr",8),h.Sb(1,"td",18),h.Ob(2,"img",19),h.Rb(),h.Sb(3,"td"),h.Sb(4,"div"),h.vc(5),h.Rb(),h.Sb(6,"div",13),h.vc(7,"\u0645\u06cc\u0632\u0628\u0627\u0646"),h.Rb(),h.Rb(),h.Ob(8,"td"),h.Ob(9,"td"),h.Rb()),2&t){var n=h.bc();h.Cb(2),h.hc("src",n.event.chair.imageUrl?n.event.chair.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.wc(n.event.chair.name)}}function Yl(t,e){if(1&t){var n=h.Tb();h.Sb(0,"tr",8),h.Sb(1,"td",18),h.Ob(2,"img",19),h.Rb(),h.Sb(3,"td"),h.vc(4),h.Rb(),h.Sb(5,"td",8),h.Ob(6,"i"),h.vc(7),h.Rb(),h.Sb(8,"td",12),h.Sb(9,"button",20),h.Zb("click",function(){h.pc(n);var t=e.$implicit;return h.bc().reception(t)}),h.vc(10,"\u067e\u0630\u06cc\u0631\u0634"),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(2),h.hc("src",r.imageUrl?r.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(2),h.wc(r.name),h.Cb(1),h.sc("color",r.status.color),h.Cb(1),h.Eb("fa "+r.status.class),h.Cb(1),h.xc(" ",r.status.text," ")}}function Kl(t,e){if(1&t&&(h.Sb(0,"span"),h.vc(1),h.Rb()),2&t){var n=h.bc(2).$implicit,r=h.bc(2);h.Cb(1),h.xc(" \u0627\u0632 ",r.dateService.getTimeString(n.startTime),"")}}function Ql(t,e){if(1&t&&(h.Sb(0,"span"),h.vc(1),h.Rb()),2&t){var n=h.bc(2).$implicit,r=h.bc(2);h.Cb(1),h.xc(" \u062a\u0627 ",r.dateService.getTimeString(n.endTime),"")}}function Jl(t,e){if(1&t&&(h.Sb(0,"div"),h.Ob(1,"i",17),h.Sb(2,"span"),h.vc(3),h.Rb(),h.tc(4,Kl,2,1,"span",11),h.tc(5,Ql,2,1,"span",11),h.Rb()),2&t){var n=h.bc().$implicit,r=h.bc(2);h.Cb(3),h.xc(" ",r.dateService.greToPersian(n.date,!0)," "),h.Cb(1),h.hc("ngIf",n.startTime),h.Cb(1),h.hc("ngIf",n.endTime)}}function $l(t,e){if(1&t&&(h.Sb(0,"div",23),h.tc(1,Jl,6,3,"div",11),h.Rb()),2&t){var n=e.$implicit,r=h.bc(2);h.Cb(1),h.hc("ngIf",!r.dateService.isEqual(n,r.event.pointedDate))}}function th(t,e){if(1&t&&(h.Sb(0,"div"),h.Sb(1,"h5",21),h.vc(2,"\u062c\u0644\u0633\u0627\u062a \u0645\u0631\u062a\u0628\u0637"),h.Rb(),h.tc(3,$l,2,1,"div",22),h.Rb()),2&t){var n=h.bc();h.Cb(3),h.hc("ngForOf",n.event.dates)}}var eh=function(){function t(t,e,n,r){this.dateService=t,this.commonService=e,this.receptionService=n,this.navigationService=r}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){var e=this;this.event&&t.event.previousValue!==t.event.currentValue&&this.event.attendees.forEach(function(t){t.status=e.getContactStatus(t.id)})},t.prototype.getContactStatus=function(t){var e=this.event.contactEvents.find(function(e){return e.contactId===t}),n="";return e&&(n=e.status),this.commonService.getContactStatus(n)},t.prototype.goTo=function(t){this.navigationService.navigate(t,this.event.id)},t.prototype.reception=function(t){this.receptionService.receptionItemClick.next({event:this.event,contact:t})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(q),h.Nb(Nu),h.Nb(Zi))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-meeting-details"]],viewQuery:function(t,e){var n;1&t&&h.Ac(zl,3),2&t&&h.lc(n=h.ac())&&(e.comments=n.first)},inputs:{event:"event"},features:[h.Ab],decls:20,vars:14,consts:[[1,"text-center"],["class","panel text-center font-weight-bold mb-3",4,"ngIf"],[1,"table-responsive"],[1,"table","table-striped","text-right"],["class","",4,"ngIf"],["class","",4,"ngFor","ngForOf"],[1,"text-right","mb-1"],[1,"fa","fa-map-marker","ml-2"],[1,""],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"latitude","longitude"],[4,"ngIf"],[1,"text-left"],[1,"text-muted"],[3,"eventId"],["comments",""],[1,"panel","text-center","font-weight-bold","mb-3"],[1,"fa","fa-calendar","ml-2"],[1,"panel","text-right","contact-image-td"],[1,"rounded-circle","contact-image",3,"src"],[1,"secondary",3,"click"],[1,"text-right","mt-3"],["class","panel text-right",4,"ngFor","ngForOf"],[1,"panel","text-right"]],template:function(t,e){1&t&&(h.Sb(0,"h5",0),h.vc(1),h.Rb(),h.tc(2,Zl,6,3,"div",1),h.Sb(3,"div",2),h.Sb(4,"table",3),h.tc(5,ql,10,2,"tr",4),h.tc(6,Yl,11,7,"tr",5),h.Rb(),h.Rb(),h.Sb(7,"div",6),h.Ob(8,"i",7),h.Sb(9,"span",8),h.vc(10),h.Rb(),h.Rb(),h.Sb(11,"agm-map",9),h.Ob(12,"agm-marker",10),h.Rb(),h.tc(13,th,4,1,"div",11),h.Sb(14,"span",12),h.Sb(15,"small",13),h.vc(16),h.Rb(),h.Rb(),h.Ob(17,"hr"),h.Ob(18,"comments",14,15)),2&t&&(h.Cb(1),h.wc(e.event.title),h.Cb(1),h.hc("ngIf",e.event.pointedDate),h.Cb(3),h.hc("ngIf",e.event.chair),h.Cb(1),h.hc("ngForOf",e.event.attendees),h.Cb(4),h.wc(e.event.venue?e.event.venue.farsiAddress1+"\u060c "+e.event.venue.farsiAddress2:""),h.Cb(1),h.hc("latitude",e.event.venue.latitude)("longitude",e.event.venue.longitude)("scrollwheel",!1)("zoom",12),h.Cb(1),h.hc("latitude",e.event.venue.latitude)("longitude",e.event.venue.longitude),h.Cb(1),h.hc("ngIf",e.event.dates.length>1),h.Cb(3),h.wc(e.commonService.getStatusString(e.event.status)),h.Cb(2),h.hc("eventId",e.event?e.event.id:-1))},directives:[l.k,l.j,Dl,Ll,Qc],styles:[".contact-image[_ngcontent-%COMP%]:first-child{margin-left:0}.contact-image-td[_ngcontent-%COMP%]{width:50px}.contact-image[_ngcontent-%COMP%]{width:35px;height:35px}.meeting-item[_ngcontent-%COMP%]{cursor:pointer}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.map[_ngcontent-%COMP%]{height:150px}.names[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;line-height:3}"]}),t}(),nh=["childModal"];function rh(t,e){if(1&t&&(h.Qb(0,6),h.Ob(1,"app-meeting-details",7),h.Pb()),2&t){var n=h.bc();h.Cb(1),h.hc("event",n.event)}}var ih=function(){function t(t){this.receptionService=t}return t.prototype.ngOnInit=function(){var t=this;this.receptionService.receptionItemClick.subscribe(function(){t.hide()})},t.prototype.show=function(){this.childModal.show()},t.prototype.hide=function(){this.childModal.hide()},t.\u0275fac=function(e){return new(e||t)(h.Nb(Nu))},t.\u0275cmp=h.Hb({type:t,selectors:[["meeting-item-modal"]],viewQuery:function(t,e){var n;1&t&&h.Ac(nh,3),2&t&&h.lc(n=h.ac())&&(e.childModal=n.first)},inputs:{event:"event"},decls:9,vars:4,consts:[[3,"modalTitle","size","zIndex"],["childModal",""],["class","app-modal-body",4,"ngIf"],[1,"app-modal-footer"],[1,"btn","ml-2","danger"],[1,"btn","secondary",3,"click"],[1,"app-modal-body"],[3,"event"]],template:function(t,e){1&t&&(h.Sb(0,"modal",0,1),h.tc(2,rh,2,1,"ng-container",2),h.vc(3,"> "),h.Qb(4,3),h.Sb(5,"button",4),h.vc(6," \u0644\u063a\u0648 \u0645\u0644\u0627\u0642\u0627\u062a "),h.Rb(),h.Sb(7,"button",5),h.Zb("click",function(){return e.hide()}),h.vc(8," \u0628\u0633\u062a\u0646 "),h.Rb(),h.Pb(),h.Rb()),2&t&&(h.hc("modalTitle","")("size","lg")("zIndex",11),h.Cb(2),h.hc("ngIf",e.event))},directives:[wa,l.k,eh],styles:[""]}),t}();function oh(t,e){if(1&t&&(h.Sb(0,"span",11),h.Ob(1,"i",12),h.Sb(2,"span"),h.vc(3),h.Rb(),h.Rb()),2&t){var n=h.bc(2);h.Cb(3),h.wc(n.dateService.getTimeFromDateString(n.event.pointedDate.startTime))}}function ah(t,e){if(1&t&&(h.Sb(0,"div"),h.tc(1,oh,4,1,"span",10),h.Rb()),2&t){var n=h.bc();h.Cb(1),h.hc("ngIf",n.event.pointedDate.startTime)}}function sh(t,e){if(1&t&&(h.Sb(0,"div",13),h.Ob(1,"img",14),h.Rb()),2&t){var n=e.$implicit;h.Cb(1),h.hc("src",n.imageUrl?n.imageUrl:"../assets/images/user-placeholder.png",h.qc)}}var uh=function(){function t(t,e,n,r){this.dateService=t,this.commonService=e,this.dataService=n,this.authService=r,this.clicked=new h.n}return t.prototype.ngOnInit=function(){1===this.event.attendees.length?this.attendeesString=this.event.attendees[0].name:2===this.event.attendees.length?this.attendeesString=this.event.attendees[0].name+"\u060c "+this.event.attendees[1].name:this.event.attendees.length>2&&(this.attendeesString=this.event.attendees[0].name+" \u0648 "+(this.event.attendees.length-1)+" \u0645\u06cc\u0647\u0645\u0627\u0646 \u062f\u06cc\u06af\u0631"),this.user=this.authService.getCurrentUser()},t.prototype.onClicked=function(t,e){this.clicked.emit(e)},t.prototype.updateAttendingStatus=function(t,e){var n=this;this.dataService.updateContactStatus(t,e).subscribe(function(t){"OK"===t.msg&&(n.event.contactEvent=t.object,n.event.attendees.forEach(function(t){t.email===n.user.username&&(t.status=n.commonService.getContactStatus(n.event.contactEvent.status))}))},function(t){console.log(t)})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(q),h.Nb(Iu),h.Nb(Gi))},t.\u0275cmp=h.Hb({type:t,selectors:[["meeting-item"]],inputs:{event:"event"},outputs:{clicked:"clicked"},decls:14,vars:8,consts:[[1,""],[3,"click"],[1,"row"],[1,"col-sm-2","meeting-time","text-right"],[4,"ngIf"],[1,"col-sm-4","text-right","meeting-title-wrapper"],[1,"col-sm-6","text-left"],[1,"panel","text-right","flexbox-parent-row"],["class","contact-image-container ",4,"ngFor","ngForOf"],[1,"mr-2","names","flexbox-item-grow"],["class","meeting-time",4,"ngIf"],[1,"meeting-time"],[1,"fa","fa-clock-o","ml-2"],[1,"contact-image-container"],[1,"contact-image","rounded-circle","shadow",3,"src"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Zb("click",function(t){return e.onClicked(t,e.event)}),h.Sb(2,"div",0),h.Sb(3,"div",2),h.Sb(4,"div",3),h.tc(5,ah,2,1,"div",4),h.Rb(),h.Sb(6,"div",5),h.Sb(7,"span"),h.vc(8),h.Rb(),h.Rb(),h.Sb(9,"div",6),h.Sb(10,"div",7),h.tc(11,sh,2,1,"div",8),h.Sb(12,"span",9),h.vc(13),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(1),h.Eb("meeting-item  "+e.event.status),h.Cb(4),h.hc("ngIf",e.event.pointedDate),h.Cb(2),h.Eb("meeting-title mr-2 "+(e.event.title?"font-weight-bold":"text-muted")),h.Cb(1),h.wc(e.event.title?e.event.title:"\u0628\u062f\u0648\u0646 \u0639\u0646\u0648\u0627\u0646"),h.Cb(3),h.hc("ngForOf",e.event.attendees),h.Cb(2),h.xc(" ",e.attendeesString," "))},directives:[l.k,l.j],styles:[".contact-image-container[_ngcontent-%COMP%]:first-child{margin-right:0}.contact-image-container[_ngcontent-%COMP%]{display:inline-block;margin-right:-20px;color:#fff}.contact-image[_ngcontent-%COMP%]{width:40px;height:40px}.meeting-item[_ngcontent-%COMP%]{cursor:pointer;font-size:16px;padding:0 15px;color:#161a1e;background:#fff;border-bottom-color:#9da3a6;line-height:3}.meeting-tool[_ngcontent-%COMP%]:hover{color:#fff}.meeting-tool[_ngcontent-%COMP%]{cursor:pointer;color:grey;border-radius:50%}.meeting-title-wrapper[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer}.meeting-time[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:20px;white-space:nowrap}.meeting-item.CANCELLED[_ngcontent-%COMP%], .meeting-item.DONE[_ngcontent-%COMP%]{opacity:.4}.names[_ngcontent-%COMP%]{white-space:nowrap;text-overflow:ellipsis}.meeting-item[_ngcontent-%COMP%]:hover{background:#f9fffc}@-webkit-keyframes meeting-item-hover{0%{margin-left:0;margin-right:0}to{margin-left:-.5%;margin-right:-.5%}}@keyframes meeting-item-hover{0%{margin-left:0;margin-right:0}to{margin-left:-.5%;margin-right:-.5%}}"]}),t}(),ch=function(){function t(){}return t.prototype.transform=function(t,e){var n=this;return t&&e&&0!==t.length?t.filter(function(t){return n.applyFilter(t,e)}):t},t.prototype.applyFilter=function(t,e){for(var n in t)if("string"==typeof t[n]&&-1!==t[n].toLowerCase().indexOf(e.toLowerCase()))return!0;return!1},t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=h.Mb({name:"generalFilter",type:t,pure:!1}),t}(),lh=["spinner"],hh=["meetingModal"];function fh(t,e){1&t&&(h.Sb(0,"div",11),h.Ob(1,"img",12),h.Sb(2,"div"),h.vc(3,"\u0686\u06cc\u0632\u06cc \u067e\u06cc\u062f\u0627 \u0646\u06a9\u0631\u062f\u0645"),h.Rb(),h.Rb())}function dh(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",13),h.Sb(1,"a",14),h.Zb("click",function(){return h.pc(n),h.bc().loadMoreBackward()}),h.Ob(2,"i",15),h.vc(3," \u0645\u0644\u0627\u0642\u0627\u062a\u200c\u0647\u0627\u06cc \u0642\u0628\u0644\u06cc "),h.Rb(),h.Rb()}}function ph(t,e){1&t&&(h.Sb(0,"span"),h.vc(1,"\u0642\u0628\u0644 \u0627\u0632 \u0627\u06cc\u0646 \u062a\u0627\u0631\u06cc\u062e \u0645\u0644\u0627\u0642\u0627\u062a\u06cc \u062b\u0628\u062a \u0646\u0634\u062f\u0647 \u0627\u0633\u062a."),h.Rb())}function gh(t,e){1&t&&(h.Sb(0,"div",22),h.Ob(1,"img",23),h.Sb(2,"div",24),h.vc(3,"\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0631\u0648\u0632 \u0686\u06cc\u0632\u06cc \u062b\u0628\u062a \u0646\u0634\u062f\u0647."),h.Rb(),h.Rb())}function vh(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",25),h.Sb(1,"meeting-item",26),h.Zb("clicked",function(t){return h.pc(n),h.bc(2).onMeetingClick(t)}),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(1),h.hc("event",r)}}function mh(t,e){if(1&t&&(h.Sb(0,"div",16),h.Sb(1,"div",17),h.Sb(2,"div"),h.Sb(3,"div",18),h.Ob(4,"i",19),h.vc(5),h.Rb(),h.Rb(),h.Rb(),h.tc(6,gh,4,0,"div",20),h.tc(7,vh,2,1,"div",21),h.cc(8,"generalFilter"),h.Rb()),2&t){var n=e.$implicit,r=h.bc();h.Cb(2),h.Eb("date-title-container "+(r.meetingService.date.toISOString()===n.key?"selected":"")),h.Cb(3),h.xc(" ",r.dateService.greToPersian(n.key,!0)," "),h.Cb(1),h.hc("ngIf",0===n.value.length),h.Cb(1),h.hc("ngForOf",h.ec(8,5,n.value,r.filter))}}function yh(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",13),h.Sb(1,"a",14),h.Zb("click",function(){return h.pc(n),h.bc().loadMoreForward()}),h.vc(2," \u0645\u0644\u0627\u0642\u0627\u062a\u200c\u0647\u0627\u06cc \u0628\u0639\u062f\u06cc "),h.Ob(3,"i",27),h.Rb(),h.Rb()}}function bh(t,e){1&t&&(h.Sb(0,"span"),h.vc(1,"\u0628\u0639\u062f \u0627\u0632 \u0627\u06cc\u0646 \u062a\u0627\u0631\u06cc\u062e \u0645\u0644\u0627\u0642\u0627\u062a\u06cc \u062b\u0628\u062a \u0646\u0634\u062f\u0647 \u0627\u0633\u062a."),h.Rb())}var wh=function(){function t(t,e,n,r,i,o){this.dataService=t,this.dateService=e,this.alertService=n,this.meetingService=r,this.commonService=i,this.cdRef=o,this.meetings={},this.loading=!0,this.selectedMeeting=void 0,this.noMoreForward=!1,this.noMoreBackward=!1,this.filter="",this.subscriptions=[]}return t.prototype.ngAfterViewChecked=function(){this.cdRef.detectChanges()},t.prototype.ngOnInit=function(){var t=this;this.subscriptions.push(this.meetingService.readMeetings.subscribe(function(e){t.readMeetings(e)}))},t.prototype.ngAfterViewInit=function(){this.meetingService.readMeetings.next(Pu.INITIAL)},t.prototype.readMeetings=function(t){var e=this,n={};switch(t){case Pu.INITIAL:this.meetings={},this.meetings[this.meetingService.getDate().toISOString()]=[],this.earliestDate=new Date(this.meetingService.getDate()),this.latestDate=new Date(this.meetingService.getDate()),this.noMoreForward=!1,this.noMoreBackward=!1,n={date:this.meetingService.getDate().toISOString(),period:this.meetingService.period.toString()};break;case Pu.MORE_BACKWARD:n={date:this.earliestDate.toISOString(),limit:-1};break;case Pu.MORE_FORWARD:this.latestDate.setDate(this.latestDate.getDate()+1),n={date:this.latestDate.toISOString(),limit:1}}this.dataService.getMeetings(n).subscribe(function(n){"OK"===n.msg?n.object&&(n.object.forEach(function(t){t.dates.forEach(function(n){var r=new Date(n.date);e.meetings[r.toISOString()]?e.meetings[r.toISOString()].push(t):e.meetings[r.toISOString()]=[t],(!e.earliestDate||e.earliestDate>r)&&(e.earliestDate=new Date(r)),(!e.latestDate||e.latestDate<r)&&(e.latestDate=new Date(r))})}),0===n.object.length&&(t===Pu.MORE_FORWARD&&(e.noMoreForward=!0),t===Pu.MORE_BACKWARD&&(e.noMoreBackward=!0))):e.alertService.error("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647!"),e.loading=!1},function(t){console.log(t),e.loading=!1})},t.prototype.onMeetingClick=function(t){this.selectedMeeting=t,this.meetingModal.show()},t.prototype.ngOnDestroy=function(){clearInterval(this.interval),this.subscriptions.forEach(function(t){t.unsubscribe()}),this.subscriptions=[]},t.prototype.loadMoreForward=function(){this.meetingService.readMeetings.next(Pu.MORE_FORWARD)},t.prototype.loadMoreBackward=function(){this.meetingService.readMeetings.next(Pu.MORE_BACKWARD)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(Fu),h.Nb(ri),h.Nb(Du),h.Nb(q),h.Nb(h.h))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-meetings"]],viewQuery:function(t,e){if(1&t&&(h.Ac(lh,3),h.Ac(hh,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.meetingModal=n.first)}},decls:15,vars:10,consts:[[3,"event"],["meetingModal",""],[1,"h-100","p-3","meeting-container"],[1,"p-3","h-100"],["class","text-center owl-container",4,"ngIf"],[3,"showing"],["spinner",""],["class","btn-container",4,"ngIf","ngIfElse"],["noMoreB",""],["class","mb-3 mt-4",4,"ngFor","ngForOf"],["noMoreF",""],[1,"text-center","owl-container"],["src","../../assets/images/home/owl.svg",1,"w-75"],[1,"btn-container"],[1,"btn","load-more-btn",3,"click"],[1,"fa","fa-angle-up"],[1,"mb-3","mt-4"],[1,"mt-2","text-center","sticky"],[1,"date-title"],[1,"fa","fa-calendar","ml-2"],["class","text-right ",4,"ngIf"],["class","meeting-item shadow mb-1",4,"ngFor","ngForOf"],[1,"text-right"],["src","../../assets/images/home/owl.svg",1,"small-owl"],[1,"d-inline-block"],[1,"meeting-item","shadow","mb-1"],[1,"mt-2",3,"event","clicked"],[1,"fa","fa-angle-down"]],template:function(t,e){if(1&t&&(h.Ob(0,"meeting-item-modal",0,1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.tc(4,fh,4,0,"div",4),h.Ob(5,"spinner",5,6),h.tc(7,dh,4,0,"div",7),h.tc(8,ph,2,0,"ng-template",null,8,h.uc),h.tc(10,mh,9,8,"div",9),h.cc(11,"keyvalue"),h.tc(12,yh,4,0,"div",7),h.tc(13,bh,2,0,"ng-template",null,10,h.uc),h.Rb(),h.Rb()),2&t){var n=h.mc(9),r=h.mc(14);h.hc("event",e.selectedMeeting),h.Cb(4),h.hc("ngIf",!e.loading&&e.commonService.isEmpty(e.meetings)),h.Cb(1),h.hc("showing",e.loading),h.Cb(2),h.hc("ngIf",!e.noMoreBackward)("ngIfElse",n),h.Cb(3),h.hc("ngForOf",h.dc(11,8,e.meetings)),h.Cb(2),h.hc("ngIf",!e.noMoreForward)("ngIfElse",r)}},directives:[ih,l.k,Zc,l.j,uh],pipes:[l.e,ch],styles:[".date-title-container[_ngcontent-%COMP%]{margin-bottom:5px;background:#fff;background:linear-gradient(-90deg,#eaeaea 50%,hsla(0,0%,100%,0) 100%,hsla(0,0%,100%,0) 0);text-align:right}.date-title[_ngcontent-%COMP%]{padding:5px 15px;background:transparent}.owl[_ngcontent-%COMP%]{max-height:250px}.search-input[_ngcontent-%COMP%]{font-size:17px}.load-more-btn[_ngcontent-%COMP%]:hover{background:#3a3f48;color:#fff}.load-more-btn[_ngcontent-%COMP%]{border:1px solid transparent}.date-title-container.selected[_ngcontent-%COMP%]{font-weight:900}"]}),t}(),_h=function(){function t(t,e){this.authService=t,this.router=e}return t.prototype.canActivate=function(t,e){return this.checkLogin(e.url)},t.prototype.checkLogin=function(t){return null!==this.authService.jsonWebToken||(this.authService.redirectUrl=t,this.router.navigate(["/login"]),!1)},t.\u0275fac=function(e){return new(e||t)(h.Wb(Gi),h.Wb(Mr))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Ch=n("Oipj"),Sh=n("Wcq6"),Eh=function(){function t(){this.subject=new G.a}return t.prototype.changeState=function(t){this.subject.next(t)},t.prototype.getState=function(){return this.subject.asObservable()},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(),Oh=function(){function t(t,e,n,r,i,o){var a=this;this.afAuth=t,this.authService=e,this.route=n,this.router=r,this.alertService=i,this.spinnerService=o,this.userType="PERSONAL",this.user=t.authState,this.user.subscribe(function(t){if(a.user&&t){var e={type:a.userType,name:t.displayName,username:t.email,email:t.email,uid:t.uid,imageUrl:t.photoURL,phone:t.phoneNumber};a.spinnerService.changeState(!0),a.authService.loginWithGoogle(e).pipe(qt()).subscribe(function(t){a.router.navigate([a.route.snapshot.queryParams.returnUrl||"/meetings"]),a.spinnerService.changeState(!1),a.logout()},function(t){a.spinnerService.changeState(!1),a.alertService.error("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647. \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f.")})}},function(t){console.log(t)})}return t.prototype.loginWithGoogle=function(t){this.userType=t;var e=new Sh.auth.GoogleAuthProvider;this.afAuth.auth.signInWithPopup(e)},t.prototype.logout=function(){this.afAuth.auth.signOut()},t.\u0275fac=function(e){return new(e||t)(h.Wb(Ch.AngularFireAuth),h.Wb(Gi),h.Wb(an),h.Wb(Mr),h.Wb(ri),h.Wb(Eh))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Ah=function(){function t(){}return t.MEETINGS=[{pointedDate:{startTime:"0900",endTime:"1030",date:new Date},dates:[{startTime:"0930",endTime:"1030",date:new Date}],attendees:[{name:"\u067e\u0648\u06cc\u0627\u0646",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-1.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0639\u0637\u06cc\u0647",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-2.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0645\u0635\u0627\u062d\u0628\u0647",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"DONE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"0930",endTime:"1030",date:new Date},dates:[{startTime:"0930",endTime:"1030",date:new Date}],attendees:[{name:"\u0642\u0627\u062f\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-2.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0627\u06a9\u0628\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-3.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0627\u0645\u06cc\u0631\u0627\u0631\u0633\u0644\u0627\u0646",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-6.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0628\u0631\u0631\u0633\u06cc \u0645\u0633\u0627\u0626\u0644 \u062e\u0627\u0648\u0631\u0645\u06cc\u0627\u0646\u0647",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"DONE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1100",endTime:"1030",date:new Date},dates:[{startTime:"0900",endTime:"1030",date:new Date}],attendees:[{name:"\u0645\u0631\u0627\u062f",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-3.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u062a\u0628\u0644\u06cc\u063a \u0627\u067e\u0644\u06cc\u06a9\u06cc\u0634\u0646 \u0634\u0627\u0644\u0627\u067e",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"GOING_ON",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1315",endTime:"1030",date:new Date},dates:[{startTime:"0900",endTime:"1030",date:new Date}],attendees:[{name:"\u0645\u062d\u062f\u062b\u0647\u200c \u0633\u0627\u062f\u0627\u062a \u062d\u0633\u06cc\u0646\u06cc",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-4.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0645\u0631\u0627\u0633\u0645 \u0634\u0639\u0631\u062e\u0648\u0627\u0646\u06cc",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"CANCELLED",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1530",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u06a9\u0627\u0648\u0647 \u0622\u0647\u0646\u06af\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-5.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u062a\u0648\u0636\u06cc\u062d \u0645\u0633\u0626\u0644\u0647\u200c\u06cc \u0627\u0644\u06cc\u0646\u0627\u0633\u06cc\u0648\u0646",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"LATE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1500",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u06cc\u0627\u0648\u0631 \u06a9\u06cc\u200c\u0645\u0631\u0627\u0645",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-5.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0642\u0645\u0627\u0631",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"GETTING_LATE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1610",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u062c\u0639\u0641\u0631 \u06a9\u0641\u0646\u200c\u067e\u0648\u0634",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-7.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0645\u0644\u06cc\u0644\u0647 \u062f\u0648\u0632\u06cc",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"TO_BE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"0930",endTime:"1030",date:new Date},dates:[{startTime:"0930",endTime:"1030",date:new Date}],attendees:[{name:"\u0642\u0627\u062f\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-2.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0627\u06a9\u0628\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-3.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0627\u0645\u06cc\u0631\u0627\u0631\u0633\u0644\u0627\u0646",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-6.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0628\u0631\u0631\u0633\u06cc \u0645\u0633\u0627\u0626\u0644 \u062e\u0627\u0648\u0631\u0645\u06cc\u0627\u0646\u0647",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"DONE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1100",endTime:"1030",date:new Date},dates:[{startTime:"0900",endTime:"1030",date:new Date}],attendees:[{name:"\u0645\u0631\u0627\u062f",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-3.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u062a\u0628\u0644\u06cc\u063a \u0627\u067e\u0644\u06cc\u06a9\u06cc\u0634\u0646 \u0634\u0627\u0644\u0627\u067e",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"GOING_ON",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1315",endTime:"1030",date:new Date},dates:[{startTime:"0900",endTime:"1030",date:new Date}],attendees:[{name:"\u0645\u062d\u062f\u062b\u0647\u200c \u0633\u0627\u062f\u0627\u062a \u062d\u0633\u06cc\u0646\u06cc",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-4.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0645\u0631\u0627\u0633\u0645 \u0634\u0639\u0631\u062e\u0648\u0627\u0646\u06cc",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"CANCELLED",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1530",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u06a9\u0627\u0648\u0647 \u0622\u0647\u0646\u06af\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-5.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u062a\u0648\u0636\u06cc\u062d \u0645\u0633\u0626\u0644\u0647\u200c\u06cc \u0627\u0644\u06cc\u0646\u0627\u0633\u06cc\u0648\u0646",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"LATE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1500",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u06cc\u0627\u0648\u0631 \u06a9\u06cc\u200c\u0645\u0631\u0627\u0645",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-5.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0642\u0645\u0627\u0631",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"GETTING_LATE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1610",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u062c\u0639\u0641\u0631 \u06a9\u0641\u0646\u200c\u067e\u0648\u0634",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-7.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0645\u0644\u06cc\u0644\u0647 \u062f\u0648\u0632\u06cc",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"TO_BE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"0900",endTime:"1030",date:new Date},dates:[{startTime:"0930",endTime:"1030",date:new Date}],attendees:[{name:"\u067e\u0648\u06cc\u0627\u0646",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-1.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0639\u0637\u06cc\u0647",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-2.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0645\u0635\u0627\u062d\u0628\u0647",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"DONE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"0930",endTime:"1030",date:new Date},dates:[{startTime:"0930",endTime:"1030",date:new Date}],attendees:[{name:"\u0642\u0627\u062f\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-2.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0627\u06a9\u0628\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-3.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0627\u0645\u06cc\u0631\u0627\u0631\u0633\u0644\u0627\u0646",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-6.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0628\u0631\u0631\u0633\u06cc \u0645\u0633\u0627\u0626\u0644 \u062e\u0627\u0648\u0631\u0645\u06cc\u0627\u0646\u0647",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"DONE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1100",endTime:"1030",date:new Date},dates:[{startTime:"0900",endTime:"1030",date:new Date}],attendees:[{name:"\u0645\u0631\u0627\u062f",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-3.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u062a\u0628\u0644\u06cc\u063a \u0627\u067e\u0644\u06cc\u06a9\u06cc\u0634\u0646 \u0634\u0627\u0644\u0627\u067e",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"GOING_ON",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1315",endTime:"1030",date:new Date},dates:[{startTime:"0900",endTime:"1030",date:new Date}],attendees:[{name:"\u0645\u062d\u062f\u062b\u0647\u200c \u0633\u0627\u062f\u0627\u062a \u062d\u0633\u06cc\u0646\u06cc",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-4.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0645\u0631\u0627\u0633\u0645 \u0634\u0639\u0631\u062e\u0648\u0627\u0646\u06cc",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"CANCELLED",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1530",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u06a9\u0627\u0648\u0647 \u0622\u0647\u0646\u06af\u0631",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-5.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u062a\u0648\u0636\u06cc\u062d \u0645\u0633\u0626\u0644\u0647\u200c\u06cc \u0627\u0644\u06cc\u0646\u0627\u0633\u06cc\u0648\u0646",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"LATE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1500",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u06cc\u0627\u0648\u0631 \u06a9\u06cc\u200c\u0645\u0631\u0627\u0645",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-5.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0642\u0645\u0627\u0631",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"GETTING_LATE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}},{pointedDate:{startTime:"1610",endTime:"1030",date:new Date},dates:[{startTime:"1500",endTime:"1030",date:new Date}],attendees:[{name:"\u062c\u0639\u0641\u0631 \u06a9\u0641\u0646\u200c\u067e\u0648\u0634",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-7.png",image:File,id:2,fileName:"",type:"contact"}],title:"\u0645\u0644\u06cc\u0644\u0647 \u062f\u0648\u0632\u06cc",venue:new hc,chairId:-1,welcomeMessage:"\u0627\u06cc\u0646 \u0647\u0645 \u0633\u0644\u0627\u0645 \u0633\u0644\u0627\u0645\u062a\u06cc",eventType:"MEETING",contactEvents:[{contactId:1,status:""}],status:"TO_BE",chair:{name:"\u0622\u0642\u0627\u06cc \u062e\u0648\u0634\u200c\u0628\u0631\u0648\u062e\u0648\u0631\u062f",phone:"009",imageUrl:"../assets/images/dummy/contact-5.png",id:100,email:"khoshkholgh@gmail.com"}}],t.USER={id:1,username:"demouser",password:"123456",name:"Demo User",latitude:25.25857,longitude:-99.68371,phone:"091211112321",farsiAddress1:"\u062a\u0647\u0631\u0627\u0646 \u062e\u06cc\u0627\u0628\u0627\u0646 \u0627\u0648\u0644",imageUrl:"../assets/images/dummy/contact-3.png",farsiAddress2:"",description:"\u06cc\u06a9 \u0627\u0646\u0633\u0627\u0646 \u0628\u0633\u06cc\u0627\u0631 \u067e\u0627\u06a9\u06cc\u0632\u0647",role:"owner"},t.COMMENTS=[{userImageUrl:"../assets/images/dummy/contact-7.png",text:"\u0648\u0627\u0642\u0639\u0627 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0628\u06cc\u062e\u0648\u062f\u06cc\u0647 \u06a9\u0647 \u0647\u06cc \u0645\u06cc\u0627\u06cc \u0627\u06cc\u0646\u062c\u0627 \u0631\u0648 \u0686\u06a9 \u0645\u06cc\u06a9\u0646\u06cc \u0648 \u0645\u06cc\u0628\u06cc\u0646\u06cc \u06a9\u0647 \u062e\u0628\u0631\u06cc \u0646\u06cc\u0633\u062a \u0648 \u0647\u06cc \u0628\u0631\u0645\u06cc\u06af\u0631\u062f\u06cc \u062f\u0648\u0628\u0627\u0631\u0647",userName:"\u06af\u0627\u0648\u0686\u0631\u0648\u0646"},{userImageUrl:"../assets/images/dummy/contact-6.png",text:"\u0645\u0646 \u06cc\u06a9\u06cc \u0627\u0632 \u0628\u0632\u0631\u06af\u062a\u0631\u06cc\u0646 \u0622\u0631\u0632\u0648\u0647\u0627\u0645 \u0627\u06cc\u0646\u0647 \u06a9\u0647 \u06cc\u0647 \u0631\u0648\u0632\u06cc \u06af\u0627\u0648\u0686\u0631\u0648\u0646 \u0628\u0634\u0645 :)",userName:"\u062e\u0631\u0686\u0631\u0648\u0646"}],t.CONTACTS=[{id:1,name:"\u0642\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"owner"},{id:1,name:"\u0645\u0645\u062f \u062c\u0648\u0634\u0642\u0627\u0646\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"reception"},{id:1,name:"\u062f\u0627\u0631\u06cc\u0648\u0634 \u0627\u0642\u0628\u0627\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-6.png",contactType:"employee",role:"user"},{id:1,name:"\u0645\u062d\u0645\u062f \u062a\u0648\u0644\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-5.png",contactType:"contact"},{id:1,name:"\u067e\u0631\u0648\u06cc\u0632 \u06cc\u0627\u062d\u0642\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-2.png",contactType:"contact"},{id:1,name:"\u06af\u0648\u06cc\u0646\u062f\u0647 \u0631\u0648\u0634\u0646\u06a9",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-3.png",contactType:"contact"},{id:1,name:"\u0642\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"owner"},{id:1,name:"\u0645\u0645\u062f \u062c\u0648\u0634\u0642\u0627\u0646\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"reception"},{id:1,name:"\u062f\u0627\u0631\u06cc\u0648\u0634 \u0627\u0642\u0628\u0627\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-6.png",contactType:"employee",role:"user"},{id:1,name:"\u0645\u062d\u0645\u062f \u062a\u0648\u0644\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-5.png",contactType:"contact"},{id:1,name:"\u067e\u0631\u0648\u06cc\u0632 \u06cc\u0627\u062d\u0642\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-2.png",contactType:"contact"},{id:1,name:"\u0642\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"owner"},{id:1,name:"\u0645\u0645\u062f \u062c\u0648\u0634\u0642\u0627\u0646\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"reception"},{id:1,name:"\u062f\u0627\u0631\u06cc\u0648\u0634 \u0627\u0642\u0628\u0627\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-6.png",contactType:"employee",role:"user"},{id:1,name:"\u0645\u062d\u0645\u062f \u062a\u0648\u0644\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-5.png",contactType:"contact"},{id:1,name:"\u067e\u0631\u0648\u06cc\u0632 \u06cc\u0627\u062d\u0642\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-2.png",contactType:"contact"},{id:1,name:"\u06af\u0648\u06cc\u0646\u062f\u0647 \u0631\u0648\u0634\u0646\u06a9",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-3.png",contactType:"contact"},{id:1,name:"\u0642\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"owner"},{id:1,name:"\u0645\u0645\u062f \u062c\u0648\u0634\u0642\u0627\u0646\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"reception"},{id:1,name:"\u062f\u0627\u0631\u06cc\u0648\u0634 \u0627\u0642\u0628\u0627\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-6.png",contactType:"employee",role:"user"},{id:1,name:"\u0645\u062d\u0645\u062f \u062a\u0648\u0644\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-5.png",contactType:"contact"},{id:1,name:"\u067e\u0631\u0648\u06cc\u0632 \u06cc\u0627\u062d\u0642\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-2.png",contactType:"contact"},{id:1,name:"\u0642\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"owner"},{id:1,name:"\u0645\u0645\u062f \u062c\u0648\u0634\u0642\u0627\u0646\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"reception"},{id:1,name:"\u062f\u0627\u0631\u06cc\u0648\u0634 \u0627\u0642\u0628\u0627\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-6.png",contactType:"employee",role:"user"},{id:1,name:"\u0645\u062d\u0645\u062f \u062a\u0648\u0644\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-5.png",contactType:"contact"},{id:1,name:"\u067e\u0631\u0648\u06cc\u0632 \u06cc\u0627\u062d\u0642\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-2.png",contactType:"contact"},{id:1,name:"\u06af\u0648\u06cc\u0646\u062f\u0647 \u0631\u0648\u0634\u0646\u06a9",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-3.png",contactType:"contact"},{id:1,name:"\u0642\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"owner"},{id:1,name:"\u0645\u0645\u062f \u062c\u0648\u0634\u0642\u0627\u0646\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-1.png",contactType:"employee",role:"reception"},{id:1,name:"\u062f\u0627\u0631\u06cc\u0648\u0634 \u0627\u0642\u0628\u0627\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-6.png",contactType:"employee",role:"user"},{id:1,name:"\u0645\u062d\u0645\u062f \u062a\u0648\u0644\u0644\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-5.png",contactType:"contact"},{id:1,name:"\u067e\u0631\u0648\u06cc\u0632 \u06cc\u0627\u062d\u0642\u06cc",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-2.png",contactType:"contact"},{id:1,name:"\u06af\u0648\u06cc\u0646\u062f\u0647 \u0631\u0648\u0634\u0646\u06a9",phone:"09090909090",email:"contact@gmail.com",address:"\u0641\u0644\u06a9\u0647 \u062f\u0648\u0645 \u062c\u06cc\u0631\u0641\u062a\u060c \u062f\u0631 \u0633\u0648\u0645\u06cc \u0646\u0631\u0633\u06cc\u062f\u0647 \u0628\u0647 \u06f1\u06f7 \u06a9\u06cc\u0644\u0648\u0645\u062a\u0631\u06cc \u062c\u0646\u0628 \u0628\u0627\u0646\u06a9",imageUrl:"../assets/images/dummy/contact-3.png",contactType:"contact"}],t.VENUES=[{id:1,title:"\u0645\u062d\u0644 \u0645\u0644\u0627\u0642\u0627\u062a \u0622\u062f\u0645\u200c\u0647\u0627\u06cc \u0645\u0639\u0645\u0648\u0644\u06cc",latitude:18.5793,longitude:73.8143,farsiAddress1:"\u062a\u0647\u0631\u0627\u0646\u060c \u062e\u06cc\u0627\u0628\u0627\u0646 \u0627\u0648\u0644\u060c \u062f\u0631 \u0622\u0628\u06cc\u0647",farsiAddress2:""},{id:1,title:"\u0645\u062d\u0644 \u0645\u0644\u0627\u0642\u0627\u062a \u0622\u062f\u0645\u200c\u0647\u0627\u06cc \u0645\u0647\u0645",latitude:18.5793,longitude:73.8143,farsiAddress1:"\u062a\u0647\u0631\u0627\u0646\u060c \u062e\u06cc\u0627\u0628\u0627\u0646 \u0627\u0648\u0644\u060c \u062f\u0631 \u0632\u0631\u062f\u0647",farsiAddress2:""},{id:1,title:"\u0645\u062d\u0644 \u0645\u0644\u0627\u0642\u0627\u062a \u0622\u062f\u0645\u200c\u0647\u0627\u06cc \u062e\u06cc\u0644\u06cc \u0645\u0647\u0645",latitude:18.5793,longitude:73.8143,farsiAddress1:"\u062a\u0647\u0631\u0627\u0646\u060c \u062e\u06cc\u0627\u0628\u0627\u0646 \u0627\u0648\u0644\u060c \u062f\u0631 \u0642\u0631\u0645\u0632\u0647",farsiAddress2:""}],t.TOKENS=[{fromDate:new Date,toDate:new Date,attendees:[{name:"\u067e\u0648\u06cc\u0627\u0646",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-1.png",image:File,id:2,fileName:"",type:"contact"},{name:"\u0639\u0637\u06cc\u0647",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-2.png",image:File,id:2,fileName:"",type:"contact"}],venue:new hc,chairId:-1,eventType:"TOKEN",contactEvents:[{contactId:1,status:""}],status:"VALID",oneTime:!0},{fromDate:new Date,toDate:new Date,attendees:[{name:"\u067e\u0648\u06cc\u0627\u0646",email:"ati@gmail.com",phone:"",imageUrl:"../assets/images/dummy/contact-1.png",image:File,id:2,fileName:"",type:"contact"}],venue:new hc,chairId:-1,eventType:"TOKEN",contactEvents:[{contactId:1,status:""}],status:"EXPIRED",oneTime:!1}],t}();function Ih(t,e){1&t&&(h.Sb(0,"div"),h.vc(1,"Username is required"),h.Rb())}function kh(t,e){if(1&t&&(h.Sb(0,"div",21),h.tc(1,Ih,2,0,"div",22),h.Rb()),2&t){var n=h.bc();h.Cb(1),h.hc("ngIf",n.f.username.errors.required)}}function Rh(t,e){1&t&&(h.Sb(0,"div"),h.vc(1,"Password is required"),h.Rb())}function Th(t,e){if(1&t&&(h.Sb(0,"div",21),h.tc(1,Rh,2,0,"div",22),h.Rb()),2&t){var n=h.bc();h.Cb(1),h.hc("ngIf",n.f.password.errors.required)}}function Mh(t,e){1&t&&h.Ob(0,"i",23)}function Nh(t,e){if(1&t){var n=h.Tb();h.Sb(0,"button",24),h.Zb("click",function(){return h.pc(n),h.bc().loginWithGoogle()}),h.vc(1,"\u0648\u0631\u0648\u062f \u0628\u0627 \u06af\u0648\u06af\u0644 "),h.Ob(2,"i",25),h.Rb()}if(2&t){var r=h.bc();h.hc("disabled",r.loading)}}var Ph=function(t){return{"is-invalid":t}},Dh=function(){return["/forget-password"]},xh=function(){return["/register"]},Lh=function(){function t(t,e,n,r,i,o,a,s){this.formBuilder=t,this.route=e,this.router=n,this.alertService=r,this.afService=i,this.authService=o,this.localStorageService=a,this.spinnerService=s,this.loading=!1,this.submitted=!1}return t.prototype.ngOnInit=function(){this.loginForm=this.formBuilder.group({username:["",Ba.required],password:["",Ba.required]}),this.authService.logout(),this.afService.user&&this.afService.logout(),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/meetings"},Object.defineProperty(t.prototype,"f",{get:function(){return this.loginForm.controls},enumerable:!1,configurable:!0}),t.prototype.onSubmit=function(t){var e=this;void 0===t&&(t=!1),this.submitted=!0,this.loginForm.invalid&&!t||(this.loading=!0,(t?Object(tt.a)(Ah.USER):this.authService.loginWithServer(this.f.username.value,this.f.password.value)).subscribe(function(t){t&&e.localStorageService.checkIn(t.id)&&(e.authService.login(t),e.router.navigate([e.authService.redirectUrl]),e.authService.loggedIn.next()),e.loading=!1},function(t){e.loading=!1,console.error(t),e.alertService.error("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f.")}))},t.prototype.loginWithGoogle=function(){this.afService.logout(),this.afService.loginWithGoogle("PERSONAL")},t.\u0275fac=function(e){return new(e||t)(h.Nb(pu),h.Nb(an),h.Nb(Mr),h.Nb(ri),h.Nb(Oh),h.Nb(Gi),h.Nb(ci),h.Nb(Eh))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-login"]],decls:36,vars:16,consts:[[1,"row","h-100","overflow-auto"],[1,"col-md-6","login-form-bg"],[1,"text-right","w-100","d-table","h-100"],[1,"d-table-cell","p-5","bg-white","login-content"],[1,"text-center"],["src","../assets/images/Sholop-Logo.png","alt","","width","200",1,"rounded","mb-5"],[3,"formGroup","ngSubmit"],[1,""],[1,"col-form-label","text-right"],["type","text","formControlName","username","placeholder","someone@proffesional.com",1,"ltr",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","password","formControlName","password","placeholder","\u0631\u0645\u0632 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0634\u0627\u0644\u0627\u067e",1,"ltr",3,"ngClass"],[1,"mt-3","text-right"],["type","submit",1,"w-100","mb-2","primary","ml-2",3,"disabled"],["class","fa fa-refresh fa-spin mr-2",4,"ngIf"],["type","button","class","w-100 mb-4 secondary ml-2",3,"disabled","click",4,"ngIf"],[1,"btn","btn-link","p-3",3,"routerLink"],[1,"col-md-6","login-cover"],[1,"d-table-cell","p-5","login-content"],[1,"text-center","owl-container"],["src","../../assets/images/home/owl.svg",1,"w-75"],[1,"invalid-feedback"],[4,"ngIf"],[1,"fa","fa-refresh","fa-spin","mr-2"],["type","button",1,"w-100","mb-4","secondary","ml-2",3,"disabled","click"],[1,"fa","fa-google"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Sb(4,"div",4),h.Ob(5,"img",5),h.Rb(),h.Sb(6,"form",6),h.Zb("ngSubmit",function(){return e.onSubmit()}),h.Sb(7,"div",7),h.Sb(8,"label",8),h.vc(9,"\u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Ob(10,"input",9),h.tc(11,kh,2,1,"div",10),h.Rb(),h.Sb(12,"div",7),h.Sb(13,"label",8),h.vc(14,"\u06a9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631"),h.Rb(),h.Ob(15,"input",11),h.tc(16,Th,2,1,"div",10),h.Rb(),h.Sb(17,"div",12),h.Sb(18,"div"),h.Sb(19,"button",13),h.vc(20,"\u0648\u0631\u0648\u062f "),h.tc(21,Mh,1,0,"i",14),h.Rb(),h.Rb(),h.Sb(22,"div"),h.tc(23,Nh,3,1,"button",15),h.Rb(),h.Rb(),h.Rb(),h.Sb(24,"div",4),h.Sb(25,"div"),h.Sb(26,"a",16),h.vc(27,"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0641\u0631\u0627\u0645\u0648\u0634 \u06a9\u0631\u062f\u0647\u200c\u0627\u06cc\u062f\u061f"),h.Rb(),h.Rb(),h.Sb(28,"div"),h.Sb(29,"a",16),h.vc(30,"\u0627\u06af\u0631 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0646\u062f\u0627\u0631\u06cc\u062f\u060c \u062f\u0631 \u0627\u06cc\u0646 \u062c\u0627 \u0628\u0633\u0627\u0632\u06cc\u062f."),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(31,"div",17),h.Sb(32,"div",2),h.Sb(33,"div",18),h.Sb(34,"div",19),h.Ob(35,"img",20),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(6),h.hc("formGroup",e.loginForm),h.Cb(4),h.hc("ngClass",h.jc(10,Ph,e.submitted&&e.f.username.errors)),h.Cb(1),h.hc("ngIf",e.submitted&&e.f.username.errors),h.Cb(4),h.hc("ngClass",h.jc(12,Ph,e.submitted&&e.f.password.errors)),h.Cb(1),h.hc("ngIf",e.submitted&&e.f.password.errors),h.Cb(3),h.hc("disabled",e.loading),h.Cb(2),h.hc("ngIf",e.loading),h.Cb(2),h.hc("ngIf",!1),h.Cb(3),h.hc("routerLink",h.ic(14,Dh)),h.Cb(3),h.hc("routerLink",h.ic(15,xh)))},directives:[Fs,as,Zs,Ma,os,Ys,l.i,l.k,Dr],styles:[".login-content[_ngcontent-%COMP%]{vertical-align:middle}"]}),t}(),Bh=(n("kiQV"),{apiKey:"AIzaSyDPxrXEXL44MTWY5ZOhm55Z9EucFkS0Rg0",authDomain:"sholop-1526521509022.firebaseapp.com",databaseURL:"https://sholop-1526521509022.firebaseio.com",projectId:"sholop-1526521509022",storageBucket:"sholop-1526521509022.appspot.com",messagingSenderId:"635253433511"}),Fh=function(){function t(t){this.http=t}return t.prototype.getAll=function(){return this.http.get("/users")},t.prototype.getById=function(t){return this.http.get("/users"+t)},t.prototype.update=function(t){return this.http.put("/users/"+t.id,t)},t.prototype.delete=function(t){return this.http.delete("/users/"+t)},t.\u0275fac=function(e){return new(e||t)(h.Wb(ki))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}();function jh(t,e){if(1&t&&(h.Sb(0,"div",26),h.Sb(1,"label",27),h.vc(2,"\u062b\u0628\u062a \u0646\u0627\u0645 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646"),h.Rb(),h.Sb(3,"div",28),h.Sb(4,"label",29),h.Ob(5,"input",30),h.vc(6," \u0634\u062e\u0635 "),h.Rb(),h.Sb(7,"label",29),h.Ob(8,"input",31),h.vc(9," \u0634\u0631\u06a9\u062a "),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(4),h.Fb("active","PERSONAL"===n.registerForm.value.type),h.Cb(3),h.Fb("active","BUSINESS"===n.registerForm.value.type)}}function Uh(t,e){1&t&&(h.Sb(0,"div"),h.vc(1,"\u0628\u0627\u06cc\u062f \u0627\u0633\u0645\u06cc \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f."),h.Rb())}function Vh(t,e){if(1&t&&(h.Sb(0,"div",32),h.tc(1,Uh,2,0,"div",33),h.Rb()),2&t){var n=h.bc();h.Cb(1),h.hc("ngIf",n.f.name.errors.required)}}function Hh(t,e){1&t&&(h.Sb(0,"div"),h.vc(1,"\u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f."),h.Rb())}function Wh(t,e){if(1&t&&(h.Sb(0,"div",32),h.tc(1,Hh,2,0,"div",33),h.Rb()),2&t){var n=h.bc();h.Cb(1),h.hc("ngIf",n.f.email.errors.required)}}function zh(t,e){1&t&&(h.Sb(0,"div"),h.vc(1,"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631 \u0627\u0644\u0632\u0627\u0645\u06cc \u0627\u0633\u062a."),h.Rb())}function Gh(t,e){1&t&&(h.Sb(0,"div"),h.vc(1,"\u06a9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631 \u062d\u062f\u0627\u0642\u0644 \u0628\u0627\u06cc\u062f \u06f6 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0628\u0627\u0634\u062f."),h.Rb())}function Xh(t,e){if(1&t&&(h.Sb(0,"div",32),h.tc(1,zh,2,0,"div",33),h.tc(2,Gh,2,0,"div",33),h.Rb()),2&t){var n=h.bc();h.Cb(1),h.hc("ngIf",n.f.password.errors.required),h.Cb(1),h.hc("ngIf",n.f.password.errors.minlength)}}function Zh(t,e){1&t&&(h.Sb(0,"div",34),h.Ob(1,"div",35),h.Sb(2,"div",36),h.Sb(3,"p",15),h.vc(4,"\u0628\u0627 \u062b\u0628\u062a\u200c\u0646\u0627\u0645 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06cc\u06a9 \u06a9\u0633\u0628\u200c\u0648\u06a9\u0627\u0631\u060c\u200c \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u0645\u0644\u0627\u0642\u0627\u062a\u200c\u0647\u0627\u06cc \u06a9\u0627\u0631\u0645\u0646\u062f\u0627\u0646 \u0634\u0631\u06a9\u062a \u0631\u0627 \u0645\u062f\u06cc\u0631\u06cc\u062a \u06a9\u0646\u06cc\u062f."),h.Rb(),h.Rb(),h.Rb())}function qh(t,e){1&t&&h.Ob(0,"i",37)}function Yh(t,e){if(1&t){var n=h.Tb();h.Sb(0,"button",38),h.Zb("click",function(){return h.pc(n),h.bc().loginWithGoogle()}),h.vc(1,"\u062b\u0628\u062a\u200c\u0646\u0627\u0645 \u0628\u0627 \u06af\u0648\u06af\u0644 "),h.Ob(2,"i",39),h.Rb()}if(2&t){var r=h.bc();h.hc("disabled",r.loading)}}var Kh=function(t){return{"is-invalid":t}},Qh=function(){return["/login"]},Jh=function(){function t(t,e,n,r,i,o,a,s){this.formBuilder=t,this.router=e,this.userService=n,this.alertService=r,this.navigationService=i,this.authService=o,this.afService=a,this.localStorageService=s,this.loading=!1,this.submitted=!1}return t.prototype.ngOnInit=function(){this.authService.logout(),this.afService.user&&this.afService.logout(),this.registerForm=this.formBuilder.group({type:["PERSONAL",Ba.required],name:["",Ba.required],email:["",Ba.required],password:["",[Ba.required,Ba.minLength(6)]]})},Object.defineProperty(t.prototype,"f",{get:function(){return this.registerForm.controls},enumerable:!1,configurable:!0}),t.prototype.onSubmit=function(){var t=this;this.submitted=!0,this.registerForm.invalid||(this.loading=!0,this.authService.register(this.registerForm.value).subscribe(function(e){e&&t.localStorageService.checkIn(e.id)&&(t.authService.login(e),t.router.navigate([t.authService.redirectUrl]),t.authService.loggedIn.next()),t.loading=!1}))},t.prototype.loginWithGoogle=function(){this.afService.logout(),this.afService.loginWithGoogle(this.registerForm.value.type)},t.\u0275fac=function(e){return new(e||t)(h.Nb(pu),h.Nb(Mr),h.Nb(Fh),h.Nb(ri),h.Nb(Zi),h.Nb(Gi),h.Nb(Oh),h.Nb(ci))},t.\u0275cmp=h.Hb({type:t,selectors:[["ng-component"]],decls:43,vars:21,consts:[[1,"row","h-100","overflow-auto"],[1,"col-md-6","login-form-bg"],[1,"text-right","w-100","d-table","h-100"],[1,"d-table-cell","p-5","register-content","bg-white"],[1,"text-center"],["src","../assets/images/Sholop-Logo.png","alt","","width","200",1,"rounded","mb-5"],[1,"",3,"formGroup","ngSubmit"],["class","form-group row",4,"ngIf"],[1,"col-form-label","text-right"],["type","text","formControlName","name",1,"",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],[1,""],["type","text","placeholder","\u0627\u06cc\u0645\u06cc\u0644","formControlName","email",1,"ltr",3,"ngClass"],["type","password","placeholder","\u06cc\u06a9 \u06a9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f","formControlName","password",1,"ltr",3,"ngClass"],["class","row form-group",4,"ngIf"],[1,"card-text"],[1,"text-muted"],["routerLink","/conditions"],["type","submit",1,"w-100","primary","mb-2",3,"disabled"],["class","fa fa-refresh fa-spin mr-2",4,"ngIf"],["type","button","class","w-100 primary mb-3",3,"disabled","click",4,"ngIf"],[1,"btn","btn-link",3,"routerLink"],[1,"col-md-6","register-cover"],[1,"d-table-cell","p-5","register-content"],[1,"text-center","owl-container"],["src","../../assets/images/home/owl.svg",1,"w-75"],[1,"form-group","row"],[1,"col-md-3","col-form-label","text-right"],["data-toggle","type",1,"col-md-9","text-right","btn-group","btn-group-toggle","ltr"],[1,"btn","btn-outline-primary"],["type","radio","formControlName","type","checked","","value","PERSONAL",1,"form-control"],["type","radio","formControlName","type","value","BUSINESS",1,"form-control"],[1,"invalid-feedback"],[4,"ngIf"],[1,"row","form-group"],[1,"col-md-3"],[1,"col-md-9","text-right"],[1,"fa","fa-refresh","fa-spin","mr-2"],["type","button",1,"w-100","primary","mb-3",3,"disabled","click"],[1,"fa","fa-google"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Sb(4,"div",4),h.Ob(5,"img",5),h.Rb(),h.Sb(6,"form",6),h.Zb("ngSubmit",function(){return e.onSubmit()}),h.tc(7,jh,10,4,"div",7),h.Sb(8,"div"),h.Sb(9,"label",8),h.vc(10,"\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644"),h.Rb(),h.Ob(11,"input",9),h.tc(12,Vh,2,1,"div",10),h.Rb(),h.Sb(13,"div",11),h.Sb(14,"label",8),h.vc(15,"\u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Ob(16,"input",12),h.tc(17,Wh,2,1,"div",10),h.Rb(),h.Sb(18,"div",11),h.Sb(19,"label",8),h.vc(20,"\u06a9\u0644\u0645\u0647 \u0639\u0628\u0648\u0631"),h.Rb(),h.Ob(21,"input",13),h.tc(22,Xh,3,2,"div",10),h.Rb(),h.tc(23,Zh,5,0,"div",14),h.Sb(24,"p",15),h.Sb(25,"small",16),h.vc(26,"\u062b\u0628\u062a \u0646\u0627\u0645 \u0634\u0645\u0627 \u0645\u0644\u0632\u0645 \u0628\u0647 \u0642\u0628\u0648\u0644 "),h.Sb(27,"a",17),h.vc(28," \u0642\u0648\u0627\u0646\u06cc\u0646 \u0634\u0627\u0644\u0627\u067e "),h.Rb(),h.vc(29," \u0627\u0633\u062a."),h.Rb(),h.Rb(),h.Sb(30,"div",11),h.Sb(31,"button",18),h.vc(32," \u062b\u0628\u062a \u0646\u0627\u0645 "),h.tc(33,qh,1,0,"i",19),h.Rb(),h.tc(34,Yh,3,1,"button",20),h.Rb(),h.Rb(),h.Sb(35,"div",4),h.Sb(36,"a",21),h.vc(37,"\u0627\u06af\u0631 \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062f\u0627\u0631\u06cc\u062f\u060c \u0627\u0632 \u0627\u06cc\u0646 \u062c\u0627 \u0648\u0627\u0631\u062f \u0634\u0648\u06cc\u062f."),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(38,"div",22),h.Sb(39,"div",2),h.Sb(40,"div",23),h.Sb(41,"div",24),h.Ob(42,"img",25),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(6),h.hc("formGroup",e.registerForm),h.Cb(1),h.hc("ngIf",!1),h.Cb(4),h.hc("placeholder","business"===e.f.type.value?"\u0646\u0627\u0645 \u0634\u0631\u06a9\u062a":"\u0646\u0627\u0645")("ngClass",h.jc(14,Kh,e.submitted&&e.f.name.errors)),h.Cb(1),h.hc("ngIf",e.submitted&&e.f.name.errors),h.Cb(4),h.hc("ngClass",h.jc(16,Kh,e.submitted&&e.f.email.errors)),h.Cb(1),h.hc("ngIf",e.submitted&&e.f.email.errors),h.Cb(4),h.hc("ngClass",h.jc(18,Kh,e.submitted&&e.f.password.errors)),h.Cb(1),h.hc("ngIf",e.submitted&&e.f.password.errors),h.Cb(1),h.hc("ngIf","business"===e.registerForm.value.type),h.Cb(8),h.hc("disabled",e.loading),h.Cb(2),h.hc("ngIf",e.loading),h.Cb(1),h.hc("ngIf",!1),h.Cb(2),h.hc("routerLink",h.ic(20,Qh)))},directives:[Fs,as,Zs,l.k,Ma,os,Ys,l.i,Dr,zs],styles:[".register-content[_ngcontent-%COMP%]{vertical-align:middle}label[_ngcontent-%COMP%]{font-weight:900}"]}),t}(),$h=["childModal"],tf=["spinner"],ef=["searchBox"],nf=["address2"],rf=function(){function t(t,e,n,r,i){this.dataService=t,this.alertService=e,this.authService=n,this.mapsAPILoader=r,this.ngZone=i,this.onVenueAdded=new h.n,this.index=-1,this.venue=new hc(-1,"",0,0,"","",""),this.zoom=12,this.submitted=!1}return t.prototype.ngOnInit=function(){var t=this;(!this.venue||this.venue.id<=0)&&this.setCurrentPosition(),this.mapsAPILoader.load().then(function(){var e=new google.maps.places.Autocomplete(t.searchInput.nativeElement,{types:["address"]});e.addListener("place_changed",function(){t.ngZone.run(function(){var n=e.getPlace();null!=n.geometry&&(t.venue.latitude=n.geometry.location.lat(),t.venue.longitude=n.geometry.location.lng(),t.zoom=12)})})})},t.prototype.setCurrentPosition=function(){var t=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(e){t.venue.latitude=e.coords.latitude,t.venue.longitude=e.coords.longitude,t.zoom=12})},t.prototype.show=function(t){void 0===t&&(t=new hc),t&&(this.venue=t),this.modal.show()},t.prototype.hide=function(){this.modal.hide()},t.prototype.reset=function(){this.venue.farsiAddress1="",this.venue.farsiAddress2=""},t.prototype.validateForm=function(){return!0},t.prototype.createVenue=function(){var t=this;this.submitted=!0,this.validateForm()&&(this.modal.hide(),this.venue.userId=this.authService.userId,this.dataService.updateVenue(this.venue).subscribe(function(e){t.onVenueAdded.emit(e.object)},function(e){console.log(e),t.modal.show(),t.alertService.error(e.toString())}))},t.prototype.markerMoved=function(t){var e=this;this.venue.latitude=t.coords.lat,this.venue.longitude=t.coords.lng,(new google.maps.Geocoder).geocode({location:t.coords},function(t,n){n===google.maps.GeocoderStatus.OK&&t.length&&e.ngZone.run(function(){return e.venue.farsiAddress1=t[0].formatted_address})})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(ri),h.Nb(Gi),h.Nb(pl),h.Nb(h.A))},t.\u0275cmp=h.Hb({type:t,selectors:[["add-venue"]],viewQuery:function(t,e){if(1&t&&(h.Ac($h,3),h.Ac(tf,3),h.Ac(ef,3),h.Ac(nf,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.modal=n.first),h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.searchInput=n.first),h.lc(n=h.ac())&&(e.address2=n.first)}},inputs:{index:"index",venue:"venue"},outputs:{onVenueAdded:"onVenueAdded"},decls:18,vars:12,consts:[[3,"modalTitle","size","zIndex"],["childModal",""],[1,"app-modal-body"],[1,"text-right"],["type","text","size","80","autocomplete","off","name","address_1","placeholder","\u0634\u0647\u0631\u060c\u200c \u062e\u06cc\u0627\u0628\u0627\u0646",1,"mb-2",3,"ngModel","ngModelChange"],["searchBox",""],[1,""],["type","text","size","80","name","address_2","placeholder","\u06a9\u0648\u0686\u0647\u060c\u200c \u067e\u0644\u0627\u06a9\u060c \u0648\u0627\u062d\u062f",1,"mb-2",3,"ngModel","ngModelChange"],["address2",""],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"markerDraggable","latitude","longitude","dragEnd"],[1,"app-modal-footer"],["type","button",1,"btn","primary","ml-2",3,"click"],["type","button",1,"btn","secondary",3,"click"]],template:function(t,e){1&t&&(h.Sb(0,"modal",0,1),h.Qb(2,2),h.Sb(3,"div"),h.Sb(4,"label",3),h.vc(5,"\u0645\u062d\u0644 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.Sb(6,"input",4,5),h.Zb("ngModelChange",function(t){return e.venue.farsiAddress1=t}),h.Rb(),h.Rb(),h.Sb(8,"div",6),h.Sb(9,"input",7,8),h.Zb("ngModelChange",function(t){return e.venue.farsiAddress2=t}),h.Rb(),h.Rb(),h.Sb(11,"agm-map",9),h.Sb(12,"agm-marker",10),h.Zb("dragEnd",function(t){return e.markerMoved(t)}),h.Rb(),h.Rb(),h.Pb(),h.Qb(13,11),h.Sb(14,"button",12),h.Zb("click",function(){return e.createVenue()}),h.vc(15,"\u0630\u062e\u06cc\u0631\u0647"),h.Rb(),h.Sb(16,"button",13),h.Zb("click",function(){return e.hide()}),h.vc(17,"\u0644\u063a\u0648"),h.Rb(),h.Pb(),h.Rb()),2&t&&(h.hc("modalTitle","\u062b\u0628\u062a \u0645\u062d\u0644 \u0645\u0644\u0627\u0642\u0627\u062a \u062c\u062f\u06cc\u062f")("size","md")("zIndex",11),h.Cb(6),h.hc("ngModel",e.venue.farsiAddress1),h.Cb(3),h.hc("ngModel",e.venue.farsiAddress2),h.Cb(2),h.hc("latitude",e.venue.latitude)("longitude",e.venue.longitude)("scrollwheel",!0)("zoom",e.zoom),h.Cb(1),h.hc("markerDraggable",!0)("latitude",e.venue.latitude)("longitude",e.venue.longitude))},directives:[wa,Ma,os,Bs,Dl,Ll],styles:[".map[_ngcontent-%COMP%]{height:150px}"]}),t}(),of=["spinner"],af=["editVenue"];function sf(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",16),h.Sb(1,"div",17),h.Sb(2,"div",18),h.Sb(3,"div",19),h.Sb(4,"agm-map",20),h.Ob(5,"agm-marker",21),h.Rb(),h.Rb(),h.Sb(6,"div",22),h.Sb(7,"p"),h.vc(8),h.Rb(),h.Sb(9,"div"),h.Sb(10,"span",8),h.vc(11),h.Rb(),h.Rb(),h.Sb(12,"div"),h.Sb(13,"span",8),h.vc(14),h.Rb(),h.Rb(),h.Sb(15,"div"),h.Sb(16,"a",23),h.Zb("click",function(){h.pc(n);var t=e.$implicit;return h.bc().onEditVenue(t)}),h.vc(17,"\u0648\u06cc\u0631\u0627\u06cc\u0634 "),h.Rb(),h.Sb(18,"a",24),h.Zb("click",function(t){h.pc(n);var r=e.$implicit,i=e.index;return h.bc().onDeleteVenue(r.id,i,t)}),h.vc(19," \u062d\u0630\u0641 "),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(4),h.hc("latitude",r.latitude)("longitude",r.longitude)("scrollwheel",!0)("zoom",15),h.Cb(1),h.hc("markerDraggable",!1)("latitude",r.latitude)("longitude",r.longitude),h.Cb(3),h.wc(r.title),h.Cb(3),h.wc(r.farsiAddress1),h.Cb(3),h.wc(r.farsiAddress2)}}function uf(t,e){1&t&&(h.Sb(0,"div",25),h.Sb(1,"object",26),h.Ob(2,"param",27),h.Rb(),h.Sb(3,"div",8),h.vc(4,"\u0647\u06cc\u0686\u06cc \u067e\u06cc\u062f\u0627 \u0646\u06a9\u0631\u062f\u0645"),h.Rb(),h.Rb())}var cf,lf=function(){function t(t){this.dataService=t,this.venues=[],this.loading=!1,this.searchString=""}return t.prototype.ngOnInit=function(){this.readVenues("")},t.prototype.readVenues=function(t){var e=this;this.loading=!0,this.dataService.getVenues(t).subscribe(function(t){"OK"===t.msg&&(e.venues=[],t.object.forEach(function(t){e.venues.push(t)})),e.loading=!1},function(t){console.log(t),e.loading=!1})},t.prototype.readDummyVenues=function(){var t=this;this.loading=!0,setTimeout(function(){t.loading=!1,t.venues=Ah.VENUES},1500)},t.prototype.deleteVenue=function(t,e){var n=this;this.dataService.deleteVenue(t).subscribe(function(t){n.venues.splice(e,1)},function(t){console.log(t),n.spinner.hide()})},t.prototype.onVenueAdded=function(t){this.venues.push(t)},t.prototype.onVenueEdited=function(t){},t.prototype.onDeleteVenue=function(t,e,n){n.preventDefault(),this.deleteVenue(t,e)},t.prototype.onKeyUp=function(t){13===t.keyCode&&this.readVenues(this.searchString)},t.prototype.onEditVenue=function(t){event.preventDefault(),this.editVenue.show(t)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-venues"]],viewQuery:function(t,e){if(1&t&&(h.Ac(of,3),h.Ac(af,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.editVenue=n.first)}},decls:19,vars:5,consts:[[1,"p-3"],[1,"flexbox-parent-row","pb-2"],[1,""],["type","button",1,"btn","secondary","w-100",3,"click"],[1,"fa","fa-map"],[3,"onVenueAdded"],["addNewVenue",""],["type","text","name","search","placeholder","\u0639\u0646\u0648\u0627\u0646\u060c\u200c \u0622\u062f\u0631\u0633\u060c ...",1,"mr-2",3,"ngModel","keyup","ngModelChange"],[1,"text-muted"],[1,"row"],["class","col-md-6 venue ",4,"ngFor","ngForOf"],["editVenue",""],["class","text-center owl-container",4,"ngIf"],[1,"row","justify-content-center"],[3,"size","showing"],["spinner",""],[1,"col-md-6","venue"],[1,"venue-frame","shadow"],[1,"row","p-2","text-right"],[1,"col-md-4"],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"markerDraggable","latitude","longitude"],[1,"col-md-8"],["href","#",1,"ml-3",3,"click"],["href","#",3,"click"],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(cf||(e=["../../assets/images/home/owl.svg"],n=["../../assets/images/home/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,cf=e)),1,"w-75"],["name","class","value","look-around"]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"button",3),h.Zb("click",function(){h.pc(n);var t=h.mc(7);return t.reset(),t.show()}),h.Ob(4,"i",4),h.vc(5," \u0645\u06a9\u0627\u0646 \u062c\u062f\u06cc\u062f "),h.Rb(),h.Sb(6,"add-venue",5,6),h.Zb("onVenueAdded",function(t){return e.onVenueAdded(t)}),h.Rb(),h.Rb(),h.Sb(8,"input",7),h.Zb("keyup",function(t){return e.onKeyUp(t)})("ngModelChange",function(t){return e.searchString=t}),h.Rb(),h.Rb(),h.Sb(9,"small",8),h.vc(10,"\u0628\u0631\u0627\u06cc \u062c\u0633\u062a\u062c\u0648\u06cc \u06a9\u0644\u0645\u0647 \u062a\u0627\u06cc\u067e \u0634\u062f\u0647 \u06a9\u0644\u06cc\u062f \u0627\u06cc\u0646\u062a\u0631 \u0631\u0627 \u0641\u0634\u0627\u0631 \u062f\u0647\u06cc\u062f."),h.Rb(),h.Sb(11,"div",9),h.tc(12,sf,20,10,"div",10),h.Sb(13,"add-venue",5,11),h.Zb("onVenueAdded",function(t){return e.onVenueEdited(t)}),h.Rb(),h.Rb(),h.tc(15,uf,5,0,"div",12),h.Sb(16,"div",13),h.Ob(17,"spinner",14,15),h.Rb(),h.Rb()}2&t&&(h.Cb(8),h.hc("ngModel",e.searchString),h.Cb(4),h.hc("ngForOf",e.venues),h.Cb(3),h.hc("ngIf",!e.loading&&0===e.venues.length),h.Cb(2),h.hc("size","large")("showing",e.loading))},directives:[rf,Ma,os,Bs,l.j,l.k,Zc,Dl,Ll],styles:[".map[_ngcontent-%COMP%]{height:100px}.venue-frame[_ngcontent-%COMP%]{background:#fff;margin:5px}"]}),t;var e,n}(),hf=function(t){return{"is-invalid":t}},ff=function(){function t(t,e,n){this.formBuilder=t,this.dataService=e,this.alertService=n,this.submitted=!1,this.loading=!1}return t.prototype.ngOnInit=function(){this.contactUsForm=this.formBuilder.group({title:["",[Ba.minLength(5),Ba.required]],email:["",[Ba.email,Ba.required]],name:[""],message:["",[Ba.minLength(20),Ba.required]]})},Object.defineProperty(t.prototype,"f",{get:function(){return this.contactUsForm.controls},enumerable:!1,configurable:!0}),t.prototype.onSubmit=function(){var t=this;this.submitted=!0,this.contactUsForm.invalid||(this.loading=!0,this.dataService.contactUs({name:this.f.name.value,email:this.f.email.value,title:this.f.title.value,message:this.f.message.value}).pipe(qt()).subscribe(function(e){t.alertService.success("\u067e\u06cc\u0627\u0645 \u0634\u0645\u0627 \u0627\u0631\u0633\u0627\u0644 \u0634\u062f.")},function(e){t.alertService.error(e),t.loading=!1}))},t.\u0275fac=function(e){return new(e||t)(h.Nb(pu),h.Nb(Iu),h.Nb(ri))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-contact-us"]],decls:42,vars:19,consts:[[1,"row","bg-white","p-5"],[1,"col-md-8","mb-5"],[1,"dark-grey-text","text-muted","text-right"],[3,"formGroup","ngSubmit"],[1,""],[1,"col-form-label","text-right"],["id","name","type","text","formControlName","name","name","name","placeholder","\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644",1,"",3,"ngClass"],["formControlName","email","type","text","name","email","placeholder","ali@gmail.com",1,"ltr",3,"ngClass"],["formControlName","title","type","text","name","title","placeholder","\u0645\u0648\u0636\u0648\u0639 \u0627\u0631\u062a\u0628\u0627\u0637",1,"",3,"ngClass"],["id","message","formControlName","message","type","text","rows","10","name","email","placeholder","\u0645\u062a\u0646 \u067e\u06cc\u0627\u0645",1,"",3,"ngClass"],["type","submit",1,"btn","primary","ml-2"],[1,"col-md-4"],[1,"flexbox-parent","text-center"],[1,"contact-info","mb-4"],[1,"text-overflow"],[1,"fa","fa-map-marker","font-x-large","ml-3"],[1,"fa","fa-phone","font-x-large","ml-3"],[1,"ltr"],[1,"fa","fa-envelope","ml-3","font-x-large"],["id","map-container-section",1,"z-depth-1-half","map-container-section","flexbox-item-grow",2,"height","200px"],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"latitude","longitude"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"p",2),h.vc(3,"\u0633\u0648\u0627\u0644\u0627\u062a \u0648 \u0645\u0634\u06a9\u0644\u0627\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u0645\u0627 \u0628\u0646\u0648\u06cc\u0633\u06cc\u062f."),h.Rb(),h.Sb(4,"form",3),h.Zb("ngSubmit",function(){return e.onSubmit()}),h.Sb(5,"div",4),h.Sb(6,"label",5),h.vc(7,"\u0646\u0627\u0645"),h.Rb(),h.Ob(8,"input",6),h.Rb(),h.Sb(9,"div",4),h.Sb(10,"label",5),h.vc(11,"\u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Ob(12,"input",7),h.Rb(),h.Sb(13,"div",4),h.Sb(14,"label",5),h.vc(15,"\u0645\u0648\u0636\u0648\u0639"),h.Rb(),h.Ob(16,"input",8),h.Rb(),h.Sb(17,"div",4),h.Sb(18,"label",5),h.vc(19,"\u067e\u06cc\u0627\u0645"),h.Rb(),h.Ob(20,"textarea",9),h.Rb(),h.Sb(21,"button",10),h.vc(22,"\u0627\u0631\u0633\u0627\u0644"),h.Rb(),h.Rb(),h.Rb(),h.Sb(23,"div",11),h.Sb(24,"div",12),h.Sb(25,"div",13),h.Sb(26,"div",14),h.Ob(27,"i",15),h.Sb(28,"span"),h.vc(29,"\u062a\u0647\u0631\u0627\u0646\u060c\u200c \u062e\u06cc\u0627\u0628\u0627\u0646 \u067e\u0627\u0633\u062f\u0627\u0631\u0627\u0646"),h.Rb(),h.Rb(),h.Sb(30,"div",14),h.Ob(31,"i",16),h.Sb(32,"span",17),h.vc(33,"+98 (21) 8457 8457"),h.Rb(),h.Rb(),h.Sb(34,"div",4),h.Ob(35,"i",18),h.Sb(36,"span"),h.vc(37,"info@sholop.com"),h.Rb(),h.Rb(),h.Rb(),h.Ob(38,"hr"),h.Sb(39,"div",19),h.Sb(40,"agm-map",20),h.Ob(41,"agm-marker",21),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(4),h.hc("formGroup",e.contactUsForm),h.Cb(4),h.hc("ngClass",h.jc(11,hf,e.submitted&&e.f.name.errors)),h.Cb(4),h.hc("ngClass",h.jc(13,hf,e.submitted&&e.f.email.errors)),h.Cb(4),h.hc("ngClass",h.jc(15,hf,e.submitted&&e.f.title.errors)),h.Cb(4),h.hc("ngClass",h.jc(17,hf,e.submitted&&e.f.message.errors)),h.Cb(20),h.hc("latitude",35.6892)("longitude",51.389)("scrollwheel",!0)("zoom",12),h.Cb(1),h.hc("latitude",35.6892)("longitude",51.389))},directives:[Fs,as,Zs,Ma,os,Ys,l.i,Dl,Ll],styles:[".map-container-section[_ngcontent-%COMP%]{overflow:hidden;padding-bottom:56.25%;position:relative;height:0}.map-container-section[_ngcontent-%COMP%]   .map[_ngcontent-%COMP%]{left:0;top:0;height:100%;width:100%;position:absolute}.contact-info[_ngcontent-%COMP%]{color:#4682b4}"]}),t}(),df=["cropper"],pf=["imageCropperModal"],gf=["fileInput"],vf=["spinner"],mf=["searchBox"],yf=function(){function t(t,e,n,r,i){this.dataService=t,this.alertService=e,this.authService=n,this.mapsAPILoader=r,this.ngZone=i,this.onContactAdded=new h.n,this.submitted=!1,this.imageChangedEvent="",this.mapLat=cc,this.mapLng=lc}return t.prototype.ngOnInit=function(){var t=this;this.user=Object.assign({},this.authService.getCurrentUser()),this.zoom=12,0===this.user.latitude&&this.setCurrentPosition(),this.mapsAPILoader.load().then(function(){var e=new google.maps.places.Autocomplete(t.searchInput.nativeElement,{types:["address"]});e.addListener("place_changed",function(){t.ngZone.run(function(){var n=e.getPlace();null!=n.geometry&&(t.user.latitude=n.geometry.location.lat(),t.user.longitude=n.geometry.location.lng(),t.zoom=12,t.mapLat=n.geometry.location.lat(),t.mapLng=n.geometry.location.lng())})})})},t.prototype.fileChanged=function(t){var e=t.target.files[0];e&&(this.imageCropperModal.show(),this.imageChangedEvent=t,this.user.fileName=e.name)},t.prototype.imageCropped=function(t){this.user.imageUrl=t.base64,this.user.image=t.base64},t.prototype.loadImageFailed=function(){console.log("failed")},t.prototype.onImageClick=function(){this.fileInput.nativeElement.click()},t.prototype.validateForm=function(){return!0},t.prototype.updateUser=function(){var t=this;this.submitted=!0,this.validateForm()&&(this.user.farsiAddress1=this.searchInput.nativeElement.value,this.dataService.updateUser(this.user).subscribe(function(e){e&&"OK"===e.msg?(e.object.token=t.authService.getCurrentUser().token,t.authService.login(e.object),t.alertService.success("\u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0630\u062e\u06cc\u0631\u0647 \u0634\u062f.")):t.alertService.error("\u0644\u0637\u0641\u0627 \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f.")},function(e){console.log(e),t.alertService.error(e.toString())}))},t.prototype.onImageCropperModalOk=function(){this.imageCropperModal.hide()},t.prototype.markerMoved=function(t){var e=this;this.user.latitude=t.coords.lat,this.user.longitude=t.coords.lng,(new google.maps.Geocoder).geocode({location:t.coords},function(t,n){n===google.maps.GeocoderStatus.OK&&t.length&&e.ngZone.run(function(){return e.user.farsiAddress1=t[0].formatted_address})})},t.prototype.mapClicked=function(t){var e=this;this.user.latitude=t.coords.lat,this.user.longitude=t.coords.lng,(new google.maps.Geocoder).geocode({location:t.coords},function(t,n){n===google.maps.GeocoderStatus.OK&&t.length&&e.ngZone.run(function(){return e.user.farsiAddress1=t[0].formatted_address})})},t.prototype.setCurrentPosition=function(){var t=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(e){t.user.latitude=e.coords.latitude,t.user.longitude=e.coords.longitude,t.zoom=12})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(ri),h.Nb(Gi),h.Nb(pl),h.Nb(h.A))},t.\u0275cmp=h.Hb({type:t,selectors:[["profile"]],viewQuery:function(t,e){if(1&t&&(h.Ac(df,3),h.Ac(pf,3),h.Ac(gf,3),h.Ac(vf,3),h.Ac(mf,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.cropper=n.first),h.lc(n=h.ac())&&(e.imageCropperModal=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first),h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.searchInput=n.first)}},outputs:{onContactAdded:"onContactAdded"},decls:48,vars:20,consts:[[1,"p-3"],[1,"bg-white","p-5"],[1,"text-center","justify-content-center"],[1,"w-25","m-auto","text-center"],[1,"rounded-circle","w-100",3,"src","click"],[1,"text-muted"],[3,"modalTitle","zIndex","maximizable"],["imageCropperModal",""],[1,"app-modal-body"],[1,"text-center"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","loadImageFailed"],["cropper",""],[1,"app-modal-footer"],[1,"text-right"],["type","button",1,"btn","primary",3,"click"],["type","file","id","inputGroupFile01","aria-describedby","inputGroupFileAddon01",1,"custom-file-input",3,"change"],["fileInput",""],[1,""],[1,"col-form-label","text-right"],["id","name","type","text","name","name","placeholder","\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644",1,"",3,"ngModel","ngModelChange"],["type","text","name","email","readonly","","placeholder","ali@gmail.com",1,"ltr",3,"ngModel","ngModelChange"],["type","text","name","phone","placeholder","0912XXXXXXXX",1,"ltr",3,"ngModel","ngModelChange"],["type","text","autocomplete","off","name","address_1","placeholder","\u0634\u0647\u0631\u060c\u200c \u062e\u06cc\u0627\u0628\u0627\u0646",1,"mb-2",3,"ngModel","ngModelChange"],["searchBox",""],["type","text","autocomplete","off","name","address_2","placeholder","\u06a9\u0648\u0686\u0647\u060c\u200c \u067e\u0644\u0627\u06a9\u060c \u0648\u0627\u062d\u062f",1,"mb-2",3,"ngModel","ngModelChange"],["address2",""],[1,"mb-3"],[1,"map",3,"latitude","longitude","scrollwheel","zoom","mapClick"],[3,"markerDraggable","latitude","longitude","dragEnd"],[1,"col-sm-2","col-form-label","text-right"],["id","message","type","text","rows","7","name","description","placeholder","\u062a\u0648\u0636\u06cc\u062d\u0627\u062a\u06cc \u0628\u0631\u0627\u06cc \u0622\u0634\u0646\u0627\u06cc\u06cc \u0645\u062e\u0627\u0637\u0628\u0627\u0646\u062a\u0627\u0646",1,"",3,"ngModel","ngModelChange"],["type","button",1,"btn","primary","ml-2",3,"click"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Sb(4,"img",4),h.Zb("click",function(){return e.onImageClick()}),h.Rb(),h.Sb(5,"small",5),h.vc(6,"\u0628\u0631\u0627\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0639\u06a9\u0633 \u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f"),h.Rb(),h.Rb(),h.Sb(7,"modal",6,7),h.Qb(9,8),h.Sb(10,"div",9),h.Sb(11,"image-cropper",10,11),h.Zb("imageCropped",function(t){return e.imageCropped(t)})("loadImageFailed",function(){return e.loadImageFailed()}),h.Rb(),h.Rb(),h.Pb(),h.Qb(13,12),h.Sb(14,"div",13),h.Sb(15,"button",14),h.Zb("click",function(){return e.onImageCropperModalOk()}),h.vc(16,"\u062e\u0648\u0628\u0647"),h.Rb(),h.Rb(),h.Pb(),h.Rb(),h.Sb(17,"input",15,16),h.Zb("change",function(t){return e.fileChanged(t)}),h.Rb(),h.Rb(),h.Sb(19,"div",17),h.Sb(20,"div",17),h.Sb(21,"label",18),h.vc(22,"\u0646\u0627\u0645"),h.Rb(),h.Sb(23,"input",19),h.Zb("ngModelChange",function(t){return e.user.name=t}),h.Rb(),h.Rb(),h.Sb(24,"div",17),h.Sb(25,"label",18),h.vc(26,"\u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Sb(27,"input",20),h.Zb("ngModelChange",function(t){return e.user.username=t}),h.Rb(),h.Rb(),h.Sb(28,"div",17),h.Sb(29,"label",18),h.vc(30,"\u062a\u0644\u0641\u0646"),h.Rb(),h.Sb(31,"input",21),h.Zb("ngModelChange",function(t){return e.user.phone=t}),h.Rb(),h.Rb(),h.Sb(32,"div",17),h.Sb(33,"label",18),h.vc(34,"\u0622\u062f\u0631\u0633"),h.Rb(),h.Sb(35,"input",22,23),h.Zb("ngModelChange",function(t){return e.user.farsiAddress1=t}),h.Rb(),h.Sb(37,"input",24,25),h.Zb("ngModelChange",function(t){return e.user.farsiAddress2=t}),h.Rb(),h.Sb(39,"div",26),h.Sb(40,"agm-map",27),h.Zb("mapClick",function(t){return e.mapClicked(t)}),h.Sb(41,"agm-marker",28),h.Zb("dragEnd",function(t){return e.markerMoved(t)}),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(42,"div",17),h.Sb(43,"label",29),h.vc(44,"\u062f\u0631\u0628\u0627\u0631\u0647 \u0645\u0646"),h.Rb(),h.Sb(45,"textarea",30),h.Zb("ngModelChange",function(t){return e.user.description=t}),h.Rb(),h.Rb(),h.Sb(46,"button",31),h.Zb("click",function(){return e.updateUser()}),h.vc(47,"\u062f\u062e\u06cc\u0631\u0647"),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(4),h.hc("src",e.user.imageUrl?e.user.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.hc("modalTitle","Edit Image Size")("zIndex",10)("maximizable",!0),h.Cb(4),h.hc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1),h.Cb(12),h.hc("ngModel",e.user.name),h.Cb(4),h.hc("ngModel",e.user.username),h.Cb(4),h.hc("ngModel",e.user.phone),h.Cb(4),h.hc("ngModel",e.user.farsiAddress1),h.Cb(2),h.hc("ngModel",e.user.farsiAddress2),h.Cb(3),h.hc("latitude",e.mapLat)("longitude",e.mapLng)("scrollwheel",!0)("zoom",e.zoom),h.Cb(1),h.hc("markerDraggable",!0)("latitude",e.user.latitude)("longitude",e.user.longitude),h.Cb(4),h.hc("ngModel",e.user.description))},directives:[wa,Ic,Ma,os,Bs,Dl,Ll],styles:[".map[_ngcontent-%COMP%]{height:200px;width:100%}"]}),t}(),bf=["addAttendee"],wf=["spinner"],_f=function(){function t(t,e,n){this.dataService=t,this.alertService=e,this.authService=n,this.addToContacts=!0,this.onAttendeeAdded=new h.n,this.contact={name:"",email:"",phone:"",type:"CONTACT",image:File,id:-1,fileName:""},this.submitting=!1}return t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.modal.show()},t.prototype.reset=function(){this.contact={name:"",email:"",type:"CONTACT",phone:"",image:null,id:-1,fileName:""}},t.prototype.validateForm=function(){return!0},t.prototype.onSubmit=function(){var t=this;this.validateForm()&&(this.modal.hide(),this.addToContacts?(this.contact.userId=this.authService.userId,this.dataService.updateContact(this.contact).subscribe(function(e){t.onAttendeeAdded.emit(e.object)},function(e){console.log(e),t.modal.show(),t.alertService.error(e.toString())})):this.onAttendeeAdded.emit(this.contact))},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(ri),h.Nb(Gi))},t.\u0275cmp=h.Hb({type:t,selectors:[["add-attendee"]],viewQuery:function(t,e){if(1&t&&(h.Ac(bf,3),h.Ac(wf,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.modal=n.first),h.lc(n=h.ac())&&(e.spinner=n.first)}},outputs:{onAttendeeAdded:"onAttendeeAdded"},decls:27,vars:9,consts:[[3,"modalTitle","width","zIndex","maximizable"],["addAttendee",""],[1,"app-modal-body"],[1,""],[1,"col-form-label"],["type","text","name","name","placeholder","\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644",1,"",3,"ngModel","ngModelChange"],["type","text","name","email","placeholder","\u0627\u06cc\u0645\u06cc\u0644",1,"ltr",3,"ngModel","ngModelChange"],["type","text","name","phone","placeholder","\u062a\u0644\u0641\u0646",1,"ltr",3,"ngModel","ngModelChange"],[1,"custom-control","custom-checkbox","mt-2",3,"click"],["type","checkbox","id","add-to-contacts",1,"custom-control-input",3,"checked"],["for","add-to-contacts",1,"custom-control-label"],[1,"app-modal-footer"],[1,"text-right"],["type","button",1,"btn","primary","ml-2",3,"click"],[3,"size"],["spinner",""],["type","button",1,"btn","secondary",3,"click"]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"modal",0,1),h.Qb(2,2),h.Sb(3,"div",3),h.Sb(4,"label",4),h.vc(5,"\u0646\u0627\u0645"),h.Rb(),h.Sb(6,"input",5),h.Zb("ngModelChange",function(t){return e.contact.name=t}),h.Rb(),h.Rb(),h.Sb(7,"div",3),h.Sb(8,"label",4),h.vc(9,"\u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Sb(10,"input",6),h.Zb("ngModelChange",function(t){return e.contact.email=t}),h.Rb(),h.Rb(),h.Sb(11,"div",3),h.Sb(12,"label",4),h.vc(13,"\u062a\u0644\u0641\u0646"),h.Rb(),h.Sb(14,"input",7),h.Zb("ngModelChange",function(t){return e.contact.phone=t}),h.Rb(),h.Rb(),h.Sb(15,"div",8),h.Zb("click",function(){return e.addToContacts=!e.addToContacts}),h.Ob(16,"input",9),h.Sb(17,"label",10),h.vc(18,"\u0628\u0647 \u0644\u06cc\u0633\u062a \u0645\u062e\u0627\u0637\u0628\u0627\u0646 \u0627\u0636\u0627\u0641\u0647 \u0634\u0648\u062f."),h.Rb(),h.Rb(),h.Pb(),h.Qb(19,11),h.Sb(20,"div",12),h.Sb(21,"button",13),h.Zb("click",function(){return e.onSubmit()}),h.vc(22,"\u062a\u0627\u06cc\u06cc\u062f "),h.Ob(23,"spinner",14,15),h.Rb(),h.Sb(25,"button",16),h.Zb("click",function(){return h.pc(n),h.mc(1).hide()}),h.vc(26,"\u0644\u063a\u0648"),h.Rb(),h.Rb(),h.Pb(),h.Rb()}2&t&&(h.hc("modalTitle","\u0645\u062e\u0627\u0637\u0628 \u062c\u062f\u06cc\u062f")("width",500)("zIndex",10)("maximizable",!1),h.Cb(6),h.hc("ngModel",e.contact.name),h.Cb(4),h.hc("ngModel",e.contact.email),h.Cb(4),h.hc("ngModel",e.contact.phone),h.Cb(2),h.hc("checked",e.addToContacts),h.Cb(7),h.hc("size","small"))},directives:[wa,Ma,os,Bs,Zc],styles:[""]}),t}(),Cf=["selectContacts"];function Sf(t,e){1&t&&h.Ob(0,"i",19)}function Ef(t,e){1&t&&h.Ob(0,"i",20)}function Of(t,e){1&t&&h.Ob(0,"i",21)}function Af(t,e){if(1&t&&(h.Sb(0,"div",6),h.Zb("click",function(){var t=e.$implicit;return t.selected=!t.selected}),h.Sb(1,"div",7),h.Sb(2,"div",8),h.Sb(3,"div",9),h.Ob(4,"img",10),h.Rb(),h.Sb(5,"div",11),h.Sb(6,"div",12),h.tc(7,Sf,1,0,"i",13),h.tc(8,Ef,1,0,"i",14),h.tc(9,Of,1,0,"i",15),h.vc(10),h.Rb(),h.Sb(11,"div",16),h.Ob(12,"i",17),h.vc(13),h.Rb(),h.Sb(14,"div",16),h.Ob(15,"i",18),h.vc(16),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t){var n=e.$implicit;h.Cb(1),h.Fb("selected",n.selected),h.Cb(3),h.hc("src",n.imageUrl?n.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(1),h.Fb("font-weight-bold",n.selected),h.Cb(2),h.hc("ngIf","owner"===n.role),h.Cb(1),h.hc("ngIf","reception"===n.role),h.Cb(1),h.hc("ngIf","user"===n.role),h.Cb(1),h.xc(" ",n.name," "),h.Cb(3),h.xc(" ",n.email,""),h.Cb(3),h.xc(" ",n.phone,"")}}function If(t,e){1&t&&(h.Sb(0,"div",22),h.Sb(1,"object",23),h.Ob(2,"param",24),h.Rb(),h.Sb(3,"div",16),h.vc(4,"\u0647\u06cc\u0686\u06cc \u067e\u06cc\u062f\u0627 \u0646\u06a9\u0631\u062f\u0645"),h.Rb(),h.Rb())}var kf,Rf=function(){function t(t){this.dataService=t,this.onSelected=new h.n,this.type="contact",this.filter="",this.items=[],this.loading=!1}return t.prototype.ngOnInit=function(){this.readitems()},t.prototype.readitems=function(){var t=this;("contact"===this.type?this.dataService.getContacts():this.dataService.getUsers(this.filter)).subscribe(function(e){e.object&&e.object&&e.object.forEach(function(e){t.items.push(e)})},function(t){console.log(t)})},t.prototype.selectAll=function(t){t.preventDefault(),this.items.forEach(function(t){t.selected=!0})},t.prototype.getSelectedItems=function(){return this.items.filter(function(t){return t.selected})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-guest-list"]],viewQuery:function(t,e){var n;1&t&&h.Ac(Cf,3),2&t&&h.lc(n=h.ac())&&(e.selectContacts=n.first)},inputs:{type:"type"},outputs:{onSelected:"onSelected"},decls:7,vars:6,consts:[[1,"frame","flexbox-parent-row","mt-3","mb-3"],["type","text","autocomplete","off","name","title","placeholder","\u062c\u0633\u062a\u062c\u0648...",1,"flexbox-item-grow",3,"ngModel","ngModelChange"],[1,"mr-3","action-icon","fa","fa-th-list",3,"click"],[1,"row"],["class","col-md-6  ",3,"click",4,"ngFor","ngForOf"],["class","text-center owl-container",4,"ngIf"],[1,"col-md-6",3,"click"],[1,"contact"],[1,"row","p-2","contact-frame"],[1,"col","text-right"],[1,"rounded-circle","contact-image",3,"src"],[1,"col-8","text-right"],[1,"font-noraml","font-weight-bold"],["class","role-icon fa fa-briefcase",4,"ngIf"],["class","role-icon fa fa-handshake-o",4,"ngIf"],["class","role-icon fa fa-user",4,"ngIf"],[1,"text-muted"],[1,"fa","fa-envelope"],[1,"fa","fa-phone"],[1,"role-icon","fa","fa-briefcase"],[1,"role-icon","fa","fa-handshake-o"],[1,"role-icon","fa","fa-user"],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(kf||(e=["../../assets/images/home/owl.svg"],n=["../../assets/images/home/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,kf=e)),1,"w-75"],["name","class","value","look-around"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"input",1),h.Zb("ngModelChange",function(t){return e.filter=t}),h.Rb(),h.Sb(2,"i",2),h.Zb("click",function(t){return e.selectAll(t)}),h.Rb(),h.Rb(),h.Sb(3,"div",3),h.tc(4,Af,17,11,"div",4),h.cc(5,"generalFilter"),h.Rb(),h.tc(6,If,5,0,"div",5)),2&t&&(h.Cb(1),h.hc("ngModel",e.filter),h.Cb(3),h.hc("ngForOf",h.ec(5,3,e.items,e.filter)),h.Cb(2),h.hc("ngIf",0===e.items.length))},directives:[Ma,os,Bs,l.j,l.k],pipes:[ch],styles:[".contact-image[_ngcontent-%COMP%]{width:40px;height:40px}.selected[_ngcontent-%COMP%]{background:#4169e1;color:#000}.check-icon[_ngcontent-%COMP%]{line-height:2;color:#556b2f}.contact[_ngcontent-%COMP%]:hover{background:#e0e2e6}.contact[_ngcontent-%COMP%]{cursor:pointer;background:#f5f7fa;margin-bottom:10px;border:2px solid transparent;border-radius:5px}.contact.selected[_ngcontent-%COMP%]{border:2px solid #444}"]}),t;var e,n}(),Tf=["selectContacts"],Mf=["contacts"],Nf=["users"],Pf=function(){function t(){this.onSelected=new h.n,this.tab=1}return t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.selectContacts.show()},t.prototype.hide=function(){this.selectContacts.hide()},t.prototype.onSubmit=function(){var t=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(this.contacts.getSelectedItems().filter(function(t){return t}),this.users.getSelectedItems().filter(function(t){return t}));this.onSelected.emit(t),this.selectContacts.hide()},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["contacts-modal"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Tf,3),h.Ac(Mf,3),h.Ac(Nf,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.selectContacts=n.first),h.lc(n=h.ac())&&(e.contacts=n.first),h.lc(n=h.ac())&&(e.users=n.first)}},outputs:{onSelected:"onSelected"},decls:23,vars:18,consts:[[3,"modalTitle","zIndex","size","maximizable"],["selectContacts",""],[1,"app-modal-body"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[1,"nav-item",3,"click"],["id","home-tab","data-toggle","tab","href","#home","role","tab","aria-controls","home","aria-selected","true"],["id","profile-tab","data-toggle","tab","href","#profile","role","tab","aria-controls","profile","aria-selected","false",1,"nav-link"],["id","myTabContent",1,"tab-content"],["id","home","role","tabpanel","aria-labelledby","home-tab"],[3,"type"],["contacts",""],["id","profile","role","tabpanel","aria-labelledby","profile-tab"],["users",""],[1,"app-modal-footer"],[1,"text-right"],["type","button",1,"btn","primary","ml-2",3,"click"],["type","button",1,"btn","secondary",3,"click"]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"modal",0,1),h.Qb(2,2),h.Sb(3,"ul",3),h.Sb(4,"li",4),h.Zb("click",function(){return e.tab=1}),h.Sb(5,"a",5),h.vc(6,"\u0645\u062e\u0627\u0637\u0628\u200c\u0647\u0627"),h.Rb(),h.Rb(),h.Sb(7,"li",4),h.Zb("click",function(){return e.tab=2}),h.Sb(8,"a",6),h.vc(9,"\u0647\u0645\u06a9\u0627\u0631\u0627\u0646"),h.Rb(),h.Rb(),h.Rb(),h.Sb(10,"div",7),h.Sb(11,"div",8),h.Ob(12,"app-guest-list",9,10),h.Rb(),h.Sb(14,"div",11),h.Ob(15,"app-guest-list",9,12),h.Rb(),h.Rb(),h.Pb(),h.Qb(17,13),h.Sb(18,"div",14),h.Sb(19,"button",15),h.Zb("click",function(){return e.onSubmit()}),h.vc(20,"\u062a\u0627\u06cc\u06cc\u062f"),h.Rb(),h.Sb(21,"button",16),h.Zb("click",function(){return h.pc(n),h.mc(1).hide()}),h.vc(22,"\u0644\u063a\u0648"),h.Rb(),h.Rb(),h.Pb(),h.Rb()}2&t&&(h.hc("modalTitle","\u062f\u0639\u0648\u062a \u0645\u062e\u0627\u0637\u0628\u0627\u0646")("zIndex",10)("size","lg")("maximizable",!0),h.Cb(5),h.Eb("nav-link "),h.Fb("active",1===e.tab),h.Cb(3),h.Fb("active",2===e.tab),h.Cb(3),h.Eb("tab-pane "+(1===e.tab?"show fade active":"")),h.Cb(1),h.hc("type","contact"),h.Cb(2),h.Eb("tab-pane "+(2===e.tab?"show fade active":"")),h.Fb("active",2===e.tab),h.Cb(1),h.hc("type","user"))},directives:[wa,Rf],styles:[""]}),t}(),Df=["spinner"];function xf(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",6),h.Zb("click",function(){h.pc(n);var t=e.index;return h.bc(2).onItemSelected(t)}),h.Sb(1,"div",7),h.Ob(2,"img",8),h.Rb(),h.Sb(3,"div",9),h.vc(4),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit,i=e.index,o=h.bc(2);h.Fb("selected",o.selectedIndex===i),h.Cb(2),h.hc("src",r.imageUrl?r.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(2),h.wc(r.name)}}function Lf(t,e){1&t&&(h.Sb(0,"div",10),h.Sb(1,"div",11),h.vc(2,"\u0686\u06cc\u0632\u06cc \u067e\u06cc\u062f\u0627 \u0646\u0634\u062f."),h.Rb(),h.Rb())}function Bf(t,e){1&t&&(h.Sb(0,"div",12),h.Ob(1,"spinner",13,14),h.Rb()),2&t&&(h.Cb(1),h.hc("size","small")("showing",!0))}function Ff(t,e){if(1&t&&(h.Sb(0,"div",2),h.tc(1,xf,5,4,"div",3),h.tc(2,Lf,3,0,"div",4),h.tc(3,Bf,3,2,"div",5),h.Rb()),2&t){var n=h.bc();h.Cb(1),h.hc("ngForOf",n.items),h.Cb(1),h.hc("ngIf",!n.loading&&n.items&&0===n.items.length),h.Cb(1),h.hc("ngIf",n.loading)}}var jf=["*"],Uf=function(){function t(t){this.dataService=t,this.type="users",this.items=[],this.showing=!0,this.loading=!1,this.selectedIndex=0,this.itemSelected=new h.n}return t.prototype.ngOnInit=function(){},t.prototype.hide=function(){this.showing=!1},t.prototype.show=function(){this.showing=!0},t.prototype.setDisplay=function(t){void 0===t&&(t=!1),this.showing=t},t.prototype.onItemSelected=function(t){void 0===t&&(t=void 0),this.showing=!1,null!=t&&(this.selectedIndex=t),this.itemSelected.emit(this.selectedIndex>=0&&this.selectedIndex<this.items.length?this.items[this.selectedIndex]:void 0)},t.prototype.outsideClicked=function(t){t||this.hide()},t.prototype.onKeyUp=function(t){switch(t.keyCode){case 13:this.items.length>this.selectedIndex&&this.onItemSelected();break;case 27:this.showing=!1;break;case 38:this.selectedIndex=Math.max(0,this.selectedIndex-1);break;case 40:this.selectedIndex=Math.min(this.items.length-1,this.selectedIndex+1);break;default:this.showing=!0}t.preventDefault()},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu))},t.\u0275cmp=h.Hb({type:t,selectors:[["suggesting-item-input"]],viewQuery:function(t,e){var n;1&t&&h.Ac(Df,3),2&t&&h.lc(n=h.ac())&&(e.spinner=n.first)},inputs:{type:"type",items:"items"},outputs:{itemSelected:"itemSelected"},ngContentSelectors:jf,decls:3,vars:1,consts:[[1,"position-relative"],["class","contacts ",4,"ngIf"],[1,"contacts"],["class","row contact p-1 ml-2 mr-2",3,"selected","click",4,"ngFor","ngForOf"],["class","row contact p-1",4,"ngIf"],["class","contact p-1",4,"ngIf"],[1,"row","contact","p-1","ml-2","mr-2",3,"click"],[1,"col-md-1"],[1,"rounded-circle","contact-image",3,"src"],[1,"col-md-11","contact_name"],[1,"row","contact","p-1"],[1,"col-md-12","contact_name"],[1,"contact","p-1"],[3,"size","showing"],["spinner",""]],template:function(t,e){1&t&&(h.gc(),h.Sb(0,"div",0),h.fc(1),h.tc(2,Ff,4,3,"div",1),h.Rb()),2&t&&(h.Cb(2),h.hc("ngIf",e.showing))},directives:[l.k,l.j,Zc],styles:[".contacts[_ngcontent-%COMP%]{top:100%;right:0;width:100%;position:absolute;z-index:10;max-height:200px;overflow:auto;border-radius:.4em;box-shadow:0 3px 8px rgba(0,0,0,.25);background:#f5f7fa;transition:opacity .3s linear}.contact[_ngcontent-%COMP%]:last-child{border-bottom:none}.contact[_ngcontent-%COMP%]:hover{background:#e0e2e6}.contact.selected[_ngcontent-%COMP%]{background:#66afe9;font-weight:700}.contact[_ngcontent-%COMP%]{border-bottom:1px dotted #9da3a6;cursor:pointer;line-height:3}.frame[_ngcontent-%COMP%]{line-height:2.5;text-align:right}"]}),t}(),Vf=["selectVenues"],Hf=["spinner"];function Wf(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",11),h.Zb("click",function(){h.pc(n);var t=e.$implicit;return h.bc().onVenueSelected(t)}),h.Sb(1,"div",12),h.Sb(2,"div",13),h.Sb(3,"agm-map",14),h.Ob(4,"agm-marker",15),h.Rb(),h.Rb(),h.Sb(5,"div",16),h.Sb(6,"p"),h.vc(7),h.Rb(),h.Sb(8,"div"),h.Sb(9,"span",17),h.vc(10),h.Rb(),h.Rb(),h.Sb(11,"div"),h.Sb(12,"span",17),h.vc(13),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(3),h.hc("latitude",r.latitude)("longitude",r.longitude)("scrollwheel",!0)("zoom",12),h.Cb(1),h.hc("markerDraggable",!1)("latitude",r.latitude)("longitude",r.longitude),h.Cb(3),h.wc(r.title),h.Cb(3),h.wc(r.farsiAddress1),h.Cb(3),h.wc(r.farsiAddress2)}}function zf(t,e){1&t&&(h.Sb(0,"div",18),h.Sb(1,"object",19),h.Ob(2,"param",20),h.Rb(),h.Sb(3,"div",17),h.vc(4,"\u0647\u06cc\u0686\u06cc \u067e\u06cc\u062f\u0627 \u0646\u06a9\u0631\u062f\u0645"),h.Rb(),h.Rb())}var Gf,Xf=function(){function t(t){this.dataService=t,this.onSelected=new h.n,this.venues=[],this.loading=!1}return t.prototype.ngOnInit=function(){},t.prototype.readVenues=function(){var t=this;this.loading=!0,this.dataService.getVenues().subscribe(function(e){"OK"===e.msg&&(t.venues=[],e.object.forEach(function(e){t.venues.push(e)})),t.loading=!1},function(e){console.log(e),t.loading=!1})},t.prototype.show=function(){this.selectVenues.show(),this.readVenues()},t.prototype.hide=function(){this.selectVenues.hide()},t.prototype.onVenueSelected=function(t){this.onSelected.emit(t),this.hide()},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu))},t.\u0275cmp=h.Hb({type:t,selectors:[["venues-modal"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Vf,3),h.Ac(Hf,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.selectVenues=n.first),h.lc(n=h.ac())&&(e.spinner=n.first)}},outputs:{onSelected:"onSelected"},decls:12,vars:8,consts:[[3,"modalTitle","zIndex","width","size","maximizable"],["selectVenues",""],[1,"app-modal-body"],[1,"row","p-3"],["class","shadow p-2 col-md-6 venue-frame",3,"click",4,"ngFor","ngForOf"],["class","text-center owl-container",4,"ngIf"],[3,"showing"],["spinner",""],[1,"app-modal-footer"],[1,"text-right"],["type","button",1,"btn","secondary",3,"click"],[1,"shadow","p-2","col-md-6","venue-frame",3,"click"],[1,"row"],[1,"col-md-3"],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"markerDraggable","latitude","longitude"],[1,"col-md-7"],[1,"text-muted"],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(Gf||(e=["../../assets/images/owl-old/owl.svg"],n=["../../assets/images/owl-old/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,Gf=e)),1,"w-75"],["name","class","value","look-around"]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"modal",0,1),h.Qb(2,2),h.Sb(3,"div",3),h.tc(4,Wf,14,10,"div",4),h.Rb(),h.tc(5,zf,5,0,"div",5),h.Ob(6,"spinner",6,7),h.Pb(),h.Qb(8,8),h.Sb(9,"div",9),h.Sb(10,"button",10),h.Zb("click",function(){return h.pc(n),h.mc(1).hide()}),h.vc(11,"\u0644\u063a\u0648"),h.Rb(),h.Rb(),h.Pb(),h.Rb()}2&t&&(h.hc("modalTitle","\u0645\u06a9\u0627\u0646 \u062c\u0644\u0633\u0627\u062a")("zIndex",10)("width",700)("size","lg")("maximizable",!0),h.Cb(4),h.hc("ngForOf",e.venues),h.Cb(1),h.hc("ngIf",0===e.venues.length&&!e.loading),h.Cb(1),h.hc("showing",e.loading))},directives:[wa,l.j,l.k,Zc,Dl,Ll],styles:[".map[_ngcontent-%COMP%]{height:100px}.venue-frame[_ngcontent-%COMP%]{cursor:pointer;border:1px solid transparent}.venue-frame[_ngcontent-%COMP%]:hover{background:#f9fffc;border:1px solid #9da3a6}"]}),t;var e,n}(),Zf=["minutesColumn"],qf=["hoursColumn"],Yf=["input"];function Kf(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",5),h.Sb(1,"div",6),h.Sb(2,"div",7),h.Sb(3,"div",8),h.Sb(4,"button",9),h.Zb("click",function(){return h.pc(n),h.bc().onHourChange(1)}),h.Ob(5,"i",10),h.Rb(),h.Sb(6,"input",11),h.Zb("ngModelChange",function(t){return h.pc(n),h.bc().hourString=t}),h.Rb(),h.Sb(7,"button",9),h.Zb("click",function(){return h.pc(n),h.bc().onHourChange(-1)}),h.Ob(8,"i",12),h.Rb(),h.Rb(),h.Sb(9,"div",13),h.vc(10," : "),h.Rb(),h.Sb(11,"div",8),h.Sb(12,"button",9),h.Zb("click",function(){return h.pc(n),h.bc().onMinuteChange(1)}),h.Ob(13,"i",10),h.Rb(),h.Sb(14,"input",14),h.Zb("ngModelChange",function(t){return h.pc(n),h.bc().minuteString=t}),h.Rb(),h.Sb(15,"button",9),h.Zb("click",function(){return h.pc(n),h.bc().onMinuteChange(-1)}),h.Ob(16,"i",12),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=h.bc();h.Cb(6),h.hc("ngModel",r.hourString),h.Cb(8),h.hc("ngModel",r.minuteString)}}var Qf=function(){function t(){this.isShowing=!1,this.inputClasses="",this.placeholder="-- : --",this.onTimeSelected=new h.n,this.hourString=0,this.minuteString=0,this.mainRow=5,this.hours=[],this.minutes=[],this.dummyRows=[]}return t.prototype.ngOnInit=function(){this.date&&(this.hourString=this.date.getHours(),this.minuteString=this.date.getMinutes()),this.dummyRows=[1,2,3,4,5,6,7,8,9,10,11,12],this.hours=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,0],this.minutes=[0,5,10,15,20,25,30,35,40,45,50,55]},t.prototype.onFocus=function(){this.isShowing=!0},t.prototype.onTimeChanged=function(){var t=new Date;t.setHours(Number(this.hourString)),t.setMinutes(Number(this.minuteString)),this.onTimeSelected.emit(t)},t.prototype.onHourChange=function(t){this.hourString=t>0?(this.hourString+1)%24:0===this.hourString?23:(this.hourString-1)%24,this.onTimeChanged()},t.prototype.onMinuteChange=function(t){this.minuteString=t>0?(this.minuteString+1)%59:0===this.minuteString?59:(this.minuteString-1)%59,this.onTimeChanged()},t.prototype.clickOutside=function(t){void 0===t&&(t=!1),this.isShowing=t},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["time"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Zf,3),h.Ac(qf,3),h.Ac(Yf,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.minutesColumn=n.first),h.lc(n=h.ac())&&(e.hoursColumn=n.first),h.lc(n=h.ac())&&(e.input=n.first)}},inputs:{inputClasses:"inputClasses",placeholder:"placeholder",date:"date"},outputs:{onTimeSelected:"onTimeSelected"},decls:5,vars:6,consts:[["click-zone","",1,"iconed-input",3,"clickOutside"],[1,"frame","flexbox-parent-row"],["type","text","autocomplete","false","readonly","","name","date",3,"autocomplete","value","placeholder","change","focus"],["input",""],["class","unselectable",4,"ngIf"],[1,"unselectable"],[1,"times-container","ltr"],[1,"flexbox-parent-row","ltr","p-2"],[1,"flexbox-item-grow","text-center"],[1,"secondary",3,"click"],[1,"fa","fa-angle-up"],["type","number","min","0","max","23",1,"text-center","mt-1","mb-1",3,"ngModel","ngModelChange"],[1,"fa","fa-angle-down"],[1,"ml-2","mr-2","font-large"],["type","number","min","0","max","59",1,"text-center","mt-1","mb-1",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Zb("clickOutside",function(t){return e.clickOutside(t)}),h.Sb(1,"div",1),h.Sb(2,"input",2,3),h.Zb("change",function(){return e.onTimeChanged()})("focus",function(){return e.onFocus()}),h.Rb(),h.Rb(),h.tc(4,Kf,17,2,"div",4),h.Rb()),2&t&&(h.Cb(2),h.Eb(e.inputClasses+" flexbox-item-grow ltr"),h.hc("autocomplete",!1)("value",(e.hourString<10?"0":"")+e.hourString+":"+(e.minuteString<10?"0":"")+e.minuteString)("placeholder",e.placeholder?e.placeholder:"Time"),h.Cb(2),h.hc("ngIf",e.isShowing))},directives:[Rc,l.k,Us,Ma,os,Bs],styles:[".times-container[_ngcontent-%COMP%]{position:absolute;width:100%;left:0;top:100%;z-index:200;border-radius:.4em;box-shadow:0 3px 8px rgba(0,0,0,.25);background:#f5f7fa;transition:opacity .3s linear}.time-arrows[_ngcontent-%COMP%]{color:#000}.time-arrows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{color:#5f9ea0}.time-arrows[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.main-row[_ngcontent-%COMP%], .time-item.highlight[_ngcontent-%COMP%]{color:#cd5c5c;background:hsla(0,0%,100%,.5);border-radius:0;font-size:20px;font-weight:700}.time-item.highlight.hour-item[_ngcontent-%COMP%]{border-bottom-left-radius:4px;border-top-left-radius:4px}.time-item.highlight.minute-item[_ngcontent-%COMP%]{border-bottom-right-radius:4px;border-top-right-radius:4px}.time-item[_ngcontent-%COMP%]:hover{color:#cd5c5c}.time-item[_ngcontent-%COMP%]{color:#000;cursor:pointer;padding:2px 0;margin:0;position:relative}.hour-item[_ngcontent-%COMP%], .minute-item[_ngcontent-%COMP%]{background:#efefef}.change-button[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px;padding:5px}.change-button[_ngcontent-%COMP%]:hover{background:#9d9d9d;color:#fff}.frame[_ngcontent-%COMP%]{line-height:2.5}input[_ngcontent-%COMP%]::-webkit-inner-spin-button, input[_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}"]}),t}(),Jf=["searchBox"],$f=["address2"],td=["cropper"],ed=["imageCropperModal"],nd=["contactsModal"],rd=["venuesModal"],id=["fileInput"],od=["addAttendee"],ad=["selectChair"],sd=["selectGuest"];function ud(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",9),h.Sb(1,"div",47),h.Sb(2,"date",48),h.Zb("onDateSelected",function(t){h.pc(n);var r=e.index;return h.bc().onDateSelected(r,t)}),h.Rb(),h.Rb(),h.Sb(3,"div",49),h.Sb(4,"span",50),h.vc(5,"\u0627\u0632 \u0633\u0627\u0639\u062a"),h.Rb(),h.Sb(6,"div",51),h.Sb(7,"time",52),h.Zb("onTimeSelected",function(t){h.pc(n);var r=e.index;return h.bc().fromTimeChanged(t,r)}),h.Rb(),h.Rb(),h.Rb(),h.Sb(8,"div",49),h.Sb(9,"span",50),h.vc(10,"\u062a\u0627 \u0633\u0627\u0639\u062a"),h.Rb(),h.Sb(11,"div",51),h.Sb(12,"time",52),h.Zb("onTimeSelected",function(t){h.pc(n);var r=e.index;return h.bc().toTimeChanged(t,r)}),h.Rb(),h.Rb(),h.Rb(),h.Sb(13,"div",53),h.Sb(14,"div",17),h.Sb(15,"i",54),h.Zb("click",function(t){h.pc(n);var r=e.index;return h.bc().removeDateTime(t,r)}),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Db("data-index",e.index),h.Cb(2),h.hc("selectedDate",r.date)("inputClasses","form-control"),h.Cb(5),h.hc("inputClasses","")("date",r.startTime),h.Cb(5),h.hc("inputClasses","")("date",r.endTime)}}function cd(t,e){if(1&t&&h.Ob(0,"img",55),2&t){var n=h.bc();h.hc("src",n.event.chair.imageUrl?n.event.chair.imageUrl:"assets/images/user-placeholder.png",h.qc)}}function ld(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",56),h.Sb(1,"div",57),h.Sb(2,"div",58),h.Ob(3,"img",59),h.Sb(4,"div",60),h.vc(5),h.Rb(),h.Sb(6,"i",32),h.Zb("click",function(t){h.pc(n);var r=e.index;return h.bc().removeContact(t,r)}),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(3),h.hc("src",r.imageUrl?r.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(2),h.wc(r.name)}}function hd(t,e){1&t&&h.Ob(0,"i",61)}var fd=function(){function t(t,e,n,r,i,o,a,s){this.dataService=t,this.navigationService=e,this.authService=n,this.alertService=r,this.mapsAPILoader=i,this.ngZone=o,this.commonService=a,this.dateService=s,this.step=0,this.editingStep=-1,this.times=[],this.event={userId:-1,dates:[],dateStrings:[],attendees:[],title:"",venue:new hc,chairId:-1,chair:this.authService.getCurrentUser(),welcomeMessage:"",eventType:"MEETING",imChair:!0},this.mapLat=cc,this.mapLng=lc,this.guestHint="",this.chairHint=this.authService.name,this.submitting=!1}return t.prototype.ngOnInit=function(){var t=this;this.user=this.authService.getCurrentUser(),this.zoom=12,(!this.event.venue||this.event.venue.id<=0)&&this.setCurrentPosition();var e=new Date;e.setHours(0,0,0,0),this.event.dates.push({date:e,startTime:new Date,endTime:new Date});for(var n=0;n<24;n++)for(var r=0;r<12;r++)this.times.push((n<10?"0"+n:n)+":"+(r<2?"0"+5*r:5*r));this.mapsAPILoader.load().then(function(){var e=new google.maps.places.Autocomplete(t.searchInput.nativeElement,{types:["address"]});e.addListener("place_changed",function(){t.ngZone.run(function(){var n=e.getPlace();null!=n.geometry&&(t.event.venue.latitude=n.geometry.location.lat(),t.event.venue.longitude=n.geometry.location.lng(),t.zoom=12,t.mapLat=n.geometry.location.lat(),t.mapLng=n.geometry.location.lng())})})})},t.prototype.setCurrentPosition=function(){var t=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(e){t.event.venue.latitude=e.coords.latitude,t.event.venue.longitude=e.coords.longitude,t.zoom=12,t.mapLat=e.coords.latitude,t.mapLng=e.coords.longitude})},t.prototype.addDateTime=function(t){var e=new Date;e.setHours(0),e.setMinutes(0),e.setSeconds(0),this.event.dates.push({date:e,startTime:new Date,endTime:new Date}),t.preventDefault()},t.prototype.onDateSelected=function(t,e){this.event.dates[t].date=e},t.prototype.removeDateTime=function(t,e){this.event.dates.splice(e,1),event.preventDefault()},t.prototype.validateForm=function(){return!0},t.prototype.onSubmit=function(){var t=this;this.validateForm()&&(this.event.venue&&0===this.event.venue.id&&(this.event.venue=new hc(-1,"",this.event.venue.latitude,this.event.venue.longitude,this.searchInput.nativeElement.value,this.address2.nativeElement.value,"")),this.event.dates&&(this.event.dateStrings=this.event.dates.map(function(e){return{date:e.date.toISOString(),startTime:e.startTime.toISOString(),endTime:e.endTime.toISOString(),dateString:t.dateService.getPersianDateString(e.date,e.startTime,e.endTime)}})),this.submitting=!0,this.dataService.postMeeting(this.event).subscribe(function(e){e&&"OK"===e.msg?(t.navigationService.navigate("/meetings"),t.alertService.success("\u0645\u0644\u0627\u0642\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f.")):t.alertService.error("\u0628\u0628\u062e\u0634\u06cc\u062f\u060c \u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f. \u062f\u0648\u0628\u0627\u0631\u0647 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f."),t.submitting=!1},function(e){console.log(e),t.submitting=!1}))},t.prototype.onImportClick=function(t){this.contactsModal.show(),t.preventDefault()},t.prototype.removeContact=function(t,e){this.event.attendees.splice(e,1),event.preventDefault()},t.prototype.addGuests=function(t){this.addAttendee.reset(),this.addAttendee.show(),t.preventDefault()},t.prototype.onGuestsSelected=function(t){var e=this;t.forEach(function(t){e.event.attendees=e.event.attendees.filter(function(e){return t.email!==e.email}),e.event.attendees.push(t)})},t.prototype.onGuestAdded=function(t){"USER"===t.type&&this.alertService.warn("\u0647\u0645\u06a9\u0627\u0631\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0627\u06cc\u0645\u06cc\u0644 \u062b\u0628\u062a \u0634\u062f\u0647 \u0627\u0633\u062a."),this.event.attendees=this.event.attendees.filter(function(e){return t.email!==e.email}),this.event.attendees.push(t),this.guestHint=""},t.prototype.onVenueImportClick=function(t){this.venuesModal.show(),t.preventDefault()},t.prototype.onVenueSelected=function(t){this.event.venue=t,this.mapLat=t.latitude,this.mapLng=t.longitude},t.prototype.fromTimeChanged=function(t,e){this.event.dates[e].startTime=t},t.prototype.toTimeChanged=function(t,e){this.event.dates[e].endTime=t},t.prototype.chairSelected=function(t){t&&(this.event.chair=t,this.event.userId=t.id,this.chairHint=t.name)},t.prototype.markerMoved=function(t){var e=this;this.event.venue.latitude=t.coords.lat,this.event.venue.longitude=t.coords.lng,(new google.maps.Geocoder).geocode({location:t.coords},function(t,n){n===google.maps.GeocoderStatus.OK&&t.length&&e.ngZone.run(function(){return e.event.venue.farsiAddress1=t[0].formatted_address})})},t.prototype.mapClicked=function(t){var e=this;this.event.venue.latitude=t.coords.lat,this.event.venue.longitude=t.coords.lng,(new google.maps.Geocoder).geocode({location:t.coords},function(t,n){n===google.maps.GeocoderStatus.OK&&t.length&&e.ngZone.run(function(){return e.event.venue.farsiAddress1=t[0].formatted_address})})},t.prototype.setLocation=function(t){this.event.venue.latitude=t.geometry.location.lat(),this.event.venue.longitude=t.geometry.location.lng()},t.prototype.goTo=function(t){this.navigationService.navigate(t)},t.prototype.ngAfterViewInit=function(){},t.prototype.onChairInputKeyUp=function(t){var e=this;switch(t.keyCode){case 13:case 38:case 40:break;default:this.clearChair(),this.dataService.getContacts(this.chairHint).subscribe(function(t){"OK"===t.msg&&(e.chairs=t.object)},function(t){console.log(t)})}this.selectChair.onKeyUp(t),t.preventDefault()},t.prototype.onGuestInputKeyUp=function(t){var e=this;switch(t.keyCode){case 13:case 38:case 40:break;default:this.dataService.getUsers(this.guestHint).pipe(Object(wt.a)(function(t){return"OK"===t.msg&&(e.guests=t.object.map(function(t){return t})),e.dataService.getContacts(e.guestHint)})).subscribe(function(t){if("OK"===t.msg){var n=t.object.map(function(t){return t});e.guests=function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}(n,e.guests)}},function(t){console.log(t)})}this.selectGuest.onKeyUp(t),t.preventDefault()},t.prototype.clearChairInput=function(){this.clearChair(),this.chairHint=""},t.prototype.clearChair=function(){this.event.chair=void 0},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(Zi),h.Nb(Gi),h.Nb(ri),h.Nb(pl),h.Nb(h.A),h.Nb(q),h.Nb(Fu))},t.\u0275cmp=h.Hb({type:t,selectors:[["create-meeting"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Jf,1),h.Ac($f,1),h.Ac(td,3),h.Ac(ed,3),h.Ac(nd,1),h.Ac(rd,1),h.Ac(id,3),h.Ac(od,1),h.Ac(ad,1),h.Ac(sd,1)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.searchInput=n.first),h.lc(n=h.ac())&&(e.address2=n.first),h.lc(n=h.ac())&&(e.cropper=n.first),h.lc(n=h.ac())&&(e.imageCropperModal=n.first),h.lc(n=h.ac())&&(e.contactsModal=n.first),h.lc(n=h.ac())&&(e.venuesModal=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first),h.lc(n=h.ac())&&(e.addAttendee=n.first),h.lc(n=h.ac())&&(e.selectChair=n.first),h.lc(n=h.ac())&&(e.selectGuest=n.first)}},decls:84,vars:40,consts:[[1,"h-100","overflow-auto"],[1,"text-right","bg-white","p-3"],[1,"box"],[1,"frame"],[1,"font-weight-bold"],[1,"frame","flexbox-parent-row"],[1,"ml-3","icon","fa","fa-tag"],["type","text","name","input","placeholder","\u0645\u0635\u0627\u062d\u0628\u0647 \u0628\u0631\u0627\u06cc \u067e\u0633\u062a \u0645\u0647\u0646\u062f\u0633 \u06a9\u0627\u0645\u067e\u06cc\u0648\u062a\u0631",1,"flexbox-item-grow",3,"ngModel","ngModelChange"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-10","text-right"],["href","#",3,"click"],[1,""],[1,"fa","fa-plus"],[1,"ml-3","icon","fa","fa-map-marker"],["type","text","size","80","autocomplete","off","name","address_1","placeholder","\u0634\u0647\u0631\u060c\u200c \u062e\u06cc\u0627\u0628\u0627\u0646",1,"flexbox-item-grow",3,"ngModel","ngModelChange"],["searchBox",""],[1,"text-left"],[1,"mr-3","action-icon","input-button","fa","fa-search",3,"click"],["type","text","size","80","name","address_2","placeholder","\u06a9\u0648\u0686\u0647\u060c\u200c \u067e\u0644\u0627\u06a9\u060c \u0648\u0627\u062d\u062f",1,"flexbox-item-grow",3,"ngModel","ngModelChange"],["address2",""],[3,"onSelected"],["venuesModal",""],[1,"map",3,"latitude","longitude","scrollwheel","zoom","mapClick"],[3,"markerDraggable","latitude","longitude","dragEnd"],[1,"card-text"],[1,"text-muted"],["click-zone","",3,"items","clickOutside","itemSelected"],["selectChair",""],[1,"ml-3","icon","fa","fa-coffee"],["class","rounded-circle contact-image ml-2",3,"src",4,"ngIf"],["type","text","autocomplete","off","placeholder","\u0646\u0627\u0645 \u0647\u0645\u06a9\u0627\u0631 \u0645\u06cc\u0632\u0628\u0627\u0646",1,"flexbox-item-grow",3,"ngModel","keyup","ngModelChange"],[1,"mr-3","action-icon","fa","fa-remove",3,"click"],["selectGuest",""],[1,"ml-3","icon","fa","fa-users"],["type","text","autocomplete","off","name","title","placeholder","\u062c\u0633\u062a\u062c\u0648\u06cc \u0645\u06cc\u0647\u0645\u0627\u0646\u0627\u0646",1,"flexbox-item-grow",3,"ngModel","focus","keyup","ngModelChange"],[1,"mr-3","action-icon","fa","fa-user-plus",3,"click"],[1,"action-icon","fa","fa-address-book",3,"click"],["class","col-md-4 contact ",4,"ngFor","ngForOf"],[3,"onAttendeeAdded"],["addAttendee",""],["contactsModal",""],[1,"ml-3","icon","fa","fa-smile-o"],["rows","4","type","text","name","welcome","placeholder","\u067e\u06cc\u0627\u0645 \u062e\u0648\u0634\u0627\u0645\u062f \u06af\u0648\u06cc\u06cc",1,"flexbox-item-grow",3,"ngModel","ngModelChange"],[1,"text-right"],["type","button",1,"primary",3,"disabled","click"],["class","fa fa-refresh fa-spin",4,"ngIf"],[1,"col-lg-5","mb-1"],[3,"selectedDate","inputClasses","onDateSelected"],[1,"col-lg-3","flexbox-parent-row","line-height","mb-1"],[1,"ml-2"],[1,"flexbox-item-grow"],[3,"inputClasses","date","onTimeSelected"],[1,"col-lg-1","mb-1"],[1,"fa","fa-remove","action-icon",3,"click"],[1,"rounded-circle","contact-image","ml-2",3,"src"],[1,"col-md-4","contact"],[1,"contact-border","mb-1"],[1,"text-right","flexbox-parent-row"],[1,"rounded-circle","contact-image",3,"src"],[1,"font-noraml","flexbox-item-grow","mr-2"],[1,"fa","fa-refresh","fa-spin"]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Sb(4,"label",4),h.vc(5,"\u0639\u0646\u0648\u0627\u0646 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.Sb(6,"div",5),h.Ob(7,"i",6),h.Sb(8,"input",7),h.Zb("ngModelChange",function(t){return e.event.title=t}),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(9,"div",2),h.Sb(10,"label",4),h.vc(11,"\u0632\u0645\u0627\u0646 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.tc(12,ud,16,7,"div",8),h.Sb(13,"div",9),h.Sb(14,"div",10),h.Sb(15,"a",11),h.Zb("click",function(t){return e.addDateTime(t)}),h.Sb(16,"span",12),h.Ob(17,"i",13),h.vc(18," \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u062a\u0627\u0631\u06cc\u062e"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(19,"div",2),h.Sb(20,"div",12),h.Sb(21,"label",4),h.vc(22,"\u0645\u062d\u0644 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.Sb(23,"div",5),h.Ob(24,"i",14),h.Sb(25,"input",15,16),h.Zb("ngModelChange",function(t){return e.event.venue.farsiAddress1=t}),h.Rb(),h.Sb(27,"div",17),h.Sb(28,"i",18),h.Zb("click",function(t){return e.onVenueImportClick(t)}),h.Rb(),h.Rb(),h.Rb(),h.Sb(29,"div",5),h.Ob(30,"i",14),h.Sb(31,"input",19,20),h.Zb("ngModelChange",function(t){return e.event.venue.farsiAddress2=t}),h.Rb(),h.Rb(),h.Sb(33,"venues-modal",21,22),h.Zb("onSelected",function(t){return e.onVenueSelected(t)}),h.Rb(),h.Rb(),h.Sb(35,"agm-map",23),h.Zb("mapClick",function(t){return e.mapClicked(t)}),h.Sb(36,"agm-marker",24),h.Zb("dragEnd",function(t){return e.markerMoved(t)}),h.Rb(),h.Rb(),h.Sb(37,"p",25),h.Sb(38,"small",26),h.vc(39,"\u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0646\u0634\u0627\u0646\u06af\u0631 \u0645\u06a9\u0627\u0646 \u062f\u0642\u06cc\u0642 \u062c\u0644\u0633\u0647 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f."),h.Rb(),h.Rb(),h.Rb(),h.Sb(40,"div",2),h.Sb(41,"label",4),h.vc(42,"\u0645\u06cc\u0632\u0628\u0627\u0646 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.Sb(43,"suggesting-item-input",27,28),h.Zb("clickOutside",function(t){return h.pc(n),h.mc(44).outsideClicked(t)})("itemSelected",function(t){return e.chairSelected(t)}),h.cc(45,"generalFilter"),h.Sb(46,"div",5),h.Ob(47,"i",29),h.tc(48,cd,1,1,"img",30),h.Sb(49,"input",31),h.Zb("keyup",function(t){return e.onChairInputKeyUp(t)})("ngModelChange",function(t){return e.chairHint=t}),h.Rb(),h.Sb(50,"i",32),h.Zb("click",function(){return e.clearChairInput()}),h.Rb(),h.Rb(),h.Rb(),h.Sb(51,"p",25),h.Sb(52,"small",26),h.vc(53,"\u0645\u06cc\u0632\u0628\u0627\u0646 \u0645\u0644\u0627\u0642\u0627\u062a \u06cc\u0627 \u0647\u0645\u0627\u0647\u0646\u06af \u06a9\u0646\u0646\u062f\u0647"),h.Rb(),h.Rb(),h.Rb(),h.Sb(54,"div",2),h.Sb(55,"label",4),h.vc(56,"\u0645\u06cc\u0647\u0645\u0627\u0646\u0627\u0646"),h.Rb(),h.Sb(57,"suggesting-item-input",27,33),h.Zb("clickOutside",function(t){return h.pc(n),h.mc(58).outsideClicked(t)})("itemSelected",function(t){return e.onGuestAdded(t)}),h.cc(59,"generalFilter"),h.Sb(60,"div",5),h.Ob(61,"i",34),h.Sb(62,"input",35),h.Zb("focus",function(){return h.pc(n),h.mc(58).showing=!0})("keyup",function(t){return e.onGuestInputKeyUp(t)})("ngModelChange",function(t){return e.guestHint=t}),h.Rb(),h.Sb(63,"i",36),h.Zb("click",function(t){return e.addGuests(t)}),h.Rb(),h.Sb(64,"i",37),h.Zb("click",function(t){return e.onImportClick(t)}),h.Rb(),h.Rb(),h.Rb(),h.Sb(65,"div",9),h.tc(66,ld,7,2,"div",38),h.Rb(),h.Rb(),h.Sb(67,"add-attendee",39,40),h.Zb("onAttendeeAdded",function(t){return e.onGuestAdded(t)}),h.Rb(),h.Sb(69,"contacts-modal",21,41),h.Zb("onSelected",function(t){return e.onGuestsSelected(t)}),h.Rb(),h.Sb(71,"div",2),h.Sb(72,"label",4),h.vc(73,"\u0645\u062a\u0646 \u062f\u0639\u0648\u062a"),h.Rb(),h.Sb(74,"div",5),h.Ob(75,"i",42),h.Sb(76,"textarea",43),h.Zb("ngModelChange",function(t){return e.event.welcomeMessage=t}),h.Rb(),h.Rb(),h.Sb(77,"p",25),h.Sb(78,"small",26),h.vc(79,"\u0627\u06cc\u0646 \u0645\u062a\u0646 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u062f\u0639\u0648\u062a \u0648 \u062e\u0648\u0634\u0627\u0645\u062f\u06af\u0648\u06cc\u06cc \u0628\u0631\u0627\u06cc \u0645\u06cc\u0647\u0645\u0627\u0646 \u0627\u0631\u0633\u0627\u0644 \u0645\u06cc \u0634\u0648\u062f."),h.Rb(),h.Rb(),h.Rb(),h.Sb(80,"div",44),h.Sb(81,"button",45),h.Zb("click",function(){return e.onSubmit()}),h.vc(82,"\u0627\u06cc\u062c\u0627\u062f "),h.tc(83,hd,1,0,"i",46),h.Rb(),h.Rb(),h.Rb(),h.Rb()}2&t&&(h.Cb(2),h.Fb("editing",0===e.step&&-1===e.editingStep||0===e.editingStep),h.Cb(6),h.hc("ngModel",e.event.title),h.Cb(1),h.Fb("editing",1===e.step&&-1===e.editingStep||1===e.editingStep),h.Cb(3),h.hc("ngForOf",e.event.dates),h.Cb(7),h.Fb("editing",e.step>=2),h.Cb(1),h.Fb("editing",2===e.step&&-1===e.editingStep||2===e.editingStep),h.Cb(5),h.hc("ngModel",e.event.venue.farsiAddress1),h.Cb(6),h.hc("ngModel",e.event.venue.farsiAddress2),h.Cb(4),h.hc("latitude",e.mapLat)("longitude",e.mapLng)("scrollwheel",!0)("zoom",e.zoom),h.Cb(1),h.hc("markerDraggable",!0)("latitude",e.event.venue.latitude)("longitude",e.event.venue.longitude),h.Cb(1),h.Fb("editing",2===e.step||2===e.editingStep),h.Cb(3),h.Fb("editing",3===e.step&&-1===e.editingStep||3===e.editingStep),h.Cb(3),h.hc("items",h.ec(45,34,e.chairs,e.chairHint)),h.Cb(5),h.hc("ngIf",e.event.chair),h.Cb(1),h.hc("ngModel",e.chairHint),h.Cb(8),h.hc("items",h.ec(59,37,e.guests,e.guestHint)),h.Cb(5),h.hc("ngModel",e.guestHint),h.Cb(4),h.hc("ngForOf",e.event.attendees),h.Cb(5),h.Fb("editing",5===e.step||5===e.editingStep),h.Cb(5),h.hc("ngModel",e.event.welcomeMessage),h.Cb(5),h.hc("disabled",e.submitting),h.Cb(2),h.hc("ngIf",e.submitting))},directives:[Ma,os,Bs,l.j,Xf,Dl,Ll,Uf,Rc,l.k,_f,Pf,Nc,Qf],pipes:[ch],styles:[".map[_ngcontent-%COMP%]:hover{height:300px}.map[_ngcontent-%COMP%]{height:100px;transition:all .3s ease}.edit-step-button[_ngcontent-%COMP%]:hover{color:#deb887}.edit-step-button[_ngcontent-%COMP%]{cursor:pointer}.icon[_ngcontent-%COMP%]{padding:5px}.frame[_ngcontent-%COMP%]{margin-bottom:5px}.box[_ngcontent-%COMP%]{background:#fff;padding:10px}.line-height[_ngcontent-%COMP%]{line-height:2.5}.contact-border[_ngcontent-%COMP%]{line-height:38px;border:1px dashed #ddd;border-radius:10px;padding:5px}"]}),t}(),dd=["searchBox"],pd=["address2"],gd=["cropper"],vd=["imageCropperModal"],md=["contactsModal"],yd=["venuesModal"],bd=["fileInput"],wd=["addAttendee"];function _d(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",44),h.Sb(1,"div",45),h.Sb(2,"h5",5),h.vc(3,"\u062a\u0627\u0631\u06cc\u062e \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.Sb(4,"date",46),h.Zb("onDateSelected",function(t){h.pc(n);var r=e.index;return h.bc().onDateSelected(r,t)}),h.Rb(),h.Rb(),h.Sb(5,"div",47),h.Sb(6,"div",48),h.vc(7,"\u0627\u0632 \u0633\u0627\u0639\u062a"),h.Rb(),h.Sb(8,"time",49),h.Zb("onTimeSelected",function(t){h.pc(n);var r=e.index;return h.bc().fromTimeChanged(t,r)}),h.Rb(),h.Rb(),h.Sb(9,"div",47),h.Sb(10,"div",48),h.vc(11,"\u062a\u0627 \u0633\u0627\u0639\u062a"),h.Rb(),h.Sb(12,"time",49),h.Zb("onTimeSelected",function(t){h.pc(n);var r=e.index;return h.bc().toTimeChanged(t,r)}),h.Rb(),h.Rb(),h.Sb(13,"div",50),h.Sb(14,"h5",5),h.vc(15,"\xa0"),h.Rb(),h.Sb(16,"button",51),h.Zb("click",function(t){h.pc(n);var r=e.index;return h.bc().removeDateTime(t,r)}),h.Ob(17,"i",52),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit,i=e.index,o=h.bc();h.Db("data-index",i),h.Cb(4),h.hc("selectedDate",r.date)("inputClasses","form-control"),h.Cb(4),h.hc("inputClasses","form-control")("date",r.startTime),h.Cb(4),h.hc("inputClasses","form-control")("date",r.endTime),h.Cb(4),h.hc("disabled",1===o.event.dates.length)}}function Cd(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",55),h.Sb(1,"input",56,57),h.Zb("ngModelChange",function(t){return h.pc(n),h.bc(2).event.chairId=t}),h.Rb(),h.Sb(3,"label",58),h.vc(4,"\u062e\u0648\u062f\u0645"),h.Rb(),h.Rb()}if(2&t){var r=h.bc(2);h.Cb(1),h.hc("ngModel",r.event.chairId)}}function Sd(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",3),h.Sb(1,"div",4),h.Sb(2,"h5",5),h.vc(3,"\u0645\u06cc\u0632\u0628\u0627\u0646 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.tc(4,Cd,5,1,"div",53),h.Sb(5,"suggesting-item-input",54),h.Zb("contactSelected",function(t){return h.pc(n),h.bc().chairSelected(t)}),h.Rb(),h.Sb(6,"p",11),h.Sb(7,"small",12),h.vc(8,"\u0645\u06cc\u0632\u0628\u0627\u0646 \u0645\u0644\u0627\u0642\u0627\u062a \u06cc\u0627 \u0647\u0645\u0627\u0647\u0646\u06af \u06a9\u0646\u0646\u062f\u0647"),h.Rb(),h.Rb(),h.Rb(),h.Rb()}2&t&&(h.Cb(4),h.hc("ngIf",!1))}function Ed(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",59),h.Sb(1,"div",60),h.Sb(2,"div",61),h.Sb(3,"div",62),h.Ob(4,"img",63),h.Rb(),h.Sb(5,"div",64),h.Sb(6,"div",65),h.vc(7),h.Rb(),h.Sb(8,"div",12),h.Ob(9,"i",66),h.vc(10),h.Rb(),h.Sb(11,"div",12),h.Ob(12,"i",67),h.vc(13),h.Rb(),h.Sb(14,"div"),h.Sb(15,"a",16),h.Zb("click",function(t){h.pc(n);var r=e.index;return h.bc().removeContact(t,r)}),h.vc(16,"\u062d\u0630\u0641"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(4),h.hc("src",r.imageUrl?r.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.wc(r.name),h.Cb(3),h.xc(" ",r.email,""),h.Cb(3),h.xc(" ",r.phone,"")}}function Od(t,e){1&t&&h.Ob(0,"i",68)}var Ad=function(){function t(t,e,n,r,i,o,a){this.dataService=t,this.navigationService=e,this.authService=n,this.alertService=r,this.mapsAPILoader=i,this.ngZone=o,this.dateService=a,this.times=[],this.submitting=!1}return t.prototype.ngOnInit=function(){var t=this;this.user=this.authService.getCurrentUser(),this.zoom=12,(!this.event.venue||this.event.venue.id<=0)&&this.setCurrentPosition(),this.mapsAPILoader.load().then(function(){var e=new google.maps.places.Autocomplete(t.searchInput.nativeElement,{types:["address"]});e.addListener("place_changed",function(){t.ngZone.run(function(){var n=e.getPlace();null!=n.geometry&&(t.event.venue.latitude=n.geometry.location.lat(),t.event.venue.longitude=n.geometry.location.lng(),t.zoom=12)})})});for(var e=0;e<24;e++)for(var n=0;n<12;n++)this.times.push((e<10?"0"+e:e)+":"+(n<2?"0"+5*n:5*n))},t.prototype.setCurrentPosition=function(){var t=this;"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(e){t.event.venue.latitude=e.coords.latitude,t.event.venue.longitude=e.coords.longitude,t.zoom=12})},t.prototype.ngAfterViewInit=function(){},t.prototype.addDateTime=function(t){var e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate());this.event.dates.push({date:n,startTime:"0900",endTime:"1000"}),t.preventDefault()},t.prototype.onDateSelected=function(t,e){this.event.dates[t].date=e,this.event.dates[t].dateString=this.dateService.greToPersian(e,!0)},t.prototype.removeDateTime=function(t,e){this.event.dates.splice(e,1),event.preventDefault()},t.prototype.validateForm=function(){return!0},t.prototype.onSubmit=function(){var t=this;this.validateForm()&&(this.event.venue&&0===this.event.venue.id&&(this.event.venue=new hc(-1,"",this.event.venue.latitude,this.event.venue.longitude,this.searchInput.nativeElement.value,this.address2.nativeElement.value,"")),this.submitting=!0,this.dataService.postMeeting(this.event).subscribe(function(e){t.submitting=!1,t.navigationService.navigate("/meetings"),t.alertService.success("\u0645\u0644\u0627\u0642\u0627\u062a \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f.")},function(e){console.log(e),t.submitting=!1}))},t.prototype.onImportClick=function(t){this.contactsModal.show(),t.preventDefault()},t.prototype.addContact=function(t){this.addAttendee.reset(),this.addAttendee.show(),t.preventDefault()},t.prototype.removeContact=function(t,e){this.event.attendees.splice(e,1),event.preventDefault()},t.prototype.onContactsSelected=function(t){var e=this;t.forEach(function(t){for(var n=0;n<e.event.attendees.length;n++)if(e.event.attendees[n].id===t.id){e.event.attendees.splice(n,1);break}e.event.attendees.push(t)})},t.prototype.onVenueImportClick=function(t){this.venuesModal.show(),t.preventDefault()},t.prototype.onVenueSelected=function(t){this.event.venue=t},t.prototype.onAttendeeAdded=function(t){this.event.attendees.push(t)},t.prototype.fromTimeChanged=function(t,e){this.event.dates[e].startTime=t},t.prototype.toTimeChanged=function(t,e){this.event.dates[e].endTime=t},t.prototype.chairSelected=function(t){this.event.userId=t.id},t.prototype.markerMoved=function(t){var e=this;this.event.venue.latitude=t.coords.lat,this.event.venue.longitude=t.coords.lng,(new google.maps.Geocoder).geocode({location:t.coords},function(t,n){n===google.maps.GeocoderStatus.OK&&t.length&&e.ngZone.run(function(){return e.event.venue.farsiAddress1=t[0].formatted_address})})},t.prototype.setLocation=function(t){this.event.venue.latitude=t.geometry.location.lat(),this.event.venue.longitude=t.geometry.location.lng()},t.prototype.goTo=function(t){this.navigationService.navigate(t)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(Zi),h.Nb(Gi),h.Nb(ri),h.Nb(pl),h.Nb(h.A),h.Nb(Fu))},t.\u0275cmp=h.Hb({type:t,selectors:[["editable-meeting"]],viewQuery:function(t,e){if(1&t&&(h.Ac(dd,3),h.Ac(pd,3),h.Ac(gd,3),h.Ac(vd,3),h.Ac(md,3),h.Ac(yd,3),h.Ac(bd,3),h.Ac(wd,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.searchInput=n.first),h.lc(n=h.ac())&&(e.address2=n.first),h.lc(n=h.ac())&&(e.cropper=n.first),h.lc(n=h.ac())&&(e.imageCropperModal=n.first),h.lc(n=h.ac())&&(e.contactsModal=n.first),h.lc(n=h.ac())&&(e.venuesModal=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first),h.lc(n=h.ac())&&(e.addAttendee=n.first)}},inputs:{event:"event"},decls:100,vars:16,consts:[[1,"pt-lg-5","pb-lg-5","mt-3","mb-3"],[1,"container"],[1,""],[1,"card","mb-3","shadow"],[1,"card-body"],[1,"card-title","text-right"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"align-bottom","fa","fa-list"],["type","text","name","title","placeholder","\u0639\u0646\u0648\u0627\u0646 \u0645\u0644\u0627\u0642\u0627\u062a",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-text"],[1,"text-muted"],["class","form-group row ",4,"ngFor","ngForOf"],[1,"row"],[1,"col-sm-10","text-right"],["href","#",3,"click"],[1,"fa","fa-plus"],[1,"input-group","mb-3"],[1,"align-bottom","fa","fa-map-marker"],["type","text","size","80","autocomplete","off","name","address_1","placeholder","\u0634\u0647\u0631\u060c\u200c \u062e\u06cc\u0627\u0628\u0627\u0646",1,"form-control",3,"ngModel","ngModelChange"],["searchBox",""],["type","text","size","80","name","address_2","placeholder","\u06a9\u0648\u0686\u0647\u060c\u200c \u067e\u0644\u0627\u06a9\u060c \u0648\u0627\u062d\u062f",1,"form-control",3,"ngModel","ngModelChange"],["address2",""],[1,"row","mb-2"],["href","#",1,"",3,"click"],[1,"fa","fa-check"],[3,"onSelected"],["venuesModal",""],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"markerDraggable","latitude","longitude","dragEnd"],["class","card mb-3 shadow",4,"ngIf"],[1,"flex-parent"],["class","col-md-6 contact p-2 ",4,"ngFor","ngForOf"],[3,"onAttendeeAdded"],["addAttendee",""],["href","#",1,"mr-4",3,"click"],["contactsModal",""],[1,"align-bottom","fa","fa-smile-o"],["rows","4","type","text","name","welcome","placeholder","\u067e\u06cc\u0627\u0645 \u062e\u0648\u0634\u0627\u0645\u062f \u06af\u0648\u06cc\u06cc",1,"form-control",3,"ngModel","ngModelChange"],["layout","row ",1,"text-right"],["type","button",1,"btn","primary",3,"disabled","click"],["class","fa fa-refresh fa-spin",4,"ngIf"],["type","button",1,"btn","secondary","mr-2",3,"click"],[1,"form-group","row"],[1,"col-sm-4"],[3,"selectedDate","inputClasses","onDateSelected"],[1,"col-sm-3"],[1,"card-title","text-right","text-muted"],[3,"inputClasses","date","onTimeSelected"],[1,"col-sm-2"],[1,"w-100","btn","secondary",3,"disabled","click"],[1,"fa","fa-close","font-x-large"],["class","custom-control custom-checkbox text-right mb-2",4,"ngIf"],[3,"contactSelected"],[1,"custom-control","custom-checkbox","text-right","mb-2"],["type","checkbox","id","defaultUnchecked",1,"custom-control-input",3,"ngModel","ngModelChange"],["imChair",""],["for","defaultUnchecked",1,"custom-control-label"],[1,"col-md-6","contact","p-2"],[1,"contact-border"],[1,"row","p-2"],[1,"col","text-right"],[1,"rounded-circle","contact-image",3,"src"],[1,"col-8","text-right"],[1,"font-noraml","font-weight-bold"],[1,"fa","fa-envelope"],[1,"fa","fa-phone"],[1,"fa","fa-refresh","fa-spin"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"form",2),h.Sb(3,"div",3),h.Sb(4,"div",4),h.Sb(5,"h5",5),h.vc(6,"\u0639\u0646\u0648\u0627\u0646"),h.Rb(),h.Sb(7,"div",6),h.Sb(8,"div",7),h.Sb(9,"span",8),h.Ob(10,"i",9),h.Rb(),h.Rb(),h.Sb(11,"input",10),h.Zb("ngModelChange",function(t){return e.event.title=t}),h.Rb(),h.Rb(),h.Sb(12,"p",11),h.Sb(13,"small",12),h.vc(14,"\u0639\u0646\u0648\u0627\u0646 \u06a9\u0648\u062a\u0627\u0647\u06cc \u062f\u0631 \u0645\u0648\u0631\u062f \u0645\u0648\u0636\u0648\u0639 \u062c\u0644\u0633\u0647"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(15,"div",3),h.Sb(16,"div",4),h.tc(17,_d,18,8,"div",13),h.Sb(18,"div",14),h.Sb(19,"div",15),h.Sb(20,"a",16),h.Zb("click",function(t){return e.addDateTime(t)}),h.Sb(21,"span",2),h.Ob(22,"i",17),h.vc(23," \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u062a\u0627\u0631\u06cc\u062e"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(24,"p",11),h.Sb(25,"small",12),h.vc(26,"\u062a\u0627\u0631\u06cc\u062e(\u0647\u0627)\u200c \u0648 \u0633\u0627\u0639\u0627\u062a \u062c\u0644\u0633\u0647"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(27,"div",3),h.Sb(28,"div",4),h.Sb(29,"h5",5),h.vc(30,"\u0645\u062d\u0644 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.Sb(31,"div",18),h.Sb(32,"div",7),h.Sb(33,"span",8),h.Ob(34,"i",19),h.Rb(),h.Rb(),h.Sb(35,"input",20,21),h.Zb("ngModelChange",function(t){return e.event.venue.farsiAddress1=t}),h.Rb(),h.Rb(),h.Sb(37,"div",18),h.Sb(38,"div",7),h.Sb(39,"span",8),h.Ob(40,"i",19),h.Rb(),h.Rb(),h.Sb(41,"input",22,23),h.Zb("ngModelChange",function(t){return e.event.venue.farsiAddress2=t}),h.Rb(),h.Rb(),h.Sb(43,"div",24),h.Sb(44,"div",15),h.Sb(45,"a",25),h.Zb("click",function(t){return e.onVenueImportClick(t)}),h.Sb(46,"span",2),h.Ob(47,"i",26),h.vc(48,"\u0627\u0646\u062a\u062e\u0627\u0628 \u0627\u0632 \u0645\u06a9\u0627\u0646 \u0647\u0627\u06cc \u0642\u0628\u0644\u06cc"),h.Rb(),h.Rb(),h.Sb(49,"venues-modal",27,28),h.Zb("onSelected",function(t){return e.onVenueSelected(t)}),h.Rb(),h.Rb(),h.Rb(),h.Sb(51,"agm-map",29),h.Sb(52,"agm-marker",30),h.Zb("dragEnd",function(t){return e.markerMoved(t)}),h.Rb(),h.Rb(),h.Sb(53,"p",11),h.Sb(54,"small",12),h.vc(55,"\u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0646\u0634\u0627\u0646\u06af\u0631 \u0645\u06a9\u0627\u0646 \u062f\u0642\u06cc\u0642 \u062c\u0644\u0633\u0647 \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f."),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.tc(56,Sd,9,1,"div",31),h.Sb(57,"div",3),h.Sb(58,"div",4),h.Sb(59,"h5",5),h.vc(60,"\u0645\u06cc\u0647\u0645\u0627\u0646\u0627\u0646"),h.Rb(),h.Sb(61,"div",32),h.Sb(62,"div",14),h.tc(63,Ed,17,4,"div",33),h.Rb(),h.Rb(),h.Ob(64,"hr"),h.Sb(65,"div",14),h.Sb(66,"div",15),h.Sb(67,"a",16),h.Zb("click",function(t){return e.addContact(t)}),h.Sb(68,"span",2),h.Ob(69,"i",17),h.vc(70," \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f\u0646 \u0645\u06cc\u0647\u0645\u0627\u0646"),h.Rb(),h.Rb(),h.Sb(71,"add-attendee",34,35),h.Zb("onAttendeeAdded",function(t){return e.onAttendeeAdded(t)}),h.Rb(),h.Sb(73,"a",36),h.Zb("click",function(t){return e.onImportClick(t)}),h.Sb(74,"span",2),h.Ob(75,"i",26),h.vc(76," \u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u062e\u0627\u0637\u0628\u0627\u0646 \u0627\u0632 \u0644\u06cc\u0633\u062a"),h.Rb(),h.Rb(),h.Sb(77,"contacts-modal",27,37),h.Zb("onSelected",function(t){return e.onContactsSelected(t)}),h.Rb(),h.Rb(),h.Rb(),h.Sb(79,"p",11),h.Sb(80,"small",12),h.vc(81,"\u0627\u0641\u0631\u0627\u062f \u0634\u0631\u06a9\u062a \u06a9\u0646\u0646\u062f\u0647 \u062f\u0631 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(82,"div",3),h.Sb(83,"div",4),h.Sb(84,"h5",5),h.vc(85,"\u0645\u062a\u0646 \u062f\u0639\u0648\u062a"),h.Rb(),h.Sb(86,"div",6),h.Sb(87,"div",7),h.Sb(88,"span",8),h.Ob(89,"i",38),h.Rb(),h.Rb(),h.Sb(90,"textarea",39),h.Zb("ngModelChange",function(t){return e.event.welcomeMessage=t}),h.Rb(),h.Rb(),h.Sb(91,"p",11),h.Sb(92,"small",12),h.vc(93,"\u0627\u06cc\u0646 \u0645\u062a\u0646 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u062f\u0639\u0648\u062a \u0648 \u062e\u0648\u0634\u0627\u0645\u062f\u06af\u0648\u06cc\u06cc \u0628\u0631\u0627\u06cc \u0645\u06cc\u0647\u0645\u0627\u0646 \u0627\u0631\u0633\u0627\u0644 \u0645\u06cc \u0634\u0648\u062f."),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(94,"div",40),h.Sb(95,"button",41),h.Zb("click",function(){return e.onSubmit()}),h.vc(96," \u0627\u06cc\u062c\u0627\u062f"),h.tc(97,Od,1,0,"i",42),h.Rb(),h.Sb(98,"button",43),h.Zb("click",function(){return e.goTo("/meetings")}),h.vc(99,"\u0627\u0646\u0635\u0631\u0627\u0641"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(11),h.hc("ngModel",e.event.title),h.Cb(6),h.hc("ngForOf",e.event.dates),h.Cb(18),h.hc("ngModel",e.event.venue.farsiAddress1),h.Cb(6),h.hc("ngModel",e.event.venue.farsiAddress2),h.Cb(10),h.hc("latitude",e.event.venue.latitude)("longitude",e.event.venue.longitude)("scrollwheel",!0)("zoom",e.zoom),h.Cb(1),h.hc("markerDraggable",!0)("latitude",e.event.venue.latitude)("longitude",e.event.venue.longitude),h.Cb(4),h.hc("ngIf","BUSINESS"===e.user.userType),h.Cb(7),h.hc("ngForOf",e.event.attendees),h.Cb(27),h.hc("ngModel",e.event.welcomeMessage),h.Cb(5),h.hc("disabled",e.submitting),h.Cb(2),h.hc("ngIf",e.submitting))},directives:[Fs,as,Ds,Ma,os,Bs,l.j,Xf,Dl,Ll,l.k,_f,Pf,Nc,Qf,Uf,ka],styles:[".contact-image[_ngcontent-%COMP%]{width:38px;height:38px}.map[_ngcontent-%COMP%]{height:150px}.contact-image[_ngcontent-%COMP%]{width:80px;height:80px}.contact-border[_ngcontent-%COMP%]{border:1px solid #dde}"]}),t}();function Id(t,e){if(1&t&&h.Ob(0,"editable-meeting",3),2&t){var n=h.bc();h.hc("event",n.event)}}function kd(t,e){if(1&t&&(h.Sb(0,"div",4),h.Sb(1,"div",5),h.Sb(2,"div",6),h.Ob(3,"spinner",7,8),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(3),h.hc("size","large")("showing",n.loading)}}function Rd(t,e){1&t&&(h.Sb(0,"div",9),h.Sb(1,"object",10),h.Ob(2,"param",11),h.Rb(),h.Sb(3,"div",12),h.vc(4,"\u06cc\u0647 \u0645\u0634\u06a9\u0644\u06cc \u06cc\u0647 \u062c\u0627\u06cc\u06cc \u0647\u0633\u062a"),h.Rb(),h.Rb())}var Td,Md=function(){function t(t,e,n,r){this.dateService=t,this.commonService=e,this.route=n,this.dataService=r,this.loading=!1}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.readMeeting(e.id)})},t.prototype.readMeeting=function(t){var e=this;this.loading=!0,this.dataService.getMeeting(t).subscribe(function(t){"OK"===t.msg&&(e.event=t.object),e.loading=!1},function(t){console.log(t),e.loading=!1})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(q),h.Nb(an),h.Nb(Iu))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-edit-meeting"]],decls:3,vars:3,consts:[[3,"event",4,"ngIf"],["class","card mb-3 shadow",4,"ngIf"],["class","text-center owl-container",4,"ngIf"],[3,"event"],[1,"card","mb-3","shadow"],[1,"card-body"],[1,"row","justify-content-center"],[3,"size","showing"],["spinner",""],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(Td||(e=["../../assets/images/owl-old/owl.svg"],n=["../../assets/images/owl-old/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,Td=e)),1,"w-75"],["name","class","value","look-around"],[1,"text-muted"]],template:function(t,e){1&t&&(h.tc(0,Id,1,1,"editable-meeting",0),h.tc(1,kd,5,2,"div",1),h.tc(2,Rd,5,0,"div",2)),2&t&&(h.hc("ngIf",e.event&&!e.loading),h.Cb(1),h.hc("ngIf",e.loading),h.Cb(1),h.hc("ngIf",!e.loading&&!e.event))},directives:[l.k,Ad,Zc],styles:[""]}),t;var e,n}(),Nd=["comments"],Pd=["gmap"];function Dd(t,e){if(1&t&&(h.Sb(0,"span",8),h.vc(1),h.Rb()),2&t){var n=h.bc().$implicit,r=h.bc(2);h.Cb(1),h.xc(" \u0627\u0632 ",r.commonService.convertTimeString(n.startTime),"")}}function xd(t,e){if(1&t&&(h.Sb(0,"span",8),h.vc(1),h.Rb()),2&t){var n=h.bc().$implicit,r=h.bc(2);h.Cb(1),h.xc(" \u062a\u0627 ",r.commonService.convertTimeString(n.endTime),"")}}function Ld(t,e){if(1&t&&(h.Sb(0,"div",23),h.Sb(1,"div"),h.Sb(2,"h5"),h.Ob(3,"i",24),h.vc(4),h.tc(5,Dd,2,1,"span",25),h.tc(6,xd,2,1,"span",25),h.Rb(),h.Rb(),h.Rb()),2&t){var n=e.$implicit,r=h.bc(2);h.Cb(4),h.xc(" ",r.dateService.greToPersian(n.date,!0)," "),h.Cb(1),h.hc("ngIf",n.startTime),h.Cb(1),h.hc("ngIf",n.endTime)}}function Bd(t,e){if(1&t&&(h.Sb(0,"tr",26),h.Sb(1,"td",27),h.Ob(2,"img",28),h.Rb(),h.Sb(3,"td"),h.vc(4),h.Rb(),h.Sb(5,"td"),h.vc(6),h.Rb(),h.Sb(7,"td"),h.vc(8),h.Rb(),h.Sb(9,"td"),h.Ob(10,"i"),h.vc(11),h.Rb(),h.Rb()),2&t){var n=e.$implicit;h.Cb(2),h.hc("src",n.imageUrl?n.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(2),h.wc(n.name),h.Cb(2),h.wc(n.email),h.Cb(2),h.wc(n.phone),h.Cb(1),h.sc("color",n.status.color),h.Cb(1),h.Eb("fa "+n.status.class),h.Cb(1),h.xc(" ",n.status.text,"")}}function Fd(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",29),h.Sb(1,"button",30),h.Zb("click",function(){return h.pc(n),h.bc(2).goTo("/edit-meeting")}),h.vc(2," \u0648\u06cc\u0631\u0627\u06cc\u0634 "),h.Rb(),h.Rb()}}function jd(t,e){if(1&t&&(h.Sb(0,"div",0),h.Sb(1,"h5",7),h.vc(2),h.Sb(3,"small",8),h.vc(4),h.Rb(),h.Rb(),h.Sb(5,"div",9),h.tc(6,Ld,7,3,"div",10),h.Rb(),h.Sb(7,"div",11),h.Sb(8,"table",12),h.Sb(9,"thead"),h.Sb(10,"tr",13),h.Ob(11,"td"),h.Sb(12,"td"),h.vc(13,"\u0646\u0627\u0645"),h.Rb(),h.Sb(14,"td"),h.vc(15,"\u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Sb(16,"td"),h.vc(17,"\u062a\u0644\u0641\u0646"),h.Rb(),h.Sb(18,"td"),h.vc(19,"\u0648\u0636\u0639\u06cc\u062a"),h.Rb(),h.Rb(),h.Rb(),h.tc(20,Bd,12,9,"tr",14),h.Rb(),h.Rb(),h.Sb(21,"h5",15),h.Ob(22,"i",16),h.Sb(23,"span",17),h.vc(24),h.Rb(),h.Sb(25,"span",17),h.vc(26),h.Rb(),h.Rb(),h.Sb(27,"agm-map",18),h.Ob(28,"agm-marker",19),h.Rb(),h.Ob(29,"comments",20,21),h.tc(31,Fd,3,0,"div",22),h.Rb()),2&t){var n=h.bc();h.Cb(2),h.xc("",n.event.title," "),h.Cb(2),h.xc("(",n.commonService.getStatusString(n.event.status),")"),h.Cb(2),h.hc("ngForOf",n.event.dates),h.Cb(14),h.hc("ngForOf",n.event.attendees),h.Cb(4),h.wc(n.event.venue?n.event.venue.farsiAddress1:""),h.Cb(2),h.wc(n.event.venue?n.event.venue.farsiAddress2:""),h.Cb(1),h.hc("latitude",n.event.venue.latitude)("longitude",n.event.venue.longitude)("scrollwheel",!0)("zoom",12),h.Cb(1),h.hc("latitude",n.event.venue.latitude)("longitude",n.event.venue.longitude),h.Cb(1),h.hc("anonymous",n.anonymous)("uuid",n.uuid)("guest",n.guest)("eventId",n.event?n.event.id:-1),h.Cb(2),h.hc("ngIf",!n.anonymous&&n.event.chairId===n.currentUserId)}}var Ud=function(){function t(t,e,n,r,i,o){this.dateService=t,this.commonService=e,this.route=n,this.dataService=r,this.navigationService=i,this.authService=o,this.markers=[]}return t.prototype.ngOnInit=function(){var t=this;this.event.attendees.forEach(function(e){e.status=t.getContactStatus(e.id)}),this.currentUserId=this.authService.userId},t.prototype.ngOnChanges=function(t){},t.prototype.getContactStatus=function(t){var e=this.event.contactEvents.find(function(e){return e.contactId===t});return this.commonService.getContactStatus(e.status)},t.prototype.goTo=function(t){this.navigationService.navigate(t,this.event.id)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(q),h.Nb(an),h.Nb(Iu),h.Nb(Zi),h.Nb(Gi))},t.\u0275cmp=h.Hb({type:t,selectors:[["meeting"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Nd,3),h.Ac(Pd,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.comments=n.first),h.lc(n=h.ac())&&(e.gmapElement=n.first)}},inputs:{event:"event",anonymous:"anonymous",uuid:"uuid",guest:"guest"},features:[h.Ab],decls:7,vars:2,consts:[[1,"container"],[1,"card","shadow","mt-3","mb-3"],[1,"card-body"],["class","container",4,"ngIf"],[1,"row","justify-content-center"],[3,"size"],["spinner",""],[1,"text-right","mt-2","mb-2"],[1,"text-muted"],[1,"mt-4","mb-4"],["class","panel text-right",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","table-striped","text-right"],[1,"font-small","text-muted"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"text-right","mt-2"],[1,"fa","fa-map-marker","ml-2"],[1,""],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"latitude","longitude"],[3,"anonymous","uuid","guest","eventId"],["comments",""],["class"," text-right",4,"ngIf"],[1,"panel","text-right"],[1,"fa","fa-calendar","ml-2"],["class","text-muted",4,"ngIf"],[1,"col-md-6"],[1,"panel","text-right","contact-image-td"],[1,"rounded-circle","contact-image",3,"src"],[1,"text-right"],[1,"btn","primary","ml-2",3,"click"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.tc(3,jd,32,17,"div",3),h.Sb(4,"div",4),h.Ob(5,"spinner",5,6),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(3),h.hc("ngIf",e.event),h.Cb(2),h.hc("size","large"))},directives:[l.k,Zc,l.j,Dl,Ll,Qc],styles:[".contact-image[_ngcontent-%COMP%]:first-child{margin-left:0}.contact-image-td[_ngcontent-%COMP%]{width:50px}.contact-image[_ngcontent-%COMP%]{width:25px;height:25px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.map[_ngcontent-%COMP%]{height:200px}"]}),t}();function Vd(t,e){if(1&t&&h.Ob(0,"meeting",3),2&t){var n=h.bc();h.hc("event",n.event)}}function Hd(t,e){if(1&t&&(h.Sb(0,"div",4),h.Sb(1,"div",5),h.Sb(2,"div",6),h.Ob(3,"spinner",7,8),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(3),h.hc("size","large")("showing",n.loading)}}function Wd(t,e){1&t&&(h.Sb(0,"div",9),h.Sb(1,"object",10),h.Ob(2,"param",11),h.Rb(),h.Sb(3,"div",12),h.vc(4,"\u06cc\u0647 \u0645\u0634\u06a9\u0644\u06cc \u06cc\u0647 \u062c\u0627\u06cc\u06cc \u0647\u0633\u062a"),h.Rb(),h.Rb())}var zd,Gd=function(){function t(t,e,n,r){this.dateService=t,this.commonService=e,this.route=n,this.dataService=r,this.loading=!1}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.readMeeting(e.id)})},t.prototype.readMeeting=function(t){var e=this;this.loading=!0,this.dataService.getMeeting(t).subscribe(function(t){"OK"===t.msg&&(e.event=t.object),e.loading=!1},function(t){console.log(t),e.loading=!1})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(q),h.Nb(an),h.Nb(Iu))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-user-meeting"]],decls:3,vars:3,consts:[["class","grow",3,"event",4,"ngIf"],["class","card mb-3 shadow",4,"ngIf"],["class","text-center owl-container",4,"ngIf"],[1,"grow",3,"event"],[1,"card","mb-3","shadow"],[1,"card-body"],[1,"row","justify-content-center"],[3,"size","showing"],["spinner",""],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(zd||(e=["../../assets/images/owl-old/owl.svg"],n=["../../assets/images/owl-old/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,zd=e)),1,"w-75"],["name","class","value","look-around"],[1,"text-muted"]],template:function(t,e){1&t&&(h.tc(0,Vd,1,1,"meeting",0),h.tc(1,Hd,5,2,"div",1),h.tc(2,Wd,5,0,"div",2)),2&t&&(h.hc("ngIf",e.event&&!e.loading),h.Cb(1),h.hc("ngIf",e.loading),h.Cb(1),h.hc("ngIf",!e.loading&&!e.event))},directives:[l.k,Ud,Zc],styles:[""]}),t;var e,n}();function Xd(t,e){if(1&t&&h.Ob(0,"meeting",8),2&t){var n=h.bc();h.hc("anonymous",!0)("uuid",n.uuid)("guest",n.guest)("event",n.event)}}function Zd(t,e){if(1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",9),h.Sb(2,"div",10),h.Ob(3,"spinner",11,12),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(3),h.hc("size","large")("showing",n.loading)}}function qd(t,e){1&t&&(h.Sb(0,"div",13),h.Sb(1,"object",14),h.Ob(2,"param",15),h.Rb(),h.Sb(3,"div",16),h.vc(4,"\u06cc\u0647 \u0645\u0634\u06a9\u0644\u06cc \u06cc\u0647 \u062c\u0627\u06cc\u06cc \u0647\u0633\u062a"),h.Rb(),h.Rb())}var Yd,Kd,Qd=function(){function t(t,e,n,r){this.dateService=t,this.commonService=e,this.route=n,this.dataService=r,this.loading=!1,this.uuid="",this.dateEventId="",this.action=""}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.uuid=e.uuid,t.dateEventId=e.dateId,t.action=e.action,t.style=t.commonService.getContactStatus(t.action),t.readMeeting()})},t.prototype.readMeeting=function(){var t=this;this.loading=!0,this.dataService.getMeetingByUUID(this.uuid,this.action).subscribe(function(e){"OK"===e.msg&&(t.event=e.object,t.event.attendees.forEach(function(e){e.you&&(t.guest=e)})),t.loading=!1},function(e){console.log(e),t.loading=!1})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(q),h.Nb(an),h.Nb(Iu))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-contact-meeting"]],decls:11,vars:8,consts:[[1,"card","mb-3","shadow"],[1,"card-body","row"],[1,"col-sm-6","text-right"],[1,"mr-3"],[1,"col-sm-6","text-left"],[3,"anonymous","uuid","guest","event",4,"ngIf"],["class","card mb-3 shadow",4,"ngIf"],["class","text-center owl-container",4,"ngIf"],[3,"anonymous","uuid","guest","event"],[1,"card-body"],[1,"row","justify-content-center"],[3,"size","showing"],["spinner",""],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(Yd||(e=["../../assets/images/owl-old/owl.svg"],n=["../../assets/images/owl-old/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,Yd=e)),1,"w-75"],["name","class","value","look-around"],[1,"text-muted"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"span",3),h.vc(4,"\u0627\u0632 \u067e\u0627\u0633\u062e \u0634\u0645\u0627 \u0628\u0633\u06cc\u0627\u0631 \u0645\u062a\u0634\u06a9\u0631\u06cc\u0645."),h.Rb(),h.Rb(),h.Sb(5,"div",4),h.Ob(6,"i"),h.vc(7),h.Rb(),h.Rb(),h.Rb(),h.tc(8,Xd,1,4,"meeting",5),h.tc(9,Zd,5,2,"div",6),h.tc(10,qd,5,0,"div",7)),2&t&&(h.Cb(6),h.Eb("fa "+e.style.class),h.sc("color",e.style.color),h.Cb(1),h.xc(" ",e.style.text," "),h.Cb(1),h.hc("ngIf",e.event&&!e.loading),h.Cb(1),h.hc("ngIf",e.loading),h.Cb(1),h.hc("ngIf",!e.loading&&!e.event))},directives:[l.k,Ud,Zc],styles:[""]}),t;var e,n}(),Jd=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["app-page-not-found"]],decls:5,vars:0,consts:[[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(Kd||(e=["../../assets/images/home/owl.svg"],n=["../../assets/images/home/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,Kd=e)),1,"w-75"],["name","class","value","look-around"],[1,"text-muted"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"object",1),h.Ob(2,"param",2),h.Rb(),h.Sb(3,"div",3),h.vc(4,"\u0686\u06cc\u0632\u06cc \u06a9\u0647 \u062f\u0646\u0628\u0627\u0644\u0634 \u0645\u06cc \u06af\u0631\u062f\u06cc\u062f \u0645\u0627 \u0646\u062f\u0627\u0631\u06cc\u0645."),h.Rb(),h.Rb())},styles:[""]}),t;var e,n}(),$d=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["about-us"]],decls:26,vars:0,consts:[[1,"p-5"],[1,"row"],[1,"col-md-6","text-center","mb-1"],[1,"us","bg-white","shadow"],["src","/assets/images/user-placeholder.png",1,"about-us-image"],[1,"flexbox-parent-row"],["href",""],[1,"fa","about-us-icon","fa-linkedin-square"],[1,"fa","about-us-icon","fa-envelope"],[1,"fa","about-us-icon","fa-twitter"],["src","/assets/images/about-us/mohammed.jpg",1,"about-us-image"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Ob(4,"img",4),h.Sb(5,"h2"),h.vc(6,"\u067e\u0648\u06cc\u0627\u0646 \u0646\u0648\u0631\u0648\u0632\u06cc"),h.Rb(),h.Sb(7,"div",5),h.Sb(8,"a",6),h.Ob(9,"i",7),h.Rb(),h.Sb(10,"a",6),h.Ob(11,"i",8),h.Rb(),h.Sb(12,"a",6),h.Ob(13,"i",9),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(14,"div",2),h.Sb(15,"div",3),h.Ob(16,"img",10),h.Sb(17,"h2"),h.vc(18,"\u0645\u062d\u0645\u062f \u062f\u0631\u0648\u06cc\u0634"),h.Rb(),h.Sb(19,"div",5),h.Sb(20,"a",6),h.Ob(21,"i",7),h.Rb(),h.Sb(22,"a",6),h.Ob(23,"i",8),h.Rb(),h.Sb(24,"a",6),h.Ob(25,"i",9),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb())},styles:[".about-us-image[_ngcontent-%COMP%]{width:100%;max-width:150px;max-height:150px;border-radius:50%}.us[_ngcontent-%COMP%]{border-radius:5px;padding:10px}.about-us-icon[_ngcontent-%COMP%]{font-size:20px;margin:5px}"]}),t}(),tp=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["conditions"]],decls:82,vars:0,consts:[[1,"bg-white","p-5"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"h1"),h.vc(2,"\u0645\u062d\u062a\u0648\u0627 \u060c \u0627\u0634\u062a\u0631\u0627\u06a9 \u060c \u067e\u06cc\u0648\u0646\u062f\u0647\u0627 \u0628\u0647 \u0648\u0628 \u0633\u0627\u06cc\u062a \u0647\u0627 \u0648 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a"),h.Rb(),h.Sb(3,"h2"),h.vc(4,"\u0645\u062d\u062a\u0648\u0627"),h.Rb(),h.Sb(5,"p"),h.vc(6,' \u062e\u062f\u0645\u0627\u062a \u0645\u0627 \u0628\u0647 \u0634\u0645\u0627 \u0627\u0645\u06a9\u0627\u0646 \u0645\u06cc \u062f\u0647\u062f \u062c\u0644\u0633\u0627\u062a \u0648 \u0647\u0645\u0627\u06cc\u06cc\u0634 \u0648 \u0645\u0644\u0627\u0642\u0627\u062a \u0647\u0627\u06cc \u062e\u0648\u062f \u0631\u0627 \u062a\u0631\u062a\u06cc\u0628 \u062f\u0627\u062f\u0647 \u060c \u0645\u062f\u06cc\u0631\u06cc\u062a \u0648 \u067e\u06cc\u06af\u06cc\u0631\u06cc \u06a9\u0646\u06cc\u062f \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0647 \u0634\u0645\u0627 \u0627\u0645\u06a9\u0627\u0646 \u0645\u06cc \u062f\u0647\u062f \u06a9\u0647\u060c \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u060c \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0648 \u0645\u0648\u0642\u0639\u06cc\u062a \u062c\u063a\u0631\u0627\u0641\u06cc\u0627\u06cc\u06cc \u0631\u0627 \u0628\u0627 \u062f\u06cc\u06af\u0631\u0627\u0646 \u0628\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u06af\u0630\u0627\u0631\u06cc\u062f \u0648 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u060c \u0645\u062a\u0646 \u060c \u06af\u0631\u0627\u0641\u06cc\u06a9 \u060c \u0641\u06cc\u0644\u0645 \u06cc\u0627 \u0633\u0627\u06cc\u0631 \u0645\u0637\u0627\u0644\u0628 \u0631\u0627 \u062f\u0631 \u062f\u0633\u062a\u0631\u0633 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u062f ("\u0645\u062d\u062a\u0648\u0627") . \u0634\u0645\u0627 \u0645\u0633\u0626\u0648\u0644 \u0645\u062d\u062a\u0648\u0627\u06cc \u0627\u0634\u062a\u0631\u0627\u06a9 \u0648 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0645\u0646\u062a\u0634\u0631 \u0634\u062f\u0647 \u0647\u0633\u062a\u06cc\u062f. \u0634\u0645\u0627 \u0628\u0627\u06cc\u062f \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u062d\u0627\u0635\u0644 \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0634\u062a\u0631\u0627\u06a9\u06cc \u060c \u0630\u062e\u06cc\u0631\u0647 \u0634\u062f\u0647 \u06cc\u0627 \u0645\u0646\u062a\u0634\u0631 \u0634\u062f\u0647 \u0634\u0645\u0627 \u0645\u0637\u0627\u0628\u0642 \u0642\u0627\u0646\u0648\u0646 \u0627\u06cc\u0631\u0627\u0646 \u0627\u0633\u062a.. \u0634\u0645\u0627 \u062a\u0623\u06cc\u06cc\u062f \u0645\u06cc \u06a9\u0646\u06cc\u062f \u0648 \u0645\u0648\u0627\u0641\u0642\u062a \u0645\u06cc \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u06af\u0631\u062f\u0627\u0646\u062f\u06af\u0627\u0646 \u0633\u0627\u0645\u0627\u0646\u0647 \u0634\u0627\u0644\u0627\u067e \u0645\u0633\u0626\u0648\u0644\u06cc\u062a \u06cc\u0627 \u0645\u0633\u0626\u0648\u0644\u06cc\u062a \u0645\u0633\u062a\u0642\u06cc\u0645 \u06cc\u0627 \u063a\u06cc\u0631\u0645\u0633\u062a\u0642\u06cc\u0645 \u062f\u0631 \u0642\u0628\u0627\u0644 \u0647\u0631\u06af\u0648\u0646\u0647 \u062e\u0633\u0627\u0631\u062a \u06cc\u0627 \u062e\u0633\u0627\u0631\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f\u0647 \u06cc\u0627 \u0627\u062f\u0639\u0627 \u0634\u062f\u0647 \u062f\u0631 \u0627\u062b\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06cc\u0627 \u0627\u062a\u06a9\u0627 \u0628\u0647 \u0647\u0631\u06af\u0648\u0646\u0647 \u0645\u062d\u062a\u0648\u0627 \u06cc\u0627 \u0641\u0639\u0627\u0644\u06cc\u062a\u0647\u0627\u06cc \u0645\u0631\u062a\u0628\u0637 \u0628\u0627 \u0622\u0646\u0647\u0627 \u06cc\u0627 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u062f\u0627\u0631\u0646\u062f. '),h.Rb(),h.Sb(7,"h2"),h.vc(8,"\u0627\u0634\u062a\u0631\u0627\u06a9 \u0647\u0627"),h.Rb(),h.Sb(9,"p"),h.vc(10,"\u0627\u0634\u062a\u0631\u0627\u06a9 \u0647\u0627\u06cc \u0627\u06cc\u0646 \u0633\u0631\u0648\u06cc\u0633 \u0631\u0627\u06cc\u06af\u0627\u0646 \u0627\u0633\u062a \u0645\u06af\u0631 \u0627\u0646\u06a9\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u0633\u062a\u0642\u06cc\u0645 \u0633\u0631\u0648\u06cc\u0633 \u063a\u06cc\u0631 \u0631\u0627\u06cc\u06af\u0627\u0646 \u0645\u0634\u062e\u0635 \u0634\u062f\u0647 \u0628\u0627\u0634\u062f"),h.Rb(),h.Sb(11,"h2"),h.vc(12,"\u067e\u06cc\u0648\u0646\u062f \u0628\u0647 \u0648\u0628 \u0633\u0627\u06cc\u062a\u0647\u0627\u06cc \u062f\u06cc\u06af\u0631"),h.Rb(),h.Sb(13,"p"),h.vc(14,"\u062e\u062f\u0645\u0627\u062a \u0645\u0627 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u062d\u0627\u0648\u06cc \u067e\u06cc\u0648\u0646\u062f\u0647\u0627\u06cc\u06cc \u0628\u0647 \u0648\u0628 \u0633\u0627\u06cc\u062a \u0647\u0627 \u06cc\u0627 \u0633\u0631\u0648\u06cc\u0633 \u0647\u0627\u06cc \u0634\u062e\u0635 \u062b\u0627\u0644\u062b \u0628\u0627\u0634\u062f \u06a9\u0647 \u0645\u062a\u0639\u0644\u0642 \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647 \u0634\u0627\u0644\u0627\u067e \u0646\u06cc\u0633\u062a \u060c \u06cc\u0627 \u062a\u062d\u062a \u0645\u0627\u0644\u06a9\u06cc\u062a \u0622\u0646 \u0646\u06cc\u0633\u062a\u0646\u062f \u060c \u0633\u0627\u0645\u0627\u0646\u0647 \u0634\u0627\u0644\u0627\u067e \u0647\u06cc\u0686 \u06a9\u0646\u062a\u0631\u0644\u06cc \u0628\u0631 \u0631\u0648\u06cc \u0622\u0646 \u0646\u062f\u0627\u0631\u062f \u0648 \u0647\u06cc\u0686 \u06af\u0648\u0646\u0647 \u0645\u0633\u0626\u0648\u0644\u06cc\u062a\u06cc \u062f\u0631 \u0645\u0648\u0631\u062f \u0645\u062d\u062a\u0648\u0627\u06cc \u060c \u0633\u06cc\u0627\u0633\u062a \u0647\u0627\u06cc \u062d\u0641\u0638 \u062d\u0631\u06cc\u0645 \u062e\u0635\u0648\u0635\u06cc \u06cc\u0627 \u0627\u0639\u0645\u0627\u0644 \u0634\u062e\u0635 \u062b\u0627\u0644\u062b \u0628\u0631 \u0639\u0647\u062f\u0647 \u0646\u0645\u06cc \u06af\u06cc\u0631\u062f. \u0634\u0645\u0627 \u0628\u06cc\u0634\u062a\u0631 \u062a\u0623\u06cc\u06cc\u062f \u0645\u06cc \u06a9\u0646\u06cc\u062f \u0648 \u0645\u0648\u0627\u0641\u0642\u062a \u0645\u06cc \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u0645\u062c\u0645\u0648\u0639\u0647 \u0634\u0627\u0644\u0627\u067e \u0645\u0633\u0626\u0648\u0644\u06cc\u062a \u06cc\u0627 \u0645\u0633\u0626\u0648\u0644\u06cc\u062a \u0645\u0633\u062a\u0642\u06cc\u0645 \u06cc\u0627 \u063a\u06cc\u0631\u0645\u0633\u062a\u0642\u06cc\u0645 \u062f\u0631 \u0642\u0628\u0627\u0644 \u0647\u0631\u06af\u0648\u0646\u0647 \u062e\u0633\u0627\u0631\u062a \u06cc\u0627 \u062e\u0633\u0627\u0631\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f\u0647 \u06cc\u0627 \u0627\u062f\u0639\u0627 \u0634\u062f\u0647 \u062f\u0631 \u0627\u062b\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06cc\u0627 \u0627\u062a\u06a9\u0627 \u0628\u0647 \u0647\u0631\u06af\u0648\u0646\u0647 \u0645\u062d\u062a\u0648\u0627 \u060c \u06a9\u0627\u0644\u0627\u0647\u0627 \u06cc\u0627 \u062e\u062f\u0645\u0627\u062a \u0645\u0648\u062c\u0648\u062f \u0646\u0645\u06cc\u0628\u0627\u0634\u062f. \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0631 \u0627\u0635\u0637\u0644\u0627\u062d \u0648 \u0634\u0631\u0627\u06cc\u0637 \u060c \u0645\u062c\u0645\u0648\u0639\u0647 \u0634\u0627\u0644\u0627\u067e \u0628\u0647 \u0635\u0644\u0627\u062d\u062f\u06cc\u062f \u062e\u0648\u062f \u0627\u062e\u062a\u06cc\u0627\u0631 \u062f\u0627\u0631\u062f \u06a9\u0647 \u0647\u0631 \u0632\u0645\u0627\u0646 \u06a9\u0647 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u0627\u06cc\u0646 \u0634\u0631\u0627\u06cc\u0637 \u0631\u0627 \u062a\u063a\u06cc\u06cc\u0631 \u06cc\u0627 \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u06a9\u0646\u06cc\u0645. \u0627\u06af\u0631 \u06cc\u06a9 \u0648\u06cc\u0631\u0627\u06cc\u0634 \u062a\u062c\u062f\u06cc\u062f \u0646\u0638\u0631 \u0628\u0627\u0634\u062f \u060c. \u0622\u0646\u0686\u0647 \u06cc\u06a9 \u062a\u063a\u06cc\u06cc\u0631 \u0645\u0627\u062f\u0647 \u0631\u0627 \u062a\u0634\u06a9\u06cc\u0644 \u0645\u06cc \u062f\u0647\u062f \u0628\u0627 \u0627\u062e\u062a\u06cc\u0627\u0631 \u0645\u0627 \u062a\u0639\u06cc\u06cc\u0646 \u0645\u06cc \u0634\u0648\u062f."),h.Rb(),h.Sb(15,"h2"),h.vc(16,"\u062a\u063a\u06cc\u06cc\u0631 \u062f\u0631 \u0628\u0631\u0646\u0627\u0645\u0647 \u0647\u0627 \u0648 \u0648\u0628 \u0633\u0627\u06cc\u062a"),h.Rb(),h.Sb(17,"p"),h.vc(18,"\u0645\u062c\u0645\u0648\u0639\u0647 \u0634\u0627\u0644\u0627\u067e \u0627\u062e\u062a\u06cc\u0627\u0631 \u06a9\u0627\u0645\u0644 \u062f\u0627\u0631\u062f \u0628\u0631\u0627\u06cc \u062a\u063a\u06cc\u06cc\u0631 \u0648 \u06cc\u0627 \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u06a9\u0631\u062f\u0646 \u0648\u0628 \u0633\u0627\u06cc\u062a \u060c \u0628\u0631\u0646\u0627\u0645\u0647 \u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u062f\u06cc \u062a\u0644\u0641\u0646 \u0647\u0645\u0631\u0627\u0647 \u0648 \u062f\u06cc\u06af\u0631 \u0628\u0631\u0646\u0627\u0645\u0647 \u0647\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631\u062f\u06cc \u062f\u0631 \u0647\u0631 \u0632\u0645\u0627\u0646."),h.Rb(),h.Sb(19,"h1"),h.vc(20,"\u067e\u06cc\u0634\u06af\u06cc\u0631\u06cc \u0627\u0632 \u062a\u0642\u0644\u0628 \u060c \u062c\u0644\u0648\u06af\u06cc\u0631\u06cc \u0627\u0632 \u06a9\u0644\u0627\u0647 \u062a\u0642\u0644\u0628"),h.Rb(),h.Sb(21,"p"),h.vc(22,"\u06af\u0631\u062f\u0627\u0646\u062f\u06af\u0627\u0646 \u0633\u0627\u0645\u0627\u0646\u0647 \u0634\u0627\u0644\u0627\u067e \u0628\u0647 \u0645\u0646\u0638\u0648\u0631 \u062c\u0644\u0648\u06af\u06cc\u0631\u06cc \u0627\u0631 \u062a\u0642\u0644\u0628 \u0648 \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u0633\u062a\u0645\u0631 \u062a\u0645\u0627\u0645 \u0641\u0639\u0627\u0644\u06cc\u062a \u0647\u0627 \u0631\u0627 \u0628\u0627\u0632\u0631\u0633\u06cc \u0645\u06cc\u06a9\u0646\u062f. \u0645\u062c\u0645\u0648\u0639\u0647 \u0634\u0627\u0644\u0627\u067e \u0646\u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u062a\u0645\u0627\u0645 \u0634\u0631\u06a9\u062a \u0647\u0627 \u06cc\u0627 \u0641\u0631\u062f\u06cc \u06a9\u0647 \u062f\u0631 \u0627\u06cc\u0646 \u062c\u0644\u0633\u0647 \u0634\u0631\u06a9\u062a \u0645\u06cc \u06a9\u0646\u062f \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u0648 \u062a\u0623\u06cc\u06cc\u062f \u06a9\u0646\u062f \u060c \u06a9\u0627\u0631\u0628\u0631 \u0645\u0633\u0626\u0648\u0644\u06cc\u062a \u062a\u0623\u06cc\u06cc\u062f \u062c\u0644\u0633\u0627\u062a \u0631\u0627 \u0642\u0628\u0644 \u0627\u0632 \u0647\u0631\u06af\u0648\u0646\u0647 \u062a\u0639\u0627\u0645\u0644 \u0628\u0631 \u0639\u0647\u062f\u0647 \u062f\u0627\u0631\u062f. \u062f\u0631 \u0635\u0648\u0631\u062a \u0645\u0634\u0627\u0647\u062f\u0647 \u0647\u0631\u06af\u0648\u0646\u0647 \u0641\u0639\u0627\u0644\u06cc\u062a \u0645\u0634\u06a9\u0648\u06a9 \u0628\u0627\u06cc\u062f \u0622\u0646 \u0628\u0647 \u0633\u0627\u0645\u0627\u0646\u0647 \u0634\u0627\u0644\u0627\u067e \u06af\u0632\u0627\u0631\u0634 \u0634\u0648\u062f. \u062d\u0642 \u0634\u0627\u0644\u0627\u067e \u0628\u0647 \u062f\u0627\u0634\u062a\u0646 \u062d\u0642\u0648\u0642 \u0628\u0631\u0627\u06cc \u0645\u062d\u0631\u0645\u0627\u0646\u0647 \u0646\u06af\u0647 \u062f\u0627\u0634\u062a\u0646 \u0647\u0631\u06af\u0648\u0646\u0647 \u0641\u0639\u0627\u0644\u06cc\u062a \u0628\u06cc\u0634\u062a\u0631 \u060c \u0645\u062d\u0641\u0648\u0638 \u0627\u0633\u062a. \u0634\u0645\u0627 \u062a\u0623\u06cc\u06cc\u062f \u0645\u06cc \u06a9\u0646\u06cc\u062f \u0648 \u0645\u0648\u0627\u0641\u0642\u062a \u0645\u06cc \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u06af\u0631\u062f\u0627\u0646\u062f\u06af\u0627\u0646 \u0633\u0627\u0645\u0627\u0646\u0647 \u0634\u0627\u0644\u0627\u067e \u0645\u0633\u0626\u0648\u0644\u06cc\u062a \u06cc\u0627 \u0645\u0633\u0626\u0648\u0644\u06cc\u062a \u0645\u0633\u062a\u0642\u06cc\u0645 \u06cc\u0627 \u063a\u06cc\u0631\u0645\u0633\u062a\u0642\u06cc\u0645 \u062f\u0631 \u0642\u0628\u0627\u0644 \u0647\u0631\u06af\u0648\u0646\u0647 \u062e\u0633\u0627\u0631\u062a \u06cc\u0627 \u062e\u0633\u0627\u0631\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f\u0647 \u06cc\u0627 \u0627\u062f\u0639\u0627 \u0634\u062f\u0647 \u062f\u0631 \u0627\u062b\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06cc\u0627 \u0627\u062a\u06a9\u0627\u0621 \u0628\u0647 \u0647\u0631\u06af\u0648\u0646\u0647 \u0641\u0639\u0627\u0644\u06cc\u062a \u06a9\u0644\u0627\u0647\u0628\u0631\u062f\u0627\u0631\u06cc \u0645\u0648\u062c\u0648\u062f \u062f\u0631 \u06cc\u0627 \u0627\u0632 \u0637\u0631\u06cc\u0642 \u0647\u0631 \u06af\u0648\u0646\u0647 \u0627\u0632 \u0648\u0628 \u0633\u0627\u06cc\u062a\u0647\u0627 \u060c \u0628\u0631\u0646\u0627\u0645\u0647 \u0647\u0627 \u06cc\u0627 \u062e\u062f\u0645\u0627\u062a \u0645\u0627 \u0631\u0627 \u0646\u062f\u0627\u0631\u062f. "),h.Rb(),h.Sb(23,"h1"),h.vc(24,"\u062e\u0628\u0631\u0646\u0627\u0645\u0647 \u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Sb(25,"p"),h.vc(26,"\u0627\u06af\u0631 \u062f\u0631 \u062e\u0628\u0631\u0646\u0627\u0645\u0647 \u0645\u0627 \u0639\u0636\u0648 \u0634\u0648\u06cc\u062f \u060c \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0627\u0632 \u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644 \u0634\u0645\u0627 \u0628\u0631\u0627\u06cc \u0627\u0631\u0633\u0627\u0644 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062f\u0631 \u0645\u0648\u0631\u062f \u0645\u062d\u0635\u0648\u0644\u0627\u062a \u06cc\u0627 \u062e\u062f\u0645\u0627\u062a \u0627\u0632 \u0634\u0645\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645.\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u062f\u0631 \u0647\u0631 \u0644\u062d\u0638\u0647 \u0627\u0632 \u0627\u06cc\u0646 \u0645\u0648\u0627\u0631\u062f \u0627\u0645\u062a\u0646\u0627\u0639 \u06a9\u0646\u06cc\u062f ."),h.Rb(),h.Sb(27,"h1"),h.vc(28,"\u06a9\u0648\u06a9\u06cc \u0647\u0627 \u0648 \u0646\u0638\u0627\u0631\u062a"),h.Rb(),h.Sb(29,"p"),h.vc(30,"\u06a9\u0648\u06a9\u06cc \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0645\u062a\u0646\u06cc \u06a9\u0648\u0686\u06a9 \u0627\u0633\u062a \u06a9\u0647 \u0645\u0627 \u062f\u0631 \u062f\u0633\u062a\u06af\u0627\u0647 \u0634\u0645\u0627 \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645. \u0648\u0628 \u0633\u0627\u06cc\u062a \u0645\u0627 \u0627\u0632 \u06a9\u0648\u06a9\u06cc \u0647\u0627 \u0628\u0631\u0627\u06cc \u062a\u0645\u0627\u06cc\u0632 \u0627\u0632 \u0633\u0627\u06cc\u0631 \u06a9\u0627\u0631\u0628\u0631\u0627\u0646 \u0648\u0628 \u0633\u0627\u06cc\u062a \u0634\u0645\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f. \u06a9\u0648\u06a9\u06cc \u0647\u0627 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u0637\u0644\u0627\u0639\u0627\u062a\u06cc \u062f\u0631 \u0645\u0648\u0631\u062f \u0646\u062d\u0648\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0627\u06cc\u0646 \u0648\u0628 \u0633\u0627\u06cc\u062a \u0628\u0647 \u0645\u0627 \u0627\u0631\u0627\u0626\u0647 \u0645\u06cc \u062f\u0647\u0646\u062f \u062a\u0627 \u0628\u062a\u0648\u0627\u0646\u06cc\u0645 \u0622\u0646 \u0631\u0627 \u0628\u0647 \u0631\u0648\u0632 \u060c \u0645\u0631\u062a\u0628\u0637 \u0648 \u0628\u062f\u0648\u0646 \u062e\u0637\u0627 \u0646\u06af\u0647 \u062f\u0627\u0631\u06cc\u0645. \u06a9\u0648\u06a9\u06cc \u0647\u0627\u06cc \u06a9\u0627\u0645\u0644\u0627\u064b \u0636\u0631\u0648\u0631\u06cc - \u0627\u06cc\u0646 \u06a9\u0648\u06a9\u06cc \u0647\u0627\u06cc\u06cc \u0647\u0633\u062a\u0646\u062f \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0639\u0645\u0644\u06a9\u0631\u062f \u0648\u0628 \u0633\u0627\u06cc\u062a \u0645\u0627 \u0636\u0631\u0648\u0631\u06cc \u0647\u0633\u062a\u0646\u062f. \u06a9\u0648\u06a9\u06cc \u062a\u062d\u0644\u06cc\u0644\u06cc / \u0639\u0645\u0644\u06a9\u0631\u062f\u06cc - \u0627\u06cc\u0646 \u06a9\u0648\u06a9\u06cc \u0647\u0627 \u0628\u0647 \u0645\u0627 \u0627\u0645\u06a9\u0627\u0646 \u0645\u06cc \u062f\u0647\u0646\u062f \u062a\u0639\u062f\u0627\u062f \u0628\u0627\u0632\u062f\u06cc\u062f \u06a9\u0646\u0646\u062f\u06af\u0627\u0646 \u0648\u0628 \u0633\u0627\u06cc\u062a \u062e\u0648\u062f \u0631\u0627 \u0628\u0634\u0646\u0627\u0633\u06cc\u0645 \u0648 \u0628\u0634\u0645\u0627\u0631\u06cc\u0645. \u06a9\u0648\u06a9\u06cc \u0647\u0627\u06cc \u0639\u0645\u0644\u06a9\u0631\u062f\u06cc - \u0627\u0632 \u0627\u06cc\u0646 \u06a9\u0648\u06a9\u06cc \u0647\u0627 \u0628\u0631\u0627\u06cc \u0634\u0646\u0627\u0633\u0627\u06cc\u06cc \u0634\u0645\u0627 \u0647\u0646\u06af\u0627\u0645 \u0628\u0627\u0632\u06af\u0634\u062a \u0628\u0647 \u0648\u0628 \u0633\u0627\u06cc\u062a \u0645\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0647\u062f\u0641 \u0642\u0631\u0627\u0631 \u062f\u0627\u062f\u0646 \u06a9\u0648\u06a9\u06cc \u0647\u0627 - \u0627\u06cc\u0646 \u06a9\u0648\u06a9\u06cc \u0647\u0627 \u0628\u0627\u0632\u062f\u06cc\u062f \u0634\u0645\u0627 \u0627\u0632 \u0648\u0628 \u0633\u0627\u06cc\u062a \u0645\u0627 \u060c \u0635\u0641\u062d\u0627\u062a\u06cc \u06a9\u0647 \u0628\u0627\u0632\u062f\u06cc\u062f \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f \u0648 \u067e\u06cc\u0648\u0646\u062f\u0647\u0627\u06cc\u06cc \u06a9\u0647 \u062f\u0646\u0628\u0627\u0644 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f \u0631\u0627 \u0636\u0628\u0637 \u0645\u06cc \u06a9\u0646\u062f. \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0645\u0627 \u0628\u0647 \u062a\u0631\u0627\u0641\u06cc\u06a9 \u0633\u0627\u06cc\u062a \u062e\u0648\u062f \u0646\u0638\u0627\u0631\u062a \u06a9\u0646\u06cc\u0645 \u0648 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0632\u06cc\u0631 \u0631\u0627 \u062c\u0645\u0639 \u0622\u0648\u0631\u06cc \u06a9\u0646\u06cc\u0645: "),h.Rb(),h.Sb(31,"ul"),h.Sb(32,"li"),h.vc(33,"\u0622\u062f\u0631\u0633 IP \u0631\u0627\u06cc\u0627\u0646\u0647 \u0634\u0645\u0627."),h.Rb(),h.Sb(34,"li"),h.vc(35,"\u0648\u0628 \u0633\u0627\u06cc\u062a \u0627\u0631\u062c\u0627\u0639\u06cc \u06a9\u0647 \u0627\u0632 \u0622\u0646 \u0628\u0647 \u0648\u0628 \u0633\u0627\u06cc\u062a \u0645\u0627 \u062f\u0633\u062a\u0631\u0633\u06cc \u067e\u06cc\u062f\u0627 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u062f."),h.Rb(),h.Rb(),h.Sb(36,"p"),h.vc(37,"\u062f\u0644\u0627\u06cc\u0644 \u0627\u06cc\u0646 \u0627\u0645\u0631 \u0639\u0628\u0627\u0631\u062a\u0646\u062f \u0627\u0632:"),h.Rb(),h.Sb(38,"ul"),h.Sb(39,"li"),h.vc(40,"\u0631\u0627\u06cc \u0628\u0647\u0628\u0648\u062f \u0645\u062f\u0627\u0648\u0645 \u0648\u0628 \u0633\u0627\u06cc\u062a \u0645\u0627 \u0628\u0631 \u0627\u0633\u0627\u0633 \u0627\u06cc\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627."),h.Rb(),h.Sb(41,"li"),h.vc(42,"\u0628\u0631\u0627\u06cc \u062f\u06cc\u062f\u0646 \u0645\u062d\u0628\u0648\u0628 \u062a\u0631\u06cc\u0646 \u0645\u0646\u0627\u0628\u0639 \u062a\u062c\u0627\u0631\u06cc \u0645\u0627."),h.Rb(),h.Rb(),h.Sb(43,"span"),h.vc(44,"\u062a\u0648\u062c\u0647: \u0645\u0627 \u0627\u0632 \u062e\u062f\u0645\u0627\u062a \u0634\u062e\u0635 \u062b\u0627\u0644\u062b \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u06a9\u0647 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u06a9\u0648\u06a9\u06cc \u0647\u0627 \u0631\u0627 \u0646\u06cc\u0632 \u062c\u0645\u0639 \u0622\u0648\u0631\u06cc \u06a9\u0646\u062f \u060c \u0645\u0627\u0646\u0646\u062f Google Analytics."),h.Rb(),h.Sb(45,"h1"),h.vc(46,"\u062a\u0642\u0633\u06cc\u0645 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0634\u062e\u0635\u06cc"),h.Rb(),h.Sb(47,"p"),h.vc(48,"\u0645\u0627 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0634\u062e\u0635\u06cc \u0634\u0645\u0627 \u0631\u0627 \u0641\u0627\u0634 \u06a9\u0646\u06cc\u0645:"),h.Rb(),h.Sb(49,"ul"),h.Sb(50,"li"),h.vc(51,"\u0628\u0647 \u0634\u0631\u06a9\u062a\u0647\u0627\u06cc \u062f\u06cc\u06af\u0631 \u062f\u0631 \u06af\u0631\u0648\u0647 \u0645\u0627."),h.Rb(),h.Sb(52,"li"),h.vc(53,"\u0627\u06af\u0631 \u0645\u0627 \u06a9\u0633\u0628 \u0648 \u06a9\u0627\u0631 \u062e\u0648\u062f \u0631\u0627 \u0628\u0641\u0631\u0648\u0634\u06cc\u0645."),h.Rb(),h.Sb(54,"li"),h.vc(55,"\u0628\u0647 \u0646\u0645\u0627\u06cc\u0646\u062f\u06af\u0627\u0646 \u0648 \u0627\u0631\u0627\u0626\u0647 \u062f\u0647\u0646\u062f\u06af\u0627\u0646 \u062e\u062f\u0645\u0627\u062a."),h.Rb(),h.Sb(56,"li"),h.vc(57,"\u062f\u0631 \u0645\u0648\u0627\u0631\u062f\u06cc \u06a9\u0647 \u0637\u0628\u0642 \u0642\u0627\u0646\u0648\u0646 \u0645\u0648\u0638\u0641 \u0647\u0633\u062a\u06cc\u0645 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0631\u0627 \u0645\u0646\u062a\u0642\u0644 \u06a9\u0646\u06cc\u0645."),h.Rb(),h.Sb(58,"li"),h.vc(59,"\u0627\u06af\u0631 \u0627\u0639\u062a\u0642\u0627\u062f \u062f\u0627\u0631\u06cc\u0645 \u0627\u0642\u062f\u0627\u0645 \u0628\u0631\u0627\u06cc \u0645\u0642\u0627\u0628\u0644\u0647 \u0628\u0627 \u06a9\u0644\u0627\u0647\u0628\u0631\u062f\u0627\u0631\u06cc \u060c \u062c\u0631\u0627\u06cc\u0645 \u0633\u0627\u06cc\u0628\u0631\u06cc \u06cc\u0627 \u0645\u062d\u0627\u0641\u0638\u062a \u0627\u0632 \u0648\u0628 \u0633\u0627\u06cc\u062a \u060c \u062d\u0642\u0648\u0642 \u060c \u0627\u0645\u0646\u06cc\u062a \u0634\u062e\u0635\u06cc \u0627\u0641\u0631\u0627\u062f / \u0627\u0641\u0631\u0627\u062f \u0636\u0631\u0648\u0631\u06cc \u0627\u0633\u062a."),h.Rb(),h.Sb(60,"li"),h.vc(61,"\u0686\u0646\u06cc\u0646 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0645\u0627 \u0628\u0631\u0627\u06cc \u062a\u0648\u0635\u06cc\u0641 \u062e\u062f\u0645\u0627\u062a \u062e\u0648\u062f \u0628\u0647 \u0634\u0631\u06a9\u0627\u06cc (\u062a\u0628\u0644\u06cc\u063a \u06a9\u0646\u0646\u062f\u06af\u0627\u0646 \u060c \u062d\u0627\u0645\u06cc\u0627\u0646 \u0645\u0627\u0644\u06cc) \u0648 \u0633\u0627\u06cc\u0631 \u0627\u0634\u062e\u0627\u0635 \u062b\u0627\u0644\u062b \u0645\u0639\u062a\u0628\u0631 \u0648 \u0628\u0631\u0627\u06cc \u0627\u0647\u062f\u0627\u0641 \u0642\u0627\u0646\u0648\u0646\u06cc \u062f\u06cc\u06af\u0631 \u060c \u0622\u0645\u0627\u0631 \u06a9\u0644\u06cc \u062f\u0631\u0628\u0627\u0631\u0647 \u0628\u0627\u0632\u062f\u06cc\u062f \u06a9\u0646\u0646\u062f\u06af\u0627\u0646 \u0628\u0647 \u0648\u0628 \u0633\u0627\u06cc\u062a \u062e\u0648\u062f (\u0645\u0634\u062a\u0631\u06cc \u0648 \u0641\u0631\u0648\u0634) \u0631\u0627 \u0641\u0627\u0634 \u06a9\u0646\u06cc\u0645 \u060c \u0627\u0645\u0627 \u0627\u06cc\u0646 \u0622\u0645\u0627\u0631 \u0634\u0627\u0645\u0644 \u0647\u06cc\u0686\u06af\u0648\u0646\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0634\u062e\u0635\u06cc \u0646\u0645\u06cc \u0634\u0648\u062f."),h.Rb(),h.Rb(),h.Sb(62,"p"),h.vc(63,"\u0627\u06af\u0631 \u0646\u06af\u0631\u0627\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062e\u0648\u062f \u0647\u0633\u062a\u06cc\u062f \u060c \u062d\u0642 \u062f\u0627\u0631\u06cc\u062f \u0628\u0627 \u062a\u0648\u062c\u0647 \u0628\u0647 \u067e\u0631\u062f\u0627\u062e\u062a \u0647\u0632\u06cc\u0646\u0647 \u0646\u0627\u0686\u06cc\u0632 \u060c \u0633\u0627\u0645\u0627\u0646\u0647 sholop for enterprise \u0631\u0627 \u062a\u0647\u06cc\u0647 \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u062f\u0631 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0647 \u0635\u0648\u0631\u062a \u06a9\u0627\u0645\u0644 \u062f\u0631 \u0628\u0633\u062a\u0631 \u0632\u06cc\u0631 \u0633\u0627\u062e\u062a\u06cc \u0634\u0645\u0627 \u0645\u0648\u062c\u0648\u062f \u062e\u0648\u0627\u0647\u062f \u0628\u0648\u062f."),h.Rb(),h.Sb(64,"h1"),h.vc(65,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0645\u062d\u0635\u0648\u0644"),h.Rb(),h.Sb(66,"h2"),h.vc(67,"\u0645\u062d\u062f\u0648\u062f\u06cc\u062a \u062e\u062f\u0645\u0627\u062a"),h.Rb(),h.Sb(68,"p"),h.vc(69,"\u062e\u062f\u0645\u0627\u062a \u0645\u0627 \u0646\u0628\u0627\u06cc\u062f \u0628\u0631\u0627\u06cc \u0641\u0639\u0627\u0644\u06cc\u062a\u0647\u0627\u06cc \u0645\u0645\u0646\u0648\u0639\u0647 \u0648 \u0641\u0639\u0627\u0644\u06cc\u062a\u0647\u0627\u06cc \u063a\u06cc\u0631\u0642\u0627\u0646\u0648\u0646\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0634\u0648\u062f."),h.Rb(),h.Sb(70,"h1"),h.vc(71,"\u062d\u0642 \u0627\u0646\u0635\u0631\u0627\u0641"),h.Rb(),h.Sb(72,"p"),h.vc(73,"\u06a9\u0644\u06cc\u0647 \u0645\u0634\u062a\u0631\u06cc\u0627\u0646 \u062d\u0642 \u062f\u0627\u0631\u0646\u062f \u0627\u0634\u062a\u0631\u0627\u06a9 \u062e\u0648\u062f \u0631\u0627 \u0644\u063a\u0648 \u06a9\u0646\u0646\u062f."),h.Rb(),h.Sb(74,"h1"),h.vc(75,"\u0627\u0639\u0644\u0627\u0645\u06cc\u0647 \u0647\u0627"),h.Rb(),h.Sb(76,"p"),h.vc(77,"\u06a9\u0644\u06cc\u0647 \u0627\u0639\u0644\u0627\u0646 \u0647\u0627\u06cc\u06cc \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0645\u0627 \u0627\u0631\u0633\u0627\u0644 \u0645\u06cc \u06a9\u0646\u06cc\u062f \u0628\u0627\u06cc\u062f \u0627\u0632 \u0637\u0631\u06cc\u0642 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062a\u0645\u0627\u0633 \u0627\u0631\u0633\u0627\u0644 \u0634\u0648\u062f."),h.Rb(),h.Sb(78,"h1"),h.vc(79,"\u0646\u062a\u06cc\u062c\u0647 \u06af\u06cc\u0631\u06cc"),h.Rb(),h.Sb(80,"p"),h.vc(81,"\u0627\u06cc\u0646 \u0634\u0631\u0627\u06cc\u0637 \u062a\u0648\u0633\u0637 \u0642\u0648\u0627\u0646\u06cc\u0646 \u062c\u0645\u0647\u0648\u0631\u06cc \u0627\u0633\u0644\u0627\u0645\u06cc \u0627\u06cc\u0631\u0627\u0646 \u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u06cc \u0634\u0648\u062f. \u0634\u0645\u0627 \u0648 \u0645\u0627 \u0645\u0648\u0627\u0641\u0642 \u0645\u06cc\u06a9\u0646\u06cc\u0645 \u06a9\u0647 \u062f\u0627\u062f\u06af\u0627\u0647\u0647\u0627\u06cc \u0627\u06cc\u0631\u0627\u0646 \u0628\u0647 \u0635\u0648\u0631\u062a \u063a\u06cc\u0631 \u0627\u0646\u062d\u0635\u0627\u0631\u06cc \u0645\u0631\u062c\u0639\u06cc\u062a \u062e\u0648\u0627\u0647\u0646\u062f \u062f\u0627\u0634\u062a. \u0628\u0631\u0627\u06cc \u0647\u0631 \u06af\u0648\u0646\u0647 \u0633\u0624\u0627\u0644 \u0628\u06cc\u0634\u062a\u0631 \u060c \u0644\u0637\u0641\u0627\u064b \u0628\u0627 \u0645\u0627 \u062a\u0645\u0627\u0633 \u0646\u06af\u06cc\u0631\u06cc\u062f \u060c \u0644\u0637\u0641\u0627 \u062a\u0648\u062c\u0647 \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u0645\u0627 \u0648\u0643\u06cc\u0644 \u0648 \u0642\u0627\u0636\u06cc \u0646\u06cc\u0633\u062a\u06cc\u0645 \u0643\u0647 \u0627\u0645\u06cc\u062f\u0648\u0627\u0631\u0645 \u0627\u06cc\u0646 \u0631\u0627 \u0628\u062f\u0627\u0646\u06cc\u062f! \u0644\u0637\u0641\u0627\u064b \u062a\u0648\u062c\u0647 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f \u06a9\u0647 \u0645\u0627 \u0647\u0631\u06af\u0632 \u0646\u0627\u0645\u0647 \u0627\u0644\u06a9\u062a\u0631\u0648\u0646\u06cc\u06a9\u06cc \u062d\u0627\u0648\u06cc \u0632\u0628\u0627\u0646 \u062a\u0648\u0647\u06cc\u0646 \u0622\u0645\u06cc\u0632 \u0631\u0627 \u0628\u0627\u0632 \u0646\u0645\u06cc \u06a9\u0646\u06cc\u0645 \u0648 \u0622\u0646 \u0627\u06cc\u0645\u06cc\u0644 \u0647\u0627 \u0631\u0627 \u0630\u062e\u06cc\u0631\u0647 \u0646\u0645\u06cc \u06a9\u0646\u06cc\u0645."),h.Rb(),h.Rb())},styles:[""]}),t}(),ep=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["faq"]],decls:67,vars:0,consts:[[1,"entry-content","text-right","bg-white","p-5"],[1,""],[1,"font-weight-bold"],[1,"fa","fa-circle","ml-2"],[1,"pr-4"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"p",2),h.Ob(3,"i",3),h.vc(4,"\u0645\u062c\u0648\u0632 \u0648\u0631\u0648\u062f \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0645\u0646 \u0635\u0627\u062f\u0631 \u0634\u062f\u0647 \u06a9\u0627\u0631 \u0646\u0645\u06cc\u06a9\u0646\u062f\u061f"),h.Rb(),h.Sb(5,"p",4),h.vc(6,"\u0644\u0637\u0641\u0627 \u0628\u0627 \u0628\u0631\u06af\u0632\u0627\u0631 \u06a9\u0646\u0646\u062f \u062c\u0644\u0633\u0647 \u062a\u0645\u0627\u0633 \u0628\u06af\u06cc\u0631\u06cc\u062f\u060c \u062f\u0631 \u0635\u0648\u0631\u062a \u0644\u0632\u0648\u0645 \u0627\u06cc\u0634\u0627\u0646 \u0628\u0627 \u0645\u0627 \u0628\u0627\u06cc\u062f \u062a\u0645\u0627\u0633 \u0628\u06af\u06cc\u0631\u062f."),h.Rb(),h.Rb(),h.Sb(7,"div",1),h.Sb(8,"p",2),h.Ob(9,"i",3),h.vc(10,"\u0628\u0631\u06af\u0632\u0627\u0631 \u06a9\u0646\u0646\u062f\u0647 \u0645\u0644\u0627\u0642\u0627\u062a \u0627\u0632 \u0645\u0646 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u067e\u0648\u0644 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u0627 \u067e\u0631\u062f\u0627\u062e\u062a \u06a9\u0646\u0645\u061f"),h.Rb(),h.Sb(11,"p",4),h.vc(12,"\u062e\u06cc\u0631 \u0627\u0628\u062f\u0627\u064e \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0631\u0627 \u0646\u06a9\u0646\u06cc\u062f\u060c \u0627\u06af\u0631 \u0647\u0645\u0627\u06cc\u0634 \u0631\u0627\u06cc\u06af\u0627\u0646 \u0646\u0628\u0627\u0634\u062f \u062a\u0646\u0647\u0627 \u0627\u0632 \u0633\u0645\u062a \u0633\u0627\u0645\u0627\u0646\u0647 \u0634\u0627\u0644\u0627\u067e \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u067e\u0631\u062f\u0627\u062e\u062a \u06a9\u0646\u06cc\u062f \u0648 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u067e\u0631\u062f\u0627\u062e\u062a \u0628\u0631\u0627\u06cc \u0634\u0645\u0627 \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u062e\u0648\u0627\u0647\u062f \u0634\u062f. \u0644\u0637\u0641\u0627 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0641\u0631\u062f \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0631\u0627 \u0628\u0647 \u0645\u0627 \u0627\u0637\u0644\u0627\u0639 \u062f\u0647\u06cc\u062f."),h.Rb(),h.Rb(),h.Sb(13,"div",1),h.Sb(14,"p",2),h.Ob(15,"i",3),h.vc(16,"\u0634\u0627\u0644\u0627\u067e \u062f\u0631 \u062f\u0633\u062a\u0631\u0633 \u0646\u06cc\u0633\u062a\u061f"),h.Rb(),h.Sb(17,"p",4),h.vc(18,"\u0627\u06af\u0631 \u0627\u06cc\u0646 \u067e\u06cc\u0627\u0645 \u0631\u0627 \u0645\u06cc\u062e\u0648\u0627\u0646\u06cc\u062f \u06cc\u0639\u0646\u06cc \u062f\u0631 \u062f\u0633\u062a\u0631\u0633 \u0627\u0633\u062a\u060c \u0627\u06af\u0631 \u0627\u0632 \u0645\u06a9\u0627\u0646 \u0628\u062e\u0635\u0648\u0635\u0648 \u0645\u0627\u0646\u0646\u062f \u0627\u062f\u0627\u0631\u0647 \u06cc\u0627 \u0645\u0646\u0632\u0644 \u062f\u0633\u062a\u0631\u0633\u06cc \u0646\u062f\u0627\u0631\u06cc\u062f \u0644\u0637\u0641\u0627 \u0628\u0627 \u0627\u0631\u0627\u0626\u0647 \u06a9\u0646\u0646\u062f\u0647 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u062a\u0645\u0627\u0633 \u0628\u06af\u06cc\u0631\u06cc\u062f."),h.Rb(),h.Rb(),h.Sb(19,"div",1),h.Sb(20,"p",2),h.Ob(21,"i",3),h.vc(22,"\u0634\u0627\u0644\u0627\u067e \u06cc\u0639\u0646\u06cc \u0686\u06cc\u061f"),h.Rb(),h.Sb(23,"p",4),h.vc(24,"\u062e\u0628 \u0634\u0627\u0644\u0627\u067e \u0647\u06cc\u0686 \u0645\u0639\u0646\u06cc \u0646\u062f\u0627\u0631\u062f!!. \u0634\u0627\u0644\u0627\u067e \u06cc\u06a9 \u0622\u0648\u0627 \u0647\u0633\u062a \u06a9\u0647 \u0639\u0628\u0627\u0631\u062a \u0627\u0633\u062a \u0627\u0632 \u0622\u0648\u0627\u06cc\u06cc \u06a9\u0647 \u0647\u0646\u06af\u0627\u0645 \u0627\u0646\u062f\u0627\u062e\u062a\u0646 \u06cc\u06a9 \u0634\u0626 \u062f\u0631 \u0622\u0628 \u0627\u06cc\u062c\u0627\u062f \u0645\u06cc\u0634\u0648\u062f."),h.Rb(),h.Rb(),h.Sb(25,"div",1),h.Sb(26,"p",2),h.Ob(27,"i",3),h.vc(28,"\u0627\u06cc\u0627 \u0634\u0627\u0644\u0627\u067e \u0631\u0627\u06cc\u06af\u0627\u0646 \u0627\u0633\u062a\u061f"),h.Rb(),h.Sb(29,"p",4),h.vc(30,"\u0628\u0644\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632\u0627\u06a9\u062b\u0631 \u0627\u0645\u06a9\u0627\u0646\u0627\u062a \u0634\u0627\u0644\u0627\u067e \u0631\u0627\u06cc\u06af\u0627\u0646 \u0645\u06cc\u0628\u0627\u0634\u062f."),h.Rb(),h.Rb(),h.Sb(31,"div",1),h.Sb(32,"p",2),h.Ob(33,"i",3),h.vc(34,"\u0622\u06cc\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u0645 \u0634\u0627\u0644\u0627\u067e \u0631\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0646\u0635\u0628 \u062f\u0631 \u0645\u062d\u0644 ( On premise ) \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645\u061f"),h.Rb(),h.Sb(35,"p",4),h.vc(36,"\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0645\u0646\u0638\u0648\u0631 \u0628\u0627\u06cc\u062f \u0628\u0627 \u062a\u06cc\u0645 \u0641\u0631\u0648\u0634 \u062a\u0645\u0627\u0633 \u0628\u06af\u06cc\u0631\u06cc\u062f \u0648 \u0645\u062d\u0635\u0648\u0644 sholop for enterprise \u0631\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0645\u0627\u06cc\u06cc\u062f."),h.Rb(),h.Rb(),h.Sb(37,"div",1),h.Sb(38,"p",2),h.Ob(39,"i",3),h.vc(40,"\u0622\u06cc\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u0645 \u0628\u0627 \u062a\u063a\u06cc\u06cc\u0631 \u0634\u0627\u0644\u0627\u067e \u0627\u0646 \u0631\u0627 \u0628\u0641\u0631\u0648\u0634\u0645\u061f"),h.Rb(),h.Sb(41,"p",4),h.vc(42,"\u062e\u06cc\u0631 \u0647\u0645\u0686\u06cc\u0646 \u0627\u0645\u06a9\u0627\u0646\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f \u0648 \u0645\u0627 \u0627\u06cc\u0646 \u062d\u0642 \u0631\u0627 \u062f\u0627\u0631\u06cc\u0645 \u06a9\u0647 \u0628\u0627 \u062a\u0645\u0627\u0645 \u0642\u0648\u062a \u0648 \u0627\u0642\u062a\u062f\u0627\u0631 \u0648 \u0628\u0647 \u0635\u0648\u0631\u062a \u0642\u0627\u0646\u0648\u0646\u06cc \u0631\u0648\u0632\u06af\u0627\u0631 \u0634\u0645\u0627 \u0631\u0627 \u062a\u06cc\u0631\u0647 \u0648 \u062a\u0627\u0631 \u06a9\u0646\u06cc\u0645!!"),h.Rb(),h.Rb(),h.Sb(43,"div",1),h.Sb(44,"p",2),h.Ob(45,"i",3),h.vc(46,"\u0622\u06cc\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u0645 \u062e\u062f\u0645\u0627\u062a \u0634\u0627\u0644\u0627\u067e \u0631\u0627 \u0628\u0641\u0631\u0648\u0634\u0645 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0645\u062b\u0627\u0644 \u0628\u0627 \u0642\u0631\u0627\u0631 \u062f\u0627\u062f\u0646 \u0627\u067e\u0644\u06cc\u06a9\u06cc\u0634\u0646 \u0634\u0627\u0644\u0627\u067e \u062f\u0631 \u0633\u0627\u06cc\u062a \u062e\u0648\u062f\u061f"),h.Rb(),h.Sb(47,"p",4),h.vc(48,"\u062e\u06cc\u0631 \u0645\u06af\u0631 \u0627\u0646\u06a9\u0647 \u0627\u062c\u0627\u0632\u0647 \u0631\u0633\u0645\u06cc \u0627\u0632 \u0645\u062c\u0645\u0648\u0639\u0647 \u0634\u0627\u0644\u0627\u067e \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f."),h.Rb(),h.Rb(),h.Sb(49,"div",1),h.Sb(50,"p",2),h.Ob(51,"i",3),h.vc(52,"\u0622\u06cc\u0627 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u062b\u0628\u062a \u0634\u0631\u06a9\u062a \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0634\u0627\u0644\u0627\u067e \u0627\u0633\u062a\u061f"),h.Rb(),h.Sb(53,"p",4),h.vc(54,"\u062e\u06cc\u0631 \u0647\u0631 \u06a9\u0633\u06cc \u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u0628\u0647 \u0631\u0627\u062d\u062a\u06cc \u0627\u0632 \u0627\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u062f."),h.Rb(),h.Rb(),h.Sb(55,"div",1),h.Sb(56,"p",2),h.Ob(57,"i",3),h.vc(58,"\u0627\u06af\u0631 \u0641\u0631\u062f\u06cc \u062f\u0631 \u0634\u0627\u0644\u0627\u067e \u0627\u0632 \u0627\u0633\u0645 \u0648 \u0639\u0646\u0648\u0627\u0646 \u0645\u0646 \u0633\u0648 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f \u0648 \u0628\u0627 \u0646\u0627\u0645 \u0645\u0646 \u0647\u0645\u0627\u06cc\u0634 \u0628\u0631\u0642\u0631\u0627\u0631 \u06a9\u0631\u062f \u0686\u0647 \u06a9\u0646\u0645\u061f"),h.Rb(),h.Sb(59,"p",4),h.vc(60,"\u0644\u0637\u0641\u0627 \u0628\u0627 \u0645\u0627 \u062a\u0645\u0627\u0633 \u0628\u06af\u06cc\u0631\u06cc\u062f \u0648 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u06a9\u0627\u0645\u0644 \u0631\u0627 \u0628\u0641\u0631\u0645\u0627\u06cc\u06cc\u062f \u0645\u0637\u0645\u0639\u0646 \u0628\u0627\u0634\u06cc\u062f \u062f\u0631 \u0635\u0648\u0631\u062a\u06cc \u06a9\u0647 \u0645\u0634\u06a9\u0644 \u062a\u0634\u0627\u0628\u0647 \u0627\u0633\u0645 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f \u0628\u0627 \u0627\u06cc\u0646 \u0645\u0648\u0627\u0631\u062f \u0628\u0631\u062e\u0648\u0631\u062f \u0645\u06cc\u06a9\u0646\u06cc\u0645."),h.Rb(),h.Rb(),h.Sb(61,"div",1),h.Sb(62,"p",2),h.Ob(63,"i",3),h.vc(64,"\u0622\u06cc\u0627 \u06cc\u06a9 \u06a9\u0627\u0631\u0628\u0631 \u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u0686\u0646\u062f \u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f\u061f"),h.Rb(),h.Sb(65,"p",4),h.vc(66,"\u0628\u0644\u0647."),h.Rb(),h.Rb(),h.Rb())},styles:[""]}),t}(),np=["searchBox"],rp=["address2"],ip=["cropper"],op=["imageCropperModal"],ap=["contactsModal"],sp=["venuesModal"],up=["fileInput"],cp=["addAttendee"];function lp(t,e){1&t&&(h.Sb(0,"div",6),h.Ob(1,"i",22),h.Sb(2,"select",8),h.Sb(3,"option",9),h.vc(4,"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),h.Rb(),h.Sb(5,"option",10),h.vc(6,"\u0633\u0627\u062e\u062a\u0645\u0627\u0646 \u0634\u0645\u0627\u0631\u0647 \u06cc\u06a9"),h.Rb(),h.Sb(7,"option",11),h.vc(8,"\u0633\u0627\u062e\u062a\u0645\u0627\u0646 \u0634\u0645\u0627\u0631\u0647 \u062f\u0648"),h.Rb(),h.Sb(9,"option",12),h.vc(10,"\u0633\u0627\u062e\u062a\u0645\u0627\u0646 \u0634\u0645\u0627\u0631\u0647 \u0633\u0647"),h.Rb(),h.Rb(),h.Rb())}function hp(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",42),h.Sb(1,"div",43),h.Sb(2,"div",44),h.Sb(3,"div",45),h.Ob(4,"img",46),h.Rb(),h.Sb(5,"div",47),h.Sb(6,"div",48),h.vc(7),h.Rb(),h.Sb(8,"div",49),h.Ob(9,"i",50),h.vc(10),h.Rb(),h.Sb(11,"div",49),h.Ob(12,"i",51),h.vc(13),h.Rb(),h.Sb(14,"div"),h.Sb(15,"a",52),h.Zb("click",function(t){h.pc(n);var r=e.index;return h.bc().removeContact(t,r)}),h.vc(16,"\u062d\u0630\u0641"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(4),h.hc("src",r.imageUrl?r.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.wc(r.name),h.Cb(3),h.xc(" ",r.email,""),h.Cb(3),h.xc(" ",r.phone,"")}}function fp(t,e){1&t&&h.Ob(0,"i",53)}var dp=function(){function t(t,e,n,r,i,o,a){this.dataService=t,this.navigationService=e,this.authService=n,this.alertService=r,this.mapsAPILoader=i,this.ngZone=o,this.dateService=a,this.times=[],this.event={userId:-1,attendees:[],venue:new hc,chairId:-1,chair:void 0,eventType:"TOKEN",oneTime:!0},this.submitting=!1}return t.prototype.ngOnInit=function(){this.user=this.authService.getCurrentUser()},t.prototype.validateForm=function(){return!0},t.prototype.onSubmit=function(){var t=this;this.validateForm()&&(this.submitting=!0,this.dataService.postMeeting(this.event).subscribe(function(e){t.submitting=!1,t.navigationService.navigate("/meetings"),t.alertService.success("\u062a\u0648\u06a9\u0646 \u0628\u0627 \u0645\u0648\u0641\u0642\u06cc\u062a \u0627\u06cc\u062c\u0627\u062f \u0634\u062f.")},function(e){console.log(e),t.submitting=!1}))},t.prototype.onImportClick=function(t){this.contactsModal.show(),t.preventDefault()},t.prototype.addContact=function(t){this.addAttendee.reset(),this.addAttendee.show(),t.preventDefault()},t.prototype.removeContact=function(t,e){this.event.attendees.splice(e,1),event.preventDefault()},t.prototype.onContactsSelected=function(t){var e=this;t.forEach(function(t){for(var n=0;n<e.event.attendees.length;n++)if(e.event.attendees[n].id===t.id){e.event.attendees.splice(n,1);break}e.event.attendees.push(t)})},t.prototype.onVenueImportClick=function(t){this.venuesModal.show(),t.preventDefault()},t.prototype.onVenueSelected=function(t){this.event.venue=t},t.prototype.onAttendeeAdded=function(t){this.event.attendees.push(t)},t.prototype.chairSelected=function(t){this.event.userId=t.id,this.event.chair=t},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(Zi),h.Nb(Gi),h.Nb(ri),h.Nb(pl),h.Nb(h.A),h.Nb(Fu))},t.\u0275cmp=h.Hb({type:t,selectors:[["create-meeting"]],viewQuery:function(t,e){if(1&t&&(h.Ac(np,1),h.Ac(rp,1),h.Ac(ip,3),h.Ac(op,3),h.Ac(ap,1),h.Ac(sp,1),h.Ac(up,3),h.Ac(cp,1)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.searchInput=n.first),h.lc(n=h.ac())&&(e.address2=n.first),h.lc(n=h.ac())&&(e.cropper=n.first),h.lc(n=h.ac())&&(e.imageCropperModal=n.first),h.lc(n=h.ac())&&(e.contactsModal=n.first),h.lc(n=h.ac())&&(e.venuesModal=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first),h.lc(n=h.ac())&&(e.addAttendee=n.first)}},decls:70,vars:14,consts:[[1,"h-100","overflow-auto"],[1,"text-right","bg-white","p-3"],[1,"row"],[1,"col-md-6"],[1,"box"],[1,"font-weight-bold"],[1,"frame","flexbox-parent-row"],[1,"ml-3","icon","fa","fa-clock-o"],[1,"flexbox-item-grow"],["value","0"],["value","1"],["value","2"],["value","3"],["value","7"],["value","30"],["value","-1"],[1,"col-md-6","text-left"],[1,"custom-control","custom-checkbox","p-2"],["type","checkbox","id","oneTime",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","oneTime",1,"custom-control-label"],[1,""],["class","frame flexbox-parent-row",4,"ngIf"],[1,"ml-3","icon","fa","fa-map-marker"],["type","text","size","80","autocomplete","off","name","address_1","placeholder","\u0634\u0647\u0631\u060c\u200c \u062e\u06cc\u0627\u0628\u0627\u0646",1,"flexbox-item-grow",3,"ngModel","ngModelChange"],["searchBox",""],[1,"mr-3","icon","input-button","fa","fa-search",3,"click"],["type","text","name","address_2","placeholder","\u06a9\u0648\u0686\u0647\u060c\u200c \u067e\u0644\u0627\u06a9\u060c \u0648\u0627\u062d\u062f",1,"flexbox-item-grow",3,"ngModel","ngModelChange"],["address2",""],[3,"onSelected"],["venuesModal",""],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"markerDraggable","latitude","longitude"],["type","text","placeholder","\u0646\u0627\u0645\u060c \u0622\u062f\u0631\u0633 \u0627\u06cc\u0645\u06cc\u0644\u060c ... ",1,"flexbox-item-grow"],[1,"mr-3","input-button","fa","fa-user-plus",3,"click"],[1,"mr-3","input-button","fa","fa-address-book",3,"click"],["class","col-md-6 contact p-2 ",4,"ngFor","ngForOf"],[3,"onAttendeeAdded"],["addAttendee",""],["contactsModal",""],[1,"text-right"],["type","button",1,"primary",3,"disabled","click"],["class","fa fa-refresh fa-spin",4,"ngIf"],[1,"col-md-6","contact","p-2"],[1,"contact-border"],[1,"row","p-2"],[1,"col","text-right"],[1,"rounded-circle","contact-image",3,"src"],[1,"col-8","text-right"],[1,"font-noraml","font-weight-bold"],[1,"text-muted"],[1,"fa","fa-envelope"],[1,"fa","fa-phone"],["href","#",3,"click"],[1,"fa","fa-refresh","fa-spin"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Sb(4,"div",4),h.Sb(5,"label",5),h.vc(6,"\u0627\u0639\u062a\u0628\u0627\u0631 \u0627\u062c\u0627\u0632\u0647 \u0648\u0631\u0648\u062f"),h.Rb(),h.Sb(7,"div",6),h.Ob(8,"i",7),h.Sb(9,"select",8),h.Sb(10,"option",9),h.vc(11,"\u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u062f"),h.Rb(),h.Sb(12,"option",10),h.vc(13,"\u062a\u0627 \u0622\u062e\u0631 \u0627\u0645\u0631\u0648\u0632"),h.Rb(),h.Sb(14,"option",11),h.vc(15,"\u062f\u0648 \u0631\u0648\u0632"),h.Rb(),h.Sb(16,"option",12),h.vc(17,"\u0633\u0647 \u0631\u0648\u0632"),h.Rb(),h.Sb(18,"option",13),h.vc(19,"\u06cc\u06a9 \u0647\u0641\u062a\u0647"),h.Rb(),h.Sb(20,"option",14),h.vc(21,"\u06cc\u06a9 \u0645\u0627\u0647"),h.Rb(),h.Sb(22,"option",15),h.vc(23,"\u0647\u0645\u06cc\u0634\u0647"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(24,"div",16),h.Sb(25,"div",4),h.Sb(26,"label",5),h.vc(27,"\xa0"),h.Rb(),h.Sb(28,"div",17),h.Sb(29,"input",18),h.Zb("ngModelChange",function(t){return e.event.oneTime=t}),h.Rb(),h.Sb(30,"label",19),h.vc(31,"\u0645\u062c\u0648\u0632 \u06cc\u06a9 \u0628\u0627\u0631 \u0645\u0635\u0631\u0641 \u0627\u0633\u062a"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(32,"div",4),h.Sb(33,"div",20),h.Sb(34,"label",5),h.vc(35,"\u0645\u062d\u0644 \u0645\u0644\u0627\u0642\u0627\u062a"),h.Rb(),h.tc(36,lp,11,0,"div",21),h.Sb(37,"div",6),h.Ob(38,"i",22),h.Sb(39,"input",23,24),h.Zb("ngModelChange",function(t){return e.event.venue.farsiAddress1=t}),h.Rb(),h.Sb(41,"i",25),h.Zb("click",function(t){return e.onVenueImportClick(t)}),h.Rb(),h.Rb(),h.Sb(42,"div",6),h.Ob(43,"i",22),h.Sb(44,"input",26,27),h.Zb("ngModelChange",function(t){return e.event.venue.farsiAddress2=t}),h.Rb(),h.Rb(),h.Sb(46,"venues-modal",28,29),h.Zb("onSelected",function(t){return e.onVenueSelected(t)}),h.Rb(),h.Rb(),h.Sb(48,"agm-map",30),h.Ob(49,"agm-marker",31),h.Rb(),h.Rb(),h.Sb(50,"div",4),h.Sb(51,"div"),h.Sb(52,"label",5),h.vc(53,"\u0645\u06cc\u0647\u0645\u0627\u0646\u0627\u0646"),h.Rb(),h.Sb(54,"div",6),h.Ob(55,"i",22),h.Ob(56,"input",32),h.Sb(57,"i",33),h.Zb("click",function(t){return e.addContact(t)}),h.Rb(),h.Sb(58,"i",34),h.Zb("click",function(t){return e.onImportClick(t)}),h.Rb(),h.Rb(),h.Rb(),h.Sb(59,"div"),h.Sb(60,"div",2),h.tc(61,hp,17,4,"div",35),h.Rb(),h.Rb(),h.Sb(62,"add-attendee",36,37),h.Zb("onAttendeeAdded",function(t){return e.onAttendeeAdded(t)}),h.Rb(),h.Sb(64,"contacts-modal",28,38),h.Zb("onSelected",function(t){return e.onContactsSelected(t)}),h.Rb(),h.Rb(),h.Sb(66,"div",39),h.Sb(67,"button",40),h.Zb("click",function(){return e.onSubmit()}),h.vc(68,"\u0635\u062f\u0648\u0631 \u0627\u062c\u0627\u0632\u0647 \u0648\u0631\u0648\u062f"),h.tc(69,fp,1,0,"i",41),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(29),h.hc("ngModel",e.event.oneTime),h.Cb(7),h.hc("ngIf",!1),h.Cb(3),h.hc("ngModel",e.event.venue.farsiAddress1),h.Cb(5),h.hc("ngModel",e.event.venue.farsiAddress2),h.Cb(4),h.hc("latitude",e.event.venue.latitude)("longitude",e.event.venue.longitude)("scrollwheel",!0)("zoom",e.zoom),h.Cb(1),h.hc("markerDraggable",!1)("latitude",e.event.venue.latitude)("longitude",e.event.venue.longitude),h.Cb(12),h.hc("ngForOf",e.event.attendees),h.Cb(6),h.hc("disabled",e.submitting),h.Cb(2),h.hc("ngIf",e.submitting))},directives:[$s,ru,ka,os,Bs,l.k,Ma,Xf,Dl,Ll,l.j,_f,Pf],styles:[".map[_ngcontent-%COMP%]{height:100px}.edit-step-button[_ngcontent-%COMP%]:hover{color:#deb887}.edit-step-button[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border:1px solid #eee;background:#eee}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{border:1px solid transparent;background:#f6f6f6;padding:5px}.icon[_ngcontent-%COMP%]{padding:5px}.frame[_ngcontent-%COMP%]{margin-bottom:5px}.box[_ngcontent-%COMP%]{padding:10px}"]}),t}(),pp=["childModal"],gp=["comments"];function vp(t,e){if(1&t&&(h.Sb(0,"span"),h.vc(1),h.Rb()),2&t){var n=h.bc(2);h.Cb(1),h.xc(" \u0627\u0632 ",n.commonService.convertTimeString(n.event.fromDate),"")}}function mp(t,e){if(1&t&&(h.Sb(0,"span"),h.vc(1),h.Rb()),2&t){var n=h.bc(2);h.Cb(1),h.xc(" \u062a\u0627 ",n.commonService.convertTimeString(n.event.toDate),"")}}function yp(t,e){if(1&t&&(h.Sb(0,"tr",21),h.Sb(1,"td",22),h.Ob(2,"img",23),h.Rb(),h.Sb(3,"td"),h.Sb(4,"div"),h.vc(5),h.Rb(),h.Sb(6,"div",24),h.vc(7,"\u0645\u06cc\u0632\u0628\u0627\u0646"),h.Rb(),h.Rb(),h.Ob(8,"td"),h.Rb()),2&t){var n=h.bc(3);h.Cb(2),h.hc("src",n.event.chair.imageUrl?n.event.chair.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.wc(n.event.chair.name)}}function bp(t,e){if(1&t&&(h.Sb(0,"tr",21),h.Sb(1,"td",22),h.Ob(2,"img",23),h.Rb(),h.Sb(3,"td"),h.vc(4),h.Rb(),h.Sb(5,"td",25),h.Ob(6,"i"),h.vc(7),h.Rb(),h.Rb()),2&t){var n=e.$implicit;h.Cb(2),h.hc("src",n.imageUrl?n.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(2),h.wc(n.name),h.Cb(1),h.sc("color",n.status.color),h.Cb(1),h.Eb("fa "+n.status.class),h.Cb(1),h.xc(" ",n.status.text," ")}}function wp(t,e){if(1&t&&(h.Sb(0,"div",17),h.Sb(1,"table",18),h.tc(2,yp,9,2,"tr",19),h.tc(3,bp,8,7,"tr",20),h.Rb(),h.Rb()),2&t){var n=h.bc(2);h.Cb(2),h.hc("ngIf",n.event.chair),h.Cb(1),h.hc("ngForOf",n.event.attendees)}}function _p(t,e){if(1&t&&(h.Sb(0,"div"),h.Sb(1,"h5",8),h.vc(2),h.Rb(),h.Sb(3,"div",9),h.Ob(4,"i",10),h.Sb(5,"span"),h.vc(6),h.Rb(),h.tc(7,vp,2,1,"span",3),h.tc(8,mp,2,1,"span",3),h.Rb(),h.tc(9,wp,4,2,"div",11),h.Sb(10,"div",12),h.Ob(11,"i",13),h.Sb(12,"span",14),h.vc(13),h.Rb(),h.Rb(),h.Sb(14,"agm-map",15),h.Ob(15,"agm-marker",16),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(2),h.wc(n.event.title),h.Cb(4),h.xc(" ",n.dateService.greToPersian(n.event.pointedDate.date,!0)," "),h.Cb(1),h.hc("ngIf",n.event.fromDate),h.Cb(1),h.hc("ngIf",n.event.toDate),h.Cb(1),h.hc("ngIf",n.event.attendees.length>0),h.Cb(4),h.wc(n.event.venue?n.event.venue.farsiAddress1:""),h.Cb(1),h.hc("latitude",n.event.venue.latitude)("longitude",n.event.venue.longitude)("scrollwheel",!1)("zoom",12),h.Cb(1),h.hc("latitude",n.event.venue.latitude)("longitude",n.event.venue.longitude)}}var Cp=function(){function t(t,e,n){this.dateService=t,this.commonService=e,this.navigationService=n}return t.prototype.show=function(){this.childModal.show()},t.prototype.hide=function(){this.childModal.hide()},t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){var e=this;this.event&&t.event.previousValue!==t.event.currentValue&&this.event.attendees.forEach(function(t){t.status=e.getContactStatus(t.id)})},t.prototype.getContactStatus=function(t){var e=this.event.contactEvents.find(function(e){return e.contactId===t}),n="";return e&&(n=e.status),this.commonService.getContactStatus(n)},t.prototype.goTo=function(t){this.navigationService.navigate(t,this.event.id)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(q),h.Nb(Zi))},t.\u0275cmp=h.Hb({type:t,selectors:[["token-item-modal"]],viewQuery:function(t,e){if(1&t&&(h.Ac(pp,3),h.Ac(gp,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.childModal=n.first),h.lc(n=h.ac())&&(e.comments=n.first)}},inputs:{event:"event"},features:[h.Ab],decls:14,vars:4,consts:[[3,"modalTitle","size","zIndex"],["childModal",""],[1,"app-modal-body"],[4,"ngIf"],[1,"app-modal-footer"],[1,"btn","ml-2","primary",3,"click"],[1,"fa","fa-external-link"],[1,"btn","secondary",3,"click"],[1,"text-center"],[1,"panel","text-center","font-weight-bold","mb-3"],[1,"fa","fa-calendar","ml-2"],["class","table-responsive",4,"ngIf"],[1,"text-right","mb-1"],[1,"fa","fa-map-marker","ml-2"],[1,""],[1,"map",3,"latitude","longitude","scrollwheel","zoom"],[3,"latitude","longitude"],[1,"table-responsive"],[1,"table","table-striped","text-right"],["class","col-md-6",4,"ngIf"],["class","col-md-6",4,"ngFor","ngForOf"],[1,"col-md-6"],[1,"panel","text-right","contact-image-td"],[1,"rounded-circle","contact-image",3,"src"],[1,"text-muted"],[1,"text-left"]],template:function(t,e){1&t&&(h.Sb(0,"modal",0,1),h.Qb(2,2),h.tc(3,_p,16,12,"div",3),h.Pb(),h.vc(4,"> "),h.Qb(5,4),h.Sb(6,"button",5),h.Zb("click",function(){return e.goTo("/edit-token")}),h.vc(7," \u0648\u06cc\u0631\u0627\u06cc\u0634 "),h.Rb(),h.Sb(8,"button",5),h.Zb("click",function(){return e.goTo("/token")}),h.Ob(9,"i",6),h.vc(10," \u0635\u0641\u062d\u0647 \u062c\u0644\u0633\u0647 "),h.Rb(),h.Sb(11,"button",7),h.Zb("click",function(){return e.hide()}),h.vc(12," \u0628\u0633\u062a\u0646 "),h.Rb(),h.Pb(),h.vc(13,">\n"),h.Rb()),2&t&&(h.hc("modalTitle","\u0645\u062c\u0648\u0632 \u0648\u0631\u0648\u062f")("size","md")("zIndex",11),h.Cb(3),h.hc("ngIf",e.event))},directives:[wa,l.k,Dl,Ll,l.j],styles:[".contact-image[_ngcontent-%COMP%]:first-child{margin-left:0}.contact-image-td[_ngcontent-%COMP%]{width:50px}.contact-image[_ngcontent-%COMP%]{width:35px;height:35px}.meeting-item[_ngcontent-%COMP%]{cursor:pointer}.meeting-item[_ngcontent-%COMP%]:hover{background:#f5f5f5}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.map[_ngcontent-%COMP%]{height:150px}"]}),t}();function Sp(t,e){if(1&t&&(h.Sb(0,"div",11),h.Ob(1,"img",12),h.Rb()),2&t){var n=e.$implicit;h.Cb(1),h.hc("src",n.imageUrl?n.imageUrl:"../assets/images/user-placeholder.png",h.qc)}}function Ep(t,e){if(1&t&&(h.Sb(0,"span",13),h.Sb(1,"span"),h.vc(2," \u0627\u0632 "),h.Rb(),h.Sb(3,"span"),h.vc(4),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(4),h.wc(n.dateService.greToPersian(n.event.fromDate))}}function Op(t,e){if(1&t&&(h.Sb(0,"span",13),h.Sb(1,"span"),h.vc(2," \u062a\u0627 "),h.Rb(),h.Sb(3,"span"),h.vc(4),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(4),h.wc(n.dateService.greToPersian(n.event.toDate))}}var Ap=function(){function t(t,e,n,r){this.dateService=t,this.commonService=e,this.dataService=n,this.authService=r,this.clicked=new h.n}return t.prototype.ngOnInit=function(){1===this.event.attendees.length?this.attendeesString=this.event.attendees[0].name:2===this.event.attendees.length?this.attendeesString=this.event.attendees[0].name+"\u060c "+this.event.attendees[1].name:this.event.attendees.length>2&&(this.attendeesString=this.event.attendees[0].name+" \u0648 "+(this.event.attendees.length-1)+" \u0645\u06cc\u0647\u0645\u0627\u0646 \u062f\u06cc\u06af\u0631"),this.user=this.authService.getCurrentUser()},t.prototype.onClicked=function(t,e){this.clicked.emit(e)},t.prototype.updateAttendingStatus=function(t,e){var n=this;this.dataService.updateContactStatus(t,e).subscribe(function(t){"OK"===t.msg&&(n.event.contactEvent=t.object,n.event.attendees.forEach(function(t){t.email===n.user.username&&(t.status=n.commonService.getContactStatus(n.event.contactEvent.status))}))},function(t){console.log(t)})},t.\u0275fac=function(e){return new(e||t)(h.Nb(Fu),h.Nb(q),h.Nb(Iu),h.Nb(Gi))},t.\u0275cmp=h.Hb({type:t,selectors:[["token-item"]],inputs:{event:"event"},outputs:{clicked:"clicked"},decls:15,vars:9,consts:[[1,""],[3,"click"],[1,"p-2"],[1,"row"],[1,"col-md-4"],[1,"panel","text-right"],["class","contact-image-container ",4,"ngFor","ngForOf"],[1,"mr-2"],[1,"col-6","meeting-time","text-right"],[1,"fa","fa-clock-o","ml-3"],["class","meeting-time",4,"ngIf"],[1,"contact-image-container"],[1,"contact-image","rounded-circle","shadow",3,"src"],[1,"meeting-time"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Zb("click",function(t){return e.onClicked(t,e.event)}),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Sb(4,"div",4),h.Sb(5,"div",5),h.tc(6,Sp,2,1,"div",6),h.Sb(7,"span",7),h.vc(8),h.Rb(),h.Rb(),h.Rb(),h.Sb(9,"div",8),h.Ob(10,"i",9),h.tc(11,Ep,5,1,"span",10),h.tc(12,Op,5,1,"span",10),h.Rb(),h.Sb(13,"div"),h.vc(14),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(1),h.Eb("meeting-item  "+e.event.status),h.Cb(5),h.hc("ngForOf",e.event.attendees),h.Cb(2),h.xc(" ",e.attendeesString," "),h.Cb(3),h.hc("ngIf",e.event.fromDate),h.Cb(1),h.hc("ngIf",e.event.toDate),h.Cb(1),h.Eb("col-md-2 "),h.Cb(1),h.xc(" ",e.commonService.getEventStatus(e.event.status).text," "))},directives:[l.j,l.k],styles:[".contact-image-container[_ngcontent-%COMP%]:first-child{margin-right:0}.contact-image-container[_ngcontent-%COMP%]{display:inline-block;margin-right:-20px;color:#fff}.contact-image[_ngcontent-%COMP%]{width:40px;height:40px}.meeting-item[_ngcontent-%COMP%]{cursor:pointer;font-size:16px;line-height:2;padding:5px 15px;color:#161a1e;background:#fff;border-bottom-color:#9da3a6}.meeting-tool[_ngcontent-%COMP%]:hover{color:#fff}.meeting-tool[_ngcontent-%COMP%]{color:grey;border-radius:50%}.dropdown-item[_ngcontent-%COMP%], .meeting-tool[_ngcontent-%COMP%]{cursor:pointer}.meeting-time[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{font-size:20px}.meeting-item.CANCELLED[_ngcontent-%COMP%], .meeting-item.DONE[_ngcontent-%COMP%]{opacity:.4}.meeting-item[_ngcontent-%COMP%]:hover{opacity:1!important;background-color:rgba(0,112,186,.1);left:-.75rem;top:0;height:100%;width:calc(100% + 1.5rem);z-index:-1;border-left:3px solid #0070ba;transition:all .5s linear}@-webkit-keyframes meeting-item-hover{0%{margin-left:0;margin-right:0}to{margin-left:-.5%;margin-right:-.5%}}@keyframes meeting-item-hover{0%{margin-left:0;margin-right:0}to{margin-left:-.5%;margin-right:-.5%}}"]}),t}(),Ip=["spinner"],kp=["tokenModal"];function Rp(t,e){1&t&&(h.Sb(0,"div",8),h.Sb(1,"object",9),h.Ob(2,"param",10),h.Rb(),h.Rb())}function Tp(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",11),h.Sb(1,"token-item",12),h.Zb("clicked",function(t){return h.pc(n),h.bc().onTokenClick(t)}),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(1),h.hc("event",r)}}var Mp,Np=function(){function t(t,e){this.dataService=t,this.dateService=e,this.tokens=[],this.loading=!1,this.selectedToken=void 0}return t.prototype.ngOnInit=function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),t.getDate());this.onDateChanged(e)},t.prototype.readTokenss=function(t){var e=this;this.tokens=[],this.loading=!0,this.dataService.getTokens(t).subscribe(function(t){t.object.forEach(function(t){e.tokens.push(t)}),e.loading=!1},function(t){console.log(t),e.loading=!1})},t.prototype.onDateChanged=function(t){this.tokens=[],this.readDummyTokens(t),this.selectedDate=t},t.prototype.onTokenClick=function(t){this.selectedToken=t,this.tokenModal.show()},t.prototype.readDummyTokens=function(t){var e=this;this.loading=!0,setTimeout(function(){e.loading=!1,e.tokens=Ah.TOKENS},1500)},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(Fu))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-tokens"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Ip,3),h.Ac(kp,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.tokenModal=n.first)}},decls:8,vars:4,consts:[[3,"event"],["tokenModal",""],[1,"token-container","p-3"],["type","text","placeholder","\u062c\u0633\u062a\u062c\u0648 \u0628\u0627 \u0627\u06cc\u0645\u06cc\u0644\u060c \u0646\u0627\u0645 \u0648 ... ",1,"mb-2","search-input"],["class","text-center owl-container",4,"ngIf"],[3,"showing"],["spinner",""],["class","token-item",4,"ngFor","ngForOf"],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(Mp||(e=["../../assets/images/owl-old/owl.svg"],n=["../../assets/images/owl-old/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,Mp=e)),1,"w-75","owl"],["name","class","value","look-around"],[1,"token-item"],[1,"mt-2",3,"event","clicked"]],template:function(t,e){1&t&&(h.Ob(0,"token-item-modal",0,1),h.Sb(2,"div",2),h.Ob(3,"input",3),h.tc(4,Rp,3,0,"div",4),h.Ob(5,"spinner",5,6),h.tc(7,Tp,2,1,"div",7),h.Rb()),2&t&&(h.hc("event",e.selectedToken),h.Cb(4),h.hc("ngIf",!(e.loading||e.tokens&&0!==e.tokens.length)),h.Cb(1),h.hc("showing",e.loading),h.Cb(2),h.hc("ngForOf",e.tokens))},directives:[Cp,l.k,Zc,l.j,Ap],styles:[".date-title-container[_ngcontent-%COMP%]{margin-bottom:10px;background:#fff;background:linear-gradient(90deg,hsla(0,0%,100%,0),#fff 50%,hsla(0,0%,100%,0))}.date-title[_ngcontent-%COMP%]{padding:5px 15px;background:transparent}.owl[_ngcontent-%COMP%]{max-height:250px}.token-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px dotted #9da3a6}.search-input[_ngcontent-%COMP%]{font-size:17px}"]}),t;var e,n}(),Pp=["childModal"],Dp=["cropper"],xp=["imageCropperModal"],Lp=["fileInput"],Bp=["spinner"],Fp=["emailField"],jp=["nameField"],Up=["phoneField"],Vp=function(t){return{"is-invalid":t}},Hp=function(){function t(t,e){this.dataService=t,this.alertService=e,this.onEmployeeAdded=new h.n,this.index=-1,this.employee={name:"",email:"",phone:"",imageUrl:"",image:File,id:-1,fileName:"",role:""},this.submitted=!1,this.imageChangedEvent=""}return t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.modal.show()},t.prototype.hide=function(){this.modal.hide()},t.prototype.setContact=function(t,e){t=Object.assign({},t),this.employee=t,this.index=e},t.prototype.reset=function(){this.employee={name:"",email:"",phone:"",imageUrl:null,image:null,id:-1,fileName:"",role:"user"}},t.prototype.fileChanged=function(t){var e=t.target.files[0];e&&(this.imageCropperModal.show(),this.imageChangedEvent=t,this.employee.fileName=e.name)},t.prototype.onImageClick=function(){this.fileInput.nativeElement.click()},t.prototype.validateForm=function(){return this.nameField.valid&&this.emailField.valid&&this.phoneField.valid},t.prototype.createEmployee=function(){var t=this;this.submitted=!0,this.validateForm()&&(this.modal.hide(),this.employee.username=this.employee.email,this.dataService.updateEmployee(this.employee).subscribe(function(e){"USER_EXISTS"===e.msg?t.alertService.error("\u06a9\u0627\u0631\u0628\u0631\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0627\u06cc\u0645\u06cc\u0644 \u062b\u0628\u062a \u0634\u062f\u0647 \u0627\u0633\u062a."):t.onEmployeeAdded.emit(e.object)},function(e){console.log(e),t.modal.show(),t.alertService.error(e.toString())}))},t.prototype.onImageCropperModalOk=function(){this.imageCropperModal.hide()},t.prototype.imageCropped=function(t){this.employee.imageUrl=t.base64},t.prototype.loadImageFailed=function(){console.log("failed")},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(ri))},t.\u0275cmp=h.Hb({type:t,selectors:[["add-employee"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Pp,3),h.Ac(Dp,3),h.Ac(xp,3),h.Ac(Lp,3),h.Ac(Bp,3),h.Ac(Fp,3),h.Ac(jp,3),h.Ac(Up,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.modal=n.first),h.lc(n=h.ac())&&(e.cropper=n.first),h.lc(n=h.ac())&&(e.imageCropperModal=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first),h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.emailField=n.first),h.lc(n=h.ac())&&(e.nameField=n.first),h.lc(n=h.ac())&&(e.phoneField=n.first)}},inputs:{index:"index",employee:"employee"},outputs:{onEmployeeAdded:"onEmployeeAdded"},decls:56,vars:27,consts:[[3,"modalTitle","size","zIndex"],["childModal",""],[1,"app-modal-body"],[1,""],[1,"col-sm-12","m-2","text-center"],[1,"rounded-circle","contact-image",3,"src","click"],[1,"text-muted"],["type","file","id","inputGroupFile01","aria-describedby","inputGroupFileAddon01",1,"custom-file-input",3,"change"],["fileInput",""],[1,"text-right"],["type","text","name","name","required","","placeholder","\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644",1,"",3,"ngClass","ngModel","ngModelChange"],["nameField","ngModel"],["type","text","name","email","pattern","^\\S*[@]\\S*[.]\\S*$","email","","required","","placeholder","ali@gmail.com",1,"ltr",3,"ngClass","ngModel","email","ngModelChange"],["emailField","ngModel"],["type","text","name","phone","pattern","^[0-9]{7,13}$","placeholder","0912XXXXXXXX",1,"ltr",3,"ngClass","ngModel","ngModelChange"],["phoneField","ngModel"],[1,"row"],[1,"custom-control","custom-radio","col-md-4",3,"click"],["type","radio","value","user","id","user-radio-button","name","role",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","user-radio-button",1,"custom-control-label"],["type","radio","value","reception","id","reception-radio-button","name","role",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","reception-radio-button",1,"custom-control-label"],["type","radio","value","owner","id","manager-radio-button","name","role",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","manager-radio-button",1,"custom-control-label"],[1,"app-modal-footer"],["type","button",1,"btn","primary","ml-2",3,"click"],["type","button",1,"btn","secondary",3,"click"],[3,"modalTitle","zIndex","size","maximizable"],["imageCropperModal",""],[1,"text-center"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","loadImageFailed"],["cropper",""],["type","button",1,"btn","primary",3,"click"]],template:function(t,e){if(1&t&&(h.Sb(0,"modal",0,1),h.Qb(2,2),h.Sb(3,"div",3),h.Sb(4,"div",4),h.Sb(5,"img",5),h.Zb("click",function(){return e.onImageClick()}),h.Rb(),h.Sb(6,"div"),h.Sb(7,"small",6),h.vc(8,"\u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(9,"input",7,8),h.Zb("change",function(t){return e.fileChanged(t)}),h.Rb(),h.Sb(11,"div",3),h.Sb(12,"label",9),h.vc(13,"\u0646\u0627\u0645"),h.Rb(),h.Sb(14,"input",10,11),h.Zb("ngModelChange",function(t){return e.employee.name=t}),h.Rb(),h.Rb(),h.Sb(16,"div",3),h.Sb(17,"label",9),h.vc(18,"\u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Sb(19,"input",12,13),h.Zb("ngModelChange",function(t){return e.employee.email=t}),h.Rb(),h.Rb(),h.Sb(21,"div",3),h.Sb(22,"label",9),h.vc(23,"\u062a\u0644\u0641\u0646"),h.Rb(),h.Sb(24,"input",14,15),h.Zb("ngModelChange",function(t){return e.employee.phone=t}),h.Rb(),h.Rb(),h.Sb(26,"label",9),h.vc(27,"\u0633\u0637\u062d \u062f\u0633\u062a\u0631\u0633\u06cc"),h.Rb(),h.Sb(28,"div",16),h.Sb(29,"div",17),h.Zb("click",function(){return e.employee.role="user"}),h.Sb(30,"input",18),h.Zb("ngModelChange",function(t){return e.employee.role=t}),h.Rb(),h.Sb(31,"label",19),h.vc(32,"\u06a9\u0627\u0631\u0628\u0631"),h.Rb(),h.Rb(),h.Sb(33,"div",17),h.Zb("click",function(){return e.employee.role="reception"}),h.Sb(34,"input",20),h.Zb("ngModelChange",function(t){return e.employee.role=t}),h.Rb(),h.Sb(35,"label",21),h.vc(36,"\u067e\u0630\u06cc\u0631\u0634"),h.Rb(),h.Rb(),h.Sb(37,"div",17),h.Zb("click",function(){return e.employee.role="owner"}),h.Sb(38,"input",22),h.Zb("ngModelChange",function(t){return e.employee.role=t}),h.Rb(),h.Sb(39,"label",23),h.vc(40,"\u0645\u062f\u06cc\u0631"),h.Rb(),h.Rb(),h.Rb(),h.Pb(),h.Qb(41,24),h.Sb(42,"button",25),h.Zb("click",function(){return e.createEmployee()}),h.vc(43,"\u0630\u062e\u06cc\u0631\u0647"),h.Rb(),h.Sb(44,"button",26),h.Zb("click",function(){return e.hide()}),h.vc(45,"\u0644\u063a\u0648"),h.Rb(),h.Pb(),h.Rb(),h.Sb(46,"modal",27,28),h.Qb(48,2),h.Sb(49,"div",29),h.Sb(50,"image-cropper",30,31),h.Zb("imageCropped",function(t){return e.imageCropped(t)})("loadImageFailed",function(){return e.loadImageFailed()}),h.Rb(),h.Rb(),h.Pb(),h.Qb(52,24),h.Sb(53,"div",9),h.Sb(54,"button",32),h.Zb("click",function(){return e.onImageCropperModalOk()}),h.vc(55,"\u062e\u0648\u0628\u0647"),h.Rb(),h.Rb(),h.Pb(),h.Rb()),2&t){var n=h.mc(15),r=h.mc(20),i=h.mc(25);h.hc("modalTitle","\u062b\u0628\u062a \u06a9\u0627\u0631\u0645\u0646\u062f \u062c\u062f\u06cc\u062f")("size","sm")("zIndex",11),h.Cb(5),h.hc("src",e.employee.imageUrl?e.employee.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(9),h.hc("ngClass",h.jc(21,Vp,!n.valid&&(n.touched||n.dirty||e.submitted)))("ngModel",e.employee.name),h.Cb(5),h.hc("ngClass",h.jc(23,Vp,!r.valid&&(r.touched||r.dirty||e.submitted)))("ngModel",e.employee.email)("email",!0),h.Cb(5),h.hc("ngClass",h.jc(25,Vp,!i.valid&&(i.touched||i.dirty||e.submitted)))("ngModel",e.employee.phone),h.Cb(6),h.hc("ngModel",e.employee.role),h.Cb(4),h.hc("ngModel",e.employee.role),h.Cb(4),h.hc("ngModel",e.employee.role),h.Cb(8),h.hc("modalTitle","\u0627\u0646\u062f\u0627\u0632\u0647 \u0639\u06a9\u0633")("zIndex",11)("size","auto")("maximizable",!0),h.Cb(4),h.hc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)}},directives:[wa,Ma,ou,l.i,os,Bs,cu,su,zs,Ic],styles:[".contact-image[_ngcontent-%COMP%]{width:150px;height:150px}"]}),t}(),Wp=["spinner"],zp=["confirm"],Gp=["editEmployee"],Xp=["fileInput"];function Zp(t,e){1&t&&h.Ob(0,"i",48)}function qp(t,e){1&t&&h.Ob(0,"i",49)}function Yp(t,e){1&t&&h.Ob(0,"i",50)}function Kp(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",33),h.Sb(1,"div",34),h.Sb(2,"div",35),h.Sb(3,"div",36),h.Ob(4,"img",37),h.Rb(),h.Sb(5,"div",38),h.Sb(6,"div",39),h.tc(7,Zp,1,0,"i",40),h.tc(8,qp,1,0,"i",41),h.tc(9,Yp,1,0,"i",42),h.vc(10),h.Rb(),h.Sb(11,"div",43),h.Ob(12,"i",44),h.vc(13),h.Rb(),h.Sb(14,"div",43),h.Ob(15,"i",45),h.vc(16),h.Rb(),h.Sb(17,"div"),h.Sb(18,"a",46),h.Zb("click",function(){h.pc(n);var t=e.$implicit,r=e.index;return h.bc().onEditContact(t,r)}),h.vc(19,"\u0648\u06cc\u0631\u0627\u06cc\u0634 "),h.Rb(),h.Sb(20,"a",47),h.Zb("click",function(t){h.pc(n);var r=e.$implicit,i=e.index;return h.bc().onDeleteUser(r.id,i,t)}),h.vc(21,"\u062d\u0630\u0641 "),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(4),h.hc("src",r.imageUrl?r.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.hc("ngIf","owner"===r.role),h.Cb(1),h.hc("ngIf","reception"===r.role),h.Cb(1),h.hc("ngIf","user"===r.role),h.Cb(1),h.xc(" ",r.name," "),h.Cb(3),h.xc(" ",r.email,""),h.Cb(3),h.xc(" ",r.phone,"")}}function Qp(t,e){if(1&t&&(h.Sb(0,"div",51),h.Sb(1,"div",52),h.Ob(2,"img",53),h.Sb(3,"span",54),h.vc(4),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(2),h.hc("src",n.deletingContact.imageUrl?n.deletingContact.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(2),h.wc(n.deletingContact.name)}}function Jp(t,e){1&t&&(h.Sb(0,"div",55),h.Sb(1,"object",56),h.Ob(2,"param",57),h.Rb(),h.Sb(3,"div",58),h.vc(4,"\u0647\u06cc\u0686\u06cc \u067e\u06cc\u062f\u0627 \u0646\u06a9\u0631\u062f\u0645"),h.Rb(),h.Rb())}var $p,tg=function(){function t(t,e,n){this.dataService=t,this.commonService=e,this.route=n,this.employees=[],this.loading=!1,this.searchString="",this.role=""}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.role=e.role,t.readContacts("",e.role)})},t.prototype.readContacts=function(t,e){var n=this;this.loading=!0,this.dataService.getEmployees(t,e).subscribe(function(t){"OK"===t.msg&&(n.employees=[],t.object.forEach(function(t){n.employees.push(t)})),n.loading=!1},function(t){console.log(t),n.loading=!1})},t.prototype.deleteConfirmed=function(t){var e=this;this.dataService.deleteEmployee(t.id).subscribe(function(n){e.employees.splice(t.index,1)},function(t){console.log(t)})},t.prototype.onEmployeeAdded=function(t){var e=this.employees.find(function(e){return e.id===t.id});if(e){var n=this.employees.indexOf(e);this.employees.splice(n,1),this.employees.splice(n,0,t)}else this.employees.push(t)},t.prototype.onDeleteUser=function(t,e,n){n.preventDefault(),this.deletingContact=this.employees[e],this.confirm.setObject({id:t,index:e}),this.confirm.show()},t.prototype.onEditContact=function(t,e){event.preventDefault(),this.addEmployee.setContact(t,e),this.addEmployee.show()},t.prototype.onKeyUp=function(t){this.readContacts(this.searchString,this.role)},t.prototype.onUploadFileClick=function(t){t.preventDefault(),this.fileInput.nativeElement.click()},t.prototype.fileChanged=function(t){},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(q),h.Nb(an))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-employees"]],viewQuery:function(t,e){if(1&t&&(h.Ac(Wp,3),h.Ac(zp,3),h.Ac(Gp,3),h.Ac(Xp,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.confirm=n.first),h.lc(n=h.ac())&&(e.addEmployee=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first)}},decls:44,vars:8,consts:[[1,"p-3"],[1,"w-100","overflow-visible"],[1,"row","mb-1"],[1,"col-md-4","mb-1"],["type","button",1,"btn","secondary","w-100",3,"click"],[1,"fa","fa-user-plus","ml-2"],[3,"onEmployeeAdded"],["addNewEmployee",""],[1,"col-md-5","mb-1"],["type","text","name","search","placeholder","\u062c\u0633\u062a\u062c\u0648 ...",1,"",3,"ngModel","keyup","ngModelChange"],[1,"col-md-3","mb-1"],[1,""],["value",""],["value","owner"],["value","reception"],["value","user"],[1,"w-100","bg-light","mb-3"],[1,"card-text"],["href","../../assets/files/EmployeeList.xlsx"],["href","",3,"click"],[1,"text-left"],["type","file",1,"custom-file-input",3,"hidden","change"],["fileInput",""],[1,"row"],["class","col-md-6 contact ",4,"ngFor","ngForOf"],[3,"title","confirmed"],["confirm",""],["class","contact-frame",4,"ngIf"],["editEmployee",""],["class","text-center owl-container",4,"ngIf"],[1,"row","justify-content-center"],[3,"size","showing"],["spinner",""],[1,"col-md-6","contact"],[1,"contact-frame","shadow"],[1,"row","p-2"],[1,"col","text-right"],[1,"rounded-circle","contact-image",3,"src"],[1,"col-8","text-right"],[1,"font-noraml","font-weight-bold"],["class","role-icon fa fa-briefcase",4,"ngIf"],["class","role-icon fa fa-handshake-o",4,"ngIf"],["class","role-icon fa fa-user",4,"ngIf"],[1,"text-muted","text-overflow"],[1,"fa","fa-envelope"],[1,"fa","fa-phone"],["href","#",1,"ml-3",3,"click"],["href","#",3,"click"],[1,"role-icon","fa","fa-briefcase"],[1,"role-icon","fa","fa-handshake-o"],[1,"role-icon","fa","fa-user"],[1,"contact-frame"],[1,"flexbox-parent-row","deleting-contact"],[1,"rounded-circle","contact-image-small",3,"src"],[1,"flexbox-item-grow","pr-2"],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc($p||(e=["../../assets/images/home/owl.svg"],n=["../../assets/images/home/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,$p=e)),1,"w-75"],["name","class","value","look-around"],[1,"text-muted"]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"div",3),h.Sb(4,"button",4),h.Zb("click",function(){h.pc(n);var t=h.mc(8);return t.reset(),t.show()}),h.Ob(5,"i",5),h.vc(6,"\u0647\u0645\u06a9\u0627\u0631 \u062c\u062f\u06cc\u062f "),h.Rb(),h.Sb(7,"add-employee",6,7),h.Zb("onEmployeeAdded",function(t){return e.onEmployeeAdded(t)}),h.Rb(),h.Rb(),h.Sb(9,"div",8),h.Sb(10,"input",9),h.Zb("keyup",function(t){return e.onKeyUp(t)})("ngModelChange",function(t){return e.searchString=t}),h.Rb(),h.Rb(),h.Sb(11,"div",10),h.Sb(12,"select",11),h.Sb(13,"option",12),h.vc(14,"\u0647\u0645\u0647"),h.Rb(),h.Sb(15,"option",13),h.vc(16,"\u0645\u062f\u06cc\u0631"),h.Rb(),h.Sb(17,"option",14),h.vc(18,"\u067e\u0630\u06cc\u0631\u0634"),h.Rb(),h.Sb(19,"option",15),h.vc(20,"\u06a9\u0627\u0631\u0628\u0631"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(21,"div",16),h.Sb(22,"p",17),h.vc(23,"\u0646\u0627\u0645 \u0647\u0645\u06a9\u0627\u0631\u0627\u0646 \u062e\u0648\u062f \u0631\u0627 \u062f\u0631 "),h.Sb(24,"a",18),h.vc(25,"\u0627\u06cc\u0646 \u0642\u0627\u0644\u0628"),h.Rb(),h.vc(26," \u0648\u0627\u0631\u062f \u0648 \u0628\u0627 \u0628\u0631\u0627\u06cc \u062b\u0628\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0622\u0646\u200c\u0647\u0627 \u062f\u0631 \u0633\u0627\u06cc\u062a \u0641\u0627\u06cc\u0644 \u0631\u0627 "),h.Sb(27,"a",19),h.Zb("click",function(t){return e.onUploadFileClick(t)}),h.vc(28,"\u0622\u067e\u0644\u0648\u062f "),h.Rb(),h.vc(29," \u06a9\u0646\u06cc\u062f."),h.Rb(),h.Ob(30,"div",20),h.Sb(31,"input",21,22),h.Zb("change",function(t){return e.fileChanged(t)}),h.Rb(),h.Rb(),h.Sb(33,"div",23),h.tc(34,Kp,22,7,"div",24),h.Sb(35,"confirm",25,26),h.Zb("confirmed",function(t){return e.deleteConfirmed(t)}),h.tc(37,Qp,5,2,"div",27),h.Rb(),h.Sb(38,"add-employee",6,28),h.Zb("onEmployeeAdded",function(t){return e.onEmployeeAdded(t)}),h.Rb(),h.Rb(),h.tc(40,Jp,5,0,"div",29),h.Sb(41,"div",30),h.Ob(42,"spinner",31,32),h.Rb(),h.Rb()}2&t&&(h.Cb(10),h.hc("ngModel",e.searchString),h.Cb(21),h.hc("hidden",!0),h.Cb(3),h.hc("ngForOf",e.employees),h.Cb(1),h.hc("title","\u0647\u0645\u06a9\u0627\u0631 \u062d\u0630\u0641 \u0634\u0648\u062f\u061f"),h.Cb(2),h.hc("ngIf",e.deletingContact),h.Cb(3),h.hc("ngIf",!e.loading&&0===e.employees.length),h.Cb(2),h.hc("size","large")("showing",e.loading))},directives:[Hp,Ma,os,Bs,$s,ru,l.j,Mu,l.k,Zc],styles:[".contact-image-small[_ngcontent-%COMP%]{width:50px;height:50px}.contact-image[_ngcontent-%COMP%]{width:80px;height:80px;font-size:35px;color:#fff;display:table}.contact-letter[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.contact-frame[_ngcontent-%COMP%]{background:#fff;margin:5px}.deleting-contact[_ngcontent-%COMP%]{line-height:3}.role-icon[_ngcontent-%COMP%]{font-size:25px;color:#0070ba;margin-left:10px}"]}),t;var e,n}(),eg=["childModal"],ng=["cropper"],rg=["imageCropperModal"],ig=["fileInput"],og=["spinner"],ag=["emailField"],sg=["nameField"],ug=["phoneField"],cg=function(t){return{"is-invalid":t}},lg=function(){function t(t,e,n){this.dataService=t,this.alertService=e,this.authService=n,this.onContactAdded=new h.n,this.index=-1,this.contact={name:"",email:"",phone:"",imageUrl:"",image:File,id:-1,fileName:""},this.submitted=!1,this.imageChangedEvent=""}return t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.modal.show()},t.prototype.hide=function(){this.modal.hide()},t.prototype.setContact=function(t,e){t=Object.assign({},t),this.contact=t,this.index=e},t.prototype.reset=function(){this.contact={name:"",email:"",phone:"",imageUrl:null,image:null,id:-1,fileName:""}},t.prototype.fileChanged=function(t){var e=t.target.files[0];e&&(this.imageCropperModal.show(),this.imageChangedEvent=t,this.contact.fileName=e.name)},t.prototype.onImageClick=function(){this.fileInput.nativeElement.click()},t.prototype.validateForm=function(){return this.nameField.valid&&this.emailField.valid&&this.phoneField.valid},t.prototype.createContact=function(){var t=this;this.submitted=!0,this.validateForm()&&(this.modal.hide(),this.contact.userId=this.authService.userId,this.dataService.updateContact(this.contact).subscribe(function(e){"OK"===e.msg?t.onContactAdded.emit(e.object):"CONTACT_EXISTS"===e.msg?t.alertService.warn("\u0645\u062e\u0627\u0637\u0628\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0627\u06cc\u0645\u06cc\u0644 \u0642\u0628\u0644\u0627 \u062b\u0628\u062a \u0634\u062f\u0647 \u0627\u0633\u062a."):"USER_EXISTS"===e.msg&&t.alertService.warn("\u0647\u0645\u06a9\u0627\u0631\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0627\u06cc\u0645\u06cc\u0644 \u062b\u0628\u062a \u0634\u062f\u0647 \u0627\u0633\u062a.")},function(e){console.log(e),t.modal.show(),t.alertService.error(e.toString())}))},t.prototype.onImageCropperModalOk=function(){this.imageCropperModal.hide()},t.prototype.imageCropped=function(t){this.contact.imageUrl=t.base64},t.prototype.loadImageFailed=function(){console.log("failed")},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(ri),h.Nb(Gi))},t.\u0275cmp=h.Hb({type:t,selectors:[["add-contact"]],viewQuery:function(t,e){if(1&t&&(h.Ac(eg,3),h.Ac(ng,3),h.Ac(rg,3),h.Ac(ig,3),h.Ac(og,3),h.Ac(ag,3),h.Ac(sg,3),h.Ac(ug,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.modal=n.first),h.lc(n=h.ac())&&(e.cropper=n.first),h.lc(n=h.ac())&&(e.imageCropperModal=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first),h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.emailField=n.first),h.lc(n=h.ac())&&(e.nameField=n.first),h.lc(n=h.ac())&&(e.phoneField=n.first)}},inputs:{index:"index",contact:"contact"},outputs:{onContactAdded:"onContactAdded"},decls:41,vars:23,consts:[[3,"modalTitle","size","zIndex"],["childModal",""],[1,"app-modal-body"],[1,""],[1,"col-sm-12","m-2","text-center"],[1,"rounded-circle","contact-image",3,"src","click"],[1,"text-muted"],["type","file","id","inputGroupFile01","aria-describedby","inputGroupFileAddon01",1,"custom-file-input",3,"change"],["fileInput",""],[1,"text-right"],["type","text","name","name","required","","placeholder","\u0646\u0627\u0645 \u06a9\u0627\u0645\u0644",1,"",3,"ngClass","ngModel","ngModelChange"],["nameField","ngModel"],["type","text","name","email","pattern","^\\S*[@]\\S*[.]\\S*$","email","","required","","placeholder","ali@gmail.com",1,"ltr",3,"ngClass","ngModel","email","ngModelChange"],["emailField","ngModel"],["type","text","name","phone","pattern","^[0-9]{7,13}$","placeholder","0912XXXXXXXX",1,"ltr",3,"ngClass","ngModel","ngModelChange"],["phoneField","ngModel"],[1,"app-modal-footer"],["type","button",1,"btn","primary","ml-2",3,"click"],["type","button",1,"btn","secondary",3,"click"],["imageCropperModal",""],[1,"text-center"],["format","png",3,"imageChangedEvent","maintainAspectRatio","aspectRatio","imageCropped","loadImageFailed"],["cropper",""],["type","button",1,"btn","primary",3,"click"]],template:function(t,e){if(1&t&&(h.Sb(0,"modal",0,1),h.Qb(2,2),h.Sb(3,"div",3),h.Sb(4,"div",4),h.Sb(5,"img",5),h.Zb("click",function(){return e.onImageClick()}),h.Rb(),h.Sb(6,"div"),h.Sb(7,"small",6),h.vc(8,"\u06a9\u0644\u06cc\u06a9 \u06a9\u0646\u06cc\u062f"),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Sb(9,"input",7,8),h.Zb("change",function(t){return e.fileChanged(t)}),h.Rb(),h.Sb(11,"div",3),h.Sb(12,"label",9),h.vc(13,"\u0646\u0627\u0645"),h.Rb(),h.Sb(14,"input",10,11),h.Zb("ngModelChange",function(t){return e.contact.name=t}),h.Rb(),h.Rb(),h.Sb(16,"div",3),h.Sb(17,"label",9),h.vc(18,"\u0627\u06cc\u0645\u06cc\u0644"),h.Rb(),h.Sb(19,"input",12,13),h.Zb("ngModelChange",function(t){return e.contact.email=t}),h.Rb(),h.Rb(),h.Sb(21,"div",3),h.Sb(22,"label",9),h.vc(23,"\u062a\u0644\u0641\u0646"),h.Rb(),h.Sb(24,"input",14,15),h.Zb("ngModelChange",function(t){return e.contact.phone=t}),h.Rb(),h.Rb(),h.Pb(),h.Qb(26,16),h.Sb(27,"button",17),h.Zb("click",function(){return e.createContact()}),h.vc(28,"\u0630\u062e\u06cc\u0631\u0647"),h.Rb(),h.Sb(29,"button",18),h.Zb("click",function(){return e.hide()}),h.vc(30,"\u0644\u063a\u0648"),h.Rb(),h.Pb(),h.Rb(),h.Sb(31,"modal",0,19),h.Qb(33,2),h.Sb(34,"div",20),h.Sb(35,"image-cropper",21,22),h.Zb("imageCropped",function(t){return e.imageCropped(t)})("loadImageFailed",function(){return e.loadImageFailed()}),h.Rb(),h.Rb(),h.Pb(),h.Qb(37,16),h.Sb(38,"div",9),h.Sb(39,"button",23),h.Zb("click",function(){return e.onImageCropperModalOk()}),h.vc(40,"\u062e\u0648\u0628\u0647"),h.Rb(),h.Rb(),h.Pb(),h.Rb()),2&t){var n=h.mc(15),r=h.mc(20),i=h.mc(25);h.hc("modalTitle","\u062b\u0628\u062a \u0645\u062e\u0627\u0637\u0628 \u062c\u062f\u06cc\u062f")("size","sm")("zIndex",11),h.Cb(5),h.hc("src",e.contact.imageUrl?e.contact.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(9),h.hc("ngClass",h.jc(17,cg,!n.valid&&(n.touched||n.dirty||e.submitted)))("ngModel",e.contact.name),h.Cb(5),h.hc("ngClass",h.jc(19,cg,!r.valid&&(r.touched||r.dirty||e.submitted)))("ngModel",e.contact.email)("email",!0),h.Cb(5),h.hc("ngClass",h.jc(21,cg,!i.valid&&(i.touched||i.dirty||e.submitted)))("ngModel",e.contact.phone),h.Cb(7),h.hc("modalTitle","\u0627\u0646\u062f\u0627\u0632\u0647 \u0639\u06a9\u0633")("size","auto")("zIndex",11),h.Cb(4),h.hc("imageChangedEvent",e.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)}},directives:[wa,Ma,ou,l.i,os,Bs,cu,su,Ic],styles:[".contact-image[_ngcontent-%COMP%]{width:150px;height:150px}"]}),t}(),hg=["spinner"],fg=["confirm"],dg=["editContact"],pg=["fileInput"];function gg(t,e){1&t&&h.Ob(0,"i",33)}function vg(t,e){1&t&&h.Ob(0,"i",34)}function mg(t,e){1&t&&h.Ob(0,"i",35)}function yg(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",18),h.Sb(1,"div",19),h.Sb(2,"div",20),h.Sb(3,"div",21),h.Ob(4,"img",22),h.Rb(),h.Sb(5,"div",23),h.Sb(6,"div",24),h.tc(7,gg,1,0,"i",25),h.tc(8,vg,1,0,"i",26),h.tc(9,mg,1,0,"i",27),h.vc(10),h.Rb(),h.Sb(11,"div",28),h.Ob(12,"i",29),h.vc(13),h.Rb(),h.Sb(14,"div",28),h.Ob(15,"i",30),h.vc(16),h.Rb(),h.Sb(17,"div"),h.Sb(18,"a",31),h.Zb("click",function(){h.pc(n);var t=e.$implicit,r=e.index;return h.bc().onEditContact(t,r)}),h.vc(19,"\u0648\u06cc\u0631\u0627\u06cc\u0634 "),h.Rb(),h.Sb(20,"a",32),h.Zb("click",function(t){h.pc(n);var r=e.$implicit,i=e.index;return h.bc().onDeleteUser(r.id,i,t)}),h.vc(21,"\u062d\u0630\u0641 "),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb(),h.Rb()}if(2&t){var r=e.$implicit;h.Cb(4),h.hc("src",r.imageUrl?r.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(3),h.hc("ngIf","owner"===r.role),h.Cb(1),h.hc("ngIf","reception"===r.role),h.Cb(1),h.hc("ngIf","user"===r.role),h.Cb(1),h.xc(" ",r.name," "),h.Cb(3),h.xc(" ",r.email,""),h.Cb(3),h.xc(" ",r.phone,"")}}function bg(t,e){if(1&t&&(h.Sb(0,"div",36),h.Sb(1,"div",37),h.Ob(2,"img",38),h.Sb(3,"span",39),h.vc(4),h.Rb(),h.Rb(),h.Rb()),2&t){var n=h.bc();h.Cb(2),h.hc("src",n.deletingContact.imageUrl?n.deletingContact.imageUrl:"../assets/images/user-placeholder.png",h.qc),h.Cb(2),h.wc(n.deletingContact.name)}}function wg(t,e){1&t&&(h.Sb(0,"div",40),h.Sb(1,"object",41),h.Ob(2,"param",42),h.Rb(),h.Sb(3,"div",43),h.vc(4,"\u0647\u06cc\u0686\u06cc \u067e\u06cc\u062f\u0627 \u0646\u06a9\u0631\u062f\u0645"),h.Rb(),h.Rb())}var _g,Cg=function(){function t(t,e,n,r){this.dataService=t,this.commonService=e,this.route=n,this.alertService=r,this.contacts=[],this.loading=!1,this.searchString=""}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.readContacts("")})},t.prototype.readContacts=function(t){var e=this;this.loading=!0,this.dataService.getContacts(t).subscribe(function(t){"OK"===t.msg&&(e.contacts=[],t.object.forEach(function(t){e.contacts.push(t)})),e.loading=!1},function(t){console.log(t),e.loading=!1})},t.prototype.deleteConfirmed=function(t){var e=this;this.dataService.deleteContact(t.id).subscribe(function(n){e.contacts.splice(t.index,1)},function(t){console.log(t)})},t.prototype.onContactAdded=function(t){if("USER"===t.type)this.alertService.error("\u0647\u0645\u06a9\u0627\u0631\u06cc \u0628\u0627 \u0627\u06cc\u0646 \u0627\u06cc\u0645\u06cc\u0644 \u062b\u0628\u062a \u0634\u062f\u0647 \u0627\u0633\u062a.");else{var e=this.contacts.find(function(e){return e.id===t.id});if(e){var n=this.contacts.indexOf(e);this.contacts.splice(n,1),this.contacts.splice(n,0,t)}else this.contacts.push(t)}},t.prototype.onDeleteUser=function(t,e,n){n.preventDefault(),this.deletingContact=this.contacts[e],this.confirm.setObject({id:t,index:e}),this.confirm.show()},t.prototype.onEditContact=function(t,e){event.preventDefault(),this.addContact.setContact(t,e),this.addContact.show()},t.prototype.onKeyUp=function(t){this.readContacts(this.searchString)},t.prototype.onUploadFileClick=function(t){t.preventDefault(),this.fileInput.nativeElement.click()},t.prototype.fileChanged=function(t){},t.\u0275fac=function(e){return new(e||t)(h.Nb(Iu),h.Nb(q),h.Nb(an),h.Nb(ri))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-contacts"]],viewQuery:function(t,e){if(1&t&&(h.Ac(hg,3),h.Ac(fg,3),h.Ac(dg,3),h.Ac(pg,3)),2&t){var n=void 0;h.lc(n=h.ac())&&(e.spinner=n.first),h.lc(n=h.ac())&&(e.confirm=n.first),h.lc(n=h.ac())&&(e.addContact=n.first),h.lc(n=h.ac())&&(e.fileInput=n.first)}},decls:20,vars:7,consts:[[1,"p-3"],[1,"flexbox-parent-row","pb-2"],[1,"ml-2"],["type","button",1,"btn","secondary","w-100",3,"click"],[1,"fa","fa-user-plus"],[3,"onContactAdded"],["addNewContact",""],["type","text","name","search","placeholder","\u0646\u0627\u0645\u060c \u0627\u06cc\u0645\u06cc\u0644 ...",1,"",3,"ngModel","keyup","ngModelChange"],[1,"row"],["class","col-md-6 contact ",4,"ngFor","ngForOf"],[3,"title","confirmed"],["confirm",""],["class","contact-frame",4,"ngIf"],["editContact",""],["class","text-center owl-container",4,"ngIf"],[1,"row","justify-content-center"],[3,"size","showing"],["spinner",""],[1,"col-md-6","contact"],[1,"contact-frame","shadow"],[1,"row","p-2"],[1,"col","text-right"],[1,"rounded-circle","contact-image",3,"src"],[1,"col-8","text-right"],[1,"font-noraml","font-weight-bold"],["class","role-icon fa fa-briefcase",4,"ngIf"],["class","role-icon fa fa-handshake-o",4,"ngIf"],["class","role-icon fa fa-user",4,"ngIf"],[1,"text-muted","text-overflow"],[1,"fa","fa-envelope"],[1,"fa","fa-phone"],["href","#",1,"ml-3",3,"click"],["href","#",3,"click"],[1,"role-icon","fa","fa-briefcase"],[1,"role-icon","fa","fa-handshake-o"],[1,"role-icon","fa","fa-user"],[1,"contact-frame"],[1,"flexbox-parent-row","deleting-contact"],[1,"rounded-circle","contact-image-small",3,"src"],[1,"flexbox-item-grow","pr-2"],[1,"text-center","owl-container"],["type","image/svg+xml","data",h.zc(_g||(e=["../../assets/images/home/owl.svg"],n=["../../assets/images/home/owl.svg"],Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,_g=e)),1,"w-75"],["name","class","value","look-around"],[1,"text-muted"]],template:function(t,e){if(1&t){var n=h.Tb();h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"div",2),h.Sb(3,"button",3),h.Zb("click",function(){h.pc(n);var t=h.mc(7);return t.reset(),t.show()}),h.Ob(4,"i",4),h.vc(5," \u0645\u062e\u0627\u0637\u0628 \u062c\u062f\u06cc\u062f"),h.Rb(),h.Sb(6,"add-contact",5,6),h.Zb("onContactAdded",function(t){return e.onContactAdded(t)}),h.Rb(),h.Rb(),h.Sb(8,"input",7),h.Zb("keyup",function(t){return e.onKeyUp(t)})("ngModelChange",function(t){return e.searchString=t}),h.Rb(),h.Rb(),h.Sb(9,"div",8),h.tc(10,yg,22,7,"div",9),h.Sb(11,"confirm",10,11),h.Zb("confirmed",function(t){return e.deleteConfirmed(t)}),h.tc(13,bg,5,2,"div",12),h.Rb(),h.Sb(14,"add-contact",5,13),h.Zb("onContactAdded",function(t){return e.onContactAdded(t)}),h.Rb(),h.Rb(),h.tc(16,wg,5,0,"div",14),h.Sb(17,"div",15),h.Ob(18,"spinner",16,17),h.Rb(),h.Rb()}2&t&&(h.Cb(8),h.hc("ngModel",e.searchString),h.Cb(2),h.hc("ngForOf",e.contacts),h.Cb(1),h.hc("title","\u0645\u062e\u0627\u0637\u0628 \u062d\u0630\u0641 \u0634\u0648\u062f\u061f"),h.Cb(2),h.hc("ngIf",e.deletingContact),h.Cb(3),h.hc("ngIf",!e.loading&&0===e.contacts.length),h.Cb(2),h.hc("size","large")("showing",e.loading))},directives:[lg,Ma,os,Bs,l.j,Mu,l.k,Zc],styles:[".contact-image-small[_ngcontent-%COMP%]{width:50px;height:50px}.contact-image[_ngcontent-%COMP%]{width:80px;height:80px;font-size:35px;color:#fff;display:table}.contact-letter[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.contact-frame[_ngcontent-%COMP%]{background:#fff;margin:5px}.deleting-contact[_ngcontent-%COMP%]{line-height:3}.role-icon[_ngcontent-%COMP%]{font-size:25px;color:#0070ba;margin-left:10px}"]}),t;var e,n}(),Sg=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"create-event",component:Gc},{path:"create-meeting",component:fd,canActivate:[_h]},{path:"create-token",component:dp,canActivate:[_h]},{path:"edit-meeting/:id",component:Md,canActivate:[_h]},{path:"meeting/:id",component:Gd,canActivate:[_h]},{path:"contact-meeting/:uuid/:dateId/:action",component:Qd},{path:"meetings",component:wh,canActivate:[_h]},{path:"home",component:wh,canActivate:[_h]},{path:"tokens",component:Np,canActivate:[_h]},{path:"address-book",component:function(){function t(){this.tab=2}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=h.Hb({type:t,selectors:[["app-address-book"]],decls:16,vars:12,consts:[[1,"pt-3"],[1,"flexbox-parent"],["id","myTab","role","tablist",1,"nav","nav-tabs"],[1,"nav-item",3,"click"],["id","profile-tab","data-toggle","tab","href","#profile","role","tab","aria-controls","profile","aria-selected","false",1,"nav-link"],["id","home-tab","data-toggle","tab","href","#home","role","tab","aria-controls","home","aria-selected","true"],["id","myTabContent",1,"tab-content","flexbox-item-grow"],["id","profile","role","tabpanel","aria-labelledby","profile-tab"],["employees",""],["id","home","role","tabpanel","aria-labelledby","home-tab"],["contacts",""]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Sb(2,"ul",2),h.Sb(3,"li",3),h.Zb("click",function(){return e.tab=2}),h.Sb(4,"a",4),h.vc(5,"\u0647\u0645\u06a9\u0627\u0631\u0627\u0646"),h.Rb(),h.Rb(),h.Sb(6,"li",3),h.Zb("click",function(){return e.tab=1}),h.Sb(7,"a",5),h.vc(8,"\u0645\u062e\u0627\u0637\u0628\u200c\u0647\u0627"),h.Rb(),h.Rb(),h.Rb(),h.Sb(9,"div",6),h.Sb(10,"div",7),h.Ob(11,"app-employees",null,8),h.Rb(),h.Sb(13,"div",9),h.Ob(14,"app-contacts",null,10),h.Rb(),h.Rb(),h.Rb(),h.Rb()),2&t&&(h.Cb(4),h.Fb("active",2===e.tab),h.Cb(3),h.Eb("nav-link "),h.Fb("active",1===e.tab),h.Cb(3),h.Eb("tab-pane h-100 "+(2===e.tab?"show fade active":"")),h.Fb("active",2===e.tab),h.Cb(3),h.Eb("tab-pane h-100 "+(1===e.tab?"show fade active":"")))},directives:[tg,Cg],styles:[""]}),t}(),canActivate:[_h]},{path:"employees",component:tg,canActivate:[_h]},{path:"employees/:role",component:tg,canActivate:[_h]},{path:"venues",component:lf,canActivate:[_h]},{path:"about-us",component:$d},{path:"faq",component:ep},{path:"settings",component:yf},{path:"conditions",component:tp},{path:"contact-us",component:ff},{path:"profile",component:yf,canActivate:[_h]},{path:"my-meeting/:uuid",component:function(){function t(t,e,n,r){this.route=t,this.dateService=e,this.dataService=n,this.alertService=r,this.loading=!1}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.readMeeting(e.uuid)})},t.prototype.readMeeting=function(t){var e=this;this.loading=!0,this.dataService.getContactEventMeeting(t).subscribe(function(t){"OK"===t.msg?e.event=t.object:e.alertService.error("\u0645\u0634\u06a9\u0644\u06cc \u067e\u06cc\u0634 \u0622\u0645\u062f\u0647!"),e.loading=!1},function(t){console.log(t),e.loading=!1})},t.\u0275fac=function(e){return new(e||t)(h.Nb(an),h.Nb(Fu),h.Nb(Iu),h.Nb(ri))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-contact-event-meeting"]],decls:3,vars:1,consts:[[1,"container"],[1,"bg-white","p-3","m-3"],[3,"event"]],template:function(t,e){1&t&&(h.Sb(0,"div",0),h.Sb(1,"div",1),h.Ob(2,"app-meeting-details",2),h.Rb(),h.Rb()),2&t&&(h.Cb(2),h.hc("event",e.event))},directives:[eh],styles:[""]}),t}()},{path:"login",component:Lh},{path:"register",component:Jh},{path:"**",component:Jd}],Eg=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t}),t.\u0275inj=h.Kb({providers:[_h],imports:[[l.b,Zr.forRoot(Sg,{relativeLinkResolution:"legacy"})],Zr]}),t}(),Og=function(){function t(t,e){this.route=t,this.alertService=e}return t.prototype.intercept=function(t,e){var n=this;return e.handle(t).pipe(Nt(function(t){401===t.status&&(n.route.navigate(["/login"]),n.alertService.error("\u062f\u0633\u062a\u0631\u0633\u06cc \u063a\u06cc\u0631\u0645\u062c\u0627\u0632"));var e=t.error.message||t.statusText;return Object(Ou.a)(e)}))},t.\u0275fac=function(e){return new(e||t)(h.Wb(Mr),h.Wb(ri))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Ag=function(){function t(t){this.authService=t}return t.prototype.intercept=function(t,e){return this.authService.jsonWebToken&&(t=t.clone({setHeaders:{Authorization:"Bearer "+this.authService.jsonWebToken}})),e.handle(t)},t.\u0275fac=function(e){return new(e||t)(h.Wb(Gi))},t.\u0275prov=h.Jb({token:t,factory:t.\u0275fac}),t}(),Ig=n("MMa0"),kg=n("6233"),Rg=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=h.Lb({type:t,bootstrap:[sc]}),t.\u0275inj=h.Kb({providers:[Oh,Wi,_h,ri,Fh,Fu,Gi,ci,ui,Nu,{provide:Ti,useClass:Ag,multi:!0},{provide:Ti,useClass:Og,multi:!0}],imports:[[z,Eg,l.b,Wi,hu,z,hu,fu,kc,Wl.forRoot({apiKey:"AIzaSyDXNa76E7XTVYsZR5Q0qeOpE9LyFanBnGc",libraries:["places"]}),z,Ig.AngularFireModule.initializeApp(Bh),kg.AngularFireDatabaseModule,Ch.AngularFireAuthModule,_u,fa.forRoot()]]}),t}();X.production&&Object(h.V)(),H().bootstrapModule(Rg).catch(function(t){return console.log(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("30Go"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var d=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,p.prototype.create),i}return r.__extends(e,t),e}(Error),p=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?g(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new d(i,s),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function g(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function m(t){return JSON.parse(t)}var y=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=m(c(o[0])||""),n=m(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},b=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function _(){}function C(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=p,e.FirebaseError=d,e.Sha1=b,e.assert=o,e.assertionError=a,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=y,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=C,e.getUA=f,e.isAdmin=function(t){var e=y(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=y(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=y(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=y(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=m,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(C(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(C(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(C(t,e,r)+"must be a valid firebase namespace.")}},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f});var r=n("1OyB"),i=n("vuIU"),o=n("Ji7U"),a=n("LK+K"),s=n("7o/Q"),u=n("HDdC"),c=n("SeVD"),l=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var i;return Object(r.a)(this,n),(i=e.call(this)).parent=t,i}return Object(i.a)(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(s.a),h=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(s.a);function f(t,e){if(!e.closed){if(t instanceof u.a)return t.subscribe(e);var n;try{n=Object(c.a)(t)(e)}catch(r){e.error(r)}return n}}}},[[0,0]]]);